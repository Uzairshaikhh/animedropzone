import{r as HA,b as GA,c as S,u as ot,d as KA,L as Ni,e as Os,a as Pe,R as E,f as xm,h as _N,B as XA,i as YA,j as lt}from"./vendor-CD9f1YOr.js";import{c as JA}from"./supabase-CirbHpeA.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var tc={exports:{}},Xa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function ZA(){if(sg)return Xa;sg=1;var e=HA(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,p={},h=null,m=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(p[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:t,type:l,key:h,ref:m,props:p,_owner:i.current}}return Xa.Fragment=r,Xa.jsx=o,Xa.jsxs=o,Xa}var og;function QA(){return og||(og=1,tc.exports=ZA()),tc.exports}var a=QA(),Ts={},lg;function e4(){if(lg)return Ts;lg=1;var e=GA();return Ts.createRoot=e.createRoot,Ts.hydrateRoot=e.hydrateRoot,Ts}var t4=e4();const ym=S.createContext({});function vm(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const bm=typeof window<"u",EN=bm?S.useLayoutEffect:S.useEffect,cl=S.createContext(null);function wm(e,t){e.indexOf(t)===-1&&e.push(t)}function jm(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const wr=(e,t,r)=>r>t?t:r<e?e:r;let Nm=()=>{};const jr={},IN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function MN(e){return typeof e=="object"&&e!==null}const $N=e=>/^0[^.\s]+$/u.test(e);function Sm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lt=e=>e,r4=(e,t)=>r=>t(e(r)),fs=(...e)=>e.reduce(r4),Si=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class km{constructor(){this.subscriptions=[]}add(t){return wm(this.subscriptions,t),()=>jm(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=e=>e*1e3,$t=e=>e/1e3;function DN(e,t){return t?e*(1e3/t):0}const RN=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,n4=1e-7,a4=12;function i4(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=RN(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>n4&&++l<a4);return o}function ms(e,t,r,n){if(e===t&&r===n)return Lt;const i=s=>i4(s,0,1,e,r);return s=>s===0||s===1?s:RN(i(s),t,n)}const LN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BN=e=>t=>1-e(1-t),FN=ms(.33,1.53,.69,.99),Pm=BN(FN),qN=LN(Pm),zN=e=>(e*=2)<1?.5*Pm(e):.5*(2-Math.pow(2,-10*(e-1))),Am=e=>1-Math.sin(Math.acos(e)),UN=BN(Am),VN=LN(Am),s4=ms(.42,0,1,1),o4=ms(0,0,.58,1),WN=ms(.42,0,.58,1),l4=e=>Array.isArray(e)&&typeof e[0]!="number",HN=e=>Array.isArray(e)&&typeof e[0]=="number",c4={linear:Lt,easeIn:s4,easeInOut:WN,easeOut:o4,circIn:Am,circInOut:VN,circOut:UN,backIn:Pm,backInOut:qN,backOut:FN,anticipate:zN},u4=e=>typeof e=="string",cg=e=>{if(HN(e)){Nm(e.length===4);const[t,r,n,i]=e;return ms(t,r,n,i)}else if(u4(e))return c4[e];return e},_s=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function d4(e,t){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,p=!1,h=!1)=>{const x=h&&i?r:n;return p&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const p4=40;function GN(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=_s.reduce((y,j)=>(y[j]=d4(s),y),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:p,preRender:h,render:m,postRender:x}=o,g=()=>{const y=jr.useManualTiming?i.timestamp:performance.now();r=!1,jr.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,p4),1)),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),p.process(i),h.process(i),m.process(i),x.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(g))},f=()=>{r=!0,n=!0,i.isProcessing||e(g)};return{schedule:_s.reduce((y,j)=>{const v=o[j];return y[j]=(N,k=!1,P=!1)=>(r||f(),v.schedule(N,k,P)),y},{}),cancel:y=>{for(let j=0;j<_s.length;j++)o[_s[j]].cancel(y)},state:i,steps:o}}const{schedule:Me,cancel:Br,state:it,steps:rc}=GN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0);let Xs;function h4(){Xs=void 0}const vt={now:()=>(Xs===void 0&&vt.set(it.isProcessing||jr.useManualTiming?it.timestamp:performance.now()),Xs),set:e=>{Xs=e,queueMicrotask(h4)}},KN=e=>t=>typeof t=="string"&&t.startsWith(e),XN=KN("--"),f4=KN("var(--"),Cm=e=>f4(e)?m4.test(e.split("/*")[0].trim()):!1,m4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,La={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ki={...La,transform:e=>wr(0,1,e)},Es={...La,default:1},ui=e=>Math.round(e*1e5)/1e5,Om=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g4(e){return e==null}const x4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tm=(e,t)=>r=>!!(typeof r=="string"&&x4.test(r)&&r.startsWith(e)||t&&!g4(r)&&Object.prototype.hasOwnProperty.call(r,t)),YN=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(Om);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},y4=e=>wr(0,255,e),nc={...La,transform:e=>Math.round(y4(e))},an={test:Tm("rgb","red"),parse:YN("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+nc.transform(e)+", "+nc.transform(t)+", "+nc.transform(r)+", "+ui(ki.transform(n))+")"};function v4(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const wh={test:Tm("#"),parse:v4,transform:an.transform},gs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mr=gs("deg"),nr=gs("%"),ce=gs("px"),b4=gs("vh"),w4=gs("vw"),ug={...nr,parse:e=>nr.parse(e)/100,transform:e=>nr.transform(e*100)},Gn={test:Tm("hsl","hue"),parse:YN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+nr.transform(ui(t))+", "+nr.transform(ui(r))+", "+ui(ki.transform(n))+")"},Ve={test:e=>an.test(e)||wh.test(e)||Gn.test(e),parse:e=>an.test(e)?an.parse(e):Gn.test(e)?Gn.parse(e):wh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?an.transform(e):Gn.transform(e),getAnimatableNone:e=>{const t=Ve.parse(e);return t.alpha=0,Ve.transform(t)}},j4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Om)?.length||0)+(e.match(j4)?.length||0)>0}const JN="number",ZN="color",S4="var",k4="var(",dg="${}",P4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(P4,c=>(Ve.test(c)?(n.color.push(s),i.push(ZN),r.push(Ve.parse(c))):c.startsWith(k4)?(n.var.push(s),i.push(S4),r.push(c)):(n.number.push(s),i.push(JN),r.push(parseFloat(c))),++s,dg)).split(dg);return{values:r,split:l,indexes:n,types:i}}function QN(e){return Pi(e).values}function e2(e){const{split:t,types:r}=Pi(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const l=r[o];l===JN?s+=ui(i[o]):l===ZN?s+=Ve.transform(i[o]):s+=i[o]}return s}}const A4=e=>typeof e=="number"?0:Ve.test(e)?Ve.getAnimatableNone(e):e;function C4(e){const t=QN(e);return e2(e)(t.map(A4))}const Fr={test:N4,parse:QN,createTransformer:e2,getAnimatableNone:C4};function ac(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function O4({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=ac(c,l,e+1/3),s=ac(c,l,e),o=ac(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function ro(e,t){return r=>r>0?t:e}const Le=(e,t,r)=>e+(t-e)*r,ic=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},T4=[wh,an,Gn],_4=e=>T4.find(t=>t.test(e));function pg(e){const t=_4(e);if(!t)return!1;let r=t.parse(e);return t===Gn&&(r=O4(r)),r}const hg=(e,t)=>{const r=pg(e),n=pg(t);if(!r||!n)return ro(e,t);const i={...r};return s=>(i.red=ic(r.red,n.red,s),i.green=ic(r.green,n.green,s),i.blue=ic(r.blue,n.blue,s),i.alpha=Le(r.alpha,n.alpha,s),an.transform(i))},jh=new Set(["none","hidden"]);function E4(e,t){return jh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function I4(e,t){return r=>Le(e,t,r)}function _m(e){return typeof e=="number"?I4:typeof e=="string"?Cm(e)?ro:Ve.test(e)?hg:D4:Array.isArray(e)?t2:typeof e=="object"?Ve.test(e)?hg:M4:ro}function t2(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>_m(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function M4(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=_m(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function $4(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][n[s]],l=e.values[o]??0;r[i]=l,n[s]++}return r}const D4=(e,t)=>{const r=Fr.createTransformer(t),n=Pi(e),i=Pi(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?jh.has(e)&&!i.values.length||jh.has(t)&&!n.values.length?E4(e,t):fs(t2($4(n,i),i.values),r):ro(e,t)};function r2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Le(e,t,r):_m(e)(e,t)}const R4=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Me.update(t,r),stop:()=>Br(t),now:()=>it.isProcessing?it.timestamp:vt.now()}},n2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},no=2e4;function Em(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<no;)t+=r,n=e.next(t);return t>=no?1/0:t}function L4(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(Em(n),no);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:$t(i)}}const B4=5;function a2(e,t,r){const n=Math.max(t-B4,0);return DN(r-e(n),t-n)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sc=.001;function F4({duration:e=Be.duration,bounce:t=Be.bounce,velocity:r=Be.velocity,mass:n=Be.mass}){let i,s,o=1-t;o=wr(Be.minDamping,Be.maxDamping,o),e=wr(Be.minDuration,Be.maxDuration,$t(e)),o<1?(i=u=>{const d=u*o,p=d*e,h=d-r,m=Nh(u,o),x=Math.exp(-p);return sc-h/m*x},s=u=>{const p=u*o*e,h=p*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-p),g=Nh(Math.pow(u,2),o);return(-i(u)+sc>0?-1:1)*((h-m)*x)/g}):(i=u=>{const d=Math.exp(-u*e),p=(u-r)*e+1;return-sc+d*p},s=u=>{const d=Math.exp(-u*e),p=(r-u)*(e*e);return d*p});const l=5/e,c=z4(i,s,l);if(e=rr(e),isNaN(c))return{stiffness:Be.stiffness,damping:Be.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const q4=12;function z4(e,t,r){let n=r;for(let i=1;i<q4;i++)n=n-e(n)/t(n);return n}function Nh(e,t){return e*Math.sqrt(1-t*t)}const U4=["duration","bounce"],V4=["stiffness","damping","mass"];function fg(e,t){return t.some(r=>e[r]!==void 0)}function W4(e){let t={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...e};if(!fg(e,V4)&&fg(e,U4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*wr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Be.mass,stiffness:i,damping:s}}else{const r=F4(e);t={...t,...r,mass:Be.mass},t.isResolvedFromDuration=!0}return t}function ao(e=Be.visualDuration,t=Be.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:p,velocity:h,isResolvedFromDuration:m}=W4({...r,velocity:-$t(r.velocity||0)}),x=h||0,g=u/(2*Math.sqrt(c*d)),f=o-s,b=$t(Math.sqrt(c/d)),w=Math.abs(f)<5;n||(n=w?Be.restSpeed.granular:Be.restSpeed.default),i||(i=w?Be.restDelta.granular:Be.restDelta.default);let y;if(g<1){const v=Nh(b,g);y=N=>{const k=Math.exp(-g*b*N);return o-k*((x+g*b*f)/v*Math.sin(v*N)+f*Math.cos(v*N))}}else if(g===1)y=v=>o-Math.exp(-b*v)*(f+(x+b*f)*v);else{const v=b*Math.sqrt(g*g-1);y=N=>{const k=Math.exp(-g*b*N),P=Math.min(v*N,300);return o-k*((x+g*b*f)*Math.sinh(P)+v*f*Math.cosh(P))/v}}const j={calculatedDuration:m&&p||null,next:v=>{const N=y(v);if(m)l.done=v>=p;else{let k=v===0?x:0;g<1&&(k=v===0?rr(x):a2(y,v,N));const P=Math.abs(k)<=n,C=Math.abs(o-N)<=i;l.done=P&&C}return l.value=l.done?o:N,l},toString:()=>{const v=Math.min(Em(j),no),N=n2(k=>j.next(v*k).value,v,30);return v+"ms "+N},toTransition:()=>{}};return j}ao.applyToOptions=e=>{const t=L4(e,100,ao);return e.ease=t.ease,e.duration=rr(t.duration),e.type="keyframes",e};function Sh({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const p=e[0],h={done:!1,value:p},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let g=r*t;const f=p+g,b=o===void 0?f:o(f);b!==f&&(g=b-p);const w=P=>-g*Math.exp(-P/n),y=P=>b+w(P),j=P=>{const C=w(P),$=y(P);h.done=Math.abs(C)<=u,h.value=h.done?b:$};let v,N;const k=P=>{m(h.value)&&(v=P,N=ao({keyframes:[h.value,x(h.value)],velocity:a2(y,P,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:P=>{let C=!1;return!N&&v===void 0&&(C=!0,j(P),k(P)),v!==void 0&&P>=v?N.next(P-v):(!C&&j(P),h)}}}function H4(e,t,r){const n=[],i=r||jr.mix||r2,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Lt:t;l=fs(c,l)}n.push(l)}return n}function G4(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Nm(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=H4(t,n,i),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(d<e[p+1]);p++);const h=Si(e[p],e[p+1],d);return l[p](h)};return r?d=>u(wr(e[0],e[s-1],d)):u}function K4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Si(0,t,n);e.push(Le(r,1,i))}}function X4(e){const t=[0];return K4(t,e.length-1),t}function Y4(e,t){return e.map(r=>r*t)}function J4(e,t){return e.map(()=>t||WN).splice(0,e.length-1)}function di({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=l4(n)?n.map(cg):cg(n),s={done:!1,value:t[0]},o=Y4(r&&r.length===t.length?r:X4(t),e),l=G4(o,t,{ease:Array.isArray(i)?i:J4(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Z4=e=>e!==null;function Im(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(Z4),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const Q4={decay:Sh,inertia:Sh,tween:di,keyframes:di,spring:ao};function i2(e){typeof e.type=="string"&&(e.type=Q4[e.type])}class Mm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const e3=e=>e/100;class $m extends Mm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==vt.now()&&this.tick(vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;i2(t);const{type:r=di,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:l}=t;const c=r||di;c!==di&&typeof l[0]!="number"&&(this.mixKeyframes=fs(e3,r2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Em(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:p,repeatType:h,repeatDelay:m,type:x,onUpdate:g,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,j=n;if(p){const P=Math.min(this.currentTime,i)/l;let C=Math.floor(P),$=P%1;!$&&P>=1&&($=1),$===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(h==="reverse"?($=1-$,m&&($-=m/l)):h==="mirror"&&(j=o)),y=wr(0,1,$)*l}const v=w?{done:!1,value:d[0]}:j.next(y);s&&(v.value=s(v.value));let{done:N}=v;!w&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&x!==Sh&&(v.value=Im(d,this.options,f,this.speed)),g&&g(v.value),k&&this.finish(),v}then(t,r){return this.finished.then(t,r)}get duration(){return $t(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$t(t)}get time(){return $t(this.currentTime)}set time(t){t=rr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=$t(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=R4,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function t3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const sn=e=>e*180/Math.PI,kh=e=>{const t=sn(Math.atan2(e[1],e[0]));return Ph(t)},r3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:kh,rotateZ:kh,skewX:e=>sn(Math.atan(e[1])),skewY:e=>sn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ph=e=>(e=e%360,e<0&&(e+=360),e),mg=kh,gg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xg=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),n3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gg,scaleY:xg,scale:e=>(gg(e)+xg(e))/2,rotateX:e=>Ph(sn(Math.atan2(e[6],e[5]))),rotateY:e=>Ph(sn(Math.atan2(-e[2],e[0]))),rotateZ:mg,rotate:mg,skewX:e=>sn(Math.atan(e[4])),skewY:e=>sn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ah(e){return e.includes("scale")?1:0}function Ch(e,t){if(!e||e==="none")return Ah(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=n3,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=r3,i=l}if(!i)return Ah(t);const s=n[t],o=i[1].split(",").map(i3);return typeof s=="function"?s(o):o[s]}const a3=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Ch(r,t)};function i3(e){return parseFloat(e.trim())}const Ba=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fa=new Set(Ba),yg=e=>e===La||e===ce,s3=new Set(["x","y","z"]),o3=Ba.filter(e=>!s3.has(e));function l3(e){const t=[];return o3.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const dn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ch(t,"x"),y:(e,{transform:t})=>Ch(t,"y")};dn.translateX=dn.x;dn.translateY=dn.y;const pn=new Set;let Oh=!1,Th=!1,_h=!1;function s2(){if(Th){const e=Array.from(pn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=l3(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{n.getValue(s)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Th=!1,Oh=!1,pn.forEach(e=>e.complete(_h)),pn.clear()}function o2(){pn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Th=!0)})}function c3(){_h=!0,o2(),s2(),_h=!1}class Dm{constructor(t,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(pn.add(this),Oh||(Oh=!0,Me.read(o2),Me.resolveKeyframes(s2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}t3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pn.delete(this)}cancel(){this.state==="scheduled"&&(pn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u3=e=>e.startsWith("--");function d3(e,t,r){u3(t)?e.style.setProperty(t,r):e.style[t]=r}const p3=Sm(()=>window.ScrollTimeline!==void 0),h3={};function f3(e,t){const r=Sm(e);return()=>h3[t]??r()}const l2=f3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),si=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,vg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:si([0,.65,.55,1]),circOut:si([.55,0,1,.45]),backIn:si([.31,.01,.66,-.59]),backOut:si([.33,1.53,.69,.99])};function c2(e,t){if(e)return typeof e=="function"?l2()?n2(e,t):"ease-out":HN(e)?si(e):Array.isArray(e)?e.map(r=>c2(r,t)||vg.easeOut):vg[e]}function m3(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const p=c2(l,i);Array.isArray(p)&&(d.easing=p);const h={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function u2(e){return typeof e=="function"&&"applyToOptions"in e}function g3({type:e,...t}){return u2(e)&&l2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class x3 extends Mm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Nm(typeof t.type!="string");const u=g3(t);this.animation=m3(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Im(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):d3(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return $t(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$t(t)}get time(){return $t(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&p3()?(this.animation.timeline=t,Lt):r(this)}}const d2={anticipate:zN,backInOut:qN,circInOut:VN};function y3(e){return e in d2}function v3(e){typeof e.ease=="string"&&y3(e.ease)&&(e.ease=d2[e.ease])}const bg=10;class b3 extends x3{constructor(t){v3(t),i2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new $m({...o,autoplay:!1}),c=rr(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-bg).value,l.sample(c).value,bg),l.stop()}}const wg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fr.test(e)||e==="0")&&!e.startsWith("url("));function w3(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function j3(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=wg(i,t),l=wg(s,t);return!o||!l?!1:w3(e)||(r==="spring"||u2(r))&&n}function Eh(e){e.duration=0,e.type="keyframes"}const N3=new Set(["opacity","clipPath","filter","transform"]),S3=Sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k3(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return S3()&&r&&N3.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const P3=40;class A3 extends Mm{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vt.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:d,...p},m=d?.KeyframeResolver||Dm;this.keyframeResolver=new m(l,(x,g,f)=>this.onKeyframesResolved(x,g,h,!f),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=vt.now(),j3(t,s,o,l)||((jr.instantAnimations||!c)&&d?.(Im(t,n,r)),t[0]=t[t.length-1],Eh(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>P3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&k3(h)?new b3({...h,element:h.motionValue.owner.current}):new $m(h);m.finished.then(()=>this.notifyFinished()).catch(Lt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),c3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const C3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function O3(e){const t=C3.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function p2(e,t,r=1){const[n,i]=O3(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return IN(o)?parseFloat(o):o}return Cm(i)?p2(i,t,r+1):i}function Rm(e,t){return e?.[t]??e?.default??e}const h2=new Set(["width","height","top","left","right","bottom",...Ba]),T3={test:e=>e==="auto",parse:e=>e},f2=e=>t=>t.test(e),m2=[La,ce,nr,Mr,w4,b4,T3],jg=e=>m2.find(f2(e));function _3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$N(e):!0}const E3=new Set(["brightness","contrast","saturate","opacity"]);function I3(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Om)||[];if(!n)return e;const i=r.replace(n,"");let s=E3.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const M3=/\b([a-z-]*)\(.*?\)/gu,Ih={...Fr,getAnimatableNone:e=>{const t=e.match(M3);return t?t.map(I3).join(" "):e}},Ng={...La,transform:Math.round},$3={rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:Es,scaleX:Es,scaleY:Es,scaleZ:Es,skew:Mr,skewX:Mr,skewY:Mr,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:ki,originX:ug,originY:ug,originZ:ce},Lm={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...$3,zIndex:Ng,fillOpacity:ki,strokeOpacity:ki,numOctaves:Ng},D3={...Lm,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:Ih,WebkitFilter:Ih},g2=e=>D3[e];function x2(e,t){let r=g2(e);return r!==Ih&&(r=Fr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const R3=new Set(["auto","none","0"]);function L3(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!R3.has(s)&&Pi(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=x2(r,i)}class B3 extends Dm{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Cm(u))){const d=p2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!h2.has(n)||t.length!==2)return;const[i,s]=t,o=jg(i),l=jg(s);if(o!==l)if(yg(o)&&yg(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else dn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||_3(t[i]))&&n.push(i);n.length&&L3(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=dn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function F3(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=r?.[e]??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const y2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function v2(e){return MN(e)&&"offsetHeight"in e}const Sg=30,q3=e=>!isNaN(parseFloat(e));class z3{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=vt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=vt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new km);const n=this.events[t].add(r);return t==="change"?()=>{n(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Sg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Sg);return DN(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oa(e,t){return new z3(e,t)}const{schedule:Bm}=GN(queueMicrotask,!1),Gt={x:!1,y:!1};function b2(){return Gt.x||Gt.y}function U3(e){return e==="x"||e==="y"?Gt[e]?null:(Gt[e]=!0,()=>{Gt[e]=!1}):Gt.x||Gt.y?null:(Gt.x=Gt.y=!0,()=>{Gt.x=Gt.y=!1})}function w2(e,t){const r=F3(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function kg(e){return!(e.pointerType==="touch"||b2())}function V3(e,t,r={}){const[n,i,s]=w2(e,r),o=l=>{if(!kg(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=p=>{kg(p)&&(u(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const j2=(e,t)=>t?e===t?!0:j2(e,t.parentElement):!1,Fm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,W3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H3(e){return W3.has(e.tagName)||e.tabIndex!==-1}const Ys=new WeakSet;function Pg(e){return t=>{t.key==="Enter"&&e(t)}}function oc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const G3=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Pg(()=>{if(Ys.has(r))return;oc(r,"down");const i=Pg(()=>{oc(r,"up")}),s=()=>oc(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Ag(e){return Fm(e)&&!b2()}function K3(e,t,r={}){const[n,i,s]=w2(e,r),o=l=>{const c=l.currentTarget;if(!Ag(l))return;Ys.add(c);const u=t(c,l),d=(m,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",h),Ys.has(c)&&Ys.delete(c),Ag(m)&&typeof u=="function"&&u(m,{success:x})},p=m=>{d(m,c===window||c===document||r.useGlobalTarget||j2(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),v2(l)&&(l.addEventListener("focus",u=>G3(u,i)),!H3(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function N2(e){return MN(e)&&"ownerSVGElement"in e}function X3(e){return N2(e)&&e.tagName==="svg"}const dt=e=>!!(e&&e.getVelocity),Y3=[...m2,Ve,Fr],J3=e=>Y3.find(f2(e)),qm=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Cg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Z3(...e){return t=>{let r=!1;const n=e.map(i=>{const s=Cg(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Cg(e[i],null)}}}}function Q3(...e){return S.useCallback(Z3(...e),e)}class eC extends S.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=v2(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tC({children:e,isPresent:t,anchorX:r,root:n}){const i=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=S.useContext(qm),c=Q3(s,e?.ref);return S.useInsertionEffect(()=>{const{width:u,height:d,top:p,left:h,right:m}=o.current;if(t||!s.current||!u||!d)return;const x=r==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=i;const g=document.createElement("style");l&&(g.nonce=l);const f=n??document.head;return f.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{f.contains(g)&&f.removeChild(g)}},[t]),a.jsx(eC,{isPresent:t,childRef:s,sizeRef:o,children:S.cloneElement(e,{ref:c})})}const rC=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=vm(nC),d=S.useId();let p=!0,h=S.useMemo(()=>(p=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const x of u.values())if(!x)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&p&&(h={...h}),S.useMemo(()=>{u.forEach((m,x)=>u.set(x,!1))},[r]),S.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(tC,{isPresent:r,anchorX:l,root:c,children:e})),a.jsx(cl.Provider,{value:h,children:e})};function nC(){return new Map}function S2(e=!0){const t=S.useContext(cl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=S.useId();S.useEffect(()=>{if(e)return i(s)},[e]);const o=S.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const Is=e=>e.key||"";function Og(e){const t=[];return S.Children.forEach(e,r=>{S.isValidElement(r)&&t.push(r)}),t}const Re=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=S2(o),p=S.useMemo(()=>Og(e),[e]),h=o&&!u?[]:p.map(Is),m=S.useRef(!0),x=S.useRef(p),g=vm(()=>new Map),[f,b]=S.useState(p),[w,y]=S.useState(p);EN(()=>{m.current=!1,x.current=p;for(let N=0;N<w.length;N++){const k=Is(w[N]);h.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[w,h.length,h.join("-")]);const j=[];if(p!==f){let N=[...p];for(let k=0;k<w.length;k++){const P=w[k],C=Is(P);h.includes(C)||(N.splice(k,0,P),j.push(P))}return s==="wait"&&j.length&&(N=j),y(Og(N)),b(p),null}const{forceRender:v}=S.useContext(ym);return a.jsx(a.Fragment,{children:w.map(N=>{const k=Is(N),P=o&&!u?!1:p===w||h.includes(k),C=()=>{if(g.has(k))g.set(k,!0);else return;let $=!0;g.forEach(O=>{O||($=!1)}),$&&(v?.(),y(x.current),o&&d?.(),n&&n())};return a.jsx(rC,{isPresent:P,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:P?void 0:C,anchorX:l,children:N},k)})})},k2=S.createContext({strict:!1}),Tg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},la={};for(const e in Tg)la[e]={isEnabled:t=>Tg[e].some(r=>!!t[r])};function aC(e){for(const t in e)la[t]={...la[t],...e[t]}}const iC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function io(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iC.has(e)}let P2=e=>!io(e);function sC(e){typeof e=="function"&&(P2=t=>t.startsWith("on")?!io(t):e(t))}try{sC(require("@emotion/is-prop-valid").default)}catch{}function oC(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(P2(i)||r===!0&&io(i)||!t&&!io(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const ul=S.createContext({});function dl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ai(e){return typeof e=="string"||Array.isArray(e)}const zm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Um=["initial",...zm];function pl(e){return dl(e.animate)||Um.some(t=>Ai(e[t]))}function A2(e){return!!(pl(e)||e.variants)}function lC(e,t){if(pl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ai(r)?r:void 0,animate:Ai(n)?n:void 0}}return e.inherit!==!1?t:{}}function cC(e){const{initial:t,animate:r}=lC(e,S.useContext(ul));return S.useMemo(()=>({initial:t,animate:r}),[_g(t),_g(r)])}function _g(e){return Array.isArray(e)?e.join(" "):e}function Eg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ya={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ce.test(e))e=parseFloat(e);else return e;const r=Eg(e,t.target.x),n=Eg(e,t.target.y);return`${r}% ${n}%`}},uC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Fr.parse(e);if(i.length>5)return n;const s=Fr.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Le(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Mh={borderRadius:{...Ya,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ya,borderTopRightRadius:Ya,borderBottomLeftRadius:Ya,borderBottomRightRadius:Ya,boxShadow:uC};function C2(e,{layout:t,layoutId:r}){return Fa.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Mh[e]||e==="opacity")}const dC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pC=Ba.length;function hC(e,t,r){let n="",i=!0;for(let s=0;s<pC;s++){const o=Ba[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=y2(l,Lm[o]);if(!c){i=!1;const d=dC[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Vm(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Fa.has(c)){o=!0;continue}else if(XN(c)){i[c]=u;continue}else{const d=y2(u,Lm[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=hC(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const Wm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function O2(e,t,r){for(const n in t)!dt(t[n])&&!C2(n,r)&&(e[n]=t[n])}function fC({transformTemplate:e},t){return S.useMemo(()=>{const r=Wm();return Vm(r,t,e),Object.assign({},r.vars,r.style)},[t])}function mC(e,t){const r=e.style||{},n={};return O2(n,r,e),Object.assign(n,fC(e,t)),n}function gC(e,t){const r={},n=mC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const xC={offset:"stroke-dashoffset",array:"stroke-dasharray"},yC={offset:"strokeDashoffset",array:"strokeDasharray"};function vC(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?xC:yC;e[s.offset]=ce.transform(-n);const o=ce.transform(t),l=ce.transform(r);e[s.array]=`${o} ${l}`}function T2(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,u,d){if(Vm(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:h}=e;p.transform&&(h.transform=p.transform,delete p.transform),(h.transform||p.transformOrigin)&&(h.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&vC(p,i,s,o,!1)}const _2=()=>({...Wm(),attrs:{}}),E2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bC(e,t,r,n){const i=S.useMemo(()=>{const s=_2();return T2(s,t,E2(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};O2(s,e.style,e),i.style={...s,...i.style}}return i}const wC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hm(e){return typeof e!="string"||e.includes("-")?!1:!!(wC.indexOf(e)>-1||/[A-Z]/u.test(e))}function jC(e,t,r,{latestValues:n},i,s=!1){const l=(Hm(e)?bC:gC)(t,n,i,e),c=oC(t,typeof e=="string",s),u=e!==S.Fragment?{...c,...l,ref:r}:{},{children:d}=t,p=S.useMemo(()=>dt(d)?d.get():d,[d]);return S.createElement(e,{...u,children:p})}function Ig(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Gm(e,t,r,n){if(typeof t=="function"){const[i,s]=Ig(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Ig(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function Js(e){return dt(e)?e.get():e}function NC({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:SC(r,n,i,e),renderState:t()}}function SC(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=Js(s[h]);let{initial:o,animate:l}=e;const c=pl(e),u=A2(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const p=d?l:o;if(p&&typeof p!="boolean"&&!dl(p)){const h=Array.isArray(p)?p:[p];for(let m=0;m<h.length;m++){const x=Gm(e,h[m]);if(x){const{transitionEnd:g,transition:f,...b}=x;for(const w in b){let y=b[w];if(Array.isArray(y)){const j=d?y.length-1:0;y=y[j]}y!==null&&(i[w]=y)}for(const w in g)i[w]=g[w]}}}return i}const I2=e=>(t,r)=>{const n=S.useContext(ul),i=S.useContext(cl),s=()=>NC(e,t,n,i);return r?s():vm(s)};function Km(e,t,r){const{style:n}=e,i={};for(const s in n)(dt(n[s])||t.style&&dt(t.style[s])||C2(s,e)||r?.getValue(s)?.liveStyle!==void 0)&&(i[s]=n[s]);return i}const kC=I2({scrapeMotionValuesFromProps:Km,createRenderState:Wm});function M2(e,t,r){const n=Km(e,t,r);for(const i in e)if(dt(e[i])||dt(t[i])){const s=Ba.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const PC=I2({scrapeMotionValuesFromProps:M2,createRenderState:_2}),AC=Symbol.for("motionComponentSymbol");function Kn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CC(e,t,r){return S.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Kn(r)&&(r.current=n))},[t])}const Xm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OC="framerAppearId",$2="data-"+Xm(OC),D2=S.createContext({});function TC(e,t,r,n,i){const{visualElement:s}=S.useContext(ul),o=S.useContext(k2),l=S.useContext(cl),c=S.useContext(qm).reducedMotion,u=S.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=S.useContext(D2);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&_C(u.current,r,i,p);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[$2],x=S.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return EN(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),x.current=!1),d.enteringChildren=void 0)}),d}function _C(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:R2(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Kn(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function R2(e){if(e)return e.options.allowProjection!==!1?e.projection:R2(e.parent)}function lc(e,{forwardMotionProps:t=!1}={},r,n){r&&aC(r);const i=Hm(e)?PC:kC;function s(l,c){let u;const d={...S.useContext(qm),...l,layoutId:EC(l)},{isStatic:p}=d,h=cC(l),m=i(l,p);if(!p&&bm){IC();const x=MC(d);u=x.MeasureLayout,h.visualElement=TC(e,m,d,n,x.ProjectionNode)}return a.jsxs(ul.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,jC(e,l,CC(m,h.visualElement,c),m,p,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=S.forwardRef(s);return o[AC]=e,o}function EC({layoutId:e}){const t=S.useContext(ym).id;return t&&e!==void 0?t+"-"+e:e}function IC(e,t){S.useContext(k2).strict}function MC(e){const{drag:t,layout:r}=la;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function $C(e,t){if(typeof Proxy>"u")return lc;const r=new Map,n=(s,o)=>lc(s,o,e,t),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,lc(o,void 0,e,t)),r.get(o))})}function L2({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function DC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function cc(e){return e===void 0||e===1}function $h({scale:e,scaleX:t,scaleY:r}){return!cc(e)||!cc(t)||!cc(r)}function en(e){return $h(e)||B2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function B2(e){return Mg(e.x)||Mg(e.y)}function Mg(e){return e&&e!=="0%"}function so(e,t,r){const n=e-r,i=t*n;return r+i}function $g(e,t,r,n,i){return i!==void 0&&(e=so(e,i,n)),so(e,r,n)+t}function Dh(e,t=0,r=1,n,i){e.min=$g(e.min,t,r,n,i),e.max=$g(e.max,t,r,n,i)}function F2(e,{x:t,y:r}){Dh(e.x,t.translate,t.scale,t.originPoint),Dh(e.y,r.translate,r.scale,r.originPoint)}const Dg=.999999999999,Rg=1.0000000000001;function LC(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yn(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,F2(e,o)),n&&en(s.latestValues)&&Yn(e,s.latestValues))}t.x<Rg&&t.x>Dg&&(t.x=1),t.y<Rg&&t.y>Dg&&(t.y=1)}function Xn(e,t){e.min=e.min+t,e.max=e.max+t}function Lg(e,t,r,n,i=.5){const s=Le(e.min,e.max,i);Dh(e,t,r,s,n)}function Yn(e,t){Lg(e.x,t.x,t.scaleX,t.scale,t.originX),Lg(e.y,t.y,t.scaleY,t.scale,t.originY)}function q2(e,t){return L2(RC(e.getBoundingClientRect(),t))}function BC(e,t,r){const n=q2(e,r),{scroll:i}=t;return i&&(Xn(n.x,i.offset.x),Xn(n.y,i.offset.y)),n}const Bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jn=()=>({x:Bg(),y:Bg()}),Fg=()=>({min:0,max:0}),Ke=()=>({x:Fg(),y:Fg()}),Rh={current:null},z2={current:!1};function FC(){if(z2.current=!0,!!bm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rh.current=e.matches;e.addEventListener("change",t),t()}else Rh.current=!1}const qC=new WeakMap;function zC(e,t,r){for(const n in t){const i=t[n],s=r[n];if(dt(i))e.addValue(n,i);else if(dt(s))e.addValue(n,oa(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,oa(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const qg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UC{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=vt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Me.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=pl(r),this.isVariantNode=A2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in p){const m=p[h];c[h]!==void 0&&dt(m)&&m.set(c[h])}}mount(t){this.current=t,qC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),z2.current||FC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Fa.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Me.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in la){const r=la[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qg.length;n++){const i=qg[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=oa(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(IN(n)||$N(n))?n=parseFloat(n):!J3(n)&&Fr.test(r)&&(n=x2(t,r)),this.setBaseTarget(t,dt(n)?n.get():n)),dt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Gm(this.props,r,this.presenceContext?.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!dt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new km),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Bm.render(this.render)}}class U2 extends UC{constructor(){super(...arguments),this.KeyframeResolver=B3}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function V2(e,{style:t,vars:r},n,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function VC(e){return window.getComputedStyle(e)}class WC extends U2{constructor(){super(...arguments),this.type="html",this.renderInstance=V2}readValueFromInstance(t,r){if(Fa.has(r))return this.projection?.isProjecting?Ah(r):a3(t,r);{const n=VC(t),i=(XN(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return q2(t,r)}build(t,r,n){Vm(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Km(t,r,n)}}const W2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HC(e,t,r,n){V2(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(W2.has(i)?i:Xm(i),t.attrs[i])}class GC extends U2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Fa.has(r)){const n=g2(r);return n&&n.default||0}return r=W2.has(r)?r:Xm(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return M2(t,r,n)}build(t,r,n){T2(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){HC(t,r,n,i)}mount(t){this.isSVGTag=E2(t.tagName),super.mount(t)}}const KC=(e,t)=>Hm(e)?new GC(t):new WC(t,{allowProjection:e!==S.Fragment});function na(e,t,r){const n=e.getProps();return Gm(n,t,r!==void 0?r:n.custom,e)}const Lh=e=>Array.isArray(e);function XC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,oa(r))}function YC(e){return Lh(e)?e[e.length-1]||0:e}function JC(e,t){const r=na(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=YC(s[o]);XC(e,o,l)}}function ZC(e){return!!(dt(e)&&e.add)}function Bh(e,t){const r=e.getValue("willChange");if(ZC(r))return r.add(t);if(!r&&jr.WillChange){const n=new jr.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function H2(e){return e.props[$2]}const QC=e=>e!==null;function eO(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(QC),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[s]}const tO={type:"spring",stiffness:500,damping:25,restSpeed:10},rO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nO={type:"keyframes",duration:.8},aO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iO=(e,{keyframes:t})=>t.length>2?nO:Fa.has(e)?e.startsWith("scale")?rO(t[1]):tO:aO;function sO({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Ym=(e,t,r,n={},i,s)=>o=>{const l=Rm(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-rr(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};sO(l)||Object.assign(d,iO(e,d)),d.duration&&(d.duration=rr(d.duration)),d.repeatDelay&&(d.repeatDelay=rr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Eh(d),d.delay===0&&(p=!0)),(jr.instantAnimations||jr.skipAnimations)&&(p=!0,Eh(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!s&&t.get()!==void 0){const h=eO(d.keyframes,l);if(h!==void 0){Me.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new $m(d):new A3(d)};function oO({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function G2(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const p=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&oO(u,d))continue;const m={delay:r,...Rm(s||{},d)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(h)&&h===x&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=H2(e);if(b){const w=window.MotionHandoffAnimation(b,d,Me);w!==null&&(m.startTime=w,g=!0)}}Bh(e,d),p.start(Ym(d,p,h,e.shouldReduceMotion&&h2.has(d)?{type:!1}:m,e,g));const f=p.animation;f&&c.push(f)}return o&&Promise.all(c).then(()=>{Me.update(()=>{o&&JC(e,o)})}),c}function K2(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:l-s*n}function Fh(e,t,r={}){const n=na(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(G2(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return lO(e,t,c,u,d,p,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function lO(e,t,r=0,n=0,i=0,s=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Fh(c,t,{...o,delay:r+(typeof n=="function"?0:n)+K2(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function cO(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Fh(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Fh(e,t,r);else{const i=typeof t=="function"?na(e,t,r.custom):t;n=Promise.all(G2(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function X2(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const uO=Um.length;function Y2(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Y2(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uO;r++){const n=Um[r],i=e.props[n];(Ai(i)||i===!1)&&(t[n]=i)}return t}const dO=[...zm].reverse(),pO=zm.length;function hO(e){return t=>Promise.all(t.map(({animation:r,options:n})=>cO(e,r,n)))}function fO(e){let t=hO(e),r=zg(),n=!0;const i=c=>(u,d)=>{const p=na(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:h,transitionEnd:m,...x}=p;u={...u,...x,...m}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=Y2(e.parent)||{},p=[],h=new Set;let m={},x=1/0;for(let f=0;f<pO;f++){const b=dO[f],w=r[b],y=u[b]!==void 0?u[b]:d[b],j=Ai(y),v=b===c?w.isActive:null;v===!1&&(x=f);let N=y===d[b]&&y!==u[b]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...m},!w.isActive&&v===null||!y&&!w.prevProp||dl(y)||typeof y=="boolean")continue;const k=mO(w.prevProp,y);let P=k||b===c&&w.isActive&&!N&&j||f>x&&j,C=!1;const $=Array.isArray(y)?y:[y];let O=$.reduce(i(b),{});v===!1&&(O={});const{prevResolvedValues:A={}}=w,T={...A,...O},I=L=>{P=!0,h.has(L)&&(C=!0,h.delete(L)),w.needsAnimating[L]=!0;const q=e.getValue(L);q&&(q.liveStyle=!1)};for(const L in T){const q=O[L],B=A[L];if(m.hasOwnProperty(L))continue;let te=!1;Lh(q)&&Lh(B)?te=!X2(q,B):te=q!==B,te?q!=null?I(L):h.add(L):q!==void 0&&h.has(L)?I(L):w.protectedKeys[L]=!0}w.prevProp=y,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(P=!1);const M=N&&k;P&&(!M||C)&&p.push(...$.map(L=>{const q={type:b};if(typeof L=="string"&&n&&!M&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,te=na(B,L);if(B.enteringChildren&&te){const{delayChildren:U}=te.transition||{};q.delay=K2(B.enteringChildren,e,U)}}return{animation:L,options:q}}))}if(h.size){const f={};if(typeof u.initial!="boolean"){const b=na(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(f.transition=b.transition)}h.forEach(b=>{const w=e.getBaseTarget(b),y=e.getValue(b);y&&(y.liveStyle=!0),f[b]=w??null}),p.push({animation:f})}let g=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(p):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const p in r)r[p].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=zg()}}}function mO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!X2(t,e):!1}function Xr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zg(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}class Vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gO extends Vr{constructor(t){super(t),t.animationState||(t.animationState=fO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xO=0;class yO extends Vr{constructor(){super(...arguments),this.id=xO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vO={animation:{Feature:gO},exit:{Feature:yO}};function Ci(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function xs(e){return{point:{x:e.pageX,y:e.pageY}}}const bO=e=>t=>Fm(t)&&e(t,xs(t));function pi(e,t,r,n){return Ci(e,t,bO(r),n)}const J2=1e-4,wO=1-J2,jO=1+J2,Z2=.01,NO=0-Z2,SO=0+Z2;function pt(e){return e.max-e.min}function kO(e,t,r){return Math.abs(e-t)<=r}function Ug(e,t,r,n=.5){e.origin=n,e.originPoint=Le(t.min,t.max,e.origin),e.scale=pt(r)/pt(t),e.translate=Le(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wO&&e.scale<=jO||isNaN(e.scale))&&(e.scale=1),(e.translate>=NO&&e.translate<=SO||isNaN(e.translate))&&(e.translate=0)}function hi(e,t,r,n){Ug(e.x,t.x,r.x,n?n.originX:void 0),Ug(e.y,t.y,r.y,n?n.originY:void 0)}function Vg(e,t,r){e.min=r.min+t.min,e.max=e.min+pt(t)}function PO(e,t,r){Vg(e.x,t.x,r.x),Vg(e.y,t.y,r.y)}function Wg(e,t,r){e.min=t.min-r.min,e.max=e.min+pt(t)}function oo(e,t,r){Wg(e.x,t.x,r.x),Wg(e.y,t.y,r.y)}function Et(e){return[e("x"),e("y")]}const Q2=({current:e})=>e?e.ownerDocument.defaultView:null,Hg=(e,t)=>Math.abs(e-t);function AO(e,t){const r=Hg(e.x,t.x),n=Hg(e.y,t.y);return Math.sqrt(r**2+n**2)}class eS{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=dc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=AO(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:g}=h,{timestamp:f}=it;this.history.push({...g,timestamp:f});const{onStart:b,onMove:w}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=uc(m,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:x,onSessionEnd:g,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=dc(h.type==="pointercancel"?this.lastMoveEventInfo:uc(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,b),g&&g(h,b)},!Fm(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=xs(t),c=uc(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=it;this.history=[{...u,timestamp:d}];const{onSessionStart:p}=r;p&&p(t,dc(c,this.history)),this.removeListeners=fs(pi(this.contextWindow,"pointermove",this.handlePointerMove),pi(this.contextWindow,"pointerup",this.handlePointerUp),pi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function uc(e,t){return t?{point:t(e.point)}:e}function Gg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dc({point:e},t){return{point:e,delta:Gg(e,tS(t)),offset:Gg(e,CO(t)),velocity:OO(t,.1)}}function CO(e){return e[0]}function tS(e){return e[e.length-1]}function OO(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=tS(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>rr(t)));)r--;if(!n)return{x:0,y:0};const s=$t(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TO(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Le(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Le(r,e,n.max):Math.min(e,r)),e}function Kg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function _O(e,{top:t,left:r,bottom:n,right:i}){return{x:Kg(e.x,r,i),y:Kg(e.y,t,n)}}function Xg(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function EO(e,t){return{x:Xg(e.x,t.x),y:Xg(e.y,t.y)}}function IO(e,t){let r=.5;const n=pt(e),i=pt(t);return i>n?r=Si(t.min,t.max-n,e.min):n>i&&(r=Si(e.min,e.max-i,t.min)),wr(0,1,r)}function MO(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const qh=.35;function $O(e=qh){return e===!1?e=0:e===!0&&(e=qh),{x:Yg(e,"left","right"),y:Yg(e,"top","bottom")}}function Yg(e,t,r){return{min:Jg(e,t),max:Jg(e,r)}}function Jg(e,t){return typeof e=="number"?e:e[t]||0}const DO=new WeakMap;class RO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(xs(p).point)},o=(p,h)=>{const{drag:m,dragPropagation:x,onDragStart:g}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U3(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Et(b=>{let w=this.getAxisMotionValue(b).get()||0;if(nr.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const j=y.layout.layoutBox[b];j&&(w=pt(j)*(parseFloat(w)/100))}}this.originPoint[b]=w}),g&&Me.postRender(()=>g(p,h)),Bh(this.visualElement,"transform");const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(p,h)=>{this.latestPointerEvent=p,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:g,onDrag:f}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(x&&this.currentDirection===null){this.currentDirection=LO(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),f&&f(p,h)},c=(p,h)=>{this.latestPointerEvent=p,this.latestPanInfo=h,this.stop(p,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Et(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new eS(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Q2(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Me.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Ms(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=TO(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Kn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=_O(n.layoutBox,t):this.constraints=!1,this.elastic=$O(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Et(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=MO(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Kn(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BC(n,i.root,this.visualElement.getTransformPagePoint());let o=EO(i.layout.layoutBox,s);if(r){const l=r(DC(o));this.hasMutatedConstraints=!!l,l&&(o=L2(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Et(d=>{if(!Ms(d,r,this.currentDirection))return;let p=c&&c[d]||{};o&&(p={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Bh(this.visualElement,t),n.start(Ym(t,n,0,r,this.visualElement,!1))}stopAnimation(){Et(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Et(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Et(r=>{const{drag:n}=this.getProps();if(!Ms(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(t[r]-Le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kn(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Et(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=IO({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Et(o=>{if(!Ms(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Le(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;DO.set(this.visualElement,this);const t=this.visualElement.current,r=pi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Kn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Me.read(n);const o=Ci(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Et(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=qh,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Ms(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function LO(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class BO extends Vr{constructor(t){super(t),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new RO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zg=e=>(t,r)=>{e&&Me.postRender(()=>e(t,r))};class FO extends Vr{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(t){this.session=new eS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Zg(t),onStart:Zg(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Me.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=pi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let pc=!1;class qO extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),pc&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,pc=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Me.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;pc=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rS(e){const[t,r]=S2(),n=S.useContext(ym);return a.jsx(qO,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(D2),isPresent:t,safeToRemove:r})}function zO(e,t,r){const n=dt(e)?e:oa(e);return n.start(Ym("",n,t,r)),n.animation}const UO=(e,t)=>e.depth-t.depth;class VO{constructor(){this.children=[],this.isDirty=!1}add(t){wm(this.children,t),this.isDirty=!0}remove(t){jm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UO),this.isDirty=!1,this.children.forEach(t)}}function WO(e,t){const r=vt.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Br(n),e(s-t))};return Me.setup(n,!0),()=>Br(n)}const nS=["TopLeft","TopRight","BottomLeft","BottomRight"],HO=nS.length,Qg=e=>typeof e=="string"?parseFloat(e):e,ex=e=>typeof e=="number"||ce.test(e);function GO(e,t,r,n,i,s){i?(e.opacity=Le(0,r.opacity??1,KO(n)),e.opacityExit=Le(t.opacity??1,0,XO(n))):s&&(e.opacity=Le(t.opacity??1,r.opacity??1,n));for(let o=0;o<HO;o++){const l=`border${nS[o]}Radius`;let c=tx(t,l),u=tx(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ex(c)===ex(u)?(e[l]=Math.max(Le(Qg(c),Qg(u),n),0),(nr.test(u)||nr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Le(t.rotate||0,r.rotate||0,n))}function tx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const KO=aS(0,.5,UN),XO=aS(.5,.95,Lt);function aS(e,t,r){return n=>n<e?0:n>t?1:r(Si(e,t,n))}function rx(e,t){e.min=t.min,e.max=t.max}function Wt(e,t){rx(e.x,t.x),rx(e.y,t.y)}function nx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ax(e,t,r,n,i){return e-=t,e=so(e,1/r,n),i!==void 0&&(e=so(e,1/i,n)),e}function YO(e,t=0,r=1,n=.5,i,s=e,o=e){if(nr.test(t)&&(t=parseFloat(t),t=Le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Le(s.min,s.max,n);e===s&&(l-=t),e.min=ax(e.min,t,r,l,i),e.max=ax(e.max,t,r,l,i)}function ix(e,t,[r,n,i],s,o){YO(e,t[r],t[n],t[i],t.scale,s,o)}const JO=["x","scaleX","originX"],ZO=["y","scaleY","originY"];function sx(e,t,r,n){ix(e.x,t,JO,r?r.x:void 0,n?n.x:void 0),ix(e.y,t,ZO,r?r.y:void 0,n?n.y:void 0)}function ox(e){return e.translate===0&&e.scale===1}function iS(e){return ox(e.x)&&ox(e.y)}function lx(e,t){return e.min===t.min&&e.max===t.max}function QO(e,t){return lx(e.x,t.x)&&lx(e.y,t.y)}function cx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sS(e,t){return cx(e.x,t.x)&&cx(e.y,t.y)}function ux(e){return pt(e.x)/pt(e.y)}function dx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class eT{constructor(){this.members=[]}add(t){wm(this.members,t),t.scheduleRender()}remove(t){if(jm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tT(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:h,skewX:m,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),p&&(n+=`rotateX(${p}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const hc=["","X","Y","Z"],rT=1e3;let nT=0;function fc(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function oS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=H2(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Me,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&oS(n)}function lS({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=nT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sT),this.nodes.forEach(uT),this.nodes.forEach(dT),this.nodes.forEach(oT)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new VO)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new km),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=N2(o)&&!X3(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,p=0;const h=()=>this.root.updateBlockedByResize=!1;Me.read(()=>{p=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,d&&d(),d=WO(h,250),Zs.hasAnimatedSinceResize&&(Zs.hasAnimatedSinceResize=!1,this.nodes.forEach(fx)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||gT,{onLayoutAnimationStart:g,onLayoutAnimationComplete:f}=u.getProps(),b=!this.targetLayout||!sS(this.targetLayout,m),w=!p&&h;if(this.options.layoutRoot||this.resumeFrom||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Rm(x,"layout"),onPlay:g,onComplete:f};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,w)}else p||fx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(px);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cT),this.nodes.forEach(aT),this.nodes.forEach(iT)):this.nodes.forEach(hx),this.clearAllSnapshots();const l=vt.now();it.delta=wr(0,1e3/60,l-it.timestamp),it.timestamp=l,it.isProcessing=!0,rc.update.process(it),rc.preRender.process(it),rc.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lT),this.sharedNodes.forEach(hT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pt(this.snapshot.measuredBox.x)&&!pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!iS(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||en(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),xT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ke();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yT))){const{scroll:u}=this.root;u&&(Xn(l.x,u.offset.x),Xn(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Ke();if(Wt(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Wt(l,o),Xn(l.x,d.offset.x),Xn(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Ke();Wt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),en(d.latestValues)&&Yn(c,d.latestValues)}return en(this.latestValues)&&Yn(c,this.latestValues),c}removeTransform(o){const l=Ke();Wt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!en(u.latestValues))continue;$h(u.latestValues)&&u.updateSnapshot();const d=Ke(),p=u.measurePageBox();Wt(d,p),sx(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return en(this.latestValues)&&sx(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=it.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),F2(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$h(this.parent.latestValues)||B2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),oo(this.relativeTargetOrigin,l,c),Wt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===it.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Wt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;LC(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ke());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nx(this.prevProjectionDelta.x,this.projectionDelta.x),nx(this.prevProjectionDelta.y,this.projectionDelta.y)),hi(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!dx(this.projectionDelta.x,this.prevProjectionDelta.x)||!dx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jn(),this.projectionDelta=Jn(),this.projectionDeltaWithTransform=Jn()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},p=Jn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ke(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,f=this.getStack(),b=!f||f.members.length<=1,w=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(mT));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const v=j/1e3;mx(p.x,o.x,v),mx(p.y,o.y,v),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fT(this.relativeTarget,this.relativeTargetOrigin,h,v),y&&QO(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ke()),Wt(y,this.relativeTarget)),g&&(this.animationValues=d,GO(d,u,this.latestValues,v,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Zs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oa(0)),this.currentAnimation=zO(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&cS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ke();const p=pt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const h=pt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Wt(l,c),Yn(l,d),hi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eT),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&fc("z",o,u,this.animationValues);for(let d=0;d<hc.length;d++)fc(`rotate${hc[d]}`,o,u,this.animationValues),fc(`skew${hc[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Js(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Js(l?.pointerEvents)||""),this.hasProjected&&!en(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=tT(this.projectionDeltaWithTransform,this.treeScale,d);c&&(p=c(d,p)),o.transform=p;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Mh){if(d[x]===void 0)continue;const{correct:g,applyTo:f,isCSSVariable:b}=Mh[x],w=p==="none"?d[x]:g(d[x],u);if(f){const y=f.length;for(let j=0;j<y;j++)o[f[j]]=w}else b?this.options.visualElement.renderState.vars[x]=w:o[x]=w}this.options.layoutId&&(o.pointerEvents=u===this?Js(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(px),this.root.sharedNodes.clear()}}}function aT(e){e.updateLayout()}function iT(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Et(d=>{const p=s?t.measuredBox[d]:t.layoutBox[d],h=pt(p);p.min=r[d].min,p.max=p.min+h}):cS(i,t.layoutBox,r)&&Et(d=>{const p=s?t.measuredBox[d]:t.layoutBox[d],h=pt(r[d]);p.max=p.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const o=Jn();hi(o,r,t.layoutBox);const l=Jn();s?hi(l,e.applyTransform(n,!0),t.measuredBox):hi(l,r,t.layoutBox);const c=!iS(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:h}=d;if(p&&h){const m=Ke();oo(m,t.layoutBox,p.layoutBox);const x=Ke();oo(x,r,h.layoutBox),sS(m,x)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function sT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lT(e){e.clearSnapshot()}function px(e){e.clearMeasurements()}function hx(e){e.isLayoutDirty=!1}function cT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uT(e){e.resolveTargetDelta()}function dT(e){e.calcProjection()}function pT(e){e.resetSkewAndRotation()}function hT(e){e.removeLeadSnapshot()}function mx(e,t,r){e.translate=Le(t.translate,0,r),e.scale=Le(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gx(e,t,r,n){e.min=Le(t.min,r.min,n),e.max=Le(t.max,r.max,n)}function fT(e,t,r,n){gx(e.x,t.x,r.x,n),gx(e.y,t.y,r.y,n)}function mT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gT={duration:.45,ease:[.4,0,.1,1]},xx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yx=xx("applewebkit/")&&!xx("chrome/")?Math.round:Lt;function vx(e){e.min=yx(e.min),e.max=yx(e.max)}function xT(e){vx(e.x),vx(e.y)}function cS(e,t,r){return e==="position"||e==="preserve-aspect"&&!kO(ux(t),ux(r),.2)}function yT(e){return e!==e.root&&e.scroll?.wasRoot}const vT=lS({attachResizeListener:(e,t)=>Ci(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mc={current:void 0},uS=lS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mc.current){const e=new vT({});e.mount(window),e.setOptions({layoutScroll:!0}),mc.current=e}return mc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bT={pan:{Feature:FO},drag:{Feature:BO,ProjectionNode:uS,MeasureLayout:rS}};function bx(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Me.postRender(()=>s(t,xs(t)))}class wT extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=V3(t,(r,n)=>(bx(this.node,n,"Start"),i=>bx(this.node,i,"End"))))}unmount(){}}class jT extends Vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fs(Ci(this.node.current,"focus",()=>this.onFocus()),Ci(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wx(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Me.postRender(()=>s(t,xs(t)))}class NT extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=K3(t,(r,n)=>(wx(this.node,n,"Start"),(i,{success:s})=>wx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zh=new WeakMap,gc=new WeakMap,ST=e=>{const t=zh.get(e.target);t&&t(e)},kT=e=>{e.forEach(ST)};function PT({root:e,...t}){const r=e||document;gc.has(r)||gc.set(r,{});const n=gc.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(kT,{root:e,...t})),n[i]}function AT(e,t,r){const n=PT(t);return zh.set(e,r),n.observe(e),()=>{zh.delete(e),n.unobserve(e)}}const CT={some:0,all:1};class OT extends Vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:CT[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),h=u?d:p;h&&h(c)};return AT(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(TT(t,r))&&this.startObserver()}unmount(){}}function TT({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const _T={inView:{Feature:OT},tap:{Feature:NT},focus:{Feature:jT},hover:{Feature:wT}},ET={layout:{ProjectionNode:uS,MeasureLayout:rS}},IT={...vO,..._T,...bT,...ET},_=$C(IT,KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$T=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),jx=e=>{const t=$T(e);return t.charAt(0).toUpperCase()+t.slice(1)},dS=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>S.createElement("svg",{ref:c,...DT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dS("lucide",i),...l},[...o.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(RT,{ref:s,iconNode:t,className:dS(`lucide-${MT(jx(e))}`,`lucide-${e}`,n),...i}));return r.displayName=jx(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],BT=re("arrow-down",LT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qt=re("arrow-left",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zT=re("arrow-right",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],VT=re("arrow-up",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lo=re("award",WT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Nx=re("banknote",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pS=re("bell",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],hS=re("bookmark",KT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jm=re("calendar",XT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],JT=re("chart-column",YT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bt=re("check",ZT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],e5=re("chevron-down",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r5=re("chevron-up",t5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bn=re("circle-alert",n5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],st=re("circle-check-big",a5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ht=re("circle-x",i5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Oi=re("clock",s5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sx=re("copy",o5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nr=re("credit-card",l5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qs=re("dollar-sign",c5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],eo=re("download",u5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],p5=re("external-link",d5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Uh=re("eye-off",h5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wn=re("eye",f5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],fS=re("file-spreadsheet",m5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kx=re("file-text",g5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],mS=re("folder-open",x5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],v5=re("gift",y5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],hn=re("heart",b5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],j5=re("history",w5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jn=re("image",N5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],k5=re("info",S5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vh=re("loader-circle",P5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],fn=re("loader",A5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ca=re("lock",C5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Px=re("log-out",O5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Te=re("mail",T5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mn=re("map-pin",_5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],I5=re("map-pinned",E5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],$5=re("menu",M5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ax=re("message-circle",D5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ti=re("message-square",R5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M5 12h14",key:"1ays0h"}]],B5=re("minus",L5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ye=re("package",F5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Wh=re("palette",q5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qr=re("pen",z5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],V5=re("percent",U5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],_i=re("phone",W5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_n=re("plus",H5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gS=re("refresh-cw",G5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xS=re("rotate-ccw",K5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hl=re("save",X5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fi=re("search",Y5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fl=re("send",J5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Cx=re("server",Z5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e_=re("settings",Q5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nn=re("shield",t_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],zr=re("shirt",r_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],co=re("shopping-bag",n_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gr=re("shopping-cart",a_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sr=re("sparkles",i_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xr=re("star",s_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],yS=re("swords",o_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Hh=re("tag",l_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zt=re("trash-2",c_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Ox=re("trending-down",u_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],p_=re("trending-up",d_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ei=re("triangle-alert",h_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ur=re("truck",f_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ys=re("upload",m_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dt=re("user",g_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Sn=re("users",x_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ke=re("x",y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],b_=re("zap",v_);function w_({toast:e,onClose:t}){S.useEffect(()=>{const s=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(s)},[e.id,e.duration,t]);const r=()=>{switch(e.type){case"success":return a.jsx(st,{className:"w-5 h-5"});case"error":return a.jsx(bn,{className:"w-5 h-5"});case"warning":return a.jsx(Ei,{className:"w-5 h-5"});case"info":return a.jsx(k5,{className:"w-5 h-5"})}},i=(()=>{switch(e.type){case"success":return{bg:"bg-gradient-to-r from-green-500/20 to-emerald-500/20",border:"border-green-500/50",icon:"text-green-400",glow:"shadow-[0_0_20px_rgba(34,197,94,0.3)]"};case"error":return{bg:"bg-gradient-to-r from-red-500/20 to-rose-500/20",border:"border-red-500/50",icon:"text-red-400",glow:"shadow-[0_0_20px_rgba(239,68,68,0.3)]"};case"warning":return{bg:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20",border:"border-yellow-500/50",icon:"text-yellow-400",glow:"shadow-[0_0_20px_rgba(234,179,8,0.3)]"};case"info":return{bg:"bg-gradient-to-r from-purple-500/20 to-pink-500/20",border:"border-purple-500/50",icon:"text-purple-400",glow:"shadow-[0_0_20px_rgba(147,51,234,0.3)]"}}})();return a.jsxs(_.div,{layout:!0,initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",stiffness:500,damping:30},className:`
        relative overflow-hidden
        ${i.bg} ${i.border} ${i.glow}
        backdrop-blur-md
        border rounded-lg
        p-4 pr-12
        min-w-[320px] max-w-[500px]
        cursor-pointer
        group
      `,onClick:()=>t(e.id),children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx(_.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})}),a.jsxs("div",{className:"relative flex items-start gap-3",children:[a.jsx("div",{className:`${i.icon} flex-shrink-0 mt-0.5`,children:a.jsx(_.div,{initial:{rotate:-180,scale:0},animate:{rotate:0,scale:1},transition:{type:"spring",delay:.1},children:r()})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-white text-sm leading-relaxed",children:e.message})}),a.jsx("button",{onClick:s=>{s.stopPropagation(),t(e.id)},className:"absolute top-3 right-3 text-white/60 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-4 h-4"})})]}),a.jsx(_.div,{className:`absolute bottom-0 left-0 h-1 ${e.type==="success"?"bg-green-400":e.type==="error"?"bg-red-400":e.type==="warning"?"bg-yellow-400":"bg-purple-400"}`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:(e.duration||5e3)/1e3,ease:"linear"}}),e.type==="success"&&a.jsx(a.Fragment,{children:[...Array(3)].map((s,o)=>a.jsx(_.div,{className:"absolute w-1 h-1 bg-green-400 rounded-full",initial:{x:Math.random()*100-50,y:Math.random()*50,scale:0,opacity:1},animate:{y:-50,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:1.5,delay:o*.2,repeat:1/0,repeatDelay:1},style:{left:`${20+o*30}%`,top:"50%"}},o))})]})}function j_({toasts:e,onClose:t}){return a.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:a.jsx(Re,{mode:"popLayout",children:e.map(r=>a.jsx("div",{className:"pointer-events-auto",children:a.jsx(w_,{toast:r,onClose:t})},r.id))})})}const vS=S.createContext(void 0);function N_({children:e}){const[t,r]=S.useState([]),n=S.useCallback(u=>{r(d=>d.filter(p=>p.id!==u))},[]),i=S.useCallback((u,d="info",p)=>{const m={id:`toast-${Date.now()}-${Math.random()}`,message:u,type:d,duration:p};r(x=>[...x,m])},[]),s=S.useCallback((u,d)=>{i(u,"success",d)},[i]),o=S.useCallback((u,d)=>{i(u,"error",d)},[i]),l=S.useCallback((u,d)=>{i(u,"info",d)},[i]),c=S.useCallback((u,d)=>{i(u,"warning",d)},[i]);return a.jsxs(vS.Provider,{value:{showToast:i,success:s,error:o,info:l,warning:c},children:[e,a.jsx(j_,{toasts:t,onClose:n})]})}function En(){const e=S.useContext(vS);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const bS=S.createContext(void 0),Tx="animedropzone_cart";function S_({children:e}){const[t,r]=S.useState([]),[n,i]=S.useState(!1);S.useEffect(()=>{try{const u=localStorage.getItem(Tx);u&&r(JSON.parse(u))}catch(u){console.error("Error loading cart from localStorage:",u)}},[]),S.useEffect(()=>{try{localStorage.setItem(Tx,JSON.stringify(t))}catch(u){console.error("Error saving cart to localStorage:",u)}},[t]);const s=u=>{r(d=>d.find(h=>h.id===u.id)?d.map(h=>h.id===u.id?{...h,quantity:h.quantity+1}:h):[...d,{...u,quantity:1}]),i(!0)},o=u=>{r(d=>d.filter(p=>p.id!==u))},l=(u,d)=>{d<=0?o(u):r(p=>p.map(h=>h.id===u?{...h,quantity:d}:h))},c=()=>{r([])};return a.jsx(bS.Provider,{value:{cartItems:t,addToCart:s,removeFromCart:o,updateQuantity:l,clearCart:c,isCartOpen:n,setIsCartOpen:i},children:e})}function ml(){const e=S.useContext(bS);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function Cr({size:e="md"}){const t={sm:{container:"w-8 h-8",text:"text-lg"},md:{container:"w-10 h-10",text:"text-xl"},lg:{container:"w-16 h-16",text:"text-3xl"}};return a.jsxs("div",{className:`${t[e].container} bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center relative overflow-hidden shadow-lg shadow-purple-900/50`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20"}),a.jsx("span",{className:`${t[e].text} relative z-10`,children:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full p-1",children:[a.jsx("path",{d:"M12 3L3 21H7L9 16H15L17 21H21L12 3Z",fill:"white",stroke:"white",strokeWidth:"0.5"}),a.jsx("path",{d:"M10 13L12 8L14 13H10Z",fill:"url(#logo-gradient)"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"logo-gradient",x1:"12",y1:"8",x2:"12",y2:"13",children:[a.jsx("stop",{offset:"0%",stopColor:"#ec4899"}),a.jsx("stop",{offset:"100%",stopColor:"#9333ea"})]})})]})})]})}function gl({cartCount:e,wishlistCount:t=0,onCartClick:r,onWishlistClick:n,onLoginClick:i,user:s,onLogout:o}){const[l,c]=S.useState(!1),u=ot();return a.jsx(_.nav,{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:100},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center h-16 md:h-20",children:[a.jsx(_.div,{className:"hidden lg:flex items-center gap-3 xl:gap-6 flex-1 justify-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:["Home","Shop","Categories","About","Contact"].map((d,p)=>a.jsx(_.a,{href:d==="Home"?"/":`/#${d.toLowerCase()}`,onClick:h=>{if(d==="Home")h.preventDefault(),u("/");else{const m=document.getElementById(d.toLowerCase());m&&(h.preventDefault(),m.scrollIntoView({behavior:"smooth"}))}},className:"text-gray-300 hover:text-purple-400 transition-colors text-sm xl:text-base whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+p*.05},whileHover:{scale:1.1,y:-2},children:d},d))}),a.jsx(_.div,{className:"lg:hidden flex-1 flex justify-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:a.jsx("button",{onClick:()=>c(!l),className:"text-white",children:a.jsx(Re,{mode:"wait",children:l?a.jsx(_.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:a.jsx(ke,{className:"w-6 h-6"})},"close"):a.jsx(_.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:a.jsx($5,{className:"w-6 h-6"})},"menu")})})}),a.jsxs(_.div,{className:"flex items-center gap-2 cursor-pointer flex-shrink-0 justify-center",onClick:()=>u("/"),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},children:[a.jsx(Cr,{size:"md"}),a.jsx("span",{className:"hidden sm:inline text-xl md:text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent whitespace-nowrap",children:"animedropzone"})]}),a.jsxs(_.div,{className:"flex items-center gap-2 xl:gap-3 flex-1 justify-end",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[a.jsxs("div",{className:"hidden lg:flex items-center gap-2 xl:gap-3",children:[s?a.jsxs(a.Fragment,{children:[a.jsxs(_.button,{onClick:()=>u("/my-profile"),className:"text-gray-300 hover:text-purple-400 transition-colors text-sm xl:text-base flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},title:"My Profile",children:[a.jsx(Dt,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden xl:inline max-w-[100px] truncate",title:s.user_metadata?.name||"User",children:s.user_metadata?.name||"User"})]}),a.jsx(_.button,{onClick:o,className:"text-gray-300 hover:text-purple-400 transition-colors p-2 rounded-lg hover:bg-purple-900/20",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Logout",children:a.jsx(Px,{className:"w-5 h-5"})})]}):a.jsx(_.button,{onClick:i,className:"text-gray-300 hover:text-purple-400 transition-colors p-2 rounded-lg hover:bg-purple-900/20",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Login",children:a.jsx(Dt,{className:"w-5 h-5"})}),a.jsx(_.button,{onClick:()=>u("/my-orders"),className:"bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"My Orders",children:a.jsx(ye,{className:"w-5 h-5"})}),n&&a.jsxs(_.button,{onClick:n,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Wishlist",children:[a.jsx(hn,{className:"w-5 h-5"}),a.jsx(Re,{children:t>0&&a.jsx(_.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:t})})]}),a.jsxs(_.button,{onClick:r,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Cart",children:[a.jsx(gr,{className:"w-5 h-5"}),a.jsx(Re,{children:e>0&&a.jsx(_.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:e})})]})]}),a.jsxs("div",{className:"flex lg:hidden items-center gap-2",children:[a.jsx(_.button,{onClick:()=>u("/my-orders"),className:"bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(ye,{className:"w-5 h-5"})}),n&&a.jsxs(_.button,{onClick:n,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(hn,{className:"w-5 h-5"}),a.jsx(Re,{children:t>0&&a.jsx(_.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:t})})]}),a.jsxs(_.button,{onClick:r,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(gr,{className:"w-5 h-5"}),a.jsx(Re,{children:e>0&&a.jsx(_.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:e})})]})]})]})]}),a.jsx(Re,{children:l&&a.jsx(_.div,{className:"lg:hidden py-4 border-t border-purple-900/30",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:a.jsxs("div",{className:"flex flex-col gap-4",children:[["Home","Shop","Categories","About","Contact"].map((d,p)=>a.jsx(_.a,{href:d==="Home"?"/":`/#${d.toLowerCase()}`,onClick:h=>{if(c(!1),d==="Home")h.preventDefault(),u("/");else{const m=document.getElementById(d.toLowerCase());m&&(h.preventDefault(),m.scrollIntoView({behavior:"smooth"}))}},className:"text-gray-300 hover:text-purple-400 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:p*.05},children:d},d)),s?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{c(!1),u("/my-profile")},className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"My Profile"]}),a.jsxs("button",{onClick:o,className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[a.jsx(Px,{className:"w-5 h-5"}),"Logout"]})]}):a.jsxs("button",{onClick:i,className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Login"]}),a.jsxs("button",{onClick:()=>{c(!1),r()},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2 justify-center",children:[a.jsx(gr,{className:"w-5 h-5"}),"Cart (",e,")"]}),n&&a.jsxs("button",{onClick:()=>{c(!1),n()},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2 justify-center",children:[a.jsx(hn,{className:"w-5 h-5"}),"Wishlist (",t,")"]}),a.jsxs("button",{onClick:()=>{c(!1),u("/my-orders")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(ye,{className:"w-5 h-5"}),"My Orders"]})]})})})]})})}const H="omfqjzwegmiezbfpjysp",Y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tZnFqendlZ21pZXpiZnBqeXNwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNjY2NDcsImV4cCI6MjA4MDg0MjY0N30.YkSoV-8t4qWXNppvM2t1mDsdkirIoNRpMmQUjvVk-3o",zn=()=>[{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23f59e0b;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%239333ea;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g2)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E Naruto Legends%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%235b21b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g3)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E One Piece Adventure%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%236366f1;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23dc2626;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g4)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23fbbf24;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f87171;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g5)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}];function k_({onShopNow:e}){const[t,r]=S.useState(zn()),[n,i]=S.useState(0),[s,o]=S.useState(!1),l=typeof window<"u"?window.innerWidth<768:!1,[c,u]=S.useState(!0);S.useEffect(()=>{const g=()=>{window.innerWidth<768&&!c&&setTimeout(()=>u(!0),100)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[c]),S.useEffect(()=>{if(l&&!c){const g=setTimeout(()=>u(!0),300);return()=>clearTimeout(g)}},[l,c]),S.useEffect(()=>{(async()=>{console.log(" Initial wallpaper fetch on component mount..."),await d()})();let f=null;try{f=new BroadcastChannel("wallpapers"),f.onmessage=y=>{(y.data.type==="wallpaper_updated"||y.data.type==="wallpaper_deleted"||y.data.type==="wallpaper_added")&&(console.log(" Wallpaper update received via BroadcastChannel"),y.data.wallpapers&&y.data.wallpapers.length>0?(console.log(" Using wallpapers from BroadcastChannel message:",y.data.wallpapers),r(y.data.wallpapers)):(console.log(" Refetching wallpapers from API..."),setTimeout(()=>{d()},500)))}}catch{console.log("BroadcastChannel not available, using polling only")}let b=0;const w=setInterval(()=>{b++,(b<20||b%8===0)&&(console.log(` Polling for wallpaper updates... (check ${b})`),d())},15e3);return()=>{f&&f.close(),clearInterval(w)}},[]);const d=async()=>{try{console.log(" Fetching wallpapers from server (source of truth)...");const g=new AbortController,f=setTimeout(()=>g.abort(),15e3),b=`?t=${Date.now()}`,w=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers${b}`,{headers:{Authorization:`Bearer ${Y}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},signal:g.signal});if(clearTimeout(f),w.ok){const y=await w.json();if(console.log(" Fresh wallpapers fetched from server:",y.wallpapers?.length||0),y.wallpapers&&y.wallpapers.length>0){const j=y.wallpapers.filter(v=>v!=null).map(v=>({id:v.id||v.wallpaper_id||`wallpaper_${Math.random()}`,imageUrl:v.imageUrl||v.image_url||v.image,title:v.title||"Anime Collection",subtitle:v.subtitle||"Premium Collection",order:v.order||0})).sort((v,N)=>(v.order||0)-(N.order||0));if(j.length>0){console.log(" Updating state with fresh server wallpapers:",j.length),r(j),localStorage.setItem("cached_wallpapers",JSON.stringify(j)),localStorage.setItem("wallpapers_sync_time",Date.now().toString());return}}console.log(" No wallpapers from server yet, seeding defaults...")}else console.log(" Wallpaper fetch failed with status:",w.status)}catch(g){console.log(" Server fetch failed:",g instanceof Error?g.message:String(g))}try{const g=localStorage.getItem("cached_wallpapers");if(g){console.log(" Falling back to cached wallpapers (server offline)");const f=JSON.parse(g);if(f.length>0){r(f);return}}}catch(g){console.log("Error reading cache:",g)}console.log(" No server data available, seeding defaults to server..."),await p()},p=async()=>{try{console.log(" Seeding default wallpapers to server...");const g=zn();let f=0;for(const w of g)try{(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({imageUrl:w.imageUrl,title:w.title,subtitle:w.subtitle})})).ok?(console.log(` Seeded wallpaper: ${w.title}`),f++):console.error(` Failed to seed wallpaper: ${w.title}`)}catch(y){console.error(` Error seeding ${w.title}:`,y)}console.log(` Seeding complete: ${f}/${g.length} seeded`),console.log(" Waiting before fetching seeded wallpapers..."),await new Promise(w=>setTimeout(w,1500)),console.log(" Fetching wallpapers after seeding...");const b=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers?t=${Date.now()}`,{headers:{Authorization:`Bearer ${Y}`,"Cache-Control":"no-cache, no-store, must-revalidate"}});if(b.ok){const w=await b.json();if(w.wallpapers&&w.wallpapers.length>0){const y=w.wallpapers.filter(j=>j!=null).map(j=>({id:j.id||j.wallpaper_id||`wallpaper_${Math.random()}`,imageUrl:j.imageUrl||j.image_url||j.image,title:j.title||"Anime Collection",subtitle:j.subtitle||"Premium Collection",order:j.order||0})).sort((j,v)=>(j.order||0)-(v.order||0));if(y.length>0){console.log(" Seeded wallpapers fetched from server:",y.length),r(y),localStorage.setItem("cached_wallpapers",JSON.stringify(y));return}}}console.log(" Seed fetch failed, using defaults locally"),r(zn())}catch(g){console.error(" Error in seedDefaultWallpapers:",g),r(zn())}};S.useEffect(()=>{if(t.length<=1)return;t.forEach(b=>{const w=new Image;w.src=b.imageUrl});const f=setInterval(()=>{i(b=>(b+1)%t.length)},l?1e4:6e3);return()=>clearInterval(f)},[t.length,l]);const h=()=>{console.log(" Shop Now clicked!"),e&&(console.log("Calling onShopNow callback"),e()),setTimeout(()=>{const g=document.getElementById("shop");console.log("Shop element found:",g),g?(g.scrollIntoView({behavior:"smooth"}),console.log(" Scrolling to shop section")):console.warn(" Shop section not found in DOM")},100)},m=t[n]||zn()[0],x=m&&m.imageUrl?m:zn()[0];return a.jsxs("section",{className:"relative overflow-hidden",children:[!l&&a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/30 via-black to-pink-900/30"}),a.jsxs("div",{className:"absolute inset-0 opacity-20",children:[a.jsx(_.div,{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),a.jsx(_.div,{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600 rounded-full blur-3xl",animate:{scale:[1,1.3,1],opacity:[.5,.7,.5]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}})]})]}),l&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-black to-pink-900/20"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-20",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"z-10",children:[a.jsxs(_.div,{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-900/50 to-pink-900/50 border border-purple-500/50 rounded-full mb-6 backdrop-blur-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:l?.3:.6},children:[a.jsx(_.div,{animate:{rotate:l?[0,180]:[0,360]},transition:{duration:l?2:3,repeat:1/0,ease:"linear"},children:a.jsx(xr,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"})}),a.jsx("span",{className:"text-purple-300",children:"Premium Collection"})]}),a.jsx(_.h1,{className:"mb-6 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent leading-tight",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:l?.3:.8,delay:l?0:.2},children:"Embrace Your Inner Demon"}),a.jsx(_.p,{className:"mb-4 text-gray-300 text-lg",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:l?.3:.8,delay:l?.1:.4},children:"Step into the world of anime with our exclusive collection of premium figures, authentic katanas, and rare collectibles."}),a.jsx(_.div,{className:"flex flex-wrap gap-6 mb-8",initial:l?{opacity:1}:{opacity:0},animate:{opacity:1},transition:{duration:l?0:.8,delay:l?.2:.6},children:[{icon:b_,text:"Fast Shipping"},{icon:Nn,text:"100% Authentic"},{icon:xr,text:"Premium Quality",filled:!0}].map((g,f)=>a.jsxs(_.div,{className:"flex items-center gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:l?.3:.5,delay:.7+f*.05},whileHover:l?{}:{scale:1.05},children:[a.jsx(g.icon,{className:`w-5 h-5 text-purple-400 ${g.filled?"fill-purple-400":""}`}),a.jsx("span",{className:"text-gray-300",children:g.text})]},g.text))}),a.jsxs(_.div,{className:"flex flex-wrap gap-4",initial:l?{opacity:1,y:0}:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:l?0:.8,delay:l?0:.9},children:[a.jsx(_.div,{whileHover:l?{}:{scale:1.05},whileTap:{scale:.95},children:a.jsxs("button",{type:"button",onClick:h,className:"group bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-purple-900/50 hover:shadow-purple-900/70 cursor-pointer",children:[a.jsx("span",{className:"text-lg",children:"Shop Now"}),a.jsx(zT,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(_.a,{href:"#categories",className:"bg-white/10 hover:bg-white/20 border border-white/30 hover:border-white/50 px-8 py-4 rounded-lg transition-all backdrop-blur-sm text-lg",whileHover:l?{}:{scale:1.05},whileTap:{scale:.95},children:"Explore Categories"})]})]}),a.jsx(_.div,{className:"relative z-10",initial:{opacity:0,scale:.8,rotateY:20},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:l?.6:1,delay:.3},children:a.jsxs("div",{className:"relative group",children:[!l&&a.jsx(_.div,{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity",animate:{opacity:[.5,.7,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsxs("div",{className:"relative rounded-2xl overflow-hidden border-2 border-purple-500/50 shadow-2xl shadow-purple-900/50 bg-gradient-to-br from-purple-900 via-black to-pink-900 min-h-96",children:[x?.imageUrl?a.jsx(_.img,{src:x.imageUrl,alt:x.title||"Wallpaper",loading:"lazy",decoding:"async",className:"w-full h-auto",onError:g=>{console.error(" Image failed to load:",x.imageUrl),console.error("Error:",g)},initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},transition:{duration:l?.4:.7}},`wallpaper-${n}`):a.jsx("div",{className:"w-full h-96 bg-gradient-to-br from-purple-900 via-black to-pink-900 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-400",children:"Loading wallpaper..."})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"}),a.jsx(_.div,{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-orange-600 px-4 py-2 rounded-full",initial:l?{scale:1}:{},animate:l?{scale:1}:{scale:[1,1.1,1]},transition:l?{}:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx("span",{className:"text-white text-sm",children:"New Arrival"})}),a.jsxs(_.div,{className:"absolute bottom-0 left-0 right-0 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h3",{className:"text-white text-2xl mb-2",children:x?.title||"Anime Collection"}),a.jsx("p",{className:"text-purple-200",children:x?.subtitle||"Premium Collection"})]},`text-${n}`),t.length>1&&a.jsx("div",{className:"absolute bottom-24 left-0 right-0 flex justify-center gap-2",children:t.map((g,f)=>a.jsx("button",{onClick:()=>i(f),className:`w-2 h-2 rounded-full transition-all ${f===n?"bg-white w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${f+1}`},f))})]})]})})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a.jsxs("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"url(#gradient)",fillOpacity:"0.1"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"1440",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#9333ea"}),a.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})})]})})]})}function P_({icon:e,title:t,description:r,onClick:n}){return a.jsxs("button",{onClick:n,className:"group bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 hover:border-purple-500 rounded-xl p-4 md:p-6 transition-all hover:shadow-lg hover:shadow-purple-900/50 text-left w-full hover:scale-105 active:scale-98",children:[a.jsx("div",{className:"w-12 md:w-14 h-12 md:h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center mb-3 md:mb-4",children:a.jsx(e,{className:"w-6 md:w-7 h-6 md:h-7 text-white"})}),a.jsx("h3",{className:"mb-1 md:mb-2 text-white text-sm md:text-base font-semibold",children:t}),a.jsx("p",{className:"text-gray-400 text-xs md:text-sm line-clamp-2",children:r})]})}const mi=S.memo(function({product:t,onAddToCart:r,onViewDetails:n,isInWishlist:i=!1,onToggleWishlist:s}){const o=ot(),l=KA(),[c,u]=S.useState(!1),d=t.images?.[0]||t.image||"https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",p=d.includes("unsplash.com")?`${d}&w=400&q=70`:d,h=()=>{try{const m=l.pathname+l.search;sessionStorage.setItem("prevRoute",m)}catch{}o(`/product/${t.id}`)};return a.jsxs(_.div,{className:"group bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl overflow-hidden hover:border-purple-500 transition-all hover:shadow-lg hover:shadow-purple-900/50 cursor-pointer relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.25},whileHover:{y:-5},onClick:h,children:[s&&a.jsx(_.button,{onClick:m=>{m.stopPropagation(),s(t)},className:"absolute top-3 right-3 z-10 w-10 h-10 bg-black/60 hover:bg-black/80 backdrop-blur-sm rounded-full flex items-center justify-center border border-purple-500/30 hover:border-purple-500 transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(hn,{className:`w-5 h-5 transition-all ${i?"fill-pink-500 text-pink-500":"text-gray-400 hover:text-pink-400"}`})}),a.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gradient-to-br from-purple-900 via-black to-pink-900",children:[a.jsx("img",{src:p,alt:t.name,loading:"lazy",decoding:"async",className:`w-full h-full object-cover transition-all duration-300 ${c?"opacity-100":"opacity-0"} group-hover:scale-110`,onLoad:()=>u(!0),onError:m=>{console.warn("Product image failed to load:",p),u(!0),m.target.style.display="none"}}),!c&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-black to-pink-900 animate-pulse"}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4 opacity-50",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("p",{className:"text-xs text-gray-300",children:t.name})]}),t.stock===0&&a.jsx(_.div,{className:"absolute inset-0 bg-black/80 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:a.jsx("span",{className:"text-red-400 border border-red-400 px-4 py-2 rounded",children:"Out of Stock"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((m,x)=>a.jsx(_.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.2,delay:x*.05},children:a.jsx(xr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})},x)),a.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"(4.8)"})]}),a.jsx("h3",{className:"text-white mb-1 line-clamp-1",children:t.name}),a.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:t.description}),a.jsx(_.div,{className:"mb-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:a.jsxs("span",{className:"text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",t.price.toLocaleString()]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(_.button,{onClick:m=>{m.stopPropagation(),r(t)},disabled:t.stock===0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(gr,{className:"w-4 h-4"}),"Add"]}),a.jsxs(_.button,{onClick:h,className:"bg-white/10 hover:bg-white/20 border border-purple-500/50 hover:border-purple-500 px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(wn,{className:"w-4 h-4"}),"Details"]})]})]})]})});function Zm({isOpen:e,onClose:t,items:r,onUpdateQuantity:n,onRemoveItem:i,onCheckout:s,onProductClick:o}){const l=r.reduce((c,u)=>c+u.price*u.quantity,0);return a.jsx(Re,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-end",children:[a.jsx(_.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),a.jsxs(_.div,{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-l-2xl h-screen w-full max-w-md shadow-2xl shadow-purple-900/50 flex flex-col",initial:{opacity:0,x:400},animate:{opacity:1,x:0},exit:{opacity:0,x:400},transition:{duration:.4,type:"spring",stiffness:300,damping:30},children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30 flex-shrink-0",children:[a.jsx("h2",{className:"text-white",children:"Shopping Cart"}),a.jsx(_.button,{onClick:t,className:"text-gray-400 hover:text-white transition-colors",whileHover:{rotate:90,scale:1.1},transition:{duration:.3},children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-6",children:r.length===0?a.jsx(_.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx("p",{className:"text-gray-400 text-lg",children:"Your cart is empty"})}):a.jsx("div",{className:"space-y-4",children:a.jsx(Re,{mode:"popLayout",children:r.map((c,u)=>a.jsxs(_.div,{className:"flex gap-4 bg-purple-900/10 border border-purple-500/20 rounded-lg p-4",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50,height:0,marginBottom:0,padding:0},transition:{duration:.3,delay:u*.05},layout:!0,children:[a.jsx(_.button,{onClick:()=>{o&&o(c)},className:"flex-shrink-0 group cursor-pointer",whileHover:{scale:1.05},transition:{duration:.3},children:a.jsx(_.img,{src:c.image,alt:c.name,className:"w-24 h-24 object-cover rounded-lg group-hover:opacity-75 transition-opacity",whileHover:{scale:1.1,rotate:5},transition:{duration:.3}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(_.button,{onClick:()=>{o&&o(c)},className:"text-white hover:text-purple-400 transition-colors mb-1 block text-left font-medium",children:c.name}),a.jsxs("p",{className:"text-purple-400 mb-2",children:["",c.price.toLocaleString()]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_.button,{onClick:()=>n(c.id,Math.max(1,c.quantity-1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 rounded flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(B5,{className:"w-4 h-4"})}),a.jsx(_.span,{className:"text-white w-8 text-center",initial:{scale:1.5,color:"#ec4899"},animate:{scale:1,color:"#ffffff"},transition:{duration:.3},children:c.quantity},c.quantity),a.jsx(_.button,{onClick:()=>n(c.id,c.quantity+1),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 rounded flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(_n,{className:"w-4 h-4"})}),a.jsx(_.button,{onClick:()=>i(c.id),className:"ml-auto text-red-400 hover:text-red-300 transition-colors",whileHover:{scale:1.2,rotate:15},whileTap:{scale:.9},children:a.jsx(Zt,{className:"w-5 h-5"})})]})]})]},c.id))})})}),r.length>0&&a.jsxs("div",{className:"p-6 border-t border-purple-500/30 bg-black/50 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-gray-300 text-lg",children:"Total:"}),a.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",l.toLocaleString()]})]}),a.jsxs("button",{onClick:s,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",children:[a.jsx(Nr,{className:"w-5 h-5"}),"Proceed to Checkout"]})]})]})]})})}function A_({isOpen:e,onClose:t,wishlistItems:r,onRemoveFromWishlist:n,onAddToCart:i,onViewProduct:s}){return a.jsx(Re,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),a.jsxs(_.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-gradient-to-br from-black via-purple-900/20 to-black border-l border-purple-500/30 shadow-2xl z-50 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-600 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(hn,{className:"w-5 h-5 fill-white"})}),a.jsx("h2",{className:"text-2xl text-white",children:"My Wishlist"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[r.length," ",r.length===1?"item":"items"," saved"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[a.jsx(_.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-24 h-24 bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-full flex items-center justify-center mb-6",children:a.jsx(hn,{className:"w-12 h-12 text-purple-400"})}),a.jsx("h3",{className:"text-xl text-white mb-2",children:"Your wishlist is empty"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Save your favorite items by clicking the heart icon on any product"}),a.jsx("button",{onClick:t,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Start Shopping"})]}):a.jsx("div",{className:"space-y-4",children:a.jsx(Re,{mode:"popLayout",children:r.map((o,l)=>a.jsx(_.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:l*.05},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-4 hover:border-purple-500/50 transition-all",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>{s(o),t()},className:"relative w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 group cursor-pointer",children:[a.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),o.stock===0&&a.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:a.jsx("span",{className:"text-red-400 text-xs font-semibold",children:"Out of Stock"})})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("button",{onClick:()=>{s(o),t()},className:"text-white hover:text-purple-400 transition-colors mb-1 block text-left truncate w-full",children:o.name}),a.jsx("p",{className:"text-sm text-gray-400 mb-2 line-clamp-2",children:o.description}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("span",{className:"text-lg text-purple-400",children:["",o.price.toLocaleString()]}),o.stock>0&&o.stock<5&&a.jsxs("span",{className:"text-xs text-orange-400",children:["Only ",o.stock," left"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{i(o),n(o.id)},disabled:o.stock===0,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 py-2 rounded-lg text-sm flex items-center justify-center gap-2 transition-all",children:[a.jsx(gr,{className:"w-4 h-4"}),"Add to Cart"]}),a.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(o.id),className:"bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 hover:border-red-500/50 p-2 rounded-lg transition-all",children:a.jsx(Zt,{className:"w-4 h-4 text-red-400"})})]})]})]})},o.id))})})}),r.length>0&&a.jsx("div",{className:"p-6 border-t border-purple-500/30 bg-black/50",children:a.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r.forEach(o=>{o.stock>0&&(i(o),n(o.id))})},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(gr,{className:"w-5 h-5"}),"Add All to Cart"]})})]})]})})}const Xe=JA(`https://${H}.supabase.co`,Y);function Qm({isOpen:e,onClose:t,onAuthSuccess:r,showCheckoutMessage:n=!1}){const i=ot(),[s,o]=S.useState("login"),[l,c]=S.useState({name:"",email:"",password:""}),[u,d]=S.useState(""),[p,h]=S.useState(!1),[m,x]=S.useState(!1),g=async w=>{w.preventDefault(),d(""),h(!0);try{if(s==="signup"){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){d("Please enter a valid email address"),h(!1);return}if(l.password.length<6){d("Password must be at least 6 characters long"),h(!1);return}if(!l.name||l.name.trim().length<2){d("Please enter a valid name"),h(!1);return}console.log(" SIGNUP ATTEMPT:",{email:l.email,name:l.name,timestamp:new Date().toISOString()});const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/signup`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:l.email,password:l.password,name:l.name})})).json();if(console.log(" Signup response:",v),v.success){const{data:N,error:k}=await Xe.auth.signInWithPassword({email:l.email,password:l.password});k?d(k.message):N.user&&(r(N.user),f(),t())}else d(v.message||"Signup failed. Please try again.")}else{const{data:y,error:j}=await Xe.auth.signInWithPassword({email:l.email,password:l.password});j?d(j.message):y.user&&(r(y.user),f(),t())}}catch(y){console.log("Auth error:",y),d("An error occurred. Please try again.")}finally{h(!1)}},f=()=>{c({name:"",email:"",password:""}),d(""),x(!1)},b=()=>{o(s==="login"?"signup":"login"),f()};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md shadow-2xl shadow-purple-900/50 m-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[a.jsx("h2",{className:"text-white",children:s==="login"?"Welcome Back":"Create Account"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[n&&a.jsx("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3 text-purple-300 text-sm mb-4",children:a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"w-4 h-4"}),"Please login or create an account to complete your order"]})}),s==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:l.name,onChange:w=>c({...l,name:w.target.value}),required:!0,placeholder:"Enter your full name",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:l.email,onChange:w=>c({...l,email:w.target.value}),required:!0,placeholder:"Enter your email",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:m?"text":"password",value:l.password,onChange:w=>c({...l,password:w.target.value}),required:!0,placeholder:"Enter your password",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-11 py-3 text-white focus:outline-none focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:m?a.jsx(Uh,{className:"w-5 h-5"}):a.jsx(wn,{className:"w-5 h-5"})})]}),s==="login"&&a.jsx("div",{className:"text-right mt-1",children:a.jsx("button",{type:"button",onClick:()=>{t(),i("/forgot-password")},className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:"Forgot Password?"})})]}),u&&a.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:u}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all text-lg",children:p?"Please wait...":s==="login"?"Login":"Sign Up"}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:b,className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:s==="login"?"Don't have an account? Sign up":"Already have an account? Login"})})]})]})]}):null}function C_({isOpen:e,onClose:t,data:r}){const[n,i]=S.useState(null);if(!r)return null;const s=(l,c)=>{navigator.clipboard.writeText(l),i(c),setTimeout(()=>i(null),2e3)},o=()=>{window.open("/track-order","_blank")};return a.jsx(Re,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4",children:[a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),a.jsxs(_.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25},className:"relative w-full max-w-md bg-gradient-to-br from-black via-purple-950/30 to-black border border-purple-500/30 rounded-2xl shadow-[0_0_50px_rgba(147,51,234,0.3)] overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-20",children:a.jsx(_.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})}),[...Array(6)].map((l,c)=>a.jsx(_.div,{className:"absolute w-2 h-2 bg-purple-400 rounded-full",initial:{x:Math.random()*400,y:-20,scale:0,opacity:1},animate:{y:500,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:2+Math.random()*2,delay:c*.2,repeat:1/0,repeatDelay:1}},c)),a.jsxs("div",{className:"relative p-6",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:a.jsx(ke,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs(_.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"relative",children:[a.jsx(_.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-xl"}),a.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 rounded-full p-4",children:a.jsx(st,{className:"w-12 h-12 text-white",strokeWidth:2.5})})]})}),a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl mb-2 bg-gradient-to-r from-white via-green-200 to-emerald-200 bg-clip-text text-transparent",children:r.isPrepaid?" Payment Successful!":"Order Placed Successfully!"}),a.jsx("p",{className:"text-gray-400 text-sm",children:r.isPrepaid?"Your payment has been confirmed. Thank you!":"Please keep cash ready for delivery"})]}),a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ye,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Order ID"})]}),a.jsx("button",{onClick:()=>s(r.orderId,"orderId"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:n==="orderId"?a.jsx(Bt,{className:"w-4 h-4"}):a.jsx(Sx,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-white mt-1 font-mono text-sm",children:r.orderId})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Tracking ID"})]}),a.jsx("button",{onClick:()=>s(r.trackingId,"trackingId"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:n==="trackingId"?a.jsx(Bt,{className:"w-4 h-4"}):a.jsx(Sx,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-white mt-1 font-mono text-sm",children:r.trackingId})]})]}),a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border border-purple-500/20 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Nr,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Payment Summary"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Payment Method"}),a.jsx("span",{className:"text-white",children:r.paymentMethod})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{className:"text-white",children:["",r.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Shipping Charges"}),a.jsxs("span",{className:"text-white",children:["",r.shippingCharges.toLocaleString()]})]}),r.discount>0&&a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{className:"text-green-400",children:["",r.discount.toLocaleString()]})]}),r.isPrepaid&&a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Payment Status"}),a.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[a.jsx(st,{className:"w-3 h-3"}),"PAID"]})]}),a.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2 flex justify-between",children:[a.jsxs("span",{className:"text-white",children:["Total ",r.isPrepaid?"Paid":"Amount"]}),a.jsxs("span",{className:"text-white text-lg",children:["",r.total.toLocaleString()]})]})]})]}),a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3",children:[a.jsxs("button",{onClick:o,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white py-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group",children:[a.jsx(Ur,{className:"w-5 h-5 group-hover:animate-bounce"}),"Track Your Order",a.jsx(p5,{className:"w-4 h-4"})]}),a.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 rounded-lg transition-all duration-300 border border-white/20",children:"Continue Shopping"})]}),a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:" Order confirmation sent to your email"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500",children:a.jsx(_.div,{className:"h-full bg-gradient-to-r from-transparent via-white to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})]})]})})}function e0({isOpen:e,onClose:t,items:r,total:n,onSuccess:i,user:s}){const{success:o}=En(),{clearCart:l}=ml(),[c,u]=S.useState(!1),[d,p]=S.useState({firstName:"",lastName:"",email:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""}),[h,m]=S.useState("cod"),[x,g]=S.useState(!1),[f,b]=S.useState(""),[w,y]=S.useState(null),[j,v]=S.useState(!1),[N,k]=S.useState(!1),[P,C]=S.useState(null);S.useEffect(()=>{if(window.Razorpay){console.log(" Razorpay already loaded"),u(!0);return}const U=document.createElement("script");return U.id="razorpay-checkout",U.src="https://checkout.razorpay.com/v1/checkout.js",U.async=!0,U.onload=()=>{setTimeout(()=>{window.Razorpay&&(console.log(" Razorpay script loaded successfully"),u(!0))},100)},U.onerror=()=>{console.error(" Failed to load Razorpay from checkout.razorpay.com"),u(!1)},document.head.appendChild(U),()=>{const G=document.getElementById("razorpay-checkout");G&&G.remove()}},[]);const $=100,O=n,A=w?w.discount:0,T=h==="razorpay"?0:$,I=O+T-A,M=async(U,G)=>{try{const de=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({items:r.map(oe=>({id:oe.id,name:oe.name,price:oe.price,quantity:oe.quantity})),subtotal:O,shippingCharges:$,discount:A,couponCode:w?.code||null,total:I,customerInfo:d,paymentId:U,paymentMethod:G})})).json();if(de.success){const oe=G!=="cod";await te(),o(oe?` Order placed successfully! Payment confirmed for ${I.toLocaleString()}`:` Order placed successfully! Total: ${I.toLocaleString()} - Cash on Delivery`,5e3);const xe=G==="cod"?`Order placed successfully! 

Order ID: ${de.order.id}
Tracking ID: ${de.order.trackingId}

Payment Method: Cash on Delivery
Subtotal: ${O.toLocaleString()}
Shipping: ${$.toLocaleString()}
Total Amount to Pay: ${I.toLocaleString()}

Please keep cash ready for delivery.

You can track your order using either ID at animedropzone.com/track-order

Check your email for detailed order confirmation.`:` Payment Successful! 

 Your payment has been received and confirmed.

Order ID: ${de.order.id}
Tracking ID: ${de.order.trackingId}

Payment Status: PAID 
Payment Method: ${G}
Subtotal: ${O.toLocaleString()}
Shipping: ${$.toLocaleString()}
Total Paid: ${I.toLocaleString()}

Your order will be processed and shipped shortly.

You can track your order using either ID at animedropzone.com/track-order

Check your email for detailed order confirmation.`;C({message:xe,orderId:de.order.id,trackingId:de.order.trackingId,paymentMethod:G,subtotal:O,shippingCharges:$,discount:A,total:I,isPrepaid:oe}),k(!0),l(),i(),t()}}catch(ne){console.log("Error saving order:",ne),alert("Error processing order. Please contact support.")}},R=async()=>{g(!0);try{if(!window.Razorpay||!c){console.error("Razorpay script not loaded"),alert("Payment gateway is loading. Please wait a moment and try again."),g(!1);return}const U={key:"rzp_live_RselwwvYioZVQE",amount:Math.round(I*100),currency:"INR",name:"AnimeDrop Zone",description:"Purchase anime figures and accessories",image:"https://your-logo-url.com/logo.png",handler:async function(ne){console.log("Razorpay payment successful:",ne.razorpay_payment_id),await M(ne.razorpay_payment_id,"Razorpay"),g(!1)},prefill:{name:`${d.firstName} ${d.lastName}`,email:d.email,contact:d.phone},notes:{address:d.address,city:d.city,state:d.state,pincode:d.pincode},theme:{color:"#9333ea"},modal:{ondismiss:function(){console.log("Razorpay payment cancelled by user"),g(!1),alert("Payment cancelled. Please try again when ready.")}}},G=new window.Razorpay(U);G.on("payment.failed",function(ne){console.log("Razorpay payment failed:",ne.error),g(!1),alert(`Payment Failed!

Reason: ${ne.error.description||"Payment could not be processed"}

Please try again or use a different payment method.`)}),G.open()}catch(U){console.log("Error initializing Razorpay:",U),alert("Error initializing payment. Please try again."),g(!1)}},L=async()=>{g(!0);try{const U=`COD${Date.now()}`;await M(U,"COD")}catch(U){console.log("Error placing COD order:",U),alert("Error placing order. Please try again."),g(!1)}},q=async U=>{if(U.preventDefault(),h==="cod"&&I>3e3){alert(` Cash on Delivery is not available for orders above 3000.
Please select Razorpay.`);return}h==="razorpay"?await R():await L()},B=async()=>{v(!0);try{const G=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({code:f,cartTotal:n})})).json();G.success?(y(G.coupon),alert(`Coupon applied successfully! You saved ${G.coupon.discount.toLocaleString()}.`)):alert(G.message||"Invalid coupon code.")}catch(U){console.log("Error applying coupon:",U),alert("Error applying coupon. Please try again.")}finally{v(!1)}};S.useEffect(()=>{if(e&&s){const U=s.user_metadata||{};if(U.name||U.phone||U.address){const G=(U.name||"").split(" "),ne=G[0]||"",de=G.slice(1).join(" ")||"";p({firstName:ne,lastName:de,email:s.email||"",phone:U.phone||"",address:U.address||"",landmark:U.landmark||"",city:U.city||"",state:U.state||"",pincode:U.pincode||""})}else p({firstName:"",lastName:"",email:s.email||"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""})}else e&&!s&&p({firstName:"",lastName:"",email:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""})},[e,s]);const te=async()=>{if(s)try{await Xe.auth.updateUser({data:{name:`${d.firstName} ${d.lastName}`.trim(),phone:d.phone,address:d.address,landmark:d.landmark,city:d.city,state:d.state,pincode:d.pincode}}),console.log("Address saved to user profile")}catch(U){console.error("Error saving address to profile:",U)}};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[a.jsx("h2",{className:"text-white",children:"Checkout"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-white mb-4",children:"Order Summary"}),a.jsx("div",{className:"space-y-2 mb-4",children:r.map(U=>a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[U.name," x ",U.quantity]}),a.jsxs("span",{children:["",(U.price*U.quantity).toLocaleString()]})]},U.id))}),a.jsxs("div",{className:"border-t border-purple-500/30 pt-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["",O.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Shipping Charges:"}),a.jsx("span",{children:T===0?"Free ":`${T.toLocaleString()}`})]}),w&&a.jsx("div",{className:"border-t border-purple-500/30 pt-3 mt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white text-lg",children:"Discount:"}),a.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["-",w.discount.toLocaleString()]})]})}),a.jsx("div",{className:"border-t border-purple-500/30 pt-3 mt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white text-lg",children:"Total:"}),a.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",I.toLocaleString()]})]})})]})]}),a.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutFirstName",className:"block text-gray-300 mb-2",children:"First Name"}),a.jsx("input",{id:"checkoutFirstName",name:"checkoutFirstName",type:"text",value:d.firstName,onChange:U=>p({...d,firstName:U.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutLastName",className:"block text-gray-300 mb-2",children:"Last Name"}),a.jsx("input",{id:"checkoutLastName",name:"checkoutLastName",type:"text",value:d.lastName,onChange:U=>p({...d,lastName:U.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutEmail",className:"block text-gray-300 mb-2",children:"Email"}),a.jsx("input",{id:"checkoutEmail",name:"checkoutEmail",type:"email",value:d.email,onChange:U=>p({...d,email:U.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutPhone",className:"block text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{id:"checkoutPhone",name:"checkoutPhone",type:"tel",value:d.phone,onChange:U=>p({...d,phone:U.target.value}),required:!0,pattern:"[0-9]{10}",placeholder:"10-digit mobile number",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutAddress",className:"block text-gray-300 mb-2",children:"Shipping Address"}),a.jsx("textarea",{id:"checkoutAddress",name:"checkoutAddress",value:d.address,onChange:U=>p({...d,address:U.target.value}),required:!0,rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutLandmark",className:"block text-gray-300 mb-2",children:"Landmark"}),a.jsx("input",{id:"checkoutLandmark",name:"checkoutLandmark",type:"text",value:d.landmark,onChange:U=>p({...d,landmark:U.target.value}),required:!0,placeholder:"Nearby landmark (e.g., Near City Mall)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutCity",className:"block text-gray-300 mb-2",children:"City"}),a.jsx("input",{id:"checkoutCity",name:"checkoutCity",type:"text",value:d.city,onChange:U=>p({...d,city:U.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutState",className:"block text-gray-300 mb-2",children:"State"}),a.jsx("input",{id:"checkoutState",name:"checkoutState",type:"text",value:d.state,onChange:U=>p({...d,state:U.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"checkoutPincode",className:"block text-gray-300 mb-2",children:"Pincode"}),a.jsx("input",{id:"checkoutPincode",name:"checkoutPincode",type:"text",value:d.pincode,onChange:U=>p({...d,pincode:U.target.value}),required:!0,pattern:"[0-9]{6}",placeholder:"6-digit pincode",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-3",children:"Payment Method"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>m("razorpay"),disabled:!c,className:`p-4 rounded-lg border-2 transition-all ${h==="razorpay"?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"} ${c?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx(Nr,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),a.jsx("div",{className:"text-white text-sm",children:"Razorpay"}),a.jsx("div",{className:"text-gray-400 text-xs",children:c?"Cards, UPI, Wallet":"Loading..."})]}),a.jsxs("button",{type:"button",onClick:()=>{if(I>3e3){alert(" Cash on Delivery is not available for orders above 3000");return}m("cod")},disabled:I>3e3,className:`p-4 rounded-lg border-2 transition-all ${I>3e3?"opacity-50 cursor-not-allowed border-gray-500/30 bg-gray-900/10":h==="cod"?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"}`,children:[a.jsx(Nx,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),a.jsx("div",{className:"text-white text-sm",children:"Cash on Delivery"}),a.jsx("div",{className:"text-gray-400 text-xs",children:I>3e3?"Not available":"Pay at doorstep"})]})]}),I>3e3&&a.jsx("p",{className:"text-red-400 text-sm mt-2",children:" Cash on Delivery is not available for orders above 3000"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Apply Coupon Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:f,onChange:U=>b(U.target.value),placeholder:"Enter coupon code",className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:B,disabled:j,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-2 rounded-lg transition-all",children:j?"Applying...":"Apply"})]}),w&&a.jsxs("p",{className:"text-green-400 text-sm mt-2",children:[' Coupon "',w.code,'" applied - You saved ',w.discount.toLocaleString(),"!"]})]}),a.jsxs("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",children:[h==="razorpay"?a.jsx(Nr,{className:"w-5 h-5"}):h==="paytm"?a.jsx(Wallet,{className:"w-5 h-5"}):a.jsx(Nx,{className:"w-5 h-5"}),x?"Processing...":h==="cod"?"Place Order - Pay Cash on Delivery":`Pay ${I.toLocaleString()} with ${h==="razorpay"?"Razorpay":"Paytm"}`]})]})]})]}),a.jsx(C_,{isOpen:N,onClose:()=>k(!1),data:P})]}):null}function wS({isOpen:e,onClose:t,category:r,subcategories:n,onSelectSubcategory:i}){return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[a.jsxs("h2",{className:"text-white capitalize",children:[r," Categories"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)] p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(s=>a.jsxs("button",{onClick:()=>{i(s.value),t()},className:"group bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 hover:border-purple-500 rounded-xl p-6 transition-all hover:scale-105 hover:shadow-lg hover:shadow-purple-900/50 text-left",children:[a.jsx("h4",{className:"text-white mb-2 group-hover:text-purple-300 transition-colors",children:s.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]},s.value))})})]})]}):null}function jS({productId:e,user:t,onLoginClick:r}){const[n,i]=S.useState([]),[s,o]=S.useState(5),[l,c]=S.useState(""),[u,d]=S.useState(!1),[p,h]=S.useState(!1),[m,x]=S.useState(0);S.useEffect(()=>{g()},[e]);const g=async()=>{try{const y=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/reviews/${e}`,{headers:{Authorization:`Bearer ${Y}`}})).json();y.success&&i(y.reviews)}catch(w){console.log("Error fetching reviews:",w)}},f=async w=>{if(w.preventDefault(),!t){r();return}d(!0);try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/reviews`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({productId:e,userName:t.user_metadata?.name||t.email.split("@")[0],userEmail:t.email,rating:s,comment:l})})).json()).success&&(c(""),o(5),h(!1),g())}catch(y){console.log("Error submitting review:",y)}finally{d(!1)}},b=n.length>0?(n.reduce((w,y)=>w+y.rating,0)/n.length).toFixed(1):"0.0";return a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white text-xl mb-2",children:"Customer Reviews"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((w,y)=>a.jsx(xr,{className:`w-5 h-5 ${y<Math.round(parseFloat(b))?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},y))}),a.jsxs("span",{className:"text-gray-300",children:[b," out of 5"]}),a.jsxs("span",{className:"text-gray-500",children:["(",n.length," reviews)"]})]})]}),!p&&a.jsxs("button",{onClick:()=>{if(!t){r();return}h(!0)},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(Ti,{className:"w-4 h-4"}),"Write a Review"]})]}),p&&a.jsxs("form",{onSubmit:f,className:"mb-6 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-white mb-3",children:"Write Your Review"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Rating"}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(w=>a.jsx("button",{type:"button",onClick:()=>o(w),onMouseEnter:()=>x(w),onMouseLeave:()=>x(0),className:"transition-transform hover:scale-110",children:a.jsx(xr,{className:`w-8 h-8 ${w<=(m||s)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`})},w))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Review"}),a.jsx("textarea",{value:l,onChange:w=>c(w.target.value),required:!0,rows:4,placeholder:"Share your experience with this product...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 resize-none"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",disabled:u,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-2 rounded-lg transition-all",children:u?"Submitting...":"Submit Review"}),a.jsx("button",{type:"button",onClick:()=>{h(!1),c(""),o(5)},className:"bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-lg transition-all",children:"Cancel"})]})]}),a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(Ti,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No reviews yet. Be the first to review this product!"})]}):n.map(w=>a.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:a.jsx(Dt,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white",children:w.userName}),a.jsx("p",{className:"text-gray-500 text-sm",children:new Date(w.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((y,j)=>a.jsx(xr,{className:`w-4 h-4 ${j<w.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},j))})]}),a.jsx("p",{className:"text-gray-300 ml-13",children:w.comment})]},w.id))})]})}function O_({productId:e,onProductClick:t,onAddToCart:r,onToggleWishlist:n,wishlistItems:i}){const[s,o]=S.useState([]),[l,c]=S.useState(!0);S.useEffect(()=>{u()},[e]);const u=async()=>{try{c(!0);const p=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products/${e}/recommendations`,{headers:{Authorization:`Bearer ${Y}`}})).json();p.success&&o(p.recommendations)}catch(d){console.error("Error fetching recommendations:",d)}finally{c(!1)}};return l?a.jsxs("div",{className:"py-12",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx(Sr,{className:"w-6 h-6 text-purple-500"}),a.jsx("h2",{className:"text-white text-2xl",children:"You Might Also Like"})]}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})]}):s.length===0?null:a.jsxs("div",{className:"py-12",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx(Sr,{className:"w-6 h-6 text-purple-500"}),a.jsx("h2",{className:"text-white text-2xl",children:"You Might Also Like"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((d,p)=>a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},children:a.jsx(mi,{product:d,onAddToCart:()=>r(d),onViewDetails:()=>t(d),onToggleWishlist:()=>n(d),isInWishlist:i.some(h=>h.id===d.id)})},d.id))})]})}function T_({product:e,isOpen:t,onClose:r,onAddToCart:n,onToggleWishlist:i,wishlistItems:s,user:o,onLoginClick:l}){const[c,u]=S.useState(0),d=S.useRef(null);if(S.useEffect(()=>{u(0)},[e?.id,t]),S.useEffect(()=>{if(!t||!e){d.current&&(clearInterval(d.current),d.current=null);return}const f="https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",b=(e.images&&e.images.length?e.images:[e.image]).filter(Boolean),w=b.length?b:[f];if(w.length<=1){d.current&&(clearInterval(d.current),d.current=null);return}return d.current=window.setInterval(()=>{u(y=>(y+1)%w.length)},5e3),()=>{d.current&&(clearInterval(d.current),d.current=null)}},[t,e?.images,e?.image]),!t||!e)return null;const p="https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",h=(e.images&&e.images.length?e.images:[e.image]).filter(Boolean),m=h.length?h:[p],x=()=>{m.length&&u(f=>(f+1)%m.length)},g=()=>{m.length&&u(f=>(f-1+m.length)%m.length)};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:r}),a.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-lg md:rounded-2xl w-full md:max-w-6xl h-[95vh] md:h-[90vh] flex flex-col overflow-hidden shadow-2xl shadow-purple-900/50",children:[a.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 md:p-6 border-b border-purple-500/30 bg-black/50 backdrop-blur-sm flex-shrink-0",children:[a.jsx("h2",{className:"text-white text-lg md:text-xl",children:"Product Details"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"p-3 md:p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-6 mb-2 md:mb-8",children:[a.jsx("div",{className:"w-full md:flex-1 md:min-w-0 md:max-h-[60vh]",children:a.jsxs("div",{className:"relative rounded-lg md:rounded-xl overflow-hidden bg-black/50",children:[a.jsx("div",{className:"w-full h-64 md:aspect-square md:h-auto flex items-center justify-center",children:a.jsx("img",{src:m[Math.min(c,m.length-1)],alt:e.name,className:"w-full h-full object-contain"})}),e.stock===0&&a.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg md:text-xl",children:"Out of Stock"})}),m.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-1 md:pl-2 z-20",children:a.jsx("button",{type:"button",onClick:g,className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Previous image",children:a.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1 md:pr-2 z-20",children:a.jsx("button",{type:"button",onClick:x,className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Next image",children:a.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]})]})}),m.length>0&&a.jsx("div",{className:"hidden md:flex md:flex-col gap-2 overflow-y-auto max-h-[32rem] w-32 flex-shrink-0",children:m.map((f,b)=>a.jsx("button",{type:"button",onClick:()=>u(b),className:`w-24 h-24 rounded-lg overflow-hidden border-2 transition-all hover:scale-105 cursor-pointer shrink-0 ${c===b?"border-purple-500 shadow-lg shadow-purple-900/50 ring-2 ring-purple-400":"border-purple-500/30 hover:border-purple-400"}`,"aria-label":`View image ${b+1}`,children:a.jsx("img",{src:f,alt:`Thumbnail ${b+1}`,className:"w-full h-full object-cover pointer-events-none"})},`thumb-${b}-${f.substring(0,20)}`))})]}),m.length>1&&a.jsx("div",{className:"md:hidden flex gap-1 overflow-x-auto pb-2 mb-4 scroll-smooth -mx-3 px-3",children:m.map((f,b)=>a.jsx("button",{type:"button",onClick:()=>u(b),className:`w-12 h-12 md:w-24 md:h-24 rounded-lg overflow-hidden border-2 transition-all hover:scale-105 cursor-pointer shrink-0 ${c===b?"border-purple-500 shadow-lg shadow-purple-900/50 ring-2 ring-purple-400":"border-purple-500/30 hover:border-purple-400"}`,"aria-label":`View image ${b+1}`,children:a.jsx("img",{src:f,alt:`Thumbnail ${b+1}`,className:"w-full h-full object-cover pointer-events-none"})},`thumb-mobile-${b}-${f.substring(0,20)}`))}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white text-xl md:text-3xl mb-1 md:mb-4",children:e.name}),a.jsxs("div",{className:"flex items-center gap-1 mb-1 md:mb-4",children:[[...Array(5)].map((f,b)=>a.jsx(xr,{className:"w-3 h-3 md:w-5 md:h-5 fill-yellow-400 text-yellow-400"},b)),a.jsx("span",{className:"text-gray-400 ml-1 text-xs md:text-sm",children:"(Reviews)"})]}),a.jsx("p",{className:"text-gray-300 mb-2 md:mb-6 leading-relaxed text-xs md:text-base",children:e.description}),a.jsxs("div",{className:"mb-2 md:mb-6",children:[a.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5",children:"Category"}),a.jsx("p",{className:"text-purple-400 capitalize text-xs md:text-base",children:e.category})]}),a.jsxs("div",{className:"mb-2 md:mb-6",children:[a.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5",children:"Stock Status"}),a.jsx("p",{className:`text-xs md:text-base ${e.stock>0?"text-green-400":"text-red-400"}`,children:e.stock>0?`${e.stock} units available`:"Out of stock"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2 md:mb-6 p-2 md:p-6 bg-purple-900/20 border border-purple-500/30 rounded-lg md:rounded-xl gap-2 md:gap-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5",children:"Price"}),a.jsxs("p",{className:"text-xl md:text-4xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",e.price.toLocaleString()]})]}),a.jsxs("button",{onClick:()=>{n(e),r()},disabled:e.stock===0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 md:px-8 py-1.5 md:py-4 rounded-lg flex items-center gap-1 md:gap-3 transition-all text-xs md:text-lg w-full md:w-auto justify-center md:justify-start",children:[a.jsx(gr,{className:"w-3 h-3 md:w-5 md:h-5"}),"Add to Cart"]})]})]}),a.jsx(jS,{productId:e.id,user:o,onLoginClick:()=>{r(),l()}}),a.jsx("div",{className:"mt-6 md:mt-12 pt-4 md:pt-8 border-t border-purple-500/20",children:a.jsx(O_,{productId:e.id,onProductClick:handleProductClick,onAddToCart:n,onToggleWishlist:i,wishlistItems:s})})," "]})," "]})]})]})}function Gh({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=S.useState({name:"",email:"",phone:"",clothingType:"tshirt",size:"M",color:"",quantity:"1",instructions:"",address:""}),[s,o]=S.useState([]),[l,c]=S.useState([]),[u,d]=S.useState(!1),p=x=>{const g=Array.from(x.target.files||[]);if(g.length+s.length>5){alert("Maximum 5 images allowed");return}o([...s,...g]);const f=g.map(b=>URL.createObjectURL(b));c([...l,...f])},h=x=>{o(s.filter((g,f)=>f!==x)),c(l.filter((g,f)=>f!==x))},m=async x=>{if(x.preventDefault(),s.length===0){alert("Please upload at least one design image");return}d(!0);try{const g=[];for(const w of s){const y=new FormData;y.append("file",w),y.append("folder","custom-designs");const j=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:y});if(!j.ok){const N=await j.json();throw console.error("Error uploading image:",N),new Error(N.error||"Failed to upload images")}const v=await j.json();g.push(v.imageUrl)}const b=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({...n,quantity:parseInt(n.quantity),designImages:g})})).json();b.success?(alert(`Custom clothing request submitted successfully! Request ID: ${b.requestId}
We'll contact you within 24-48 hours with a quote.`),i({name:"",email:"",phone:"",clothingType:"tshirt",size:"M",color:"",quantity:"1",instructions:"",address:""}),o([]),c([]),r(),t()):alert(b.error||"Failed to submit request. Please try again.")}catch(g){console.error("Error submitting custom order:",g),alert("Failed to submit request. Please try again.")}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zr,{className:"w-6 h-6"}),a.jsx("h2",{className:"text-white",children:"Custom Clothing Design"})]}),a.jsx("button",{onClick:t,className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-white mb-2 flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-purple-400"}),"How It Works"]}),a.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Upload your design images (max 5 images)"}),a.jsx("li",{children:"Fill in your details and preferences"}),a.jsx("li",{children:"Our team will review and contact you with a quote within 24-48 hours"}),a.jsx("li",{children:"Once approved, we'll create your custom clothing"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-3",children:"Upload Design Images * (Max 5)"}),l.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:l.map((x,g)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:x,alt:`Design ${g+1}`,className:"w-full h-32 object-cover rounded-lg border border-purple-500/30"}),a.jsx("button",{type:"button",onClick:()=>h(g),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ke,{className:"w-4 h-4"})})]},g))}),s.length<5&&a.jsxs("label",{className:"w-full bg-purple-900/20 border-2 border-dashed border-purple-500/30 rounded-lg p-8 cursor-pointer hover:bg-purple-900/30 transition-colors flex flex-col items-center justify-center gap-3",children:[a.jsx(ys,{className:"w-12 h-12 text-purple-400"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-300 mb-1",children:"Click to upload design images"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"PNG, JPG up to 5MB each"})]}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:p,className:"hidden"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[s.length," of 5 images uploaded"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customName",className:"block text-gray-300 mb-2",children:"Full Name *"}),a.jsx("input",{id:"customName",name:"customName",type:"text",value:n.name,onChange:x=>i({...n,name:x.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter your name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customEmail",className:"block text-gray-300 mb-2",children:"Email *"}),a.jsx("input",{id:"customEmail",name:"customEmail",type:"email",value:n.email,onChange:x=>i({...n,email:x.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"your@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customPhone",className:"block text-gray-300 mb-2",children:"Phone Number *"}),a.jsx("input",{id:"customPhone",name:"customPhone",type:"tel",value:n.phone,onChange:x=>i({...n,phone:x.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"+91 XXXXXXXXXX"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customClothingType",className:"block text-gray-300 mb-2",children:"Clothing Type *"}),a.jsxs("select",{id:"customClothingType",name:"customClothingType",value:n.clothingType,onChange:x=>i({...n,clothingType:x.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[a.jsx("option",{value:"tshirt",children:"T-Shirt"}),a.jsx("option",{value:"hoodie",children:"Hoodie"}),a.jsx("option",{value:"sweatshirt",children:"Sweatshirt"}),a.jsx("option",{value:"jacket",children:"Jacket"}),a.jsx("option",{value:"tank",children:"Tank Top"}),a.jsx("option",{value:"longsleeve",children:"Long Sleeve"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customSize",className:"block text-gray-300 mb-2",children:"Size *"}),a.jsxs("select",{id:"customSize",name:"customSize",value:n.size,onChange:x=>i({...n,size:x.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[a.jsx("option",{value:"XS",children:"XS"}),a.jsx("option",{value:"S",children:"S"}),a.jsx("option",{value:"M",children:"M"}),a.jsx("option",{value:"L",children:"L"}),a.jsx("option",{value:"XL",children:"XL"}),a.jsx("option",{value:"XXL",children:"XXL"}),a.jsx("option",{value:"XXXL",children:"3XL"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customColor",className:"block text-gray-300 mb-2",children:"Preferred Color"}),a.jsx("input",{id:"customColor",name:"customColor",type:"text",value:n.color,onChange:x=>i({...n,color:x.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Black, White, Purple"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customQuantity",className:"block text-gray-300 mb-2",children:"Quantity *"}),a.jsx("input",{id:"customQuantity",name:"customQuantity",type:"number",value:n.quantity,onChange:x=>i({...n,quantity:x.target.value}),required:!0,min:"1",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customInstructions",className:"block text-gray-300 mb-2",children:"Special Instructions"}),a.jsx("textarea",{id:"customInstructions",name:"customInstructions",value:n.instructions,onChange:x=>i({...n,instructions:x.target.value}),rows:4,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Any specific requirements, placement details, or special requests..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customAddress",className:"block text-gray-300 mb-2",children:"Delivery Address *"}),a.jsx("textarea",{id:"customAddress",name:"customAddress",value:n.address,onChange:x=>i({...n,address:x.target.value}),required:!0,rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter complete delivery address..."})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-purple-400 mb-2",children:"Pricing Information"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Custom clothing prices vary based on design complexity, quantity, and clothing type. Our team will provide you with a detailed quote within 24-48 hours after reviewing your design."})]}),a.jsx("button",{type:"submit",disabled:u||s.length===0,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-4 rounded-lg transition-all text-lg flex items-center justify-center gap-2",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"w-5 h-5"}),"Submit Custom Design Request"]})})]})]})}):null}function __(){return a.jsx("section",{id:"about",className:"py-20 px-4 bg-gradient-to-b from-transparent to-purple-900/10",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"About animedropzone"}),a.jsx("p",{className:"text-gray-400 max-w-3xl mx-auto text-lg",children:"Your trusted destination for authentic anime merchandise, collectibles, and premium figures"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mb-16",children:[a.jsx("div",{children:a.jsx("img",{src:"https://images.unsplash.com/photo-1665042099439-39d93c1117e6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGhlcm8lMjBiYWNrZ3JvdW5kfGVufDF8fHx8MTc2NTI4MDExNXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"About animedropzone",className:"w-full rounded-2xl border border-purple-500/30 shadow-2xl shadow-purple-900/50"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white mb-6",children:"Our Story"}),a.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Founded by passionate anime enthusiasts, animedropzone was born from a desire to bring authentic, high-quality anime merchandise to fans across the globe. We understand the joy of collecting and the importance of authenticity."}),a.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Every product in our collection is carefully curated and verified for authenticity. From limited edition figures to exclusive katanas, we ensure that each item meets our strict quality standards."}),a.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Join our community of over 10,000 satisfied collectors who trust animedropzone for their anime merchandise needs."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Nn,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-white mb-2",children:"100% Authentic"}),a.jsx("p",{className:"text-gray-400",children:"All products verified for authenticity"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ur,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-white mb-2",children:"Fast Shipping"}),a.jsx("p",{className:"text-gray-400",children:"Worldwide delivery with tracking"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Sn,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-white mb-2",children:"10k+ Customers"}),a.jsx("p",{className:"text-gray-400",children:"Trusted by collectors worldwide"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(hn,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-white mb-2",children:"Customer Support"}),a.jsx("p",{className:"text-gray-400",children:"24/7 dedicated support team"})]})]})]})})}function E_(){const e="919819291230",t="https://www.instagram.com/animedropzone/?igsh=eGM5Z24wbHM2bHR4#",r="anime.drop.zone.00@gmail.com",[n,i]=S.useState({name:"",email:"",subject:"",question:""}),[s,o]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState([]),[p,h]=S.useState(!1),m=async g=>{g.preventDefault(),o(!0),c("");try{const b=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/support/submit`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(n)})).json();b.success?(c(" Your support ticket has been submitted! We will respond soon."),i({name:"",email:"",subject:"",question:""}),setTimeout(()=>c(""),5e3)):c(` ${b.error||"Failed to submit ticket"}`)}catch(f){console.error("Error submitting support ticket:",f),c(" Failed to submit ticket. Please try again.")}finally{o(!1)}},x=async()=>{if(!n.email){alert("Please enter your email address first");return}try{const f=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/support/my-tickets?email=${encodeURIComponent(n.email)}`,{headers:{Authorization:`Bearer ${Y}`}})).json();f.success?(d(f.tickets),h(!0)):alert("Failed to load tickets")}catch(g){console.error("Error loading tickets:",g),alert("Failed to load tickets")}};return a.jsx("section",{id:"contact",className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Get In Touch"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"Have questions? We're here to help! Reach out to us through any of these channels"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white mb-6",children:"Contact Information"}),a.jsxs("div",{className:"space-y-6 mb-8",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(Te,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-1",children:"Email"}),a.jsx("a",{href:`mailto:${r}`,className:"text-purple-400 hover:text-purple-300 transition-colors",children:r})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(_i,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-1",children:"Phone"}),a.jsx("a",{href:`tel:+${e}`,className:"text-purple-400 hover:text-purple-300 transition-colors",children:"+91 98192 91230"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(mn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-1",children:"Address"}),a.jsxs("p",{className:"text-gray-400",children:["Jogeshwari West",a.jsx("br",{}),"Mumbai, Maharashtra 400102",a.jsx("br",{}),"India"]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-white mb-4",children:"Quick Connect"}),a.jsxs("a",{href:`https://wa.me/${e}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg transition-all group",children:[a.jsx(Ti,{className:"w-5 h-5"}),a.jsx("span",{children:"Chat on WhatsApp"})]}),a.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all group",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),a.jsx("span",{children:"Follow on Instagram"})]}),a.jsxs("a",{href:`mailto:${r}`,className:"flex items-center gap-3 bg-purple-900/30 hover:bg-purple-900/50 border border-purple-500/30 hover:border-purple-500 px-6 py-3 rounded-lg transition-all group",children:[a.jsx(Te,{className:"w-5 h-5"}),a.jsx("span",{children:"Send Email"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-8",children:[a.jsx("h3",{className:"text-white mb-6",children:"Customer Support"}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Name"}),a.jsx("input",{type:"text",value:n.name,onChange:g=>i({...n,name:g.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter your name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:n.email,onChange:g=>i({...n,email:g.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"your@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Subject"}),a.jsx("input",{type:"text",value:n.subject,onChange:g=>i({...n,subject:g.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"What do you need help with?"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"supportQuestion",className:"block text-gray-300 mb-2",children:"Your Question"}),a.jsx("textarea",{id:"supportQuestion",name:"supportQuestion",value:n.question,onChange:g=>i({...n,question:g.target.value}),required:!0,rows:5,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"Describe your issue or question..."})]}),l&&a.jsx("div",{className:`border rounded-lg p-3 ${l.startsWith("")?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"}`,children:l}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all disabled:opacity-50",children:s?"Submitting...":"Submit Support Ticket"})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("button",{onClick:x,className:"w-full bg-purple-900/30 hover:bg-purple-900/50 border border-purple-500/30 hover:border-purple-500 py-3 rounded-lg transition-all",children:"View My Support Tickets"}),p&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("h4",{className:"text-white",children:"My Tickets"}),u.length>0?u.map(g=>a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h5",{className:"text-white",children:g.subject}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.status==="answered"?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,children:g.status})]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Q: ",g.question]}),g.reply&&a.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/30",children:a.jsxs("p",{className:"text-purple-300 text-sm",children:[a.jsx("strong",{children:"Admin Reply:"})," ",g.reply]})}),a.jsx("p",{className:"text-gray-500 text-xs mt-2",children:new Date(g.createdAt).toLocaleString()})]},g.id)):a.jsx("p",{className:"text-gray-400",children:"No support tickets found for this email."})]})]})]})]})]})})}function I_(){const[e,t]=S.useState(""),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(""),c=async u=>{if(u.preventDefault(),!e||!e.includes("@")){l("Please enter a valid email address");return}n(!0),l("");try{const p=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletter/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:e})})).json();p.success?(s(!0),t(""),setTimeout(()=>s(!1),5e3)):l(p.message||"Failed to subscribe. Please try again.")}catch(d){console.error("Error subscribing:",d),l("Something went wrong. Please try again.")}finally{n(!1)}};return a.jsxs("div",{className:"relative py-20 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[a.jsx(_.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/30 rounded-full blur-3xl"}),a.jsx(_.div,{animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/30 rounded-full blur-3xl"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/30 via-black/50 to-pink-900/30 rounded-3xl"}),a.jsx("div",{className:"absolute inset-0 backdrop-blur-xl rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/20"}),a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:[...Array(6)].map((u,d)=>a.jsx(_.div,{className:"absolute",style:{left:`${15+d*15}%`,top:`${20+d%3*30}%`},animate:{y:[-10,10,-10],opacity:[.3,.8,.3],scale:[1,1.2,1]},transition:{duration:3+d*.5,repeat:1/0,ease:"easeInOut",delay:d*.5},children:a.jsx(Sr,{className:"w-4 h-4 text-pink-400"})},d))}),a.jsx("div",{className:"relative max-w-4xl mx-auto text-center",children:a.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[a.jsx(_.div,{animate:{boxShadow:["0 0 20px rgba(168, 85, 247, 0.5)","0 0 40px rgba(236, 72, 153, 0.6)","0 0 20px rgba(168, 85, 247, 0.5)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-6 shadow-lg",children:a.jsx(Te,{className:"w-10 h-10 text-white"})}),a.jsx(_.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-4xl sm:text-5xl mb-4 bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Stay Updated with AnimeDropZone"}),a.jsx(_.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3},className:"text-gray-300 mb-10 text-lg max-w-2xl mx-auto",children:"Subscribe to our newsletter for exclusive deals, new arrivals, and anime merchandise updates!"}),a.jsx(Re,{mode:"wait",children:i?a.jsxs(_.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:"flex flex-col items-center justify-center gap-3",children:[a.jsx(_.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.5},className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg shadow-green-500/50",children:a.jsx(Bt,{className:"w-8 h-8 text-white"})}),a.jsx("span",{className:"text-xl text-green-400",children:"Successfully subscribed! "}),a.jsx("span",{className:"text-gray-400 text-sm",children:"Check your email for confirmation."})]},"success"):a.jsxs(_.form,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onSubmit:c,className:"max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative group",children:[a.jsx(_.div,{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl opacity-0 group-focus-within:opacity-100 blur transition-opacity"}),a.jsx("input",{type:"email",value:e,onChange:u=>{t(u.target.value),l("")},placeholder:"Enter your email address",className:"relative w-full px-6 py-4 bg-black/70 border border-purple-500/40 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition-all",disabled:r})]}),a.jsxs(_.button,{type:"submit",disabled:r||!e,whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(236, 72, 153, 0.6)"},whileTap:{scale:.95},className:"px-10 py-4 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 bg-size-200 hover:bg-pos-100 rounded-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/30 relative overflow-hidden group",children:[a.jsx(_.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear",repeatDelay:3},className:"absolute inset-0 w-1/2 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12"}),r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"relative z-10",children:"Subscribing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(fl,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),a.jsx("span",{className:"relative z-10",children:"Subscribe"})]})]})]}),o&&a.jsxs(_.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm mt-4 flex items-center justify-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),o]}),a.jsxs(_.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-400 text-sm mt-6 flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),"We respect your privacy. Unsubscribe anytime.",a.jsx("span",{className:"text-purple-400",children:""})]})]},"form")})]})})]})}const Yr={Package:ye,Swords:yS,Sparkles:Sr,Image:jn,Shirt:zr,Bookmark:hS},xc=[{icon:"Package",title:"Figures",description:"Premium anime action figures and statues",value:"figures"},{icon:"Swords",title:"Katana",description:"Authentic Japanese swords and replicas",value:"katana"},{icon:"Sparkles",title:"Accessories",description:"Keychains, pins, and more collectibles",value:"accessories"},{icon:"Image",title:"Posters",description:"High-quality anime art prints",value:"posters"},{icon:"Shirt",title:"Clothing",description:"Anime-themed apparel and cosplay",value:"clothing"},{icon:"Bookmark",title:"Collectibles",description:"Limited edition merchandise",value:"collectibles"}];function _x(){const{cartItems:e,addToCart:t,removeFromCart:r,updateQuantity:n,isCartOpen:i,setIsCartOpen:s}=ml(),[o,l]=S.useState([]),[c,u]=S.useState([]),[d,p]=S.useState(null),[h,m]=S.useState(null),[x,g]=S.useState([]),[f]=S.useState(12),[b,w]=S.useState(1),[y,j]=S.useState([]),[v,N]=S.useState(!1),[k,P]=S.useState(!1),[C,$]=S.useState(!1),[O,A]=S.useState(!1),[T,I]=S.useState(""),[M,R]=S.useState(null),[L,q]=S.useState(!1),[B,te]=S.useState(null),[U,G]=S.useState(!1),[ne,de]=S.useState(!1),[oe,xe]=S.useState([]),[ze,Ee]=S.useState({}),D=ot(),{showToast:K}=En(),ee=S.useRef(!1),[z,me]=S.useState(typeof window<"u"&&window.innerWidth<768);S.useEffect(()=>{ee.current||(ee.current=!0,V(),er(),qe(),Q())},[]);const Q=()=>{const X=localStorage.getItem("animedropzone_wishlist");if(X)try{j(JSON.parse(X))}catch(ge){console.error("Error loading wishlist:",ge)}};S.useEffect(()=>{localStorage.setItem("animedropzone_wishlist",JSON.stringify(y))},[y]);const J=X=>{j(ge=>ge.find(Qe=>Qe.id===X.id)?(K(`Removed ${X.name} from wishlist`,"info",3e3),ge.filter(Qe=>Qe.id!==X.id)):(K(`Added ${X.name} to wishlist!`,"info",3e3),[...ge,X]))},ie=X=>{const ge=y.find(nt=>nt.id===X);j(nt=>nt.filter(Qe=>Qe.id!==X)),ge&&K(`Removed ${ge.name} from wishlist`,"info",3e3)},we=X=>y.some(ge=>ge.id===X),qe=async()=>{try{const X=localStorage.getItem("animedropzone_categories"),ge=localStorage.getItem("animedropzone_categories_time"),nt=Date.now();if(X&&ge&&nt-parseInt(ge)<300*1e3){const ur=JSON.parse(X).map(Cs=>({...Cs,icon:Yr[Cs.iconName]||ye}));xe(ur);return}const Qe=new AbortController,Fn=setTimeout(()=>Qe.abort(),5e3),qn=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${Y}`},signal:Qe.signal});if(clearTimeout(Fn),qn.ok){const Vt=await qn.json();if(Vt.success&&Vt.categories&&Vt.categories.length>0){const ur=Vt.categories.sort((yt,ec)=>yt.order-ec.order).map(yt=>({icon:Yr[yt.icon]||ye,title:yt.name,description:yt.description,value:yt.slug}));xe(ur);const Cs=ur.map(yt=>({...yt,icon:void 0,iconName:Object.keys(Yr).find(ec=>Yr[ec]===yt.icon)||"Package"}));localStorage.setItem("animedropzone_categories",JSON.stringify(Cs)),localStorage.setItem("animedropzone_categories_time",Date.now().toString());const ig={};Vt.categories.forEach(yt=>{yt.subcategories&&yt.subcategories.length>0&&(ig[yt.slug]=yt.subcategories)}),Ee(ig)}else xe(xc.map(ur=>({icon:Yr[ur.icon]||ye,title:ur.title,description:ur.description,value:ur.value})))}else xe(xc.map(Vt=>({icon:Yr[Vt.icon]||ye,title:Vt.title,description:Vt.description,value:Vt.value})))}catch(X){console.error("Error fetching categories:",X);const ge=localStorage.getItem("animedropzone_categories");xe(ge?JSON.parse(ge):xc.map(nt=>({icon:Yr[nt.icon]||ye,title:nt.title,description:nt.description,value:nt.value})))}};S.useEffect(()=>{if(!o||o.length===0){u([]),g([]);return}let X=[...o];d&&(X=X.filter(Qe=>Qe.category&&Qe.category.toLowerCase()===d.toLowerCase())),h&&(X=X.filter(Qe=>{const Fn=Qe.subcategory;return Fn&&Fn.toLowerCase()===h.toLowerCase()})),u(X),w(1);const ge=0*f,nt=ge+f;g(X.slice(ge,nt))},[d,h,o,f]),S.useEffect(()=>{const X=(b-1)*f,ge=X+f;g(c.slice(X,ge))},[b,c,f]);const er=async()=>{const{data:X}=await Xe.auth.getSession();X.session&&R(X.session.user)},Ir=async()=>{await Xe.auth.signOut(),R(null)},V=async()=>{try{const X=new AbortController,ge=setTimeout(()=>X.abort(),8e3),nt=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${Y}`},signal:X.signal});clearTimeout(ge);const Qe=await nt.json();if(Qe.success&&Array.isArray(Qe.products)){const Fn=Qe.products.filter(qn=>qn&&qn.id&&qn.name);l(Fn)}else l([])}catch(X){console.log("Error fetching products:",X),l([])}},W=X=>{t(X),K(`${X.name} added to cart!`,"success",3e3)},pe=()=>{if(!M){s(!1),q(!0),P(!0);return}s(!1),$(!0)},De=X=>{R(X),L&&(q(!1),$(!0))},xt=()=>{$(!1)},Ut=X=>{D(`/category/${X}`)},Bn=X=>{p(T),m(X),document.getElementById("shop")?.scrollIntoView({behavior:"smooth"})},WA=e.reduce((X,ge)=>X+ge.price*ge.quantity,0);return a.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[a.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),a.jsx(gl,{cartCount:e.reduce((X,ge)=>X+ge.quantity,0),wishlistCount:y.length,onCartClick:()=>s(!0),onWishlistClick:()=>N(!0),onLoginClick:()=>P(!0),user:M,onLogout:Ir}),a.jsxs("main",{id:"home",children:[a.jsx(k_,{onShopNow:()=>{oe.length>0&&(p(oe[0].value),m("")),setTimeout(()=>{document.getElementById("shop")?.scrollIntoView({behavior:"smooth"})},150)}}),a.jsx("section",{id:"categories",className:"py-12 md:py-20 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[a.jsx("h2",{className:"mb-2 md:mb-4 text-2xl md:text-4xl bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Browse Categories"}),a.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto",children:"Explore our wide range of anime merchandise categories"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:oe.filter(X=>X&&X.icon&&X.value&&X.title).map(X=>{try{return a.jsx("div",{children:a.jsx(P_,{icon:X.icon,title:X.title,description:X.description,onClick:()=>Ut(X.value)})},X.value)}catch(ge){return console.error("Error rendering category:",X,ge),null}})}),(d||h)&&a.jsxs("div",{className:"mt-6 text-center space-x-4",children:[h&&a.jsx("button",{onClick:()=>m(null),className:"text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear subcategory filter"}),d&&a.jsx("button",{onClick:()=>{p(null),m(null)},className:"text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear all filters"})]})]})}),!d&&!h&&a.jsx("section",{id:"featured",className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Latest Products"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Discover our handpicked selection of premium anime merchandise"})]}),o.length>=4?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.sort((X,ge)=>{const nt=X.createdAt?new Date(X.createdAt).getTime():parseInt(X.id)||0;return(ge.createdAt?new Date(ge.createdAt).getTime():parseInt(ge.id)||0)-nt}).slice(0,4).map(X=>a.jsx(mi,{product:X,onAddToCart:W,onViewDetails:()=>{te(X),G(!0)},onToggleWishlist:J,isInWishlist:we(X.id)},X.id))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map(X=>a.jsx(mi,{product:X,onAddToCart:W,onViewDetails:()=>{te(X),G(!0)},onToggleWishlist:J,isInWishlist:we(X.id)},X.id))})]})}),(d||h)&&a.jsx("section",{id:"shop",className:"py-20 px-4 bg-gradient-to-b from-transparent to-purple-900/10",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:h?`${h.charAt(0).toUpperCase()+h.slice(1)}`:d?`${oe.find(X=>X.value===d)?.title} Collection`:"All Products"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:h?`Browse ${h} products`:d?`Browse our collection of ${oe.find(X=>X.value===d)?.title.toLowerCase()}`:"Discover our handpicked selection of premium anime merchandise"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:!x||x.length===0?a.jsx("div",{className:"col-span-full text-center py-20",children:a.jsx("p",{className:"text-gray-400 text-lg mb-4",children:!o||o.length===0?"No products available yet.":"No products found in this category."})}):x.filter(X=>X&&X.id&&X.name).map(X=>a.jsx(mi,{product:X,onAddToCart:W,onViewDetails:()=>{te(X),G(!0)},onToggleWishlist:J,isInWishlist:we(X.id)},X.id))}),c.length>f&&a.jsx("div",{className:"mt-12 flex justify-center gap-2",children:Array.from({length:Math.ceil(c.length/f)},(X,ge)=>ge+1).map(X=>a.jsx("button",{onClick:()=>w(X),className:`px-4 py-2 rounded-lg transition-all ${b===X?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:X},X))})]})}),a.jsx(__,{}),a.jsx(E_,{}),a.jsx(I_,{}),a.jsx("footer",{className:"border-t border-purple-900/30 py-12 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Cr,{size:"md"}),a.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]}),a.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for premium anime merchandise and collectibles."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-4",children:"Shop"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#shop",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"All Products"}),a.jsx("a",{href:"#categories",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Categories"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-4",children:"About"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#about",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"About Us"}),a.jsx("a",{href:"#contact",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Contact Us"}),a.jsx("button",{onClick:()=>D("/track-order"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Track Order"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-4",children:"Legal"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ni,{to:"/privacy-policy",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Privacy Policy"}),a.jsx(Ni,{to:"/terms-of-service",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Terms of Service"})]})]})]}),a.jsx("div",{className:"border-t border-purple-900/30 mt-8 pt-8 text-center text-gray-400",children:a.jsx("p",{children:" 2025 animedropzone. All rights reserved."})})]})})]}),a.jsx(Zm,{isOpen:i,onClose:()=>s(!1),items:e,onUpdateQuantity:n,onRemoveItem:r,onCheckout:pe,onProductClick:X=>{s(!1),D(`/product/${X.id}`)}}),a.jsx(A_,{isOpen:v,onClose:()=>N(!1),wishlistItems:y,onRemoveFromWishlist:ie,onAddToCart:W,onViewProduct:X=>{te(X),G(!0)}}),a.jsx(Qm,{isOpen:k,onClose:()=>P(!1),onAuthSuccess:De,showCheckoutMessage:L}),a.jsx(e0,{isOpen:C,onClose:()=>$(!1),items:e,total:WA,onSuccess:xt,user:M}),a.jsx(wS,{isOpen:O,onClose:()=>A(!1),category:T,subcategories:ze[T]||[],onSelectSubcategory:Bn}),a.jsx(T_,{isOpen:U,onClose:()=>G(!1),product:B,onAddToCart:W,onToggleWishlist:J,wishlistItems:y,user:M,onLoginClick:()=>P(!0)}),a.jsx(Gh,{isOpen:ne,onClose:()=>de(!1),onSuccess:()=>{K("Custom clothing request submitted successfully! We'll get back to you soon with a quote.","success",6e3)}})]})}function M_({coupons:e,onRefresh:t}){const[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0}),c=async p=>{p.preventDefault();try{const h=i?`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/coupons/${i.id}`:`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,x=await(await fetch(h,{method:i?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(o)})).json();x.success?(l({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0}),s(null),n(!1),t()):alert(x.error||"Failed to save coupon")}catch(h){console.log("Error saving coupon:",h),alert("Failed to save coupon. Please try again.")}},u=async p=>{if(confirm("Are you sure you want to delete this coupon?"))try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/coupons/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}})).json()).success&&t()}catch(h){console.log("Error deleting coupon:",h)}},d=p=>{s(p),l({code:p.code,discountType:p.discountType,discountValue:p.discountValue.toString(),minPurchase:p.minPurchase.toString(),maxDiscount:p.maxDiscount?.toString()||"",expiryDate:p.expiryDate?new Date(p.expiryDate).toISOString().slice(0,16):"",usageLimit:p.usageLimit?.toString()||"",isActive:p.isActive}),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Coupon Management"}),a.jsx("p",{className:"text-gray-400",children:"Create and manage discount coupons for your store"})]}),!r&&a.jsxs("button",{onClick:()=>{n(!0),s(null),l({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0})},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(_n,{className:"w-5 h-5"}),"Add New Coupon"]})]}),r?a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[a.jsx("h2",{className:"text-white mb-6",children:i?"Edit Coupon":"Add New Coupon"}),a.jsxs("form",{onSubmit:c,className:"space-y-4 max-w-2xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Coupon Code *"}),a.jsx("input",{type:"text",value:o.code,onChange:p=>l({...o,code:p.target.value.toUpperCase()}),required:!0,placeholder:"e.g., SAVE20, ANIME50",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500 uppercase"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter a unique code that customers will use"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Discount Type *"}),a.jsxs("select",{value:o.discountType,onChange:p=>l({...o,discountType:p.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[a.jsx("option",{value:"percentage",children:"Percentage (%)"}),a.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-300 mb-2",children:["Discount Value * ",o.discountType==="percentage"?"(%)":"()"]}),a.jsx("input",{type:"number",value:o.discountValue,onChange:p=>l({...o,discountValue:p.target.value}),required:!0,min:"0",max:o.discountType==="percentage"?"100":void 0,step:"0.01",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Minimum Purchase ()"}),a.jsx("input",{type:"number",value:o.minPurchase,onChange:p=>l({...o,minPurchase:p.target.value}),min:"0",step:"0.01",placeholder:"0 (No minimum)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),o.discountType==="percentage"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Maximum Discount Amount ()"}),a.jsx("input",{type:"number",value:o.maxDiscount,onChange:p=>l({...o,maxDiscount:p.target.value}),min:"0",step:"0.01",placeholder:"Leave empty for no limit",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cap the maximum discount for percentage-based coupons"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Expiry Date & Time"}),a.jsx("input",{type:"datetime-local",value:o.expiryDate,onChange:p=>l({...o,expiryDate:p.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Leave empty for no expiry"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Usage Limit"}),a.jsx("input",{type:"number",value:o.usageLimit,onChange:p=>l({...o,usageLimit:p.target.value}),min:"0",placeholder:"Unlimited",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max number of times code can be used"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:p=>l({...o,isActive:p.target.checked}),className:"w-5 h-5 bg-purple-900/20 border border-purple-500/30 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"text-gray-300",children:"Active (Customers can use this coupon)"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all",children:i?"Update Coupon":"Create Coupon"}),a.jsx("button",{type:"button",onClick:()=>{n(!1),s(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all",children:"Cancel"})]})]})]}):a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:[a.jsx(Hh,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"No coupons yet. Create your first discount coupon!"})]}):e.map(p=>a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:p.discountType==="percentage"?a.jsx(V5,{className:"w-8 h-8"}):a.jsx(Hh,{className:"w-8 h-8"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"text-white text-xl font-mono",children:p.code}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${p.isActive?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-gray-900/30 text-gray-400 border border-gray-500/30"}`,children:p.isActive?"Active":"Inactive"})]}),a.jsxs("p",{className:"text-purple-400 mb-3",children:[p.discountType==="percentage"?`${p.discountValue}% OFF`:`${p.discountValue} OFF`,p.maxDiscount&&p.discountType==="percentage"&&a.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Max ",p.maxDiscount,")"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 mb-1",children:"Min Purchase"}),a.jsxs("p",{className:"text-gray-300",children:["",p.minPurchase.toLocaleString()]})]}),p.expiryDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 mb-1",children:"Expires On"}),a.jsx("p",{className:"text-gray-300",children:new Date(p.expiryDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 mb-1",children:"Usage"}),a.jsxs("p",{className:"text-gray-300",children:[p.usageCount," / ",p.usageLimit||""]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 mb-1",children:"Created"}),a.jsx("p",{className:"text-gray-300",children:new Date(p.createdAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("button",{onClick:()=>d(p),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(qr,{className:"w-4 h-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>u(p.id),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Zt,{className:"w-4 h-4"}),"Delete"]})]})]})},p.id))})]})}function $_(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[i,s]=S.useState(null),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,p]=S.useState(!1),[h,m]=S.useState(""),[x,g]=S.useState(""),[f,b]=S.useState(!1);S.useEffect(()=>{w()},[]);const w=async()=>{n(!0);try{const C=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing`,{headers:{Authorization:`Bearer ${Y}`}})).json();C.success&&t(C.requests||[])}catch(P){console.error("Error fetching custom clothing requests:",P)}finally{n(!1)}},y=async()=>{if(!i||!h.trim()){alert("Please provide a cancellation reason");return}b(!0);try{const C=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${i.id}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({reason:h})})).json();C.success?(alert("Order cancelled successfully! Customer has been notified via Email and WhatsApp."),m(""),u(!1),l(!1),s(null),w()):alert(C.error||"Failed to cancel order")}catch(P){console.error("Error cancelling order:",P),alert("Failed to cancel order. Please try again.")}finally{b(!1)}},j=async()=>{if(!i||!x.trim()){alert("Please provide a quoted price");return}b(!0);try{const C=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${i.id}/quote`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({quotedPrice:parseFloat(x)})})).json();if(C.success){let $=` Quote sent successfully!

`;C.notifications?($+=`Notification Status:
`,C.notifications.email?$+=` Email sent to customer
`:($+=` Email failed: ${C.notifications.emailError}
`,$+=` NOTE: Resend free plan only sends to verified emails
`),C.notifications.whatsapp?$+=` WhatsApp sent to customer
`:C.notifications.whatsappError&&($+=` WhatsApp failed: ${C.notifications.whatsappError}
`),$+=`
 Customer has approval buttons in email to accept/decline quote.`):$+="Customer has been notified via Email and WhatsApp with approval buttons!",alert($),g(""),p(!1),l(!1),s(null),w()}else alert(C.error||"Failed to send quote")}catch(P){console.error("Error sending quote:",P),alert("Failed to send quote. Please try again.")}finally{b(!1)}},v=async(P,C)=>{try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${P}`,{method:"PUT",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({status:C})})).json()).success&&w()}catch($){console.error("Error updating status:",$)}},N=P=>{switch(P){case"pending":return"bg-yellow-900/30 text-yellow-400 border-yellow-500/50";case"quoted":return"bg-blue-900/30 text-blue-400 border-blue-500/50";case"approved":return"bg-green-900/30 text-green-400 border-green-500/50";case"in-production":return"bg-purple-900/30 text-purple-400 border-purple-500/50";case"completed":return"bg-emerald-900/30 text-emerald-400 border-emerald-500/50";case"cancelled":return"bg-red-900/30 text-red-400 border-red-500/50";default:return"bg-gray-900/30 text-gray-400 border-gray-500/50"}},k=P=>{switch(P){case"pending":return a.jsx(Oi,{className:"w-4 h-4"});case"quoted":case"approved":return a.jsx(Bt,{className:"w-4 h-4"});case"in-production":return a.jsx(ye,{className:"w-4 h-4"});case"completed":return a.jsx(Bt,{className:"w-4 h-4"});case"cancelled":return a.jsx(ht,{className:"w-4 h-4"});default:return a.jsx(Oi,{className:"w-4 h-4"})}};return r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-400 mt-4",children:"Loading custom clothing requests..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-white text-2xl flex items-center gap-3",children:[a.jsx(zr,{className:"w-7 h-7 text-purple-400"}),"Custom Clothing Requests"]}),a.jsxs("div",{className:"text-sm text-gray-400",children:["Total Requests: ",e.length]})]}),e.length===0?a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-xl p-12 text-center",children:[a.jsx(zr,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"No custom clothing requests yet"})]}):a.jsx("div",{className:"grid gap-4",children:e.map(P=>a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-500/30 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-white text-lg",children:P.requestId}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-xs border flex items-center gap-1 ${N(P.status)}`,children:[k(P.status),P.status.toUpperCase()]})]}),a.jsx("p",{className:"text-gray-400 text-sm",children:new Date(P.createdAt).toLocaleString()})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Customer"}),a.jsx("p",{className:"text-white",children:P.customerInfo.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:P.customerInfo.email}),a.jsx("p",{className:"text-gray-400 text-sm",children:P.customerInfo.phone})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Order Details"}),a.jsxs("p",{className:"text-white",children:[P.clothingDetails.type," - Size ",P.clothingDetails.size]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Color: ",P.clothingDetails.color]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Quantity: ",P.clothingDetails.quantity]})]})]}),P.quotedPrice&&a.jsx("div",{className:"mb-4 bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:a.jsxs("p",{className:"text-green-400",children:["Quoted Price: ",P.quotedPrice.toFixed(2)]})}),P.status==="cancelled"&&P.cancellationReason&&a.jsx("div",{className:"mb-4 bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:a.jsxs("p",{className:"text-red-400 text-sm",children:[a.jsx("strong",{children:"Cancellation Reason:"})," ",P.cancellationReason]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>{s(P),l(!0)},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[a.jsx(wn,{className:"w-4 h-4"}),"View Details"]}),P.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{s(P),p(!0)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[a.jsx(Te,{className:"w-4 h-4"}),"Send Quote"]}),a.jsxs("button",{onClick:()=>{s(P),u(!0)},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[a.jsx(ht,{className:"w-4 h-4"}),"Cancel Order"]})]}),P.status==="quoted"&&a.jsx("button",{onClick:()=>v(P.id,"approved"),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg text-sm transition-colors",children:"Mark as Approved"}),P.status==="approved"&&a.jsx("button",{onClick:()=>v(P.id,"in-production"),className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm transition-colors",children:"Start Production"}),P.status==="in-production"&&a.jsx("button",{onClick:()=>v(P.id,"completed"),className:"bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-lg text-sm transition-colors",children:"Mark as Completed"})]})]},P.id))}),o&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("h2",{className:"text-white text-xl",children:["Request Details - ",i.requestId]}),a.jsx("button",{onClick:()=>l(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white mb-3",children:["Design Images (",i.designImages.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.designImages.map((P,C)=>a.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"block",children:a.jsx("img",{src:P,alt:`Design ${C+1}`,className:"w-full h-48 object-cover rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors"})},C))})]}),a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white mb-3",children:"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Name"}),a.jsx("p",{className:"text-white",children:i.customerInfo.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Email"}),a.jsx("p",{className:"text-white",children:i.customerInfo.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Phone"}),a.jsx("p",{className:"text-white",children:i.customerInfo.phone})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"text-gray-400",children:"Delivery Address"}),a.jsx("p",{className:"text-white",children:i.customerInfo.address})]})]})]}),a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white mb-3",children:"Clothing Details"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Type"}),a.jsx("p",{className:"text-white",children:i.clothingDetails.type})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Size"}),a.jsx("p",{className:"text-white",children:i.clothingDetails.size})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Color"}),a.jsx("p",{className:"text-white",children:i.clothingDetails.color})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Quantity"}),a.jsx("p",{className:"text-white",children:i.clothingDetails.quantity})]})]})]}),i.instructions&&a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white mb-2",children:"Special Instructions"}),a.jsx("p",{className:"text-gray-300 text-sm",children:i.instructions})]}),a.jsx("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Status"}),a.jsxs("span",{className:`inline-flex px-3 py-1 rounded-full text-xs border items-center gap-1 ${N(i.status)}`,children:[k(i.status),i.status.toUpperCase()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Quoted Price"}),a.jsx("p",{className:"text-white",children:i.quotedPrice?`${i.quotedPrice}`:"Not quoted yet"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Created"}),a.jsx("p",{className:"text-white",children:new Date(i.createdAt).toLocaleString()})]})]})})]})]})}),c&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ht,{className:"w-6 h-6"}),a.jsx("h2",{className:"text-white text-xl",children:"Cancel Order"})]}),a.jsx("button",{onClick:()=>u(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-white mb-2",children:"Are you sure you want to cancel this order?"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Request ID: ",i.requestId]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Customer: ",i.customerInfo.name]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Cancellation Reason * (Will be sent to customer)"}),a.jsx("textarea",{value:h,onChange:P=>m(P.target.value),rows:4,required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Sorry, we are currently out of stock for the requested clothing type. Please try again later or contact us for alternatives."})]}),a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[a.jsxs("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:[a.jsx(Te,{className:"w-4 h-4"}),"Customer will be notified via Email"]}),a.jsxs("p",{className:"text-yellow-400 text-sm flex items-center gap-2 mt-1",children:[a.jsx(Ax,{className:"w-4 h-4"}),"Customer will be notified via WhatsApp"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>u(!1),disabled:f,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Keep Order"}),a.jsx("button",{onClick:y,disabled:f||!h.trim(),className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cancelling..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ht,{className:"w-5 h-5"}),"Cancel Order & Notify"]})})]})]})]})}),d&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Te,{className:"w-6 h-6"}),a.jsx("h2",{className:"text-white text-xl",children:"Send Quote"})]}),a.jsx("button",{onClick:()=>p(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-white mb-2",children:"Request Details"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Request ID: ",i.requestId]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Customer: ",i.customerInfo.name]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[i.clothingDetails.type," - ",i.clothingDetails.size," x",i.clothingDetails.quantity]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Quoted Price () *"}),a.jsx("input",{type:"number",value:x,onChange:P=>g(P.target.value),min:"0",step:"0.01",required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., 1499.00"})]}),a.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[a.jsxs("p",{className:"text-green-400 text-sm flex items-center gap-2",children:[a.jsx(Te,{className:"w-4 h-4"}),"Quote will be sent via Email"]}),a.jsxs("p",{className:"text-green-400 text-sm flex items-center gap-2 mt-1",children:[a.jsx(Ax,{className:"w-4 h-4"}),"Quote will be sent via WhatsApp"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>p(!1),disabled:f,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:j,disabled:f||!x.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{className:"w-5 h-5"}),"Send Quote & Notify"]})})]})]})]})})]})}function D_({orders:e,onRefresh:t}){const[r,n]=S.useState(null),[i,s]=S.useState(!1),[o,l]=S.useState({amount:"",method:"cash",note:""}),[c,u]=S.useState(!1),d=async f=>{if(f.preventDefault(),!!r){u(!0);try{const w=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/payments/record`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:r.id,amount:parseFloat(o.amount),method:o.method,note:o.note})})).json();w.success?(alert("Payment recorded successfully!"),s(!1),n(null),l({amount:"",method:"cash",note:""}),t()):alert(w.message||"Error recording payment")}catch(b){console.log("Error recording payment:",b),alert("Error recording payment. Please try again.")}finally{u(!1)}}},p=async f=>{if(confirm("Mark this order as fully paid?"))try{const w=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/payments/mark-paid`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:f})})).json();w.success?(alert("Order marked as paid!"),t()):alert(w.message||"Error updating payment status")}catch(b){console.log("Error marking as paid:",b),alert("Error updating payment status. Please try again.")}},h=f=>{const b=f.amountPaid||0,w=f.amountDue!==void 0?f.amountDue:f.total;return f.paymentStatus==="paid"||w===0?a.jsx("span",{className:"px-3 py-1 bg-green-900/30 border border-green-500/30 rounded-full text-green-400 text-sm",children:"Fully Paid"}):b>0?a.jsx("span",{className:"px-3 py-1 bg-yellow-900/30 border border-yellow-500/30 rounded-full text-yellow-400 text-sm",children:"Partially Paid"}):f.paymentMethod==="cod"?a.jsx("span",{className:"px-3 py-1 bg-orange-900/30 border border-orange-500/30 rounded-full text-orange-400 text-sm",children:"COD - Unpaid"}):a.jsx("span",{className:"px-3 py-1 bg-red-900/30 border border-red-500/30 rounded-full text-red-400 text-sm",children:"Unpaid"})},m=e.reduce((f,b)=>f+(b.amountPaid||0),0),x=e.reduce((f,b)=>f+(b.amountDue!==void 0?b.amountDue:b.total),0),g=e.filter(f=>f.paymentStatus==="paid"||f.amountDue!==void 0&&f.amountDue===0).length;return a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Qs,{className:"w-8 h-8 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl text-white",children:["",m.toLocaleString()]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Qs,{className:"w-8 h-8 text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Total Due"}),a.jsxs("p",{className:"text-2xl text-white",children:["",x.toLocaleString()]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(st,{className:"w-8 h-8 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Paid Orders"}),a.jsx("p",{className:"text-2xl text-white",children:g})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Qs,{className:"w-8 h-8 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Total Orders"}),a.jsx("p",{className:"text-2xl text-white",children:e.length})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-white mb-4",children:"Payment Management"}),e.length===0?a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:a.jsx("p",{className:"text-gray-400 text-lg",children:"No orders to manage payments for."})}):e.map(f=>{const b=f.amountPaid||0,w=f.amountDue!==void 0?f.amountDue:f.total;return a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-white mb-2",children:["Order #",f.trackingId]}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:f.customerInfo.name}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:f.customerInfo.phone}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[h(f),a.jsx("span",{className:"text-gray-400 text-sm",children:new Date(f.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Total Amount"}),a.jsxs("p",{className:"text-2xl text-white mb-2",children:["",f.total.toLocaleString()]}),a.jsxs("p",{className:"text-green-400 text-sm",children:["Paid: ",b.toLocaleString()]}),a.jsxs("p",{className:"text-red-400 text-sm",children:["Due: ",w.toLocaleString()]})]})]}),f.paymentHistory&&f.paymentHistory.length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-purple-900/10 border border-purple-500/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(j5,{className:"w-4 h-4 text-purple-400"}),a.jsx("h5",{className:"text-white",children:"Payment History"})]}),a.jsx("div",{className:"space-y-2",children:f.paymentHistory.map((y,j)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-300",children:new Date(y.date).toLocaleString()}),a.jsxs("span",{className:"text-gray-400 ml-3",children:["via ",y.method]}),y.note&&a.jsxs("span",{className:"text-gray-500 ml-2",children:["- ",y.note]})]}),a.jsxs("span",{className:"text-green-400",children:["+",y.amount.toLocaleString()]})]},j))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[w>0&&a.jsxs("button",{onClick:()=>{n(f),l({amount:w.toString(),method:f.paymentMethod==="cod"?"cash":"online",note:""}),s(!0)},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(_n,{className:"w-4 h-4"}),"Record Payment"]}),w>0&&a.jsxs("button",{onClick:()=>p(f.id),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(st,{className:"w-4 h-4"}),"Mark as Paid"]})]})]},f.id)})]}),i&&r&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>s(!1)}),a.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[a.jsx("h2",{className:"text-white",children:"Record Payment"}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 p-4 bg-purple-900/20 border border-purple-500/30 rounded-lg",children:[a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Order #",r.trackingId]}),a.jsx("p",{className:"text-white text-lg mb-2",children:r.customerInfo.name}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-400 text-sm",children:["Total: ",r.total.toLocaleString()]}),a.jsxs("p",{className:"text-green-400 text-sm",children:["Paid: ",(r.amountPaid||0).toLocaleString()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Amount Due"}),a.jsxs("p",{className:"text-2xl text-red-400",children:["",(r.amountDue!==void 0?r.amountDue:r.total).toLocaleString()]})]})]})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Amount ()"}),a.jsx("input",{type:"number",value:o.amount,onChange:f=>l({...o,amount:f.target.value}),required:!0,min:"0",max:r.amountDue!==void 0?r.amountDue:r.total,step:"0.01",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:o.method,onChange:f=>l({...o,method:f.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"online",children:"Online Payment"}),a.jsx("option",{value:"upi",children:"UPI"}),a.jsx("option",{value:"card",children:"Card"}),a.jsx("option",{value:"bank-transfer",children:"Bank Transfer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (Optional)"}),a.jsx("textarea",{value:o.note,onChange:f=>l({...o,note:f.target.value}),rows:2,placeholder:"Add any notes about this payment...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all",children:c?"Recording...":"Record Payment"}),a.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all",children:"Cancel"})]})]})]})]})]})]})}function R_(){const{success:e,error:t}=En(),[r,n]=S.useState([]),[i,s]=S.useState(!1),[o,l]=S.useState({}),[c,u]=S.useState("all"),d=async()=>{s(!0);try{const b=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/support/all`,{headers:{Authorization:`Bearer ${Y}`}})).json();b.success?n(b.tickets):console.error("Failed to load tickets:",b.error)}catch(f){console.error("Error loading tickets:",f)}finally{s(!1)}};S.useEffect(()=>{d()},[]);const p=async f=>{const b=o[f];if(!b||!b.trim()){alert("Please enter a reply");return}try{const y=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/support/reply`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({ticketId:f,reply:b})})).json();y.success?(l({...o,[f]:""}),d(),e(" Reply sent successfully! Customer will receive an email notification.",5e3)):t("Failed to send reply: "+y.error)}catch(w){console.error("Error sending reply:",w),t("Failed to send reply")}},h=async f=>{if(confirm("Are you sure you want to delete this ticket?"))try{const w=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/support/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}})).json();w.success?(d(),e("Ticket deleted successfully!")):t("Failed to delete ticket: "+w.error)}catch(b){console.error("Error deleting ticket:",b),t("Failed to delete ticket")}},m=r.filter(f=>c==="all"?!0:f.status===c),x=r.filter(f=>f.status==="pending").length,g=r.filter(f=>f.status==="answered").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-white flex items-center gap-2",children:[a.jsx(Ti,{className:"w-6 h-6"}),"Customer Support Tickets"]}),a.jsxs("button",{onClick:d,disabled:i,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-all disabled:opacity-50",children:[a.jsx(gS,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-black border border-purple-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Total Tickets"}),a.jsx("p",{className:"text-white text-2xl mt-1",children:r.length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/30 to-black border border-yellow-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),a.jsx("p",{className:"text-yellow-400 text-2xl mt-1",children:x})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-black border border-green-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Answered"}),a.jsx("p",{className:"text-green-400 text-2xl mt-1",children:g})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg transition-all ${c==="all"?"bg-purple-600 text-white":"bg-purple-900/30 text-gray-400 hover:bg-purple-900/50"}`,children:["All (",r.length,")"]}),a.jsxs("button",{onClick:()=>u("pending"),className:`px-4 py-2 rounded-lg transition-all ${c==="pending"?"bg-yellow-600 text-white":"bg-yellow-900/30 text-gray-400 hover:bg-yellow-900/50"}`,children:["Pending (",x,")"]}),a.jsxs("button",{onClick:()=>u("answered"),className:`px-4 py-2 rounded-lg transition-all ${c==="answered"?"bg-green-600 text-white":"bg-green-900/30 text-gray-400 hover:bg-green-900/50"}`,children:["Answered (",g,")"]})]}),a.jsx("div",{className:"space-y-4",children:i?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading tickets..."}):m.length===0?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"No tickets found"}):m.map(f=>a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-white",children:f.subject}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${f.status==="answered"?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,children:f.status})]}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[a.jsxs("span",{children:["From: ",f.name]}),a.jsxs("span",{children:["Email: ",f.email]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.createdAt).toLocaleString()})]}),a.jsx("button",{onClick:()=>h(f.id),className:"text-red-400 hover:text-red-300 p-2",title:"Delete ticket",children:a.jsx(Zt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"bg-purple-900/20 border border-purple-500/20 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:f.question})}),f.reply&&a.jsxs("div",{className:"bg-green-900/20 border border-green-500/20 rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-green-300 text-sm mb-1",children:a.jsx("strong",{children:"Your Reply:"})}),a.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:f.reply}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Replied: ",new Date(f.updatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("textarea",{value:o[f.id]||"",onChange:b=>l({...o,[f.id]:b.target.value}),placeholder:f.reply?"Update your reply...":"Type your reply...",className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 min-h-[100px]"}),a.jsxs("button",{onClick:()=>p(f.id),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all flex items-center gap-2 self-end",children:[a.jsx(fl,{className:"w-4 h-4"}),f.reply?"Update":"Send"]})]})]},f.id))})]})}function L_(){const[e,t]=S.useState([]),[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(!1),[c,u]=S.useState({name:"",slug:"",subcategories:""});S.useEffect(()=>{d()},[]);const d=async()=>{n(!0);try{const b=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${Y}`}})).json();b.success&&t(b.categories)}catch(f){console.error("Error loading categories:",f)}finally{n(!1)}},p=async f=>{if(f.preventDefault(),!c.name.trim()){alert("Category name is required");return}const b=c.subcategories.split(",").map(y=>y.trim()).filter(y=>y.length>0),w={name:c.name.trim(),slug:c.slug.trim()||c.name.toLowerCase().replace(/\s+/g,"-"),subcategories:b};try{const y=i?`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories/${i.id}`:`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories`,v=await(await fetch(y,{method:i?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(w)})).json();v.success?(u({name:"",slug:"",subcategories:""}),s(null),l(!1),d(),alert(i?"Category updated!":"Category added!")):alert("Failed: "+v.error)}catch(y){console.error("Error saving category:",y),alert("Failed to save category")}},h=f=>{s(f),u({name:f.name,slug:f.slug,subcategories:f.subcategories.join(", ")}),l(!0)},m=async f=>{if(confirm("Are you sure you want to delete this category? This may affect existing products."))try{const w=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}})).json();w.success?(d(),alert("Category deleted successfully!")):alert("Failed to delete: "+w.error)}catch(b){console.error("Error deleting category:",b),alert("Failed to delete category")}},x=async(f,b)=>{if(confirm(`Are you sure you want to delete the subcategory "${f.subcategories[b]}"?`))try{const w=f.subcategories.filter((v,N)=>N!==b),j=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories/${f.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({name:f.name,slug:f.slug,subcategories:w})})).json();j.success?(d(),alert("Subcategory removed successfully!")):alert("Failed to remove subcategory: "+j.error)}catch(w){console.error("Error removing subcategory:",w),alert("Failed to remove subcategory")}},g=()=>{l(!1),s(null),u({name:"",slug:"",subcategories:""})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-white flex items-center gap-2",children:[a.jsx(mS,{className:"w-6 h-6"}),"Category Management"]}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Manage product categories and subcategories"})]}),a.jsxs("div",{className:"flex gap-3",children:[!o&&e.length>0&&a.jsxs("button",{onClick:async()=>{if(confirm(`Are you sure you want to delete all ${e.length} categories and their subcategories? This may affect existing products and cannot be undone.`))try{await Promise.all(e.map(f=>fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories/${f.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}}))),await d(),alert("All categories deleted successfully!")}catch(f){console.error("Error deleting categories:",f),alert("Failed to delete all categories")}},className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(Zt,{className:"w-5 h-5"}),"Clear All"]}),!o&&a.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(_n,{className:"w-5 h-5"}),"Add Category"]})]})]}),o&&a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-8",children:[a.jsx("h3",{className:"text-white mb-6",children:i?"Edit Category":"Add New Category"}),a.jsxs("form",{onSubmit:p,className:"space-y-4 max-w-2xl",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-300 mb-2",children:["Category Name ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:c.name,onChange:f=>u({...c,name:f.target.value}),required:!0,placeholder:"e.g., Anime Figures, Manga, Katana",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Category Slug (Optional)"}),a.jsx("input",{type:"text",value:c.slug,onChange:f=>u({...c,slug:f.target.value}),placeholder:"e.g., anime-figures (auto-generated if empty)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"URL-friendly identifier. Auto-generated from name if left empty."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Subcategories (Optional)"}),a.jsx("textarea",{value:c.subcategories,onChange:f=>u({...c,subcategories:f.target.value}),rows:4,placeholder:`Enter subcategories separated by commas
e.g., Demon Slayer, Naruto, One Piece, Attack on Titan`,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Separate multiple subcategories with commas. Leave empty if no subcategories."})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(hl,{className:"w-4 h-4"}),i?"Update Category":"Add Category"]}),a.jsxs("button",{type:"button",onClick:g,className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(ke,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),a.jsx("div",{className:"space-y-4",children:r?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading categories..."}):e.length===0?a.jsx("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-12 text-center",children:a.jsx("p",{className:"text-gray-400 text-lg",children:"No categories yet. Add your first category!"})}):e.map(f=>a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white mb-2",children:f.name}),a.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Slug: ",a.jsx("span",{className:"text-purple-400",children:f.slug})]}),f.subcategories&&f.subcategories.length>0?a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Subcategories:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:f.subcategories.map((b,w)=>a.jsxs("span",{className:"bg-purple-900/30 border border-purple-500/30 text-purple-300 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[b,a.jsx("button",{onClick:()=>x(f,w),className:"text-red-400 hover:text-red-300 transition-colors",title:"Remove subcategory",children:a.jsx(ke,{className:"w-3 h-3"})})]},w))})]}):a.jsx("p",{className:"text-gray-500 text-sm italic",children:"No subcategories"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>h(f),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(qr,{className:"w-4 h-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>m(f.id),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Zt,{className:"w-4 h-4"}),"Delete"]})]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Created: ",new Date(f.createdAt).toLocaleString()]})]},f.id))})]})}function B_(){const[e,t]=S.useState([]),[r,n]=S.useState(null),[i,s]=S.useState(!1),[o,l]=S.useState(null),[c,u]=S.useState(!1),[d,p]=S.useState({imageUrl:"",title:"",subtitle:""}),[h,m]=S.useState(null),[x,g]=S.useState(""),[f,b]=S.useState(!1);S.useEffect(()=>{console.log(" Initial fetch from server on WallpaperManagement mount"),v()},[]),S.useEffect(()=>{if(e.length>0){const A=e.find(T=>T.order===0)||e[0];n(A)}},[e]),S.useEffect(()=>{if(e.length>0)try{localStorage.setItem("cached_wallpapers",JSON.stringify(e)),console.log(" Wallpapers saved to localStorage")}catch(A){console.error("Error saving to localStorage:",A)}},[e]);const w=()=>[{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff6b6b;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%238b0000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g1)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E Demon Slayer%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff9500;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23e65100;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g2)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E Naruto%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%234a90e2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%231a237e;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g3)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E One Piece%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%237e57c2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%233f2c70;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g4)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff8a00;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23ffc000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g5)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}],y=A=>A.startsWith("default_wallpaper_"),j=async()=>{try{console.log(" Seeding default wallpapers to database...");const A=w();let T=0,I=0;for(const M of A)try{console.log(` Posting wallpaper: ${M.title}`);const R=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({imageUrl:M.imageUrl,title:M.title,subtitle:M.subtitle})}),L=await R.json();R.ok&&L.success?(console.log(` Seeded wallpaper: ${M.title}`,L),T++):(console.error(` Failed to seed wallpaper: ${M.title}`,L),I++)}catch(R){console.error(` Error seeding ${M.title}:`,R),I++}console.log(` Seeding complete: ${T} succeeded, ${I} failed`),console.log(" Waiting before re-fetching wallpapers..."),await new Promise(M=>setTimeout(M,2e3)),console.log(" Re-fetching wallpapers after seeding..."),await v()}catch(A){console.error(" Error seeding wallpapers:",A)}},v=async()=>{try{console.log(" Fetching wallpapers from server (source of truth)...");const A=`?t=${Date.now()}`,T=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers${A}`,{headers:{Authorization:`Bearer ${Y}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(console.log(" Wallpaper fetch response status:",T.status),T.ok){const I=await T.json();console.log(" Wallpaper data received from server:",I);const M=(I.wallpapers||[]).filter(R=>R!=null).sort((R,L)=>(R.order||0)-(L.order||0));console.log(" Valid wallpapers count:",M.length),console.log(" Wallpapers from server:",M),M.length>0?(t(M),localStorage.setItem("cached_wallpapers",JSON.stringify(M))):(console.log(" No wallpapers found on server, seeding defaults..."),await j())}else{const I=await T.text();console.error(" Failed to fetch wallpapers:",T.status,I),console.log(" Trying to load from cache...");try{const M=localStorage.getItem("cached_wallpapers");if(M){const R=JSON.parse(M);console.log(" Loaded wallpapers from cache:",R),t(R);return}}catch(M){console.error("Error loading from cache:",M)}console.log(" No cache available, will show defaults"),t(w())}}catch(A){console.error(" Error fetching wallpapers:",A),console.log(" Trying to load from cache...");try{const T=localStorage.getItem("cached_wallpapers");if(T){const I=JSON.parse(T);console.log(" Loaded wallpapers from cache:",I),t(I);return}}catch(T){console.error("Error loading from cache:",T)}console.log(" No cache available, will show defaults"),t(w())}},N=A=>{const T=A.target.files?.[0];if(T){m(T);const I=new FileReader;I.onloadend=()=>{g(I.result)},I.readAsDataURL(T)}},k=async()=>{if(!h)return null;b(!0);const A=new FormData;A.append("file",h);try{const T=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/upload-wallpaper`,{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:A});if(T.ok)return(await T.json()).imageUrl;{const M=(await T.json()).error||"Failed to upload image";return M.includes("row-level security")||M.includes("RLS")?alert(` Storage RLS Error detected!

Please go to the Admin Panel and look for the "Fix Storage" button, or manually configure RLS policies in your Supabase dashboard.`):alert(`Failed to upload image: ${M}`),null}}catch(T){return console.error("Error uploading image:",T),alert("Error uploading image"),null}finally{b(!1)}},P=async A=>{A.preventDefault(),u(!0);try{let T=d.imageUrl;if(console.log(" WALLPAPER SUBMIT - Starting..."),console.log(" Form Data:",d),console.log(" Selected Image:",h?.name),h){console.log(" Uploading image...");const q=await k();if(!q){console.error(" Image upload failed"),u(!1);return}console.log(" Image uploaded:",q),T=q}if(!T||T.trim()===""){alert("Please provide an image URL or upload an image"),u(!1);return}const I={imageUrl:T,title:d.title,subtitle:d.subtitle};if(console.log(" Wallpaper data to send:",I),o&&y(o.id)){console.log(" Editing default wallpaper - saving locally only");const q=e.map(B=>B.id===o.id?{...B,title:d.title,subtitle:d.subtitle,imageUrl:T}:B);t(q),localStorage.setItem("cached_wallpapers",JSON.stringify(q)),console.log(" Cached updated wallpapers:",q);try{const B=new BroadcastChannel("wallpapers");B.postMessage({type:"wallpaper_updated",wallpapers:q,timestamp:Date.now()}),setTimeout(()=>{B.postMessage({type:"wallpaper_updated",wallpapers:q,timestamp:Date.now()}),B.close()},100)}catch{console.log("BroadcastChannel not available")}s(!1),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g(""),alert("Default wallpaper updated locally ");return}const M=o?`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${o.id}`:`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,R=o?"PUT":"POST";console.log(` Sending ${R} request to:`,M);const L=await fetch(M,{method:R,headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(console.log(" Response status:",L.status),L.ok){const q=await L.json();console.log(" Wallpaper saved successfully:",q),alert("Wallpaper saved successfully! ");try{const B=new BroadcastChannel("wallpapers");B.postMessage({type:o?"wallpaper_updated":"wallpaper_added",timestamp:Date.now()}),setTimeout(()=>{B.postMessage({type:o?"wallpaper_updated":"wallpaper_added",timestamp:Date.now()}),B.close()},100)}catch{console.log("BroadcastChannel not available")}if(o)console.log(" Updating wallpaper in local state..."),t(e.map(B=>B.id===o.id?{...B,title:d.title,subtitle:d.subtitle,imageUrl:T}:B));else{console.log(" Adding wallpaper to local state...");const B={id:`wallpaper_${Date.now()}`,imageUrl:T,title:d.title,subtitle:d.subtitle,order:e.length};t([...e,B]),console.log(" Wallpaper added to local state:",B)}await v(),s(!1),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g("")}else{const q=await L.text();if(console.error(" Failed to save wallpaper. Status:",L.status,"Error:",q),console.log(" Adding to local state as fallback..."),o)console.log(" Updating wallpaper in local state (API failed)..."),t(e.map(B=>B.id===o.id?{...B,title:d.title,subtitle:d.subtitle,imageUrl:T}:B)),s(!1),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g(""),alert("Wallpaper updated locally (API sync failed, but changes are saved)");else{const B={id:`wallpaper_${Date.now()}`,imageUrl:T,title:d.title,subtitle:d.subtitle,order:e.length};t([...e,B]),s(!1),p({imageUrl:"",title:"",subtitle:""}),m(null),g(""),alert("Wallpaper saved locally (API sync failed, but your wallpaper is saved)")}}}catch(T){if(console.error(" Error saving wallpaper:",T),o)t(e.map(I=>I.id===o.id?{...I,title:d.title,subtitle:d.subtitle,imageUrl:d.imageUrl}:I)),s(!1),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g(""),alert("Wallpaper updated locally (network error, but changes are saved)");else{const I={id:`wallpaper_${Date.now()}`,imageUrl:d.imageUrl,title:d.title,subtitle:d.subtitle,order:e.length};t([...e,I]),s(!1),p({imageUrl:"",title:"",subtitle:""}),m(null),g(""),alert("Wallpaper saved locally (network error, but your wallpaper is saved)")}}finally{u(!1)}},C=A=>{l(A),p({imageUrl:A.imageUrl,title:A.title,subtitle:A.subtitle}),g(A.imageUrl),s(!0)},$=async A=>{if(confirm("Are you sure you want to delete this wallpaper?"))try{console.log(" Deleting wallpaper:",A);const T=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}});if(console.log(" Delete response status:",T.status),T.ok){console.log(" Wallpaper deleted successfully!");try{const I=new BroadcastChannel("wallpapers");I.postMessage({type:"wallpaper_deleted",id:A,timestamp:Date.now()}),setTimeout(()=>{I.postMessage({type:"wallpaper_deleted",id:A,timestamp:Date.now()}),I.close()},100)}catch{console.log("BroadcastChannel not available")}await v()}else{const I=await T.text();console.error(" Failed to delete wallpaper. Status:",T.status,"Error:",I),console.log(" Deleting from local state as fallback..."),t(e.filter(M=>M.id!==A)),alert("Wallpaper deleted locally (API sync failed, but it's removed from your list)")}}catch(T){console.error("Error deleting wallpaper:",T),console.log(" Deleting from local state due to error..."),t(e.filter(I=>I.id!==A)),alert("Wallpaper deleted locally (network error, but it's removed from your list)")}},O=async(A,T)=>{try{if((await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${A}/reorder`,{method:"PUT",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({direction:T})})).ok){try{const M=new BroadcastChannel("wallpapers");M.postMessage({type:"wallpaper_reordered",id:A,direction:T,timestamp:Date.now()}),M.close()}catch{console.log("BroadcastChannel not available")}await v()}}catch(I){console.error("Error reordering wallpaper:",I)}};return a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs(_.div,{className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 border border-purple-500/50 rounded-xl p-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Sr,{className:"w-5 h-5 text-purple-400"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Currently Displayed Wallpaper"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-32 h-32 object-cover rounded-lg border border-purple-500/30",onError:A=>{A.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23333' width='100' height='100'/%3E%3C/svg%3E"}})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold text-base",children:r.title}),a.jsx("p",{className:"text-gray-300 text-sm mt-1",children:r.subtitle})]}),a.jsx("div",{className:"flex gap-2 items-center",children:a.jsxs(_.button,{onClick:()=>{l(r),p({imageUrl:r.imageUrl,title:r.title,subtitle:r.subtitle}),g(r.imageUrl),s(!0)},className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg transition-all whitespace-nowrap text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(qr,{className:"w-4 h-4"}),"Edit"]})})]})]})]}),a.jsxs("div",{className:"flex justify-between items-start gap-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl text-white mb-2 flex items-center gap-2",children:[a.jsx(jn,{className:"w-6 h-6 text-purple-400"}),"Hero Wallpapers"]}),a.jsx("p",{className:"text-gray-400",children:"Manage the sliding hero section wallpapers - Edit, remove, or reorder them"})]}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.length>0&&a.jsx(a.Fragment,{children:a.jsxs(_.button,{onClick:async()=>{console.log(" Refreshing wallpapers from server..."),u(!0);try{const A=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers?t=${Date.now()}`,{headers:{Authorization:`Bearer ${Y}`,"Cache-Control":"no-cache, no-store, must-revalidate"}});if(A.ok){const I=((await A.json()).wallpapers||[]).filter(M=>M!=null).sort((M,R)=>(M.order||0)-(R.order||0));if(I.length>0){t(I),localStorage.setItem("cached_wallpapers",JSON.stringify(I)),localStorage.setItem("wallpapers_sync_time",Date.now().toString());try{const M=new BroadcastChannel("wallpapers");M.postMessage({type:"wallpaper_refreshed",wallpapers:I,timestamp:Date.now()}),M.close()}catch{console.log("BroadcastChannel not available")}alert(` Refreshed! Found ${I.length} wallpapers`)}}}catch(A){console.error("Error refreshing wallpapers:",A),alert("Failed to refresh wallpapers")}finally{u(!1)}},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Refresh wallpapers from server",children:[a.jsx(Sr,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),a.jsx("span",{className:"sm:hidden",children:""})]})}),e.length>0&&a.jsxs(_.button,{onClick:async()=>{if(confirm(`Are you sure you want to delete all ${e.length} wallpapers? This action cannot be undone.`))try{await Promise.all(e.map(A=>fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${A.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}})));try{const A=new BroadcastChannel("wallpapers");A.postMessage({type:"wallpaper_deleted_all",timestamp:Date.now()}),A.close()}catch{console.log("BroadcastChannel not available")}await v(),alert("All wallpapers deleted successfully!")}catch(A){console.error("Error deleting wallpapers:",A),alert("Failed to delete all wallpapers")}},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},title:`Delete all ${e.length} wallpapers`,children:[a.jsx(Zt,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Delete All"}),a.jsx("span",{className:"sm:hidden",children:"Clear"})]}),a.jsxs(_.button,{onClick:()=>{s(!0),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g("")},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(_n,{className:"w-5 h-5"}),"Add Wallpaper"]})]})]}),i&&a.jsx(_.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(_.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl text-white",children:o?"Edit Wallpaper":"Add New Wallpaper"}),a.jsx("button",{onClick:()=>{s(!1),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g("")},className:"text-gray-400 hover:text-white",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white mb-2",children:"Wallpaper Image"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden",id:"wallpaper-image-upload"}),a.jsxs("label",{htmlFor:"wallpaper-image-upload",className:"flex items-center justify-center gap-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 px-4 py-3 rounded-lg cursor-pointer transition-all",children:[a.jsx(ys,{className:"w-5 h-5 text-purple-400"}),a.jsx("span",{className:"text-purple-300",children:h?h.name:"Choose Image"})]}),x&&a.jsx("img",{src:x,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border border-purple-500/30"}),a.jsx("input",{type:"text",placeholder:"Or paste image URL",value:d.imageUrl,onChange:A=>p({...d,imageUrl:A.target.value}),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white mb-2",children:"Title"}),a.jsx("input",{type:"text",value:d.title,onChange:A=>p({...d,title:A.target.value}),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white mb-2",children:"Subtitle"}),a.jsx("input",{type:"text",value:d.subtitle,onChange:A=>p({...d,subtitle:A.target.value}),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"submit",disabled:c||f,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg disabled:opacity-50 transition-all",children:c||f?"Saving...":o?"Update Wallpaper":"Add Wallpaper"}),a.jsx("button",{type:"button",onClick:()=>{s(!1),l(null),p({imageUrl:"",title:"",subtitle:""}),m(null),g("")},className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all",children:"Cancel"})]})]})]})}),a.jsx("div",{className:"grid gap-4",children:e.length===0?a.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl",children:[a.jsx(jn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"No wallpapers added yet"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Default wallpapers will be shown on the hero section"})]}):e.map((A,T)=>a.jsx(_.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 hover:border-purple-400/50 rounded-xl p-4 transition-all",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},whileHover:{borderColor:"rgba(192, 132, 250, 0.7)"},children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:A.imageUrl,alt:A.title,className:"w-24 h-24 object-cover rounded-lg border border-purple-500/30",onError:I=>{I.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23333' width='100' height='100'/%3E%3C/svg%3E"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium truncate text-sm",children:A.title}),a.jsx("p",{className:"text-gray-400 text-xs truncate",children:A.subtitle}),a.jsxs("p",{className:"text-purple-400 text-xs mt-2",children:["Position: ",a.jsxs("span",{className:"font-semibold",children:["#",A.order+1]})," of ",e.length]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("div",{className:"flex gap-1 border-r border-gray-600 pr-2",children:[a.jsx("button",{onClick:()=>O(A.id,"up"),disabled:T===0,className:"p-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Move up in order",children:a.jsx(r5,{className:"w-4 h-4 text-purple-400"})}),a.jsx("button",{onClick:()=>O(A.id,"down"),disabled:T===e.length-1,className:"p-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Move down in order",children:a.jsx(e5,{className:"w-4 h-4 text-purple-400"})})]}),a.jsxs(_.button,{onClick:()=>C(A),className:"flex items-center gap-2 px-3 py-2 bg-blue-600/20 hover:bg-blue-600/40 border border-blue-500/50 hover:border-blue-400 rounded-lg transition-all text-xs",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Edit this wallpaper",children:[a.jsx(qr,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-blue-400 font-medium",children:"Edit"})]}),a.jsxs(_.button,{onClick:()=>$(A.id),className:"flex items-center gap-2 px-3 py-2 bg-red-600/20 hover:bg-red-600/40 border border-red-500/50 hover:border-red-400 rounded-lg transition-all text-xs",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Delete this wallpaper",children:[a.jsx(Zt,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"text-red-400 font-medium",children:"Remove"})]})]})]})},A.id))})]})}function F_(){const[e,t]=S.useState(null),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState({title:"",subtitle:"",imageUrl:""}),[c,u]=S.useState(""),[d,p]=S.useState(null),[h,m]=S.useState(!1),[x,g]=S.useState("");S.useEffect(()=>{f()},[]);const f=async()=>{try{console.log(" Fetching current wallpaper...");const j=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{headers:{Authorization:`Bearer ${Y}`}});if(j.ok){const v=await j.json();console.log(" All wallpapers data:",v);const N=(v.wallpapers||[]).filter(k=>k!=null).sort((k,P)=>(k.order||0)-(P.order||0));if(console.log(" Filtered and sorted wallpapers:",N),N.length>0){const k=N[0];console.log(" Current wallpaper selected:",k),t(k),l({title:k.title,subtitle:k.subtitle,imageUrl:k.imageUrl}),u(k.imageUrl)}else console.warn(" No wallpapers found!")}else{const v=await j.text();console.error(" Failed to fetch wallpapers. Status:",j.status,"Error:",v)}}catch(j){console.error(" Error fetching current wallpaper:",j)}},b=j=>{const v=j.target.files?.[0];if(v){p(v);const N=new FileReader;N.onloadend=()=>{u(N.result)},N.readAsDataURL(v)}},w=async()=>{if(!d)return null;m(!0);const j=new FormData;j.append("file",d);try{console.log(" Uploading image:",d.name);const v=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/upload-wallpaper`,{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:j});if(console.log(" Upload response status:",v.status),v.ok){const N=await v.json();return console.log(" Image uploaded successfully:",N.imageUrl),l({...o,imageUrl:N.imageUrl}),N.imageUrl}else{const N=await v.text();console.error(" Failed to upload image. Status:",v.status,"Error:",N),alert(`Image upload failed: Status ${v.status} - ${N||"Unknown error"}`)}}catch(v){console.error(" Error uploading image:",v),alert(`Error uploading image: ${v instanceof Error?v.message:"Unknown error"}`)}finally{m(!1)}return null},y=async()=>{if(!e){alert("No wallpaper selected. Please load the page again.");return}if(!e.id){console.error(" Wallpaper ID is missing:",e),alert("Error: Wallpaper ID is missing. Please refresh the page.");return}s(!0);try{let j=o.imageUrl;if(d){const P=await w();P&&(j=P)}console.log(" Saving wallpaper with data:",{id:e.id,type:typeof e.id,title:o.title,subtitle:o.subtitle,imageUrl:j});const v=e.id.startsWith("default_wallpaper_");if(console.log(" Is default wallpaper:",v),v){console.log(" Saving default wallpaper locally only");const P={...e,title:o.title,subtitle:o.subtitle,imageUrl:j};t(P);try{const C=localStorage.getItem("cached_wallpapers");if(C){const O=JSON.parse(C).map(A=>A.id===e.id?P:A);localStorage.setItem("cached_wallpapers",JSON.stringify(O)),console.log(" Updated wallpaper in localStorage cache:",O)}}catch(C){console.error(" Error updating localStorage:",C)}try{const C=new BroadcastChannel("wallpapers"),$=localStorage.getItem("cached_wallpapers"),O=$?JSON.parse($):[];C.postMessage({type:"wallpaper_updated",wallpapers:O,id:e.id,timestamp:Date.now()}),setTimeout(()=>C.close(),100)}catch{console.log("BroadcastChannel not available")}n(!1),p(null),g(" Hero wallpaper updated locally!"),setTimeout(()=>g(""),3e3);return}const N=`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${e.id}`;console.log(" Update URL:",N);const k=await fetch(N,{method:"PUT",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({title:o.title,subtitle:o.subtitle,imageUrl:j})});if(console.log(" Update response status:",k.status),k.ok){console.log(" Wallpaper updated successfully!"),t({...e,title:o.title,subtitle:o.subtitle,imageUrl:j});try{const P=new BroadcastChannel("wallpapers");P.postMessage({type:"wallpaper_updated",id:e.id,timestamp:Date.now()}),P.close()}catch{console.log("BroadcastChannel not available")}n(!1),p(null),g(" Hero wallpaper updated successfully!"),setTimeout(()=>g(""),3e3)}else{const P=await k.text();console.error(" Failed to update wallpaper. Status:",k.status,"Error:",P),alert(`Error: Status ${k.status} - ${P||"Failed to update wallpaper"}`)}}catch(j){console.error(" Error saving wallpaper:",j),alert(`Error saving wallpaper: ${j instanceof Error?j.message:"Unknown error"}`)}finally{s(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(qr,{className:"w-6 h-6 text-purple-400"}),"Dynamic Hero Wallpaper Editor"]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Edit the currently displayed hero wallpaper with live preview"})]}),e&&a.jsx("button",{onClick:()=>{r?(n(!1),p(null),u(e.imageUrl),l({title:e.title,subtitle:e.subtitle,imageUrl:e.imageUrl})):n(!0)},className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg text-white transition-all",children:r?"Cancel":"Edit"})]}),x&&a.jsx(_.div,{className:"bg-green-900/30 border border-green-500/50 text-green-300 p-4 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:x}),e?a.jsxs(_.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 space-y-4",layout:!0,children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Live Preview"}),a.jsxs("div",{className:"relative overflow-hidden rounded-lg h-64 bg-gray-800 border border-purple-500/30",children:[a.jsx("img",{src:c||e.imageUrl,alt:"Hero Wallpaper Preview",className:"w-full h-full object-cover",onError:j=>{j.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23333' width='100' height='100'/%3E%3C/svg%3E"}}),r&&a.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-end justify-start p-4",children:a.jsxs("div",{className:"text-white",children:[a.jsx("h4",{className:"text-xl font-bold",children:o.title||e.title}),a.jsx("p",{className:"text-sm text-gray-300",children:o.subtitle||e.subtitle})]})})]})]}),a.jsx(Re,{children:r&&a.jsxs(_.div,{className:"space-y-4 pt-4 border-t border-gray-700",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:o.title,onChange:j=>l({...o,title:j.target.value}),className:"w-full bg-gray-800 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter hero title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subtitle"}),a.jsx("input",{type:"text",value:o.subtitle,onChange:j=>l({...o,subtitle:j.target.value}),className:"w-full bg-gray-800 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter hero subtitle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden",id:"hero-image-upload"}),a.jsxs("label",{htmlFor:"hero-image-upload",className:"flex items-center justify-center gap-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 px-4 py-3 rounded-lg cursor-pointer transition-all",children:[a.jsx(ys,{className:"w-5 h-5 text-purple-400"}),a.jsx("span",{className:"text-purple-300",children:d?d.name:"Choose Image"})]}),a.jsx("input",{type:"url",value:o.imageUrl,onChange:j=>{l({...o,imageUrl:j.target.value}),u(j.target.value)},className:"w-full bg-gray-800 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Or paste image URL"})]})]}),a.jsx("div",{className:"flex gap-3 pt-4",children:a.jsxs("button",{onClick:y,disabled:i||h,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 px-4 py-2 rounded-lg text-white flex items-center justify-center gap-2 transition-all",children:[a.jsx(hl,{className:"w-5 h-5"}),i||h?"Saving...":"Save Changes"]})})]})}),!r&&a.jsxs(_.div,{className:"text-gray-300 space-y-2",initial:{opacity:0},animate:{opacity:1},children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-purple-400 font-medium",children:"Title:"})," ",e.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-purple-400 font-medium",children:"Subtitle:"})," ",e.subtitle]})]})]}):a.jsx("div",{className:"text-center py-12 bg-gray-900 border border-gray-700 rounded-xl",children:a.jsx("p",{className:"text-gray-400",children:"No wallpaper found. Add one in the Wallpaper Management section."})})]})}function q_(){const[e,t]=S.useState(!1),[r,n]=S.useState(""),[i,s]=S.useState(!0),o=async()=>{t(!0),n("");try{const c=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/admin/fix-storage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`}})).json();c.success?(n(` ${c.message}`),s(!1)):n(` ${c.error||"Failed to fix storage"}`)}catch(l){n(` Error: ${l}`)}finally{t(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/90 to-black border-2 border-purple-500 rounded-lg max-w-2xl w-full p-6 shadow-2xl",children:[a.jsx("h2",{className:"text-2xl mb-4 text-purple-300",children:" Storage RLS Fix"}),i&&a.jsxs("div",{className:"bg-black/50 border border-purple-500/30 rounded p-4 mb-4 text-sm",children:[a.jsxs("p",{className:"text-purple-200 mb-3",children:[a.jsx("strong",{children:"Issue:"})," Supabase Storage has Row-Level Security (RLS) enabled without proper policies."]}),a.jsx("p",{className:"text-purple-200 mb-3",children:a.jsx("strong",{children:"Quick Fix Option 1 - Automatic (Try this first):"})}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Click the button below to attempt an automatic fix."}),a.jsx("p",{className:"text-purple-200 mb-3",children:a.jsx("strong",{children:"Manual Fix Option 2 - If automatic fails:"})}),a.jsxs("ol",{className:"text-gray-300 space-y-2 mb-4 ml-4 list-decimal",children:[a.jsx("li",{children:"Go to your Supabase Dashboard"}),a.jsx("li",{children:"Navigate to Storage  product-images bucket"}),a.jsx("li",{children:'Click "Policies" tab'}),a.jsx("li",{children:'Click "New Policy"'}),a.jsx("li",{children:'Choose "For full customization"'}),a.jsx("li",{children:'Policy name: "Allow all operations"'}),a.jsx("li",{children:'Target roles: Check "public"'}),a.jsx("li",{children:'Policy command: "All"'}),a.jsxs("li",{children:["USING expression: ",a.jsx("code",{className:"bg-purple-900/50 px-2 py-1 rounded",children:"true"})]}),a.jsxs("li",{children:["WITH CHECK expression: ",a.jsx("code",{className:"bg-purple-900/50 px-2 py-1 rounded",children:"true"})]}),a.jsx("li",{children:'Click "Review" then "Save policy"'})]}),a.jsx("p",{className:"text-purple-200 mb-2",children:a.jsx("strong",{children:"Or run this SQL in Supabase SQL Editor:"})}),a.jsx("pre",{className:"bg-black/70 p-3 rounded text-xs text-green-400 overflow-x-auto border border-purple-500/30",children:`CREATE POLICY "Allow all operations on product-images"
ON storage.objects FOR ALL
USING (bucket_id = 'product-images')
WITH CHECK (bucket_id = 'product-images');`})]}),a.jsx("button",{onClick:o,disabled:e,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 rounded-lg transition-all",children:e?"Fixing...":" Try Automatic Fix"}),r&&a.jsx("div",{className:`mt-4 p-4 rounded border ${r.includes("")?"bg-green-900/30 border-green-500 text-green-300":"bg-red-900/30 border-red-500 text-red-300"}`,children:r}),a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-all",children:"Close & Reload"})]})})}function z_(){const[e,t]=S.useState(!1),[r,n]=S.useState(null),[i,s]=S.useState(!1),[o,l]=S.useState(null),c=async()=>{t(!0);try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/email-config`,{headers:{Authorization:`Bearer ${Y}`}})).json();n(h)}catch{n({error:"Failed to check email configuration"})}finally{t(!1)}};S.useEffect(()=>{c()},[]);const u=r?.hostingerSmtpConfigured||r?.mailersendApiKeySet,d=async()=>{s(!0),l(null);try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({})})).json();l(h)}catch{l({success:!1,error:"Failed to send test email"})}finally{s(!1)}};return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-500/30 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Te,{className:"w-6 h-6 text-purple-400"}),a.jsx("h3",{className:"text-white text-xl",children:"Email Configuration"})]}),r?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`border rounded-lg p-4 ${u?"bg-green-900/20 border-green-500/30":"bg-yellow-900/20 border-yellow-500/30"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[u?a.jsx(st,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}):a.jsx(bn,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:u?"text-green-400":"text-yellow-400",children:r.message||"Checking configuration..."}),r?.provider?a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Provider: ",r.provider.toUpperCase()]}):null]})]})}),a.jsx("button",{onClick:c,disabled:e,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{className:"w-5 h-5"}),"Check Status"]})}),u?a.jsx("button",{onClick:d,disabled:i,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-800 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 mt-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fl,{className:"w-5 h-5"}),"Send Test Email"]})}):null,o?a.jsx("div",{className:`border rounded-lg p-4 ${o.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.success?a.jsx(st,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}):a.jsx(bn,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:o.success?"text-green-400":"text-red-400",children:o.message||"Test email sent"}),o.error?a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Error: ",o.error]}):null]})]})}):null]}):a.jsx("p",{className:"text-gray-400",children:"Loading email configuration..."})]})})}function U_(){const[e,t]=S.useState([]),[r,n]=S.useState(!0);S.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const o=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/admin/users`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({userId:"admin",password:"admin123"})})).json();o.success&&t(o.users)}catch(s){console.error("Error fetching users:",s)}finally{n(!1)}};return r?a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Vh,{className:"w-12 h-12 text-purple-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Loading users..."})]})}):a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-white mb-2 flex items-center gap-3",children:[a.jsx(Sn,{className:"w-8 h-8 text-purple-400"}),"User Management"]}),a.jsxs("p",{className:"text-gray-400",children:["Total Registered Users: ",a.jsx("span",{className:"text-purple-400",children:e.length})]})]})}),e.length===0?a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:[a.jsx(Dt,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"No users registered yet."})]}):a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-purple-900/40 border-b border-purple-500/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"#"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Phone"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Joined"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Last Sign In"})]})}),a.jsx("tbody",{children:e.map((s,o)=>a.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/20 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-gray-400",children:o+1}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-white",children:s.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-purple-300",children:s.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-gray-300",children:s.phone||"N/A"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jm,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-gray-400 text-sm",children:new Date(s.createdAt).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:s.lastSignIn?new Date(s.lastSignIn).toLocaleDateString():a.jsx("span",{className:"text-gray-600",children:"Never"})})]},s.id))})]})})})]})}function NS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=NS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=NS(e))&&(n&&(n+=" "),n+=t);return n}var yc,Ex;function wt(){if(Ex)return yc;Ex=1;var e=Array.isArray;return yc=e,yc}var vc,Ix;function SS(){if(Ix)return vc;Ix=1;var e=typeof Os=="object"&&Os&&Os.Object===Object&&Os;return vc=e,vc}var bc,Mx;function lr(){if(Mx)return bc;Mx=1;var e=SS(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return bc=r,bc}var wc,$x;function vs(){if($x)return wc;$x=1;var e=lr(),t=e.Symbol;return wc=t,wc}var jc,Dx;function V_(){if(Dx)return jc;Dx=1;var e=vs(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[i]=c:delete o[i]),d}return jc=s,jc}var Nc,Rx;function W_(){if(Rx)return Nc;Rx=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Nc=r,Nc}var Sc,Lx;function Or(){if(Lx)return Sc;Lx=1;var e=vs(),t=V_(),r=W_(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?t(l):r(l)}return Sc=o,Sc}var kc,Bx;function Tr(){if(Bx)return kc;Bx=1;function e(t){return t!=null&&typeof t=="object"}return kc=e,kc}var Pc,Fx;function qa(){if(Fx)return Pc;Fx=1;var e=Or(),t=Tr(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Pc=n,Pc}var Ac,qx;function t0(){if(qx)return Ac;qx=1;var e=wt(),t=qa(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Ac=i,Ac}var Cc,zx;function Wr(){if(zx)return Cc;zx=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Cc=e,Cc}var Oc,Ux;function r0(){if(Ux)return Oc;Ux=1;var e=Or(),t=Wr(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==i||c==r||c==s}return Oc=o,Oc}var Tc,Vx;function H_(){if(Vx)return Tc;Vx=1;var e=lr(),t=e["__core-js_shared__"];return Tc=t,Tc}var _c,Wx;function G_(){if(Wx)return _c;Wx=1;var e=H_(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return _c=r,_c}var Ec,Hx;function kS(){if(Hx)return Ec;Hx=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ec=r,Ec}var Ic,Gx;function K_(){if(Gx)return Ic;Gx=1;var e=r0(),t=G_(),r=Wr(),n=kS(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(h){if(!r(h)||t(h))return!1;var m=e(h)?d:s;return m.test(n(h))}return Ic=p,Ic}var Mc,Kx;function X_(){if(Kx)return Mc;Kx=1;function e(t,r){return t?.[r]}return Mc=e,Mc}var $c,Xx;function In(){if(Xx)return $c;Xx=1;var e=K_(),t=X_();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return $c=r,$c}var Dc,Yx;function xl(){if(Yx)return Dc;Yx=1;var e=In(),t=e(Object,"create");return Dc=t,Dc}var Rc,Jx;function Y_(){if(Jx)return Rc;Jx=1;var e=xl();function t(){this.__data__=e?e(null):{},this.size=0}return Rc=t,Rc}var Lc,Zx;function J_(){if(Zx)return Lc;Zx=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Lc=e,Lc}var Bc,Qx;function Z_(){if(Qx)return Bc;Qx=1;var e=xl(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return Bc=i,Bc}var Fc,ey;function Q_(){if(ey)return Fc;ey=1;var e=xl(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Fc=n,Fc}var qc,ty;function eE(){if(ty)return qc;ty=1;var e=xl(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return qc=r,qc}var zc,ry;function tE(){if(ry)return zc;ry=1;var e=Y_(),t=J_(),r=Z_(),n=Q_(),i=eE();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,zc=s,zc}var Uc,ny;function rE(){if(ny)return Uc;ny=1;function e(){this.__data__=[],this.size=0}return Uc=e,Uc}var Vc,ay;function n0(){if(ay)return Vc;ay=1;function e(t,r){return t===r||t!==t&&r!==r}return Vc=e,Vc}var Wc,iy;function yl(){if(iy)return Wc;iy=1;var e=n0();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Wc=t,Wc}var Hc,sy;function nE(){if(sy)return Hc;sy=1;var e=yl(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return Hc=n,Hc}var Gc,oy;function aE(){if(oy)return Gc;oy=1;var e=yl();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Gc=t,Gc}var Kc,ly;function iE(){if(ly)return Kc;ly=1;var e=yl();function t(r){return e(this.__data__,r)>-1}return Kc=t,Kc}var Xc,cy;function sE(){if(cy)return Xc;cy=1;var e=yl();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Xc=t,Xc}var Yc,uy;function vl(){if(uy)return Yc;uy=1;var e=rE(),t=nE(),r=aE(),n=iE(),i=sE();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Yc=s,Yc}var Jc,dy;function a0(){if(dy)return Jc;dy=1;var e=In(),t=lr(),r=e(t,"Map");return Jc=r,Jc}var Zc,py;function oE(){if(py)return Zc;py=1;var e=tE(),t=vl(),r=a0();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Zc=n,Zc}var Qc,hy;function lE(){if(hy)return Qc;hy=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Qc=e,Qc}var eu,fy;function bl(){if(fy)return eu;fy=1;var e=lE();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return eu=t,eu}var tu,my;function cE(){if(my)return tu;my=1;var e=bl();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return tu=t,tu}var ru,gy;function uE(){if(gy)return ru;gy=1;var e=bl();function t(r){return e(this,r).get(r)}return ru=t,ru}var nu,xy;function dE(){if(xy)return nu;xy=1;var e=bl();function t(r){return e(this,r).has(r)}return nu=t,nu}var au,yy;function pE(){if(yy)return au;yy=1;var e=bl();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return au=t,au}var iu,vy;function i0(){if(vy)return iu;vy=1;var e=oE(),t=cE(),r=uE(),n=dE(),i=pE();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,iu=s,iu}var su,by;function PS(){if(by)return su;by=1;var e=i0(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,su=r,su}var ou,wy;function hE(){if(wy)return ou;wy=1;var e=PS(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return ou=r,ou}var lu,jy;function fE(){if(jy)return lu;jy=1;var e=hE(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return lu=n,lu}var cu,Ny;function s0(){if(Ny)return cu;Ny=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return cu=e,cu}var uu,Sy;function mE(){if(Sy)return uu;Sy=1;var e=vs(),t=s0(),r=wt(),n=qa(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return uu=o,uu}var du,ky;function AS(){if(ky)return du;ky=1;var e=mE();function t(r){return r==null?"":e(r)}return du=t,du}var pu,Py;function CS(){if(Py)return pu;Py=1;var e=wt(),t=t0(),r=fE(),n=AS();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return pu=i,pu}var hu,Ay;function wl(){if(Ay)return hu;Ay=1;var e=qa();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return hu=t,hu}var fu,Cy;function o0(){if(Cy)return fu;Cy=1;var e=CS(),t=wl();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return fu=r,fu}var mu,Oy;function OS(){if(Oy)return mu;Oy=1;var e=o0();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return mu=t,mu}var gE=OS();const At=Pe(gE);var gu,Ty;function xE(){if(Ty)return gu;Ty=1;function e(t){return t==null}return gu=e,gu}var yE=xE();const he=Pe(yE);var xu,_y;function vE(){if(_y)return xu;_y=1;var e=Or(),t=wt(),r=Tr(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return xu=i,xu}var bE=vE();const kn=Pe(bE);var wE=r0();const ue=Pe(wE);var jE=Wr();const za=Pe(jE);var yu={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function NE(){if(Ey)return je;Ey=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function g(f){if(typeof f=="object"&&f!==null){var b=f.$$typeof;switch(b){case e:switch(f=f.type,f){case r:case i:case n:case u:case d:return f;default:switch(f=f&&f.$$typeof,f){case l:case o:case c:case h:case p:case s:return f;default:return b}}case t:return b}}}return je.ContextConsumer=o,je.ContextProvider=s,je.Element=e,je.ForwardRef=c,je.Fragment=r,je.Lazy=h,je.Memo=p,je.Portal=t,je.Profiler=i,je.StrictMode=n,je.Suspense=u,je.SuspenseList=d,je.isAsyncMode=function(){return!1},je.isConcurrentMode=function(){return!1},je.isContextConsumer=function(f){return g(f)===o},je.isContextProvider=function(f){return g(f)===s},je.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===e},je.isForwardRef=function(f){return g(f)===c},je.isFragment=function(f){return g(f)===r},je.isLazy=function(f){return g(f)===h},je.isMemo=function(f){return g(f)===p},je.isPortal=function(f){return g(f)===t},je.isProfiler=function(f){return g(f)===i},je.isStrictMode=function(f){return g(f)===n},je.isSuspense=function(f){return g(f)===u},je.isSuspenseList=function(f){return g(f)===d},je.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===r||f===i||f===n||f===u||f===d||f===m||typeof f=="object"&&f!==null&&(f.$$typeof===h||f.$$typeof===p||f.$$typeof===s||f.$$typeof===o||f.$$typeof===c||f.$$typeof===x||f.getModuleId!==void 0)},je.typeOf=g,je}var Iy;function SE(){return Iy||(Iy=1,yu.exports=NE()),yu.exports}var kE=SE(),vu,My;function TS(){if(My)return vu;My=1;var e=Or(),t=Tr(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return vu=n,vu}var bu,$y;function PE(){if($y)return bu;$y=1;var e=TS();function t(r){return e(r)&&r!=+r}return bu=t,bu}var AE=PE();const bs=Pe(AE);var CE=TS();const OE=Pe(CE);var ft=function(t){return t===0?0:t>0?1:-1},on=function(t){return kn(t)&&t.indexOf("%")===t.length-1},Z=function(t){return OE(t)&&!bs(t)},TE=function(t){return he(t)},Je=function(t){return Z(t)||kn(t)},_E=0,Ua=function(t){var r=++_E;return"".concat(t||"").concat(r)},mt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!kn(t))return n;var s;if(on(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return bs(s)&&(s=n),i&&s>r&&(s=r),s},Dr=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},EE=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},kt=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function uo(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):At(n,t))===r})}var IE=function(t,r){return Z(t)&&Z(r)?t-r:kn(t)&&kn(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function aa(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}var ME=["viewBox","children"],$E=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Dy=["points","pathLength"],wu={svg:ME,polygon:Dy,polyline:Dy},l0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],po=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!za(n))return null;var i={};return Object.keys(n).forEach(function(s){l0.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},DE=function(t,r,n){return function(i){return t(r,n,i),null}},Pn=function(t,r,n){if(!za(t)||Kh(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];l0.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=DE(o,r,n))}),i},RE=["children"],LE=["children"];function Ry(e,t){if(e==null)return{};var r=BE(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var Ly={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},By=null,ju=null,c0=function e(t){if(t===By&&Array.isArray(ju))return ju;var r=[];return S.Children.forEach(t,function(n){he(n)||(kE.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ju=r,By=t,r};function Ct(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return yr(i)}):n=[yr(t)],c0(e).forEach(function(i){var s=At(i,"type.displayName")||At(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function St(e,t){var r=Ct(e,t);return r&&r[0]}var Fy=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Z(n)||n<=0||!Z(i)||i<=0)},FE=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qE=function(t){return t&&t.type&&kn(t.type)&&FE.indexOf(t.type)>=0},zE=function(t){return t&&Xh(t)==="object"&&"clipDot"in t},UE=function(t,r,n,i){var s,o=(s=wu?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ue(t)&&(i&&o.includes(r)||$E.includes(r))||n&&l0.includes(r)},se=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!za(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;UE((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},Yh=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return qy(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!qy(s,o))return!1}return!0},qy=function(t,r){if(he(t)&&he(r))return!0;if(!he(t)&&!he(r)){var n=t.props||{},i=n.children,s=Ry(n,RE),o=r.props||{},l=o.children,c=Ry(o,LE);return i&&l?aa(s,c)&&Yh(i,l):!i&&!l?aa(s,c):!1}return!1},zy=function(t,r){var n=[],i={};return c0(t).forEach(function(s,o){if(qE(s))n.push(s);else if(s){var l=yr(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var p=u(s,l,o);n.push(p),i[l]=!0}}}),n},VE=function(t){var r=t&&t.type;return r&&Ly[r]?Ly[r]:null},WE=function(t,r){return c0(r).indexOf(t)},HE=["children","width","height","viewBox","className","style","title","desc"];function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(this,arguments)}function GE(e,t){if(e==null)return{};var r=KE(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zh(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=GE(e,HE),d=i||{width:r,height:n,x:0,y:0},p=fe("recharts-surface",s);return E.createElement("svg",Jh({},se(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),E.createElement("title",null,l),E.createElement("desc",null,c),t)}var XE=["children","className"];function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(this,arguments)}function YE(e,t){if(e==null)return{};var r=JE(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ve=E.forwardRef(function(e,t){var r=e.children,n=e.className,i=YE(e,XE),s=fe("recharts-layer",n);return E.createElement("g",Qh({className:s},se(i,!0),{ref:t}),r)}),Jt=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Nu,Uy;function ZE(){if(Uy)return Nu;Uy=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+r];return o}return Nu=e,Nu}var Su,Vy;function QE(){if(Vy)return Su;Vy=1;var e=ZE();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return Su=t,Su}var ku,Wy;function _S(){if(Wy)return ku;Wy=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+s+"]");function c(u){return l.test(u)}return ku=c,ku}var Pu,Hy;function e6(){if(Hy)return Pu;Hy=1;function e(t){return t.split("")}return Pu=e,Pu}var Au,Gy;function t6(){if(Gy)return Au;Gy=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",x=u+"?",g="["+s+"]?",f="(?:"+m+"(?:"+[d,p,h].join("|")+")"+g+x+")*",b=g+x+f,w="(?:"+[d+l+"?",l,p,h,o].join("|")+")",y=RegExp(c+"(?="+c+")|"+w+b,"g");function j(v){return v.match(y)||[]}return Au=j,Au}var Cu,Ky;function r6(){if(Ky)return Cu;Ky=1;var e=e6(),t=_S(),r=t6();function n(i){return t(i)?r(i):e(i)}return Cu=n,Cu}var Ou,Xy;function n6(){if(Xy)return Ou;Xy=1;var e=QE(),t=_S(),r=r6(),n=AS();function i(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[s]()+u}}return Ou=i,Ou}var Tu,Yy;function a6(){if(Yy)return Tu;Yy=1;var e=n6(),t=e("toUpperCase");return Tu=t,Tu}var i6=a6();const jl=Pe(i6);function Oe(e){return function(){return e}}const ES=Math.cos,ho=Math.sin,Qt=Math.sqrt,fo=Math.PI,Nl=2*fo,ef=Math.PI,tf=2*ef,tn=1e-6,s6=tf-tn;function IS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function o6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IS;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class l6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IS:o6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,d=o-t,p=l-r,h=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>tn)if(!(Math.abs(p*c-u*d)>tn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=i-l,g=c*c+u*u,f=m*m+x*x,b=Math.sqrt(g),w=Math.sqrt(h),y=s*Math.tan((ef-Math.acos((g+h-f)/(2*b*w)))/2),j=y/w,v=y/b;Math.abs(j-1)>tn&&this._append`L${t+j*d},${r+j*p}`,this._append`A${s},${s},0,0,${+(p*m>d*x)},${this._x1=t+v*c},${this._y1=r+v*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,p=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>tn||Math.abs(this._y1-d)>tn)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%tf+tf),h>s6?this._append`A${n},${n},0,1,${p},${t-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=d}`:h>tn&&this._append`A${n},${n},0,${+(h>=ef)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function u0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new l6(t)}function d0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MS(e){this._context=e}MS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sl(e){return new MS(e)}function $S(e){return e[0]}function DS(e){return e[1]}function RS(e,t){var r=Oe(!0),n=null,i=Sl,s=null,o=u0(l);e=typeof e=="function"?e:e===void 0?$S:Oe(e),t=typeof t=="function"?t:t===void 0?DS:Oe(t);function l(c){var u,d=(c=d0(c)).length,p,h=!1,m;for(n==null&&(s=i(m=o())),u=0;u<=d;++u)!(u<d&&r(p=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(p,u,c),+t(p,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Oe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Oe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Oe(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function $s(e,t,r){var n=null,i=Oe(!0),s=null,o=Sl,l=null,c=u0(u);e=typeof e=="function"?e:e===void 0?$S:Oe(+e),t=typeof t=="function"?t:Oe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DS:Oe(+r);function u(p){var h,m,x,g=(p=d0(p)).length,f,b=!1,w,y=new Array(g),j=new Array(g);for(s==null&&(l=o(w=c())),h=0;h<=g;++h){if(!(h<g&&i(f=p[h],h,p))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(y[x],j[x]);l.lineEnd(),l.areaEnd()}b&&(y[h]=+e(f,h,p),j[h]=+t(f,h,p),l.point(n?+n(f,h,p):y[h],r?+r(f,h,p):j[h]))}if(w)return l=null,w+""||null}function d(){return RS().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Oe(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Oe(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Oe(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Oe(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Oe(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Oe(+p),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Oe(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(l=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=l=null:l=o(s=p),u):s},u}class LS{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function c6(e){return new LS(e,!0)}function u6(e){return new LS(e,!1)}const p0={draw(e,t){const r=Qt(t/fo);e.moveTo(r,0),e.arc(0,0,r,0,Nl)}},d6={draw(e,t){const r=Qt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BS=Qt(1/3),p6=BS*2,h6={draw(e,t){const r=Qt(t/p6),n=r*BS;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},f6={draw(e,t){const r=Qt(t),n=-r/2;e.rect(n,n,r,r)}},m6=.8908130915292852,FS=ho(fo/10)/ho(7*fo/10),g6=ho(Nl/10)*FS,x6=-ES(Nl/10)*FS,y6={draw(e,t){const r=Qt(t*m6),n=g6*r,i=x6*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=Nl*s/5,l=ES(o),c=ho(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},_u=Qt(3),v6={draw(e,t){const r=-Qt(t/(_u*3));e.moveTo(0,r*2),e.lineTo(-_u*r,-r),e.lineTo(_u*r,-r),e.closePath()}},Ot=-.5,Tt=Qt(3)/2,rf=1/Qt(12),b6=(rf/2+1)*3,w6={draw(e,t){const r=Qt(t/b6),n=r/2,i=r*rf,s=n,o=r*rf+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ot*n-Tt*i,Tt*n+Ot*i),e.lineTo(Ot*s-Tt*o,Tt*s+Ot*o),e.lineTo(Ot*l-Tt*c,Tt*l+Ot*c),e.lineTo(Ot*n+Tt*i,Ot*i-Tt*n),e.lineTo(Ot*s+Tt*o,Ot*o-Tt*s),e.lineTo(Ot*l+Tt*c,Ot*c-Tt*l),e.closePath()}};function j6(e,t){let r=null,n=u0(i);e=typeof e=="function"?e:Oe(e||p0),t=typeof t=="function"?t:Oe(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Oe(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Oe(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function mo(){}function go(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qS(e){this._context=e}qS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:go(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:go(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N6(e){return new qS(e)}function zS(e){this._context=e}zS.prototype={areaStart:mo,areaEnd:mo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:go(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S6(e){return new zS(e)}function US(e){this._context=e}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:go(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k6(e){return new US(e)}function VS(e){this._context=e}VS.prototype={areaStart:mo,areaEnd:mo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P6(e){return new VS(e)}function Jy(e){return e<0?-1:1}function Zy(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(Jy(s)+Jy(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Qy(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Eu(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function xo(e){this._context=e}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eu(this,this._t0,Qy(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Eu(this,Qy(this,r=Zy(this,e,t)),r);break;default:Eu(this,this._t0,r=Zy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function WS(e){this._context=new HS(e)}(WS.prototype=Object.create(xo.prototype)).point=function(e,t){xo.prototype.point.call(this,t,e)};function HS(e){this._context=e}HS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function A6(e){return new xo(e)}function C6(e){return new WS(e)}function GS(e){this._context=e}GS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ev(e),i=ev(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ev(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function O6(e){return new GS(e)}function kl(e,t){this._context=e,this._t=t}kl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function T6(e){return new kl(e,.5)}function _6(e){return new kl(e,0)}function E6(e){return new kl(e,1)}function ua(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nf(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function I6(e,t){return e[t]}function M6(e){const t=[];return t.key=e,t}function $6(){var e=Oe([]),t=nf,r=ua,n=I6;function i(s){var o=Array.from(e.apply(this,arguments),M6),l,c=o.length,u=-1,d;for(const p of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(p,o[l].key,u,s)]).data=p;for(l=0,d=d0(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Oe(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Oe(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?nf:typeof s=="function"?s:Oe(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??ua,i):r},i}function D6(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ua(e,t)}}function R6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ua(e,t)}}function L6(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],p=d[n][1]||0,h=d[n-1][1]||0,m=(p-h)/2,x=0;x<l;++x){var g=e[t[x]],f=g[n][1]||0,b=g[n-1][1]||0;m+=f-b}c+=p,u+=m*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ua(e,t)}}function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}var B6=["type","size","sizeType"];function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function tv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tv(Object(r),!0).forEach(function(n){F6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F6(e,t,r){return t=q6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q6(e){var t=z6(e,"string");return Ii(t)=="symbol"?t:t+""}function z6(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U6(e,t){if(e==null)return{};var r=V6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KS={symbolCircle:p0,symbolCross:d6,symbolDiamond:h6,symbolSquare:f6,symbolStar:y6,symbolTriangle:v6,symbolWye:w6},W6=Math.PI/180,H6=function(t){var r="symbol".concat(jl(t));return KS[r]||p0},G6=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*W6;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},K6=function(t,r){KS["symbol".concat(jl(t))]=r},h0=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=U6(t,B6),u=rv(rv({},c),{},{type:n,size:s,sizeType:l}),d=function(){var f=H6(n),b=j6().type(f).size(G6(s,l,n));return b()},p=u.className,h=u.cx,m=u.cy,x=se(u,!0);return h===+h&&m===+m&&s===+s?E.createElement("path",af({},x,{className:fe("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};h0.registerSymbol=K6;function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){Mi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YS(n.key),n)}}function Z6(e,t,r){return t&&J6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q6(e,t,r){return t=yo(t),eI(e,XS()?Reflect.construct(t,r||[],yo(e).constructor):t.apply(e,r))}function eI(e,t){if(t&&(da(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tI(e)}function tI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XS=function(){return!!e})()}function yo(e){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yo(e)}function rI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&of(e,t)}function of(e,t){return of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},of(e,t)}function Mi(e,t,r){return t=YS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YS(e){var t=nI(e,"string");return da(t)=="symbol"?t:t+""}function nI(e,t){if(da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _t=32,f0=(function(e){function t(){return Y6(this,t),Q6(this,t,arguments)}return rI(t,e),Z6(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=_t/2,o=_t/6,l=_t/3,c=n.inactive?i:n.color;if(n.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:_t,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(_t,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return E.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_t/8,"h").concat(_t,"v").concat(_t*3/4,"h").concat(-_t,"z"),className:"recharts-legend-icon"});if(E.isValidElement(n.legendIcon)){var u=X6({},n);return delete u.legendIcon,E.cloneElement(n.legendIcon,u)}return E.createElement(h0,{fill:c,cx:s,cy:s,size:_t,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:_t,height:_t},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,x){var g=m.formatter||c,f=fe(Mi(Mi({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=ue(m.value)?null:m.value;Jt(!ue(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return E.createElement("li",sf({className:f,style:p,key:"legend-item-".concat(x)},Pn(n.props,m,x)),E.createElement(Zh,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,m,x):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);Mi(f0,"displayName","Legend");Mi(f0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Iu,av;function aI(){if(av)return Iu;av=1;var e=vl();function t(){this.__data__=new e,this.size=0}return Iu=t,Iu}var Mu,iv;function iI(){if(iv)return Mu;iv=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Mu=e,Mu}var $u,sv;function sI(){if(sv)return $u;sv=1;function e(t){return this.__data__.get(t)}return $u=e,$u}var Du,ov;function oI(){if(ov)return Du;ov=1;function e(t){return this.__data__.has(t)}return Du=e,Du}var Ru,lv;function lI(){if(lv)return Ru;lv=1;var e=vl(),t=a0(),r=i0(),n=200;function i(s,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return Ru=i,Ru}var Lu,cv;function JS(){if(cv)return Lu;cv=1;var e=vl(),t=aI(),r=iI(),n=sI(),i=oI(),s=lI();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,Lu=o,Lu}var Bu,uv;function cI(){if(uv)return Bu;uv=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Bu=t,Bu}var Fu,dv;function uI(){if(dv)return Fu;dv=1;function e(t){return this.__data__.has(t)}return Fu=e,Fu}var qu,pv;function ZS(){if(pv)return qu;pv=1;var e=i0(),t=cI(),r=uI();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,qu=n,qu}var zu,hv;function QS(){if(hv)return zu;hv=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return zu=e,zu}var Uu,fv;function ek(){if(fv)return Uu;fv=1;function e(t,r){return t.has(r)}return Uu=e,Uu}var Vu,mv;function tk(){if(mv)return Vu;mv=1;var e=ZS(),t=QS(),r=ek(),n=1,i=2;function s(o,l,c,u,d,p){var h=c&n,m=o.length,x=l.length;if(m!=x&&!(h&&x>m))return!1;var g=p.get(o),f=p.get(l);if(g&&f)return g==l&&f==o;var b=-1,w=!0,y=c&i?new e:void 0;for(p.set(o,l),p.set(l,o);++b<m;){var j=o[b],v=l[b];if(u)var N=h?u(v,j,b,l,o,p):u(j,v,b,o,l,p);if(N!==void 0){if(N)continue;w=!1;break}if(y){if(!t(l,function(k,P){if(!r(y,P)&&(j===k||d(j,k,c,u,p)))return y.push(P)})){w=!1;break}}else if(!(j===v||d(j,v,c,u,p))){w=!1;break}}return p.delete(o),p.delete(l),w}return Vu=s,Vu}var Wu,gv;function dI(){if(gv)return Wu;gv=1;var e=lr(),t=e.Uint8Array;return Wu=t,Wu}var Hu,xv;function pI(){if(xv)return Hu;xv=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return Hu=e,Hu}var Gu,yv;function m0(){if(yv)return Gu;yv=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Gu=e,Gu}var Ku,vv;function hI(){if(vv)return Ku;vv=1;var e=vs(),t=dI(),r=n0(),n=tk(),i=pI(),s=m0(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Map]",h="[object Number]",m="[object RegExp]",x="[object Set]",g="[object String]",f="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",y=e?e.prototype:void 0,j=y?y.valueOf:void 0;function v(N,k,P,C,$,O,A){switch(P){case w:if(N.byteLength!=k.byteLength||N.byteOffset!=k.byteOffset)return!1;N=N.buffer,k=k.buffer;case b:return!(N.byteLength!=k.byteLength||!O(new t(N),new t(k)));case c:case u:case h:return r(+N,+k);case d:return N.name==k.name&&N.message==k.message;case m:case g:return N==k+"";case p:var T=i;case x:var I=C&o;if(T||(T=s),N.size!=k.size&&!I)return!1;var M=A.get(N);if(M)return M==k;C|=l,A.set(N,k);var R=n(T(N),T(k),C,$,O,A);return A.delete(N),R;case f:if(j)return j.call(N)==j.call(k)}return!1}return Ku=v,Ku}var Xu,bv;function rk(){if(bv)return Xu;bv=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return Xu=e,Xu}var Yu,wv;function fI(){if(wv)return Yu;wv=1;var e=rk(),t=wt();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return Yu=r,Yu}var Ju,jv;function mI(){if(jv)return Ju;jv=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return Ju=e,Ju}var Zu,Nv;function gI(){if(Nv)return Zu;Nv=1;function e(){return[]}return Zu=e,Zu}var Qu,Sv;function xI(){if(Sv)return Qu;Sv=1;var e=mI(),t=gI(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return n.call(o,l)}))}:t;return Qu=s,Qu}var ed,kv;function yI(){if(kv)return ed;kv=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return ed=e,ed}var td,Pv;function vI(){if(Pv)return td;Pv=1;var e=Or(),t=Tr(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return td=n,td}var rd,Av;function g0(){if(Av)return rd;Av=1;var e=vI(),t=Tr(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return rd=s,rd}var oi={exports:{}},nd,Cv;function bI(){if(Cv)return nd;Cv=1;function e(){return!1}return nd=e,nd}oi.exports;var Ov;function nk(){return Ov||(Ov=1,(function(e,t){var r=lr(),n=bI(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(oi,oi.exports)),oi.exports}var ad,Tv;function x0(){if(Tv)return ad;Tv=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return ad=r,ad}var id,_v;function y0(){if(_v)return id;_v=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return id=t,id}var sd,Ev;function wI(){if(Ev)return sd;Ev=1;var e=Or(),t=y0(),r=Tr(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",p="[object Object]",h="[object RegExp]",m="[object Set]",x="[object String]",g="[object WeakMap]",f="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",y="[object Float64Array]",j="[object Int8Array]",v="[object Int16Array]",N="[object Int32Array]",k="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",$="[object Uint32Array]",O={};O[w]=O[y]=O[j]=O[v]=O[N]=O[k]=O[P]=O[C]=O[$]=!0,O[n]=O[i]=O[f]=O[s]=O[b]=O[o]=O[l]=O[c]=O[u]=O[d]=O[p]=O[h]=O[m]=O[x]=O[g]=!1;function A(T){return r(T)&&t(T.length)&&!!O[e(T)]}return sd=A,sd}var od,Iv;function ak(){if(Iv)return od;Iv=1;function e(t){return function(r){return t(r)}}return od=e,od}var li={exports:{}};li.exports;var Mv;function jI(){return Mv||(Mv=1,(function(e,t){var r=SS(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(li,li.exports)),li.exports}var ld,$v;function ik(){if($v)return ld;$v=1;var e=wI(),t=ak(),r=jI(),n=r&&r.isTypedArray,i=n?t(n):e;return ld=i,ld}var cd,Dv;function NI(){if(Dv)return cd;Dv=1;var e=yI(),t=g0(),r=wt(),n=nk(),i=x0(),s=ik(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var p=r(u),h=!p&&t(u),m=!p&&!h&&n(u),x=!p&&!h&&!m&&s(u),g=p||h||m||x,f=g?e(u.length,String):[],b=f.length;for(var w in u)(d||l.call(u,w))&&!(g&&(w=="length"||m&&(w=="offset"||w=="parent")||x&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,b)))&&f.push(w);return f}return cd=c,cd}var ud,Rv;function SI(){if(Rv)return ud;Rv=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return ud=t,ud}var dd,Lv;function sk(){if(Lv)return dd;Lv=1;function e(t,r){return function(n){return t(r(n))}}return dd=e,dd}var pd,Bv;function kI(){if(Bv)return pd;Bv=1;var e=sk(),t=e(Object.keys,Object);return pd=t,pd}var hd,Fv;function PI(){if(Fv)return hd;Fv=1;var e=SI(),t=kI(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return hd=i,hd}var fd,qv;function ws(){if(qv)return fd;qv=1;var e=r0(),t=y0();function r(n){return n!=null&&t(n.length)&&!e(n)}return fd=r,fd}var md,zv;function Pl(){if(zv)return md;zv=1;var e=NI(),t=PI(),r=ws();function n(i){return r(i)?e(i):t(i)}return md=n,md}var gd,Uv;function AI(){if(Uv)return gd;Uv=1;var e=fI(),t=xI(),r=Pl();function n(i){return e(i,r,t)}return gd=n,gd}var xd,Vv;function CI(){if(Vv)return xd;Vv=1;var e=AI(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,u,d){var p=l&t,h=e(s),m=h.length,x=e(o),g=x.length;if(m!=g&&!p)return!1;for(var f=m;f--;){var b=h[f];if(!(p?b in o:n.call(o,b)))return!1}var w=d.get(s),y=d.get(o);if(w&&y)return w==o&&y==s;var j=!0;d.set(s,o),d.set(o,s);for(var v=p;++f<m;){b=h[f];var N=s[b],k=o[b];if(c)var P=p?c(k,N,b,o,s,d):c(N,k,b,s,o,d);if(!(P===void 0?N===k||u(N,k,l,c,d):P)){j=!1;break}v||(v=b=="constructor")}if(j&&!v){var C=s.constructor,$=o.constructor;C!=$&&"constructor"in s&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof $=="function"&&$ instanceof $)&&(j=!1)}return d.delete(s),d.delete(o),j}return xd=i,xd}var yd,Wv;function OI(){if(Wv)return yd;Wv=1;var e=In(),t=lr(),r=e(t,"DataView");return yd=r,yd}var vd,Hv;function TI(){if(Hv)return vd;Hv=1;var e=In(),t=lr(),r=e(t,"Promise");return vd=r,vd}var bd,Gv;function ok(){if(Gv)return bd;Gv=1;var e=In(),t=lr(),r=e(t,"Set");return bd=r,bd}var wd,Kv;function _I(){if(Kv)return wd;Kv=1;var e=In(),t=lr(),r=e(t,"WeakMap");return wd=r,wd}var jd,Xv;function EI(){if(Xv)return jd;Xv=1;var e=OI(),t=a0(),r=TI(),n=ok(),i=_I(),s=Or(),o=kS(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=o(e),x=o(t),g=o(r),f=o(n),b=o(i),w=s;return(e&&w(new e(new ArrayBuffer(1)))!=h||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=d||i&&w(new i)!=p)&&(w=function(y){var j=s(y),v=j==c?y.constructor:void 0,N=v?o(v):"";if(N)switch(N){case m:return h;case x:return l;case g:return u;case f:return d;case b:return p}return j}),jd=w,jd}var Nd,Yv;function II(){if(Yv)return Nd;Yv=1;var e=JS(),t=tk(),r=hI(),n=CI(),i=EI(),s=wt(),o=nk(),l=ik(),c=1,u="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function x(g,f,b,w,y,j){var v=s(g),N=s(f),k=v?d:i(g),P=N?d:i(f);k=k==u?p:k,P=P==u?p:P;var C=k==p,$=P==p,O=k==P;if(O&&o(g)){if(!o(f))return!1;v=!0,C=!1}if(O&&!C)return j||(j=new e),v||l(g)?t(g,f,b,w,y,j):r(g,f,k,b,w,y,j);if(!(b&c)){var A=C&&m.call(g,"__wrapped__"),T=$&&m.call(f,"__wrapped__");if(A||T){var I=A?g.value():g,M=T?f.value():f;return j||(j=new e),y(I,M,b,w,j)}}return O?(j||(j=new e),n(g,f,b,w,y,j)):!1}return Nd=x,Nd}var Sd,Jv;function v0(){if(Jv)return Sd;Jv=1;var e=II(),t=Tr();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,l)}return Sd=r,Sd}var kd,Zv;function MI(){if(Zv)return kd;Zv=1;var e=JS(),t=v0(),r=1,n=2;function i(s,o,l,c){var u=l.length,d=u,p=!c;if(s==null)return!d;for(s=Object(s);u--;){var h=l[u];if(p&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++u<d;){h=l[u];var m=h[0],x=s[m],g=h[1];if(p&&h[2]){if(x===void 0&&!(m in s))return!1}else{var f=new e;if(c)var b=c(x,g,m,s,o,f);if(!(b===void 0?t(g,x,r|n,c,f):b))return!1}}return!0}return kd=i,kd}var Pd,Qv;function lk(){if(Qv)return Pd;Qv=1;var e=Wr();function t(r){return r===r&&!e(r)}return Pd=t,Pd}var Ad,eb;function $I(){if(eb)return Ad;eb=1;var e=lk(),t=Pl();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,e(l)]}return i}return Ad=r,Ad}var Cd,tb;function ck(){if(tb)return Cd;tb=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Cd=e,Cd}var Od,rb;function DI(){if(rb)return Od;rb=1;var e=MI(),t=$I(),r=ck();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return Od=n,Od}var Td,nb;function RI(){if(nb)return Td;nb=1;function e(t,r){return t!=null&&r in Object(t)}return Td=e,Td}var _d,ab;function LI(){if(ab)return _d;ab=1;var e=CS(),t=g0(),r=wt(),n=x0(),i=y0(),s=wl();function o(l,c,u){c=e(c,l);for(var d=-1,p=c.length,h=!1;++d<p;){var m=s(c[d]);if(!(h=l!=null&&u(l,m)))break;l=l[m]}return h||++d!=p?h:(p=l==null?0:l.length,!!p&&i(p)&&n(m,p)&&(r(l)||t(l)))}return _d=o,_d}var Ed,ib;function BI(){if(ib)return Ed;ib=1;var e=RI(),t=LI();function r(n,i){return n!=null&&t(n,i,e)}return Ed=r,Ed}var Id,sb;function FI(){if(sb)return Id;sb=1;var e=v0(),t=OS(),r=BI(),n=t0(),i=lk(),s=ck(),o=wl(),l=1,c=2;function u(d,p){return n(d)&&i(p)?s(o(d),p):function(h){var m=t(h,d);return m===void 0&&m===p?r(h,d):e(p,m,l|c)}}return Id=u,Id}var Md,ob;function Va(){if(ob)return Md;ob=1;function e(t){return t}return Md=e,Md}var $d,lb;function qI(){if(lb)return $d;lb=1;function e(t){return function(r){return r?.[t]}}return $d=e,$d}var Dd,cb;function zI(){if(cb)return Dd;cb=1;var e=o0();function t(r){return function(n){return e(n,r)}}return Dd=t,Dd}var Rd,ub;function UI(){if(ub)return Rd;ub=1;var e=qI(),t=zI(),r=t0(),n=wl();function i(s){return r(s)?e(n(s)):t(s)}return Rd=i,Rd}var Ld,db;function cr(){if(db)return Ld;db=1;var e=DI(),t=FI(),r=Va(),n=wt(),i=UI();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return Ld=s,Ld}var Bd,pb;function uk(){if(pb)return Bd;pb=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return Bd=e,Bd}var Fd,hb;function VI(){if(hb)return Fd;hb=1;function e(t){return t!==t}return Fd=e,Fd}var qd,fb;function WI(){if(fb)return qd;fb=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return qd=e,qd}var zd,mb;function HI(){if(mb)return zd;mb=1;var e=uk(),t=VI(),r=WI();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return zd=n,zd}var Ud,gb;function GI(){if(gb)return Ud;gb=1;var e=HI();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Ud=t,Ud}var Vd,xb;function KI(){if(xb)return Vd;xb=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return Vd=e,Vd}var Wd,yb;function XI(){if(yb)return Wd;yb=1;function e(){}return Wd=e,Wd}var Hd,vb;function YI(){if(vb)return Hd;vb=1;var e=ok(),t=XI(),r=m0(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Hd=i,Hd}var Gd,bb;function JI(){if(bb)return Gd;bb=1;var e=ZS(),t=GI(),r=KI(),n=ek(),i=YI(),s=m0(),o=200;function l(c,u,d){var p=-1,h=t,m=c.length,x=!0,g=[],f=g;if(d)x=!1,h=r;else if(m>=o){var b=u?null:i(c);if(b)return s(b);x=!1,h=n,f=new e}else f=u?[]:g;e:for(;++p<m;){var w=c[p],y=u?u(w):w;if(w=d||w!==0?w:0,x&&y===y){for(var j=f.length;j--;)if(f[j]===y)continue e;u&&f.push(y),g.push(w)}else h(f,y,d)||(f!==g&&f.push(y),g.push(w))}return g}return Gd=l,Gd}var Kd,wb;function ZI(){if(wb)return Kd;wb=1;var e=cr(),t=JI();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Kd=r,Kd}var QI=ZI();const jb=Pe(QI);function dk(e,t,r){return t===!0?jb(e,r):ue(t)?jb(e,t):e}function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}var eM=["ref"];function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){Al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hk(n.key),n)}}function rM(e,t,r){return t&&Sb(e.prototype,t),r&&Sb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nM(e,t,r){return t=vo(t),aM(e,pk()?Reflect.construct(t,r||[],vo(e).constructor):t.apply(e,r))}function aM(e,t){if(t&&(pa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iM(e)}function iM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pk=function(){return!!e})()}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vo(e)}function sM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lf(e,t)}function lf(e,t){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lf(e,t)}function Al(e,t,r){return t=hk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hk(e){var t=oM(e,"string");return pa(t)=="symbol"?t:t+""}function oM(e,t){if(pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lM(e,t){if(e==null)return{};var r=cM(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uM(e){return e.value}function dM(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=lM(t,eM);return E.createElement(f0,r)}var kb=1,gn=(function(e){function t(){var r;tM(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=nM(this,t,[].concat(i)),Al(r,"lastBoundingBox",{width:-1,height:-1}),r}return sM(t,e),rM(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kb||Math.abs(i.height-this.lastBoundingBox.height)>kb)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,p,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();p={left:((u||0)-m.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return dr(dr({},p),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,p=dr(dr({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return E.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(m){n.wrapperNode=m}},dM(s,dr(dr({},this.props),{},{payload:dk(d,u,uM)})))}}],[{key:"getWithHeight",value:function(n,i){var s=dr(dr({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);Al(gn,"displayName","Legend");Al(gn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xd,Pb;function pM(){if(Pb)return Xd;Pb=1;var e=vs(),t=g0(),r=wt(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Xd=i,Xd}var Yd,Ab;function fk(){if(Ab)return Yd;Ab=1;var e=rk(),t=pM();function r(n,i,s,o,l){var c=-1,u=n.length;for(s||(s=t),l||(l=[]);++c<u;){var d=n[c];i>0&&s(d)?i>1?r(d,i-1,s,o,l):e(l,d):o||(l[l.length]=d)}return l}return Yd=r,Yd}var Jd,Cb;function hM(){if(Cb)return Jd;Cb=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[t?c:++s];if(n(o[u],u,o)===!1)break}return r}}return Jd=e,Jd}var Zd,Ob;function fM(){if(Ob)return Zd;Ob=1;var e=hM(),t=e();return Zd=t,Zd}var Qd,Tb;function mk(){if(Tb)return Qd;Tb=1;var e=fM(),t=Pl();function r(n,i){return n&&e(n,i,t)}return Qd=r,Qd}var ep,_b;function mM(){if(_b)return ep;_b=1;var e=ws();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return ep=t,ep}var tp,Eb;function b0(){if(Eb)return tp;Eb=1;var e=mk(),t=mM(),r=t(e);return tp=r,tp}var rp,Ib;function gk(){if(Ib)return rp;Ib=1;var e=b0(),t=ws();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++s]=i(l,c,u)}),o}return rp=r,rp}var np,Mb;function gM(){if(Mb)return np;Mb=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return np=e,np}var ap,$b;function xM(){if($b)return ap;$b=1;var e=qa();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,p=e(n);if(!u&&!p&&!l&&r>n||l&&c&&d&&!u&&!p||s&&c&&d||!i&&d||!o)return 1;if(!s&&!l&&!p&&r<n||p&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!d)return-1}return 0}return ap=t,ap}var ip,Db;function yM(){if(Db)return ip;Db=1;var e=xM();function t(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++s<c;){var d=e(o[s],l[s]);if(d){if(s>=u)return d;var p=i[s];return d*(p=="desc"?-1:1)}}return r.index-n.index}return ip=t,ip}var sp,Rb;function vM(){if(Rb)return sp;Rb=1;var e=s0(),t=o0(),r=cr(),n=gk(),i=gM(),s=ak(),o=yM(),l=Va(),c=wt();function u(d,p,h){p.length?p=e(p,function(g){return c(g)?function(f){return t(f,g.length===1?g[0]:g)}:g}):p=[l];var m=-1;p=e(p,s(r));var x=n(d,function(g,f,b){var w=e(p,function(y){return y(g)});return{criteria:w,index:++m,value:g}});return i(x,function(g,f){return o(g,f,h)})}return sp=u,sp}var op,Lb;function bM(){if(Lb)return op;Lb=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return op=e,op}var lp,Bb;function wM(){if(Bb)return lp;Bb=1;var e=bM(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=t(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=s(u),e(n,this,d)}}return lp=r,lp}var cp,Fb;function jM(){if(Fb)return cp;Fb=1;function e(t){return function(){return t}}return cp=e,cp}var up,qb;function xk(){if(qb)return up;qb=1;var e=In(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return up=t,up}var dp,zb;function NM(){if(zb)return dp;zb=1;var e=jM(),t=xk(),r=Va(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return dp=n,dp}var pp,Ub;function SM(){if(Ub)return pp;Ub=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return pp=n,pp}var hp,Vb;function kM(){if(Vb)return hp;Vb=1;var e=NM(),t=SM(),r=t(e);return hp=r,hp}var fp,Wb;function PM(){if(Wb)return fp;Wb=1;var e=Va(),t=wM(),r=kM();function n(i,s){return r(t(i,s,e),i+"")}return fp=n,fp}var mp,Hb;function Cl(){if(Hb)return mp;Hb=1;var e=n0(),t=ws(),r=x0(),n=Wr();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],s):!1}return mp=i,mp}var gp,Gb;function AM(){if(Gb)return gp;Gb=1;var e=fk(),t=vM(),r=PM(),n=Cl(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return gp=i,gp}var CM=AM();const w0=Pe(CM);function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function OM(e,t){return IM(e)||EM(e,t)||_M(e,t)||TM()}function TM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _M(e,t){if(e){if(typeof e=="string")return Kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kb(e,t)}}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function IM(e){if(Array.isArray(e))return e}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){MM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MM(e,t,r){return t=$M(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $M(e){var t=DM(e,"string");return $i(t)=="symbol"?t:t+""}function DM(e,t){if($i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RM(e){return Array.isArray(e)&&Je(e[0])&&Je(e[1])?e.join(" ~ "):e}var LM=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,p=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,f=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,y=function(){if(d&&d.length){var A={padding:0,margin:0},T=(h?w0(d,h):d).map(function(I,M){if(I.type==="none")return null;var R=xp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),L=I.formatter||p||RM,q=I.value,B=I.name,te=q,U=B;if(L&&te!=null&&U!=null){var G=L(q,B,I,M,d);if(Array.isArray(G)){var ne=OM(G,2);te=ne[0],U=ne[1]}else te=G}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:R},Je(U)?E.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Je(U)?E.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,E.createElement("span",{className:"recharts-tooltip-item-value"},te),E.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},j=xp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),v=xp({margin:0},u),N=!he(g),k=N?g:"",P=fe("recharts-default-tooltip",m),C=fe("recharts-tooltip-label",x);N&&f&&d!==void 0&&d!==null&&(k=f(g,d));var $=w?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",cf({className:P,style:j},$),E.createElement("p",{className:C,style:v},E.isValidElement(k)?k:"".concat(k)),y())};function Di(e){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}function Ds(e,t,r){return t=BM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BM(e){var t=FM(e,"string");return Di(t)=="symbol"?t:t+""}function FM(e,t){if(Di(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Di(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ja="recharts-tooltip-wrapper",qM={visibility:"hidden"};function zM(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return fe(Ja,Ds(Ds(Ds(Ds({},"".concat(Ja,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(Ja,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(Ja,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(Ja,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function Yb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Z(s[n]))return s[n];var d=r[n]-l-i,p=r[n]+i;if(t[n])return o[n]?d:p;if(o[n]){var h=d,m=c[n];return h<m?Math.max(p,c[n]):Math.max(d,c[n])}var x=p+l,g=c[n]+u;return x>g?Math.max(d,c[n]):Math.max(p,c[n])}function UM(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,p;return o.height>0&&o.width>0&&r?(d=Yb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=Yb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=UM({translateX:d,translateY:p,useTranslate3d:l})):u=qM,{cssProperties:u,cssClasses:zM({translateX:d,translateY:p,coordinate:r})}}function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(n){df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vk(n.key),n)}}function GM(e,t,r){return t&&HM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KM(e,t,r){return t=bo(t),XM(e,yk()?Reflect.construct(t,r||[],bo(e).constructor):t.apply(e,r))}function XM(e,t){if(t&&(ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YM(e)}function YM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yk=function(){return!!e})()}function bo(e){return bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bo(e)}function JM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uf(e,t)}function uf(e,t){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uf(e,t)}function df(e,t,r){return t=vk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vk(e){var t=ZM(e,"string");return ha(t)=="symbol"?t:t+""}function ZM(e,t){if(ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qb=1,QM=(function(e){function t(){var r;WM(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=KM(this,t,[].concat(i)),df(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),df(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return JM(t,e),GM(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Qb||Math.abs(n.height-this.state.lastBoundingBox.height)>Qb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,p=i.hasPayload,h=i.isAnimationActive,m=i.offset,x=i.position,g=i.reverseDirection,f=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,y=VM({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:b}),j=y.cssClasses,v=y.cssProperties,N=Zb(Zb({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},w);return E.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(P){n.wrapperNode=P}},u)}}])})(S.PureComponent),e$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mn={isSsr:e$()};function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wk(n.key),n)}}function n$(e,t,r){return t&&r$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$(e,t,r){return t=wo(t),i$(e,bk()?Reflect.construct(t,r||[],wo(e).constructor):t.apply(e,r))}function i$(e,t){if(t&&(fa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$(e)}function s$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bk=function(){return!!e})()}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wo(e)}function o$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pf(e,t)}function pf(e,t){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pf(e,t)}function j0(e,t,r){return t=wk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wk(e){var t=l$(e,"string");return fa(t)=="symbol"?t:t+""}function l$(e,t){if(fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c$(e){return e.dataKey}function u$(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(LM,t)}var It=(function(e){function t(){return t$(this,t),a$(this,t,arguments)}return o$(t,e),n$(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,p=i.filterNull,h=i.isAnimationActive,m=i.offset,x=i.payload,g=i.payloadUniqBy,f=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,j=i.wrapperStyle,v=x??[];p&&v.length&&(v=dk(x.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,c$));var N=v.length>0;return E.createElement(QM,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:f,reverseDirection:b,useTranslate3d:w,viewBox:y,wrapperStyle:j},u$(u,tw(tw({},this.props),{},{payload:v})))}}])})(S.PureComponent);j0(It,"displayName","Tooltip");j0(It,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yp,rw;function d$(){if(rw)return yp;rw=1;var e=lr(),t=function(){return e.Date.now()};return yp=t,yp}var vp,nw;function p$(){if(nw)return vp;nw=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return vp=t,vp}var bp,aw;function h$(){if(aw)return bp;aw=1;var e=p$(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return bp=r,bp}var wp,iw;function jk(){if(iw)return wp;iw=1;var e=h$(),t=Wr(),r=qa(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=s.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):i.test(u)?n:+u}return wp=c,wp}var jp,sw;function f$(){if(sw)return jp;sw=1;var e=Wr(),t=d$(),r=jk(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var d,p,h,m,x,g,f=0,b=!1,w=!1,y=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(b=!!u.leading,w="maxWait"in u,h=w?i(r(u.maxWait)||0,c):h,y="trailing"in u?!!u.trailing:y);function j(T){var I=d,M=p;return d=p=void 0,f=T,m=l.apply(M,I),m}function v(T){return f=T,x=setTimeout(P,c),b?j(T):m}function N(T){var I=T-g,M=T-f,R=c-I;return w?s(R,h-M):R}function k(T){var I=T-g,M=T-f;return g===void 0||I>=c||I<0||w&&M>=h}function P(){var T=t();if(k(T))return C(T);x=setTimeout(P,N(T))}function C(T){return x=void 0,y&&d?j(T):(d=p=void 0,m)}function $(){x!==void 0&&clearTimeout(x),f=0,d=g=p=x=void 0}function O(){return x===void 0?m:C(t())}function A(){var T=t(),I=k(T);if(d=arguments,p=this,g=T,I){if(x===void 0)return v(g);if(w)return clearTimeout(x),x=setTimeout(P,c),j(g)}return x===void 0&&(x=setTimeout(P,c)),m}return A.cancel=$,A.flush=O,A}return jp=o,jp}var Np,ow;function m$(){if(ow)return Np;ow=1;var e=f$(),t=Wr(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:l,maxWait:s,trailing:c})}return Np=n,Np}var g$=m$();const Nk=Pe(g$);function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){x$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x$(e,t,r){return t=y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=v$(e,"string");return Ri(t)=="symbol"?t:t+""}function v$(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b$(e,t){return S$(e)||N$(e,t)||j$(e,t)||w$()}function w$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j$(e,t){if(e){if(typeof e=="string")return cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}}function cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function S$(e){if(Array.isArray(e))return e}var Sp=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,p=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,f=e.id,b=e.className,w=e.onResize,y=e.style,j=y===void 0?{}:y,v=S.useRef(null),N=S.useRef();N.current=w,S.useImperativeHandle(t,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var k=S.useState({containerWidth:i.width,containerHeight:i.height}),P=b$(k,2),C=P[0],$=P[1],O=S.useCallback(function(T,I){$(function(M){var R=Math.round(T),L=Math.round(I);return M.containerWidth===R&&M.containerHeight===L?M:{containerWidth:R,containerHeight:L}})},[]);S.useEffect(function(){var T=function(B){var te,U=B[0].contentRect,G=U.width,ne=U.height;O(G,ne),(te=N.current)===null||te===void 0||te.call(N,G,ne)};g>0&&(T=Nk(T,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),M=v.current.getBoundingClientRect(),R=M.width,L=M.height;return O(R,L),I.observe(v.current),function(){I.disconnect()}},[O,g]);var A=S.useMemo(function(){var T=C.containerWidth,I=C.containerHeight;if(T<0||I<0)return null;Jt(on(o)||on(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Jt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=on(o)?T:o,R=on(c)?I:c;r&&r>0&&(M?R=M/r:R&&(M=R*r),h&&R>h&&(R=h)),Jt(M>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,R,o,c,d,p,r);var L=!Array.isArray(m)&&yr(m.type).endsWith("Chart");return E.Children.map(m,function(q){return E.isValidElement(q)?S.cloneElement(q,Rs({width:M,height:R},L?{style:Rs({height:"100%",width:"100%",maxHeight:R,maxWidth:M},q.props.style)}:{})):q})},[r,m,c,h,p,d,C,o]);return E.createElement("div",{id:f?"".concat(f):void 0,className:fe("recharts-responsive-container",b),style:Rs(Rs({},j),{},{width:o,height:c,minWidth:d,minHeight:p,maxHeight:h}),ref:v},A)}),Ol=function(t){return null};Ol.displayName="Cell";function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){k$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k$(e,t,r){return t=P$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$(e){var t=A$(e,"string");return Li(t)=="symbol"?t:t+""}function A$(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Un={widthCache:{},cacheCount:0},C$=2e3,O$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dw="recharts_measurement_span";function T$(e){var t=hf({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mn.isSsr)return{width:0,height:0};var n=T$(r),i=JSON.stringify({text:t,copyStyle:n});if(Un.widthCache[i])return Un.widthCache[i];try{var s=document.getElementById(dw);s||(s=document.createElement("span"),s.setAttribute("id",dw),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=hf(hf({},O$),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Un.widthCache[i]=c,++Un.cacheCount>C$&&(Un.cacheCount=0,Un.widthCache={}),c}catch{return{width:0,height:0}}},_$=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function jo(e,t){return $$(e)||M$(e,t)||I$(e,t)||E$()}function E$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $$(e){if(Array.isArray(e))return e}function D$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L$(n.key),n)}}function R$(e,t,r){return t&&hw(e.prototype,t),r&&hw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L$(e){var t=B$(e,"string");return Bi(t)=="symbol"?t:t+""}function B$(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},z$=Object.keys(Sk),Zn="NaN";function U$(e,t){return e*Sk[t]}var Ls=(function(){function e(t,r){D$(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!F$.test(r)&&(this.num=NaN,this.unit=""),z$.includes(r)&&(this.num=U$(t,r),this.unit="px")}return R$(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=q$.exec(r))!==null&&n!==void 0?n:[],s=jo(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])})();function kk(e){if(e.includes(Zn))return Zn;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=fw.exec(t))!==null&&r!==void 0?r:[],i=jo(n,4),s=i[1],o=i[2],l=i[3],c=Ls.parse(s??""),u=Ls.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Zn;t=t.replace(fw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,h=(p=mw.exec(t))!==null&&p!==void 0?p:[],m=jo(h,4),x=m[1],g=m[2],f=m[3],b=Ls.parse(x??""),w=Ls.parse(f??""),y=g==="+"?b.add(w):b.subtract(w);if(y.isNaN())return Zn;t=t.replace(mw,y.toString())}return t}var gw=/\(([^()]*)\)/;function V$(e){for(var t=e;t.includes("(");){var r=gw.exec(t),n=jo(r,2),i=n[1];t=t.replace(gw,kk(i))}return t}function W$(e){var t=e.replace(/\s+/g,"");return t=V$(t),t=kk(t),t}function H$(e){try{return W$(e)}catch{return Zn}}function kp(e){var t=H$(e.slice(5,-1));return t===Zn?"":t}var G$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],K$=["dx","dy","angle","className","breakAll"];function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function xw(e,t){if(e==null)return{};var r=X$(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yw(e,t){return Q$(e)||Z$(e,t)||J$(e,t)||Y$()}function Y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J$(e,t){if(e){if(typeof e=="string")return vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(e,t)}}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Q$(e){if(Array.isArray(e))return e}var Pk=/[ \f\n\r\t\v\u2028\u2029]+/,Ak=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];he(r)||(n?s=r.toString().split(""):s=r.toString().split(Pk));var o=s.map(function(c){return{word:c,width:gi(c,i).width}}),l=n?0:gi("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eD=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Z(o),p=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(R,L){var q=L.word,B=L.width,te=R[R.length-1];if(te&&(i==null||s||te.width+B+n<Number(i)))te.words.push(q),te.width+=B+n;else{var U={words:[q],width:B};R.push(U)}return R},[])},m=h(r),x=function(M){return M.reduce(function(R,L){return R.width>L.width?R:L})};if(!d)return m;for(var g="",f=function(M){var R=p.slice(0,M),L=Ak({breakAll:u,style:c,children:R+g}).wordsWithComputedWidth,q=h(L),B=q.length>o||x(q).width>Number(i);return[B,q]},b=0,w=p.length-1,y=0,j;b<=w&&y<=p.length-1;){var v=Math.floor((b+w)/2),N=v-1,k=f(N),P=yw(k,2),C=P[0],$=P[1],O=f(v),A=yw(O,1),T=A[0];if(!C&&!T&&(b=v+1),C&&T&&(w=v-1),!C&&T){j=$;break}y++}return j||m},bw=function(t){var r=he(t)?[]:t.toString().split(Pk);return[{words:r}]},tD=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Mn.isSsr){var c,u,d=Ak({breakAll:o,children:i,style:s});if(d){var p=d.wordsWithComputedWidth,h=d.spaceWidth;c=p,u=h}else return bw(i);return eD({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return bw(i)},ww="#808080",An=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,p=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,f=t.fill,b=f===void 0?ww:f,w=xw(t,G$),y=S.useMemo(function(){return tD({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:p,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,p,w.style,w.width]),j=w.dx,v=w.dy,N=w.angle,k=w.className,P=w.breakAll,C=xw(w,K$);if(!Je(n)||!Je(s))return null;var $=n+(Z(j)?j:0),O=s+(Z(v)?v:0),A;switch(g){case"start":A=kp("calc(".concat(u,")"));break;case"middle":A=kp("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=kp("calc(".concat(y.length-1," * -").concat(l,")"));break}var T=[];if(p){var I=y[0].width,M=w.width;T.push("scale(".concat((Z(M)?M/I:1)/I,")"))}return N&&T.push("rotate(".concat(N,", ").concat($,", ").concat(O,")")),T.length&&(C.transform=T.join(" ")),E.createElement("text",ff({},se(C,!0),{x:$,y:O,className:fe("recharts-text",k),textAnchor:m,fill:b.includes("url")?ww:b}),y.map(function(R,L){var q=R.words.join(P?"":" ");return E.createElement("tspan",{x:$,dy:L===0?A:l,key:"".concat(q,"-").concat(L)},q)}))};function Lr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rD(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function N0(e){let t,r,n;e.length!==2?(t=Lr,r=(l,c)=>Lr(e(l),c),n=(l,c)=>e(l)-c):(t=e===Lr||e===rD?e:nD,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(l[p],c)<0?u=p+1:d=p}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(l[p],c)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,c,u=0,d=l.length){const p=i(l,c,u,d-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:s}}function nD(){return 0}function Ck(e){return e===null?NaN:+e}function*aD(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const iD=N0(Lr),js=iD.right;N0(Ck).center;class jw extends Map{constructor(t,r=lD){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Nw(this,t))}has(t){return super.has(Nw(this,t))}set(t,r){return super.set(sD(this,t),r)}delete(t){return super.delete(oD(this,t))}}function Nw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function sD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function oD({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lD(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cD(e=Lr){if(e===Lr)return Ok;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Ok(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uD=Math.sqrt(50),dD=Math.sqrt(10),pD=Math.sqrt(2);function No(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=uD?10:s>=dD?5:s>=pD?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?No(e,t,r*2):[l,c,u]}function mf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?No(t,e,r):No(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function gf(e,t,r){return t=+t,e=+e,r=+r,No(e,t,r)[2]}function xf(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?gf(t,e,r):gf(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Sw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function kw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Tk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Ok:cD(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*p/c+h)),x=Math.min(n,Math.floor(t+(c-u)*p/c+h));Tk(e,t,m,x,i)}const s=e[t];let o=r,l=n;for(Za(e,r,t),i(e[n],s)>0&&Za(e,r,n);o<l;){for(Za(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Za(e,r,l):(++l,Za(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Za(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hD(e,t,r){if(e=Float64Array.from(aD(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return kw(e);if(t>=1)return Sw(e);var n,i=(n-1)*t,s=Math.floor(i),o=Sw(Tk(e,s).subarray(0,s+1)),l=kw(e.subarray(s+1));return o+(l-o)*(i-s)}}function fD(e,t,r=Ck){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function mD(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function zt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _r(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yf=Symbol("implicit");function S0(){var e=new jw,t=[],r=[],n=yf;function i(s){let o=e.get(s);if(o===void 0){if(n!==yf)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jw;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return S0(t,r).unknown(n)},zt.apply(i,arguments),i}function Fi(){var e=S0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function p(){var h=t().length,m=i<n,x=m?i:n,g=m?n:i;s=(g-x)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),x+=(g-x-s*(h-c))*d,o=s*(1-c),l&&(x=Math.round(x),o=Math.round(o));var f=mD(h).map(function(b){return x+s*b});return r(m?f.reverse():f)}return e.domain=function(h){return arguments.length?(t(h),p()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,p()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),p()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),p()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,p()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),p()):d},e.copy=function(){return Fi(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},zt.apply(p(),arguments)}function _k(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _k(t())},e}function xi(){return _k(Fi.apply(null,arguments).paddingInner(1))}function k0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ek(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ns(){}var qi=.7,So=1/qi,ia="\\s*([+-]?\\d+)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gD=/^#([0-9a-f]{3,8})$/,xD=new RegExp(`^rgb\\(${ia},${ia},${ia}\\)$`),yD=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),vD=new RegExp(`^rgba\\(${ia},${ia},${ia},${zi}\\)$`),bD=new RegExp(`^rgba\\(${ar},${ar},${ar},${zi}\\)$`),wD=new RegExp(`^hsl\\(${zi},${ar},${ar}\\)$`),jD=new RegExp(`^hsla\\(${zi},${ar},${ar},${zi}\\)$`),Pw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k0(Ns,Ui,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Aw,formatHex:Aw,formatHex8:ND,formatHsl:SD,formatRgb:Cw,toString:Cw});function Aw(){return this.rgb().formatHex()}function ND(){return this.rgb().formatHex8()}function SD(){return Ik(this).formatHsl()}function Cw(){return this.rgb().formatRgb()}function Ui(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gD.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ow(t):r===3?new bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xD.exec(e))?new bt(t[1],t[2],t[3],1):(t=yD.exec(e))?new bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vD.exec(e))?Bs(t[1],t[2],t[3],t[4]):(t=bD.exec(e))?Bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wD.exec(e))?Ew(t[1],t[2]/100,t[3]/100,1):(t=jD.exec(e))?Ew(t[1],t[2]/100,t[3]/100,t[4]):Pw.hasOwnProperty(e)?Ow(Pw[e]):e==="transparent"?new bt(NaN,NaN,NaN,0):null}function Ow(e){return new bt(e>>16&255,e>>8&255,e&255,1)}function Bs(e,t,r,n){return n<=0&&(e=t=r=NaN),new bt(e,t,r,n)}function kD(e){return e instanceof Ns||(e=Ui(e)),e?(e=e.rgb(),new bt(e.r,e.g,e.b,e.opacity)):new bt}function vf(e,t,r,n){return arguments.length===1?kD(e):new bt(e,t,r,n??1)}function bt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}k0(bt,vf,Ek(Ns,{brighter(e){return e=e==null?So:Math.pow(So,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qi:Math.pow(qi,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bt(xn(this.r),xn(this.g),xn(this.b),ko(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tw,formatHex:Tw,formatHex8:PD,formatRgb:_w,toString:_w}));function Tw(){return`#${ln(this.r)}${ln(this.g)}${ln(this.b)}`}function PD(){return`#${ln(this.r)}${ln(this.g)}${ln(this.b)}${ln((isNaN(this.opacity)?1:this.opacity)*255)}`}function _w(){const e=ko(this.opacity);return`${e===1?"rgb(":"rgba("}${xn(this.r)}, ${xn(this.g)}, ${xn(this.b)}${e===1?")":`, ${e})`}`}function ko(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ln(e){return e=xn(e),(e<16?"0":"")+e.toString(16)}function Ew(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yt(e,t,r,n)}function Ik(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof Ns||(e=Ui(e)),!e)return new Yt;if(e instanceof Yt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Yt(o,l,c,e.opacity)}function AD(e,t,r,n){return arguments.length===1?Ik(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}k0(Yt,AD,Ek(Ns,{brighter(e){return e=e==null?So:Math.pow(So,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qi:Math.pow(qi,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new bt(Pp(e>=240?e-240:e+120,i,n),Pp(e,i,n),Pp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yt(Iw(this.h),Fs(this.s),Fs(this.l),ko(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ko(this.opacity);return`${e===1?"hsl(":"hsla("}${Iw(this.h)}, ${Fs(this.s)*100}%, ${Fs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Iw(e){return e=(e||0)%360,e<0?e+360:e}function Fs(e){return Math.max(0,Math.min(1,e||0))}function Pp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const P0=e=>()=>e;function CD(e,t){return function(r){return e+r*t}}function OD(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function TD(e){return(e=+e)==1?Mk:function(t,r){return r-t?OD(t,r,e):P0(isNaN(t)?r:t)}}function Mk(e,t){var r=t-e;return r?CD(e,r):P0(isNaN(e)?t:e)}const Mw=(function e(t){var r=TD(t);function n(i,s){var o=r((i=vf(i)).r,(s=vf(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=Mk(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n})(1);function _D(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function ED(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ID(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Wa(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function MD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Po(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $D(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Wa(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var bf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ap=new RegExp(bf.source,"g");function DD(e){return function(){return e}}function RD(e){return function(t){return e(t)+""}}function LD(e,t){var r=bf.lastIndex=Ap.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=bf.exec(e))&&(i=Ap.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Po(n,i)})),r=Ap.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?RD(c[0].x):DD(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)l[(p=c[d]).i]=p.x(u);return l.join("")})}function Wa(e,t){var r=typeof t,n;return t==null||r==="boolean"?P0(t):(r==="number"?Po:r==="string"?(n=Ui(t))?(t=n,Mw):LD:t instanceof Ui?Mw:t instanceof Date?MD:ED(t)?_D:Array.isArray(t)?ID:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$D:Po)(e,t)}function A0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function BD(e,t){t===void 0&&(t=e,e=Wa);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function FD(e){return function(){return e}}function Ao(e){return+e}var $w=[0,1];function gt(e){return e}function wf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:FD(isNaN(t)?NaN:.5)}function qD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function zD(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=wf(i,n),s=r(o,s)):(n=wf(n,i),s=r(s,o)),function(l){return s(n(l))}}function UD(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=wf(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=js(e,l,1,n)-1;return s[c](i[c](l))}}function Ss(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tl(){var e=$w,t=$w,r=Wa,n,i,s,o=gt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==gt&&(o=qD(e[0],e[h-1])),l=h>2?UD:zD,c=u=null,p}function p(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return p.invert=function(h){return o(i((u||(u=l(t,e.map(n),Po)))(h)))},p.domain=function(h){return arguments.length?(e=Array.from(h,Ao),d()):e.slice()},p.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},p.rangeRound=function(h){return t=Array.from(h),r=A0,d()},p.clamp=function(h){return arguments.length?(o=h?!0:gt,d()):o!==gt},p.interpolate=function(h){return arguments.length?(r=h,d()):r},p.unknown=function(h){return arguments.length?(s=h,p):s},function(h,m){return n=h,i=m,d()}}function C0(){return Tl()(gt,gt)}function VD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Co(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ma(e){return e=Co(Math.abs(e)),e?e[1]:NaN}function WD(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function HD(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var GD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vi(e){if(!(t=GD.exec(e)))throw new Error("invalid format: "+e);var t;return new O0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vi.prototype=O0.prototype;function O0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}O0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KD(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var $k;function XD(e,t){var r=Co(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-($k=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Co(e,Math.max(0,t+s-1))[0]}function Dw(e,t){var r=Co(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Rw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Dw(e*100,t),r:Dw,s:XD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lw(e){return e}var Bw=Array.prototype.map,Fw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YD(e){var t=e.grouping===void 0||e.thousands===void 0?Lw:WD(Bw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Lw:HD(Bw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Vi(p);var h=p.fill,m=p.align,x=p.sign,g=p.symbol,f=p.zero,b=p.width,w=p.comma,y=p.precision,j=p.trim,v=p.type;v==="n"?(w=!0,v="g"):Rw[v]||(y===void 0&&(y=12),j=!0,v="g"),(f||h==="0"&&m==="=")&&(f=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=g==="$"?n:/[%p]/.test(v)?o:"",P=Rw[v],C=/[defgprs%]/.test(v);y=y===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function $(O){var A=N,T=k,I,M,R;if(v==="c")T=P(O)+T,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),y),j&&(O=KD(O)),L&&+O==0&&x!=="+"&&(L=!1),A=(L?x==="("?x:l:x==="-"||x==="("?"":x)+A,T=(v==="s"?Fw[8+$k/3]:"")+T+(L&&x==="("?")":""),C){for(I=-1,M=O.length;++I<M;)if(R=O.charCodeAt(I),48>R||R>57){T=(R===46?i+O.slice(I+1):O.slice(I))+T,O=O.slice(0,I);break}}}w&&!f&&(O=t(O,1/0));var q=A.length+O.length+T.length,B=q<b?new Array(b-q+1).join(h):"";switch(w&&f&&(O=t(B+O,B.length?b-T.length:1/0),B=""),m){case"<":O=A+O+T+B;break;case"=":O=A+B+O+T;break;case"^":O=B.slice(0,q=B.length>>1)+A+O+T+B.slice(q);break;default:O=B+A+O+T;break}return s(O)}return $.toString=function(){return p+""},$}function d(p,h){var m=u((p=Vi(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(ma(h)/3)))*3,g=Math.pow(10,-x),f=Fw[8+x/3];return function(b){return m(g*b)+f}}return{format:u,formatPrefix:d}}var qs,T0,Dk;JD({thousands:",",grouping:[3],currency:["$",""]});function JD(e){return qs=YD(e),T0=qs.format,Dk=qs.formatPrefix,qs}function ZD(e){return Math.max(0,-ma(Math.abs(e)))}function QD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ma(t)/3)))*3-ma(Math.abs(e)))}function eR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ma(t)-ma(e))+1}function Rk(e,t,r,n){var i=xf(e,t,r),s;switch(n=Vi(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=QD(i,o))&&(n.precision=s),Dk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=eR(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ZD(i))&&(n.precision=s-(n.type==="%")*2);break}}return T0(n)}function Hr(e){var t=e.domain;return e.ticks=function(r){var n=t();return mf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Rk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=gf(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Oo(){var e=C0();return e.copy=function(){return Ss(e,Oo())},zt.apply(e,arguments),Hr(e)}function Lk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ao),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Lk(e).unknown(t)},e=arguments.length?Array.from(e,Ao):[0,1],Hr(r)}function Bk(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function qw(e){return Math.log(e)}function zw(e){return Math.exp(e)}function tR(e){return-Math.log(-e)}function rR(e){return-Math.exp(-e)}function nR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aR(e){return e===10?nR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Uw(e){return(t,r)=>-e(-t,r)}function _0(e){const t=e(qw,zw),r=t.domain;let n=10,i,s;function o(){return i=iR(n),s=aR(n),r()[0]<0?(i=Uw(i),s=Uw(s),e(tR,rR)):e(qw,zw),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const p=d<u;p&&([u,d]=[d,u]);let h=i(u),m=i(d),x,g;const f=l==null?10:+l;let b=[];if(!(n%1)&&m-h<f){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/s(-h):x*s(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/s(-h):x*s(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<f&&(b=mf(u,d,f))}else b=mf(h,m,Math.min(m-h,f)).map(s);return p?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Vi(c)).precision==null&&(c.trim=!0),c=T0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=u?c(d):""}},t.nice=()=>r(Bk(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function Fk(){const e=_0(Tl()).domain([1,10]);return e.copy=()=>Ss(e,Fk()).base(e.base()),zt.apply(e,arguments),e}function Vw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ww(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E0(e){var t=1,r=e(Vw(t),Ww(t));return r.constant=function(n){return arguments.length?e(Vw(t=+n),Ww(t)):t},Hr(r)}function qk(){var e=E0(Tl());return e.copy=function(){return Ss(e,qk()).constant(e.constant())},zt.apply(e,arguments)}function Hw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oR(e){return e<0?-e*e:e*e}function I0(e){var t=e(gt,gt),r=1;function n(){return r===1?e(gt,gt):r===.5?e(sR,oR):e(Hw(r),Hw(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Hr(t)}function M0(){var e=I0(Tl());return e.copy=function(){return Ss(e,M0()).exponent(e.exponent())},zt.apply(e,arguments),e}function lR(){return M0.apply(null,arguments).exponent(.5)}function Gw(e){return Math.sign(e)*e*e}function cR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zk(){var e=C0(),t=[0,1],r=!1,n;function i(s){var o=cR(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(Gw(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Ao)).map(Gw)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return zk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zt.apply(i,arguments),Hr(i)}function Uk(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=fD(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[js(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Lr),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Uk().domain(e).range(t).unknown(n)},zt.apply(s,arguments)}function Vk(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[js(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Vk().domain([e,t]).range(i).unknown(s)},zt.apply(Hr(o),arguments)}function Wk(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[js(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Wk().domain(e).range(t).unknown(r)},zt.apply(i,arguments)}const Cp=new Date,Op=new Date;function Ze(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>Ze(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Cp.setTime(+s),Op.setTime(+o),e(Cp),e(Op),Math.floor(r(Cp,Op))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const To=Ze(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);To.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ze(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):To);To.range;const hr=1e3,Rt=hr*60,fr=Rt*60,kr=fr*24,$0=kr*7,Kw=kr*30,Tp=kr*365,cn=Ze(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCSeconds());cn.range;const D0=Ze(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hr)},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getMinutes());D0.range;const R0=Ze(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getUTCMinutes());R0.range;const L0=Ze(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hr-e.getMinutes()*Rt)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getHours());L0.range;const B0=Ze(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCHours());B0.range;const ks=Ze(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rt)/kr,e=>e.getDate()-1);ks.range;const _l=Ze(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kr,e=>e.getUTCDate()-1);_l.range;const Hk=Ze(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kr,e=>Math.floor(e/kr));Hk.range;function $n(e){return Ze(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rt)/$0)}const El=$n(0),_o=$n(1),uR=$n(2),dR=$n(3),ga=$n(4),pR=$n(5),hR=$n(6);El.range;_o.range;uR.range;dR.range;ga.range;pR.range;hR.range;function Dn(e){return Ze(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$0)}const Il=Dn(0),Eo=Dn(1),fR=Dn(2),mR=Dn(3),xa=Dn(4),gR=Dn(5),xR=Dn(6);Il.range;Eo.range;fR.range;mR.range;xa.range;gR.range;xR.range;const F0=Ze(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());F0.range;const q0=Ze(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q0.range;const Pr=Ze(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ze(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pr.range;const Ar=Ze(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ar.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ze(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ar.range;function Gk(e,t,r,n,i,s){const o=[[cn,1,hr],[cn,5,5*hr],[cn,15,15*hr],[cn,30,30*hr],[s,1,Rt],[s,5,5*Rt],[s,15,15*Rt],[s,30,30*Rt],[i,1,fr],[i,3,3*fr],[i,6,6*fr],[i,12,12*fr],[n,1,kr],[n,2,2*kr],[r,1,$0],[t,1,Kw],[t,3,3*Kw],[e,1,Tp]];function l(u,d,p){const h=d<u;h&&([u,d]=[d,u]);const m=p&&typeof p.range=="function"?p:c(u,d,p),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,p){const h=Math.abs(d-u)/p,m=N0(([,,f])=>f).right(o,h);if(m===o.length)return e.every(xf(u/Tp,d/Tp,p));if(m===0)return To.every(Math.max(xf(u,d,p),1));const[x,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(g)}return[l,c]}const[yR,vR]=Gk(Ar,q0,Il,Hk,B0,R0),[bR,wR]=Gk(Pr,F0,El,ks,L0,D0);function _p(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ep(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qa(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jR(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ei(i),d=ti(i),p=ei(s),h=ti(s),m=ei(o),x=ti(o),g=ei(l),f=ti(l),b=ei(c),w=ti(c),y={a:L,A:q,b:B,B:te,c:null,d:ej,e:ej,f:WR,g:t9,G:n9,H:zR,I:UR,j:VR,L:Kk,m:HR,M:GR,p:U,q:G,Q:nj,s:aj,S:KR,u:XR,U:YR,V:JR,w:ZR,W:QR,x:null,X:null,y:e9,Y:r9,Z:a9,"%":rj},j={a:ne,A:de,b:oe,B:xe,c:null,d:tj,e:tj,f:l9,g:y9,G:b9,H:i9,I:s9,j:o9,L:Yk,m:c9,M:u9,p:ze,q:Ee,Q:nj,s:aj,S:d9,u:p9,U:h9,V:f9,w:m9,W:g9,x:null,X:null,y:x9,Y:v9,Z:w9,"%":rj},v={a:$,A:O,b:A,B:T,c:I,d:Zw,e:Zw,f:LR,g:Jw,G:Yw,H:Qw,I:Qw,j:MR,L:RR,m:IR,M:$R,p:C,q:ER,Q:FR,s:qR,S:DR,u:AR,U:CR,V:OR,w:PR,W:TR,x:M,X:R,y:Jw,Y:Yw,Z:_R,"%":BR};y.x=N(r,y),y.X=N(n,y),y.c=N(t,y),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(D,K){return function(ee){var z=[],me=-1,Q=0,J=D.length,ie,we,qe;for(ee instanceof Date||(ee=new Date(+ee));++me<J;)D.charCodeAt(me)===37&&(z.push(D.slice(Q,me)),(we=Xw[ie=D.charAt(++me)])!=null?ie=D.charAt(++me):we=ie==="e"?" ":"0",(qe=K[ie])&&(ie=qe(ee,we)),z.push(ie),Q=me+1);return z.push(D.slice(Q,me)),z.join("")}}function k(D,K){return function(ee){var z=Qa(1900,void 0,1),me=P(z,D,ee+="",0),Q,J;if(me!=ee.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(K&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Q=Ep(Qa(z.y,0,1)),J=Q.getUTCDay(),Q=J>4||J===0?Eo.ceil(Q):Eo(Q),Q=_l.offset(Q,(z.V-1)*7),z.y=Q.getUTCFullYear(),z.m=Q.getUTCMonth(),z.d=Q.getUTCDate()+(z.w+6)%7):(Q=_p(Qa(z.y,0,1)),J=Q.getDay(),Q=J>4||J===0?_o.ceil(Q):_o(Q),Q=ks.offset(Q,(z.V-1)*7),z.y=Q.getFullYear(),z.m=Q.getMonth(),z.d=Q.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),J="Z"in z?Ep(Qa(z.y,0,1)).getUTCDay():_p(Qa(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(J+5)%7:z.w+z.U*7-(J+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Ep(z)):_p(z)}}function P(D,K,ee,z){for(var me=0,Q=K.length,J=ee.length,ie,we;me<Q;){if(z>=J)return-1;if(ie=K.charCodeAt(me++),ie===37){if(ie=K.charAt(me++),we=v[ie in Xw?K.charAt(me++):ie],!we||(z=we(D,ee,z))<0)return-1}else if(ie!=ee.charCodeAt(z++))return-1}return z}function C(D,K,ee){var z=u.exec(K.slice(ee));return z?(D.p=d.get(z[0].toLowerCase()),ee+z[0].length):-1}function $(D,K,ee){var z=m.exec(K.slice(ee));return z?(D.w=x.get(z[0].toLowerCase()),ee+z[0].length):-1}function O(D,K,ee){var z=p.exec(K.slice(ee));return z?(D.w=h.get(z[0].toLowerCase()),ee+z[0].length):-1}function A(D,K,ee){var z=b.exec(K.slice(ee));return z?(D.m=w.get(z[0].toLowerCase()),ee+z[0].length):-1}function T(D,K,ee){var z=g.exec(K.slice(ee));return z?(D.m=f.get(z[0].toLowerCase()),ee+z[0].length):-1}function I(D,K,ee){return P(D,t,K,ee)}function M(D,K,ee){return P(D,r,K,ee)}function R(D,K,ee){return P(D,n,K,ee)}function L(D){return o[D.getDay()]}function q(D){return s[D.getDay()]}function B(D){return c[D.getMonth()]}function te(D){return l[D.getMonth()]}function U(D){return i[+(D.getHours()>=12)]}function G(D){return 1+~~(D.getMonth()/3)}function ne(D){return o[D.getUTCDay()]}function de(D){return s[D.getUTCDay()]}function oe(D){return c[D.getUTCMonth()]}function xe(D){return l[D.getUTCMonth()]}function ze(D){return i[+(D.getUTCHours()>=12)]}function Ee(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var K=N(D+="",y);return K.toString=function(){return D},K},parse:function(D){var K=k(D+="",!1);return K.toString=function(){return D},K},utcFormat:function(D){var K=N(D+="",j);return K.toString=function(){return D},K},utcParse:function(D){var K=k(D+="",!0);return K.toString=function(){return D},K}}}var Xw={"-":"",_:" ",0:"0"},rt=/^\s*\d+/,NR=/^%/,SR=/[\\^$*+?|[\]().{}]/g;function be(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function kR(e){return e.replace(SR,"\\$&")}function ei(e){return new RegExp("^(?:"+e.map(kR).join("|")+")","i")}function ti(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PR(e,t,r){var n=rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function AR(e,t,r){var n=rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function CR(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function OR(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function TR(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Yw(e,t,r){var n=rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Jw(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _R(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ER(e,t,r){var n=rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IR(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Zw(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MR(e,t,r){var n=rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Qw(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $R(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function DR(e,t,r){var n=rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function RR(e,t,r){var n=rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function LR(e,t,r){var n=rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BR(e,t,r){var n=NR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FR(e,t,r){var n=rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qR(e,t,r){var n=rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ej(e,t){return be(e.getDate(),t,2)}function zR(e,t){return be(e.getHours(),t,2)}function UR(e,t){return be(e.getHours()%12||12,t,2)}function VR(e,t){return be(1+ks.count(Pr(e),e),t,3)}function Kk(e,t){return be(e.getMilliseconds(),t,3)}function WR(e,t){return Kk(e,t)+"000"}function HR(e,t){return be(e.getMonth()+1,t,2)}function GR(e,t){return be(e.getMinutes(),t,2)}function KR(e,t){return be(e.getSeconds(),t,2)}function XR(e){var t=e.getDay();return t===0?7:t}function YR(e,t){return be(El.count(Pr(e)-1,e),t,2)}function Xk(e){var t=e.getDay();return t>=4||t===0?ga(e):ga.ceil(e)}function JR(e,t){return e=Xk(e),be(ga.count(Pr(e),e)+(Pr(e).getDay()===4),t,2)}function ZR(e){return e.getDay()}function QR(e,t){return be(_o.count(Pr(e)-1,e),t,2)}function e9(e,t){return be(e.getFullYear()%100,t,2)}function t9(e,t){return e=Xk(e),be(e.getFullYear()%100,t,2)}function r9(e,t){return be(e.getFullYear()%1e4,t,4)}function n9(e,t){var r=e.getDay();return e=r>=4||r===0?ga(e):ga.ceil(e),be(e.getFullYear()%1e4,t,4)}function a9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+be(t/60|0,"0",2)+be(t%60,"0",2)}function tj(e,t){return be(e.getUTCDate(),t,2)}function i9(e,t){return be(e.getUTCHours(),t,2)}function s9(e,t){return be(e.getUTCHours()%12||12,t,2)}function o9(e,t){return be(1+_l.count(Ar(e),e),t,3)}function Yk(e,t){return be(e.getUTCMilliseconds(),t,3)}function l9(e,t){return Yk(e,t)+"000"}function c9(e,t){return be(e.getUTCMonth()+1,t,2)}function u9(e,t){return be(e.getUTCMinutes(),t,2)}function d9(e,t){return be(e.getUTCSeconds(),t,2)}function p9(e){var t=e.getUTCDay();return t===0?7:t}function h9(e,t){return be(Il.count(Ar(e)-1,e),t,2)}function Jk(e){var t=e.getUTCDay();return t>=4||t===0?xa(e):xa.ceil(e)}function f9(e,t){return e=Jk(e),be(xa.count(Ar(e),e)+(Ar(e).getUTCDay()===4),t,2)}function m9(e){return e.getUTCDay()}function g9(e,t){return be(Eo.count(Ar(e)-1,e),t,2)}function x9(e,t){return be(e.getUTCFullYear()%100,t,2)}function y9(e,t){return e=Jk(e),be(e.getUTCFullYear()%100,t,2)}function v9(e,t){return be(e.getUTCFullYear()%1e4,t,4)}function b9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xa(e):xa.ceil(e),be(e.getUTCFullYear()%1e4,t,4)}function w9(){return"+0000"}function rj(){return"%"}function nj(e){return+e}function aj(e){return Math.floor(+e/1e3)}var Vn,Zk,Qk;j9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function j9(e){return Vn=jR(e),Zk=Vn.format,Vn.parse,Qk=Vn.utcFormat,Vn.utcParse,Vn}function N9(e){return new Date(e)}function S9(e){return e instanceof Date?+e:+new Date(+e)}function z0(e,t,r,n,i,s,o,l,c,u){var d=C0(),p=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),f=u("%I %p"),b=u("%a %d"),w=u("%b %d"),y=u("%B"),j=u("%Y");function v(N){return(c(N)<N?m:l(N)<N?x:o(N)<N?g:s(N)<N?f:n(N)<N?i(N)<N?b:w:r(N)<N?y:j)(N)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?h(Array.from(N,S9)):h().map(N9)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?v:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(Bk(k,N)):d},d.copy=function(){return Ss(d,z0(e,t,r,n,i,s,o,l,c,u))},d}function k9(){return zt.apply(z0(bR,wR,Pr,F0,El,ks,L0,D0,cn,Zk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function P9(){return zt.apply(z0(yR,vR,Ar,q0,Il,_l,B0,R0,cn,Qk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ml(){var e=0,t=1,r,n,i,s,o=gt,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(h){var m,x;return arguments.length?([m,x]=h,o=p(m,x),u):[o(0),o(1)]}}return u.range=d(Wa),u.rangeRound=d(A0),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function Gr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eP(){var e=Hr(Ml()(gt));return e.copy=function(){return Gr(e,eP())},_r.apply(e,arguments)}function tP(){var e=_0(Ml()).domain([1,10]);return e.copy=function(){return Gr(e,tP()).base(e.base())},_r.apply(e,arguments)}function rP(){var e=E0(Ml());return e.copy=function(){return Gr(e,rP()).constant(e.constant())},_r.apply(e,arguments)}function U0(){var e=I0(Ml());return e.copy=function(){return Gr(e,U0()).exponent(e.exponent())},_r.apply(e,arguments)}function A9(){return U0.apply(null,arguments).exponent(.5)}function nP(){var e=[],t=gt;function r(n){if(n!=null&&!isNaN(n=+n))return t((js(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Lr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>hD(e,s/n))},r.copy=function(){return nP(t).domain(e)},_r.apply(r,arguments)}function $l(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=gt,d,p=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(p?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),s=d(t=+t),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(p=!!g,m):p},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(f){var b,w,y;return arguments.length?([b,w,y]=f,u=BD(g,[b,w,y]),m):[u(0),u(.5),u(1)]}}return m.range=x(Wa),m.rangeRound=x(A0),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),s=g(t),o=g(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,m}}function aP(){var e=Hr($l()(gt));return e.copy=function(){return Gr(e,aP())},_r.apply(e,arguments)}function iP(){var e=_0($l()).domain([.1,1,10]);return e.copy=function(){return Gr(e,iP()).base(e.base())},_r.apply(e,arguments)}function sP(){var e=E0($l());return e.copy=function(){return Gr(e,sP()).constant(e.constant())},_r.apply(e,arguments)}function V0(){var e=I0($l());return e.copy=function(){return Gr(e,V0()).exponent(e.exponent())},_r.apply(e,arguments)}function C9(){return V0.apply(null,arguments).exponent(.5)}const ij=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fi,scaleDiverging:aP,scaleDivergingLog:iP,scaleDivergingPow:V0,scaleDivergingSqrt:C9,scaleDivergingSymlog:sP,scaleIdentity:Lk,scaleImplicit:yf,scaleLinear:Oo,scaleLog:Fk,scaleOrdinal:S0,scalePoint:xi,scalePow:M0,scaleQuantile:Uk,scaleQuantize:Vk,scaleRadial:zk,scaleSequential:eP,scaleSequentialLog:tP,scaleSequentialPow:U0,scaleSequentialQuantile:nP,scaleSequentialSqrt:A9,scaleSequentialSymlog:rP,scaleSqrt:lR,scaleSymlog:qk,scaleThreshold:Wk,scaleTime:k9,scaleUtc:P9,tickFormat:Rk},Symbol.toStringTag,{value:"Module"}));var Ip,sj;function Dl(){if(sj)return Ip;sj=1;var e=qa();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,d=l}return d}return Ip=t,Ip}var Mp,oj;function oP(){if(oj)return Mp;oj=1;function e(t,r){return t>r}return Mp=e,Mp}var $p,lj;function O9(){if(lj)return $p;lj=1;var e=Dl(),t=oP(),r=Va();function n(i){return i&&i.length?e(i,r,t):void 0}return $p=n,$p}var T9=O9();const Rl=Pe(T9);var Dp,cj;function lP(){if(cj)return Dp;cj=1;function e(t,r){return t<r}return Dp=e,Dp}var Rp,uj;function _9(){if(uj)return Rp;uj=1;var e=Dl(),t=lP(),r=Va();function n(i){return i&&i.length?e(i,r,t):void 0}return Rp=n,Rp}var E9=_9();const Ll=Pe(E9);var Lp,dj;function I9(){if(dj)return Lp;dj=1;var e=s0(),t=cr(),r=gk(),n=wt();function i(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return Lp=i,Lp}var Bp,pj;function M9(){if(pj)return Bp;pj=1;var e=fk(),t=I9();function r(n,i){return e(t(n,i),1)}return Bp=r,Bp}var $9=M9();const D9=Pe($9);var Fp,hj;function R9(){if(hj)return Fp;hj=1;var e=v0();function t(r,n){return e(r,n)}return Fp=t,Fp}var L9=R9();const Ps=Pe(L9);var Ha=1e9,B9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},H0,$e=!0,Ft="[DecimalError] ",yn=Ft+"Invalid argument: ",W0=Ft+"Exponent out of range: ",Ga=Math.floor,rn=Math.pow,F9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pt,et=1e7,Ie=7,cP=9007199254740991,Io=Ga(cP/Ie),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return vr(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Ae(vr(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return We(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pt))throw Error(Ft+"NaN");if(r.s<1)throw Error(Ft+(r.s?"NaN":"-Infinity"));return r.eq(Pt)?new n(0):($e=!1,t=vr(Wi(r,s),Wi(e,s),s),$e=!0,Ae(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pP(t,e):uP(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ft+"NaN");return r.s?($e=!1,t=vr(r,e,0,1).times(e),$e=!0,r.minus(t)):Ae(new n(r),i)};ae.naturalExponential=ae.exp=function(){return dP(this)};ae.naturalLogarithm=ae.ln=function(){return Wi(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uP(t,e):pP(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yn+e);if(t=We(i)+1,n=i.d.length-1,r=n*Ie+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ft+"NaN")}for(e=We(l),$e=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=tr(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ga((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(vr(l,s,o+2)).times(.5),tr(s.d).slice(0,o)===(t=tr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ae(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return $e=!0,Ae(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,s,o,l,c,u,d=this,p=d.constructor,h=d.d,m=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%et|0,t=l/et|0;s[i]=(s[i]+t)%et|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,$e?Ae(e,p.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sr(e,0,Ha),t===void 0?t=n.rounding:sr(t,0,8),Ae(r,e+We(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Cn(n,!0):(sr(e,0,Ha),t===void 0?t=i.rounding:sr(t,0,8),n=Ae(new i(n),e+1,t),r=Cn(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Cn(i):(sr(e,0,Ha),t===void 0?t=s.rounding:sr(t,0,8),n=Ae(new s(i),e+We(i)+1,t),r=Cn(n.abs(),!1,e+We(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Ae(new t(e),We(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Pt);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ft+"Infinity");return l}if(l.eq(Pt))return l;if(n=c.precision,e.eq(Pt))return Ae(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=cP){for(i=new c(Pt),t=Math.ceil(n/Ie+4),$e=!1;r%2&&(i=i.times(l),mj(i.d,t)),r=Ga(r/2),r!==0;)l=l.times(l),mj(l.d,t);return $e=!0,e.s<0?new c(Pt).div(i):Ae(i,n)}}else if(s<0)throw Error(Ft+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,$e=!1,i=e.times(Wi(l,n+u)),$e=!0,i=dP(i),i.s=s,i};ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=We(i),n=Cn(i,r<=s.toExpNeg||r>=s.toExpPos)):(sr(e,1,Ha),t===void 0?t=s.rounding:sr(t,0,8),i=Ae(new s(i),e,t),r=We(i),n=Cn(i,e<=r||r<=s.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sr(e,1,Ha),t===void 0?t=n.rounding:sr(t,0,8)),Ae(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=We(e),r=e.constructor;return Cn(e,t<=r.toExpNeg||t>=r.toExpPos)};function uP(e,t){var r,n,i,s,o,l,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),$e?Ae(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(p/Ie),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/et|0,c[s]%=et;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,$e?Ae(t,p):t}function sr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yn+e)}function tr(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Ie-n.length,r&&(s+=$r(r)),s+=n;o=e[t],n=o+"",r=Ie-n.length,r&&(s+=$r(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var vr=(function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%et|0,o=s/et|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*et+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,p,h,m,x,g,f,b,w,y,j,v,N,k,P,C=n.constructor,$=n.s==i.s?1:-1,O=n.d,A=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Ft+"Division by zero");for(c=n.e-i.e,k=A.length,v=O.length,m=new C($),x=m.d=[],u=0;A[u]==(O[u]||0);)++u;if(A[u]>(O[u]||0)&&--c,s==null?w=s=C.precision:o?w=s+(We(n)-We(i))+1:w=s,w<0)return new C(0);if(w=w/Ie+2|0,u=0,k==1)for(d=0,A=A[0],w++;(u<v||d)&&w--;u++)y=d*et+(O[u]||0),x[u]=y/A|0,d=y%A|0;else{for(d=et/(A[0]+1)|0,d>1&&(A=e(A,d),O=e(O,d),k=A.length,v=O.length),j=k,g=O.slice(0,k),f=g.length;f<k;)g[f++]=0;P=A.slice(),P.unshift(0),N=A[0],A[1]>=et/2&&++N;do d=0,l=t(A,g,k,f),l<0?(b=g[0],k!=f&&(b=b*et+(g[1]||0)),d=b/N|0,d>1?(d>=et&&(d=et-1),p=e(A,d),h=p.length,f=g.length,l=t(p,g,h,f),l==1&&(d--,r(p,k<h?P:A,h))):(d==0&&(l=d=1),p=A.slice()),h=p.length,h<f&&p.unshift(0),r(g,p,f),l==-1&&(f=g.length,l=t(A,g,k,f),l<1&&(d++,r(g,k<f?P:A,f))),f=g.length):l===0&&(d++,g=[0]),x[u++]=d,l&&g[0]?g[f++]=O[j]||0:(g=[O[j]],f=1);while((j++<v||g[0]!==void 0)&&w--)}return x[0]||x.shift(),m.e=c,Ae(m,o?s+We(m)+1:s)}})();function dP(e,t){var r,n,i,s,o,l,c=0,u=0,d=e.constructor,p=d.precision;if(We(e)>16)throw Error(W0+We(e));if(!e.s)return new d(Pt);for($e=!1,l=p,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(rn(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(Pt),d.precision=l;;){if(i=Ae(i.times(e),l),r=r.times(++c),o=s.plus(vr(i,r,l)),tr(o.d).slice(0,l)===tr(s.d).slice(0,l)){for(;u--;)s=Ae(s.times(s),l);return d.precision=p,t==null?($e=!0,Ae(s,p)):s}s=o}}function We(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function qp(e,t,r){if(t>e.LN10.sd())throw $e=!0,r&&(e.precision=r),Error(Ft+"LN10 precision limit exceeded");return Ae(new e(e.LN10),t)}function $r(e){for(var t="";e--;)t+="0";return t}function Wi(e,t){var r,n,i,s,o,l,c,u,d,p=1,h=10,m=e,x=m.d,g=m.constructor,f=g.precision;if(m.s<1)throw Error(Ft+(m.s?"NaN":"-Infinity"));if(m.eq(Pt))return new g(0);if(t==null?($e=!1,u=f):u=t,m.eq(10))return t==null&&($e=!0),qp(g,u);if(u+=h,g.precision=u,r=tr(x),n=r.charAt(0),s=We(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=tr(m.d),n=r.charAt(0),p++;s=We(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=qp(g,u+2,f).times(s+""),m=Wi(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=f,t==null?($e=!0,Ae(m,f)):m;for(l=o=m=vr(m.minus(Pt),m.plus(Pt),u),d=Ae(m.times(m),u),i=3;;){if(o=Ae(o.times(d),u),c=l.plus(vr(o,new g(i),u)),tr(c.d).slice(0,u)===tr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(qp(g,u+2,f).times(s+""))),l=vr(l,new g(p),u),g.precision=f,t==null?($e=!0,Ae(l,f)):l;l=c,i+=2}}function fj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ga(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ie;n<i;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),$e&&(e.e>Io||e.e<-Io))throw Error(W0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ae(e,t,r){var n,i,s,o,l,c,u,d,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ie,i=t,u=p[d=0];else{if(d=Math.ceil((n+1)/Ie),s=p.length,d>=s)return e;for(u=s=p[d],o=1;s>=10;s/=10)o++;n%=Ie,i=n-Ie+o}if(r!==void 0&&(s=rn(10,o-i-1),l=u/s%10|0,c=t<0||p[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/rn(10,o-i):0:p[d-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(s=We(e),p.length=1,t=t-s-1,p[0]=rn(10,(Ie-t%Ie)%Ie),e.e=Ga(-t/Ie)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=d,s=1,d--):(p.length=d+1,s=rn(10,Ie-n),p[d]=i>0?(u/rn(10,o-i)%rn(10,i)|0)*s:0),c)for(;;)if(d==0){(p[0]+=s)==et&&(p[0]=1,++e.e);break}else{if(p[d]+=s,p[d]!=et)break;p[d--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if($e&&(e.e>Io||e.e<-Io))throw Error(W0+We(e));return e}function pP(e,t){var r,n,i,s,o,l,c,u,d,p,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?Ae(t,m):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=p.length):(r=p,n=u,l=c.length),i=Math.max(Math.ceil(m/Ie),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=et-1;--c[s],c[i]+=et}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,$e?Ae(t,m):t):new h(0)}function Cn(e,t,r){var n,i=We(e),s=tr(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+$r(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+$r(-i-1)+s,r&&(n=r-o)>0&&(s+=$r(n))):i>=o?(s+=$r(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+$r(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=$r(n))),e.s<0?"-"+s:s}function mj(e,t){if(e.length>t)return e.length=t,!0}function hP(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(yn+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return fj(o,s.toString())}else if(typeof s!="string")throw Error(yn+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,F9.test(s))fj(o,s);else throw Error(yn+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hP,i.config=i.set=q9,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function q9(e){if(!e||typeof e!="object")throw Error(Ft+"Object expected");var t,r,n,i=["precision",1,Ha,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ga(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(yn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yn+r+": "+n);return this}var H0=hP(B9);Pt=new H0(1);const Se=H0;function z9(e){return H9(e)||W9(e)||V9(e)||U9()}function U9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9(e,t){if(e){if(typeof e=="string")return jf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jf(e,t)}}function W9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function H9(e){if(Array.isArray(e))return jf(e)}function jf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G9=function(t){return t},fP={},mP=function(t){return t===fP},gj=function(t){return function r(){return arguments.length===0||arguments.length===1&&mP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},K9=function e(t,r){return t===1?r:gj(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==fP}).length;return o>=t?r.apply(void 0,i):e(t-o,gj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(p){return mP(p)?c.shift():p});return r.apply(void 0,z9(d).concat(c))}))})},Bl=function(t){return K9(t.length,t)},Nf=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},X9=Bl(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Y9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return G9;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Sf=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gP=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function J9(e){var t;return e===0?t=1:t=Math.floor(new Se(e).abs().log(10).toNumber())+1,t}function Z9(e,t,r){for(var n=new Se(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Q9=Bl(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),eL=Bl(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),tL=Bl(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Fl={rangeStep:Z9,getDigitCount:J9,interpolateNumber:Q9,uninterpolateNumber:eL,uninterpolateTruncation:tL};function kf(e){return aL(e)||nL(e)||xP(e)||rL()}function rL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nL(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aL(e){if(Array.isArray(e))return Pf(e)}function Hi(e,t){return oL(e)||sL(e,t)||xP(e,t)||iL()}function iL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xP(e,t){if(e){if(typeof e=="string")return Pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pf(e,t)}}function Pf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sL(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function oL(e){if(Array.isArray(e))return e}function yP(e){var t=Hi(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function vP(e,t,r){if(e.lte(0))return new Se(0);var n=Fl.getDigitCount(e.toNumber()),i=new Se(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new Se(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Se(Math.ceil(c))}function lL(e,t,r){var n=1,i=new Se(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Se(10).pow(Fl.getDigitCount(e)-1),i=new Se(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Se(Math.floor(e)))}else e===0?i=new Se(Math.floor((t-1)/2)):r||(i=new Se(Math.floor(e)));var o=Math.floor((t-1)/2),l=Y9(X9(function(c){return i.add(new Se(c-o).mul(n)).toNumber()}),Nf);return l(0,t)}function bP(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Se(0),tickMin:new Se(0),tickMax:new Se(0)};var s=vP(new Se(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Se(0):(o=new Se(e).add(t).div(2),o=o.sub(new Se(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Se(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?bP(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Se(l).mul(s)),tickMax:o.add(new Se(c).mul(s))})}function cL(e){var t=Hi(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=yP([r,n]),c=Hi(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var p=d===1/0?[u].concat(kf(Nf(0,i-1).map(function(){return 1/0}))):[].concat(kf(Nf(0,i-1).map(function(){return-1/0})),[d]);return r>n?Sf(p):p}if(u===d)return lL(u,i,s);var h=bP(u,d,o,s),m=h.step,x=h.tickMin,g=h.tickMax,f=Fl.rangeStep(x,g.add(new Se(.1).mul(m)),m);return r>n?Sf(f):f}function uL(e,t){var r=Hi(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yP([n,i]),l=Hi(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),p=vP(new Se(u).sub(c).div(d-1),s,0),h=[].concat(kf(Fl.rangeStep(new Se(c),new Se(u).sub(new Se(.99).mul(p)),p)),[u]);return n>i?Sf(h):h}var dL=gP(cL),pL=gP(uL),hL="Invariant failed";function On(e,t){throw new Error(hL)}var fL=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}function mL(e,t){return vL(e)||yL(e,t)||xL(e,t)||gL()}function gL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xL(e,t){if(e){if(typeof e=="string")return xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xj(e,t)}}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vL(e){if(Array.isArray(e))return e}function bL(e,t){if(e==null)return{};var r=wL(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NP(n.key),n)}}function SL(e,t,r){return t&&NL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kL(e,t,r){return t=$o(t),PL(e,wP()?Reflect.construct(t,r||[],$o(e).constructor):t.apply(e,r))}function PL(e,t){if(t&&(ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AL(e)}function AL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wP=function(){return!!e})()}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$o(e)}function CL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Af(e,t)}function Af(e,t){return Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Af(e,t)}function jP(e,t,r){return t=NP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NP(e){var t=OL(e,"string");return ya(t)=="symbol"?t:t+""}function OL(e,t){if(ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var As=(function(e){function t(){return jL(this,t),kL(this,t,arguments)}return CL(t,e),SL(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,p=n.yAxis,h=bL(n,fL),m=se(h,!1);this.props.direction==="x"&&d.type!=="number"&&On();var x=c.map(function(g){var f=u(g,l),b=f.x,w=f.y,y=f.value,j=f.errorVal;if(!j)return null;var v=[],N,k;if(Array.isArray(j)){var P=mL(j,2);N=P[0],k=P[1]}else N=k=j;if(s==="vertical"){var C=d.scale,$=w+i,O=$+o,A=$-o,T=C(y-N),I=C(y+k);v.push({x1:I,y1:O,x2:I,y2:A}),v.push({x1:T,y1:$,x2:I,y2:$}),v.push({x1:T,y1:O,x2:T,y2:A})}else if(s==="horizontal"){var M=p.scale,R=b+i,L=R-o,q=R+o,B=M(y-N),te=M(y+k);v.push({x1:L,y1:te,x2:q,y2:te}),v.push({x1:R,y1:B,x2:R,y2:te}),v.push({x1:L,y1:B,x2:q,y2:B})}return E.createElement(ve,Mo({className:"recharts-errorBar",key:"bar-".concat(v.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},m),v.map(function(U){return E.createElement("line",Mo({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return E.createElement(ve,{className:"recharts-errorBars"},x)}}])})(E.Component);jP(As,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jP(As,"displayName","ErrorBar");function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){TL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TL(e,t,r){return t=_L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _L(e){var t=EL(e,"string");return Gi(t)=="symbol"?t:t+""}function EL(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SP=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=St(r,gn);if(!o)return null;var l=gn.defaultProps,c=l!==void 0?Jr(Jr({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,p){var h=p.item,m=p.props,x=m.sectors||m.data||[];return d.concat(x.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var p=d.item,h=p.type.defaultProps,m=h!==void 0?Jr(Jr({},h),p.props):{},x=m.dataKey,g=m.name,f=m.legendType,b=m.hide;return{inactive:b,dataKey:x,type:c.iconType||f||"square",color:G0(p),value:g||x,payload:m}}),Jr(Jr(Jr({},c),gn.getWithHeight(o,i)),{},{payload:u,item:o})};function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function vj(e){return DL(e)||$L(e)||ML(e)||IL()}function IL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ML(e,t){if(e){if(typeof e=="string")return Cf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cf(e,t)}}function $L(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DL(e){if(Array.isArray(e))return Cf(e)}function Cf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sa(e,t,r){return t=RL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RL(e){var t=LL(e,"string");return Ki(t)=="symbol"?t:t+""}function LL(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return he(e)||he(t)?r:Je(t)?At(e,t,r):ue(t)?t(e):r}function yi(e,t,r,n){var i=D9(e,function(l){return Ye(l,t)});if(r==="number"){var s=i.filter(function(l){return Z(l)||parseFloat(l)});return s.length?[Ll(s),Rl(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!he(l)}):i;return o.map(function(l){return Je(l)||l instanceof Date?l:""})}var BL=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,p=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ft(p-d)!==ft(h-p)){var x=[];if(ft(h-p)===ft(c[1]-c[0])){m=h;var g=p+c[1]-c[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{m=d;var f=h+c[1]-c[0];x[0]=Math.min(p,(f+p)/2),x[1]=Math.max(p,(f+p)/2)}var b=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var w=Math.min(d,h),y=Math.max(d,h);if(t>(w+p)/2&&t<=(y+p)/2){o=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},G0=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Fe(Fe({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},FL=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,p=Object.keys(d),h=0,m=p.length;h<m;h++){var x=d[p[h]],g=x.items,f=x.cateAxisId,b=g.filter(function(k){return yr(k.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,y=w!==void 0?Fe(Fe({},w),b[0].props):b[0].props,j=y.barSize,v=y[f];o[v]||(o[v]=[]);var N=he(j)?r:j;o[v].push({item:b[0],stackList:b.slice(1),barSize:he(N)?void 0:mt(N,n,0)})}}return o},qL=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=mt(r,i,0,!0),d,p=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,x=o.reduce(function(j,v){return j+v.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&m>0&&(h=!0,m*=.9,x=c*m);var g=(i-x)/2>>0,f={offset:g-u,size:0};d=o.reduce(function(j,v){var N={item:v.item,position:{offset:f.offset+f.size+u,size:h?m:v.barSize}},k=[].concat(vj(j),[N]);return f=k[k.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(P){k.push({item:P,position:f})}),k},p)}else{var b=mt(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var w=(i-2*b-(c-1)*u)/c;w>1&&(w>>=0);var y=l===+l?Math.min(w,l):w;d=o.reduce(function(j,v,N){var k=[].concat(vj(j),[{item:v.item,position:{offset:b+(w+u)*N+(w-y)/2,size:y}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(P){k.push({item:P,position:k[k.length-1].position})}),k},p)}return d},zL=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=SP({children:s,legendWidth:c});if(u){var d=i||{},p=d.width,h=d.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&Z(t[m]))return Fe(Fe({},t),{},sa({},m,t[m]+(p||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&Z(t[x]))return Fe(Fe({},t),{},sa({},x,t[x]+(h||0)))}return t},UL=function(t,r,n){return he(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kP=function(t,r,n,i,s){var o=r.props.children,l=Ct(o,As).filter(function(u){return UL(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var p=Ye(d,n);if(he(p))return u;var h=Array.isArray(p)?[Ll(p),Rl(p)]:[p,p],m=c.reduce(function(x,g){var f=Ye(d,g,0),b=h[0]-Math.abs(Array.isArray(f)?f[0]:f),w=h[1]+Math.abs(Array.isArray(f)?f[1]:f);return[Math.min(b,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},VL=function(t,r,n,i,s){var o=r.map(function(l){return kP(t,l,n,s,i)}).filter(function(l){return!he(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PP=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&kP(t,c,u,i)||yi(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,p=u.length;d<p;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},AP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},CP=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},mr=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ft(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(p){var h=s?s.indexOf(p):p;return{coordinate:i(h)+u,value:p,offset:u}});return d.filter(function(p){return!bs(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,h){return{coordinate:i(p)+u,value:p,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,h){return{coordinate:i(p)+u,value:s?s[p]:p,index:h,offset:u}})},zp=new WeakMap,zs=function(t,r){if(typeof r!="function")return t;zp.has(t)||zp.set(t,new WeakMap);var n=zp.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},OP=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Fi(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Oo(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xi(),realScaleType:"point"}:s==="category"?{scale:Fi(),realScaleType:"band"}:{scale:Oo(),realScaleType:"linear"};if(kn(i)){var c="scale".concat(jl(i));return{scale:(ij[c]||xi)(),realScaleType:ij[c]?c:"point"}}return ue(i)?{scale:i}:{scale:xi(),realScaleType:"point"}},wj=1e-4,TP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-wj,o=Math.max(i[0],i[1])+wj,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},WL=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},HL=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(s[0]=n),(!Z(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},GL=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=bs(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},KL=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=bs(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},XL={sign:GL,expand:D6,none:ua,silhouette:R6,wiggle:L6,positive:KL},YL=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=XL[n],o=$6().keys(i).value(function(l,c){return+Ye(l,c,0)}).order(nf).offset(s);return o(t)},JL=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(p,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Fe(Fe({},h.type.defaultProps),h.props):h.props,g=x.stackId,f=x.hide;if(f)return p;var b=x[n],w=p[b]||{hasStack:!1,stackGroups:{}};if(Je(g)){var y=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};y.items.push(h),w.hasStack=!0,w.stackGroups[g]=y}else w.stackGroups[Ua("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Fe(Fe({},p),{},sa({},b,w))},c),d={};return Object.keys(u).reduce(function(p,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,f){var b=m.stackGroups[f];return Fe(Fe({},g),{},sa({},f,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:YL(t,b.items,s)}))},x)}return Fe(Fe({},p),{},sa({},h,m))},d)},_P=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=dL(u,s,l);return t.domain([Ll(d),Rl(d)]),{niceTicks:d}}if(s&&i==="number"){var p=t.domain(),h=pL(p,s,l);return{niceTicks:h}}return null};function jj(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!he(i[t.dataKey])){var l=uo(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ye(i,he(o)?t.dataKey:o);return he(c)?null:t.scale(c)}var Nj=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ye(o,r.dataKey,r.domain[l]);return he(c)?null:r.scale(c)-s/2+i},ZL=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},QL=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Fe(Fe({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Je(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},e8=function(t){return t.reduce(function(r,n){return[Ll(n.concat([r[0]]).filter(Z)),Rl(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},EP=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var p=e8(d.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Of=function(t,r,n){if(ue(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Z(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Sj.test(t[0])){var s=+Sj.exec(t[0])[1];i[0]=r[0]-s}else ue(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Z(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(kj.test(t[1])){var o=+kj.exec(t[1])[1];i[1]=r[1]+o}else ue(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Do=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=w0(r,function(p){return p.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Pj=function(t,r,n){return!t||!t.length||Ps(t,At(n,"type.defaultProps.domain"))?r:t},IP=function(t,r){var n=t.type.defaultProps?Fe(Fe({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Fe(Fe({},se(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:G0(t),value:Ye(r,i),type:c,payload:r,chartType:u,hide:d})};function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){MP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MP(e,t,r){return t=t8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return Xi(t)=="symbol"?t:t+""}function r8(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n8(e,t){return o8(e)||s8(e,t)||i8(e,t)||a8()}function a8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(e,t){if(e){if(typeof e=="string")return Cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cj(e,t)}}function Cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function o8(e){if(Array.isArray(e))return e}var Ro=Math.PI/180,l8=function(t){return t*180/Math.PI},_e=function(t,r,n,i){return{x:t+Math.cos(-Ro*i)*n,y:r+Math.sin(-Ro*i)*n}},$P=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},c8=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=mt(t.cx,o,o/2),p=mt(t.cy,l,l/2),h=$P(o,l,n),m=mt(t.innerRadius,h,0),x=mt(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(f,b){var w=r[b],y=w.domain,j=w.reversed,v;if(he(w.range))i==="angleAxis"?v=[c,u]:i==="radiusAxis"&&(v=[m,x]),j&&(v=[v[1],v[0]]);else{v=w.range;var N=v,k=n8(N,2);c=k[0],u=k[1]}var P=OP(w,s),C=P.realScaleType,$=P.scale;$.domain(y).range(v),TP($);var O=_P($,pr(pr({},w),{},{realScaleType:C})),A=pr(pr(pr({},w),O),{},{range:v,radius:x,realScaleType:C,scale:$,cx:d,cy:p,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return pr(pr({},f),{},MP({},b,A))},{})},u8=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},d8=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=u8({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:l8(u),angleInRadian:u}},p8=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},h8=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},Oj=function(t,r){var n=t.x,i=t.y,s=d8({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=p8(r),p=d.startAngle,h=d.endAngle,m=l,x;if(p<=h){for(;m>h;)m-=360;for(;m<p;)m+=360;x=m>=p&&m<=h}else{for(;m>p;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=p}return x?pr(pr({},r),{},{radius:o,angle:h8(m,r)}):null},DP=function(t){return!S.isValidElement(t)&&!ue(t)&&typeof t!="boolean"?t.className:""};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var f8=["offset"];function m8(e){return v8(e)||y8(e)||x8(e)||g8()}function g8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(e,t){if(e){if(typeof e=="string")return Tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tf(e,t)}}function y8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v8(e){if(Array.isArray(e))return Tf(e)}function Tf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b8(e,t){if(e==null)return{};var r=w8(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return t=N8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=S8(e,"string");return Yi(t)=="symbol"?t:t+""}function S8(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}var k8=function(t){var r=t.value,n=t.formatter,i=he(t.children)?r:t.children;return ue(n)?n(i):i},P8=function(t,r){var n=ft(r-t),i=Math.min(Math.abs(r-t),360);return n*i},A8=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,p=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,f=(p+h)/2,b=P8(m,x),w=b>=0?1:-1,y,j;i==="insideStart"?(y=m+w*o,j=g):i==="insideEnd"?(y=x-w*o,j=!g):i==="end"&&(y=x+w*o,j=g),j=b<=0?j:!j;var v=_e(u,d,f,y),N=_e(u,d,f,y+(j?1:-1)*359),k="M".concat(v.x,",").concat(v.y,`
    A`).concat(f,",").concat(f,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),P=he(t.id)?Ua("recharts-radial-line-"):t.id;return E.createElement("text",Ji({},n,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:P,d:k})),E.createElement("textPath",{xlinkHref:"#".concat(P)},r))},C8=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,p=s.endAngle,h=(d+p)/2;if(i==="outside"){var m=_e(o,l,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var f=(c+u)/2,b=_e(o,l,f,h),w=b.x,y=b.y;return{x:w,y,textAnchor:"middle",verticalAnchor:"middle"}},O8=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,p=d>=0?1:-1,h=p*i,m=p>0?"end":"start",x=p>0?"start":"end",g=u>=0?1:-1,f=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(s==="top"){var y={x:l+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:m};return Ge(Ge({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return Ge(Ge({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var v={x:l-f,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ge(Ge({},v),n?{width:Math.max(v.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+f,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Ge(Ge({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return s==="insideLeft"?Ge({x:l+f,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},k):s==="insideRight"?Ge({x:l+u-f,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideTop"?Ge({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},k):s==="insideBottom"?Ge({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},k):s==="insideTopLeft"?Ge({x:l+f,y:c+h,textAnchor:w,verticalAnchor:x},k):s==="insideTopRight"?Ge({x:l+u-f,y:c+h,textAnchor:b,verticalAnchor:x},k):s==="insideBottomLeft"?Ge({x:l+f,y:c+d-h,textAnchor:w,verticalAnchor:m},k):s==="insideBottomRight"?Ge({x:l+u-f,y:c+d-h,textAnchor:b,verticalAnchor:m},k):za(s)&&(Z(s.x)||on(s.x))&&(Z(s.y)||on(s.y))?Ge({x:l+mt(s.x,u),y:c+mt(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):Ge({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},T8=function(t){return"cx"in t&&Z(t.cx)};function tt(e){var t=e.offset,r=t===void 0?5:t,n=b8(e,f8),i=Ge({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,p=d===void 0?"":d,h=i.textBreakAll;if(!s||he(l)&&he(c)&&!S.isValidElement(u)&&!ue(u))return null;if(S.isValidElement(u))return S.cloneElement(u,i);var m;if(ue(u)){if(m=S.createElement(u,i),S.isValidElement(m))return m}else m=k8(i);var x=T8(s),g=se(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return A8(i,m,g);var f=x?C8(i):O8(i);return E.createElement(An,Ji({className:fe("recharts-label",p)},g,f,{breakAll:h}),m)}tt.displayName="Label";var RP=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,p=t.x,h=t.y,m=t.top,x=t.left,g=t.width,f=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(Z(g)&&Z(f)){if(Z(p)&&Z(h))return{x:p,y:h,width:g,height:f};if(Z(m)&&Z(x))return{x:m,y:x,width:g,height:f}}return Z(p)&&Z(h)?{x:p,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},_8=function(t,r){return t?t===!0?E.createElement(tt,{key:"label-implicit",viewBox:r}):Je(t)?E.createElement(tt,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===tt?S.cloneElement(t,{key:"label-implicit",viewBox:r}):E.createElement(tt,{key:"label-implicit",content:t,viewBox:r}):ue(t)?E.createElement(tt,{key:"label-implicit",content:t,viewBox:r}):za(t)?E.createElement(tt,Ji({viewBox:r},t,{key:"label-implicit"})):null:null},E8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=RP(t),o=Ct(i,tt).map(function(c,u){return S.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=_8(t.label,r||s);return[l].concat(m8(o))};tt.parseViewBox=RP;tt.renderCallByParent=E8;var Up,_j;function I8(){if(_j)return Up;_j=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Up=e,Up}var M8=I8();const $8=Pe(M8);function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}var D8=["valueAccessor"],R8=["data","dataKey","clockWise","id","textBreakAll"];function L8(e){return z8(e)||q8(e)||F8(e)||B8()}function B8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8(e,t){if(e){if(typeof e=="string")return _f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _f(e,t)}}function q8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z8(e){if(Array.isArray(e))return _f(e)}function _f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(this,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){U8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U8(e,t,r){return t=V8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8(e){var t=W8(e,"string");return Zi(t)=="symbol"?t:t+""}function W8(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mj(e,t){if(e==null)return{};var r=H8(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var G8=function(t){return Array.isArray(t.value)?$8(t.value):t.value};function br(e){var t=e.valueAccessor,r=t===void 0?G8:t,n=Mj(e,D8),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Mj(n,R8);return!i||!i.length?null:E.createElement(ve,{className:"recharts-label-list"},i.map(function(d,p){var h=he(s)?r(d,p):Ye(d&&d.payload,s),m=he(l)?{}:{id:"".concat(l,"-").concat(p)};return E.createElement(tt,Lo({},se(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:tt.parseViewBox(he(o)?d:Ij(Ij({},d),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}br.displayName="LabelList";function K8(e,t){return e?e===!0?E.createElement(br,{key:"labelList-implicit",data:t}):E.isValidElement(e)||ue(e)?E.createElement(br,{key:"labelList-implicit",data:t,content:e}):za(e)?E.createElement(br,Lo({data:t},e,{key:"labelList-implicit"})):null:null}function X8(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Ct(n,br).map(function(o,l){return S.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=K8(e.label,t);return[s].concat(L8(i))}br.renderCallByParent=X8;function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return t=J8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=Z8(e,"string");return Qi(t)=="symbol"?t:t+""}function Z8(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q8=function(t,r){var n=ft(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Us=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,p=Math.asin(c/d)/Ro,h=u?s:s+o*p,m=_e(r,n,d,h),x=_e(r,n,i,h),g=u?s-o*p:s,f=_e(r,n,d*Math.cos(p*Ro),g);return{center:m,circleTangency:x,lineTangency:f,theta:p}},LP=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Q8(o,l),u=o+c,d=_e(r,n,s,o),p=_e(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var m=_e(r,n,i,o),x=_e(r,n,i,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},eB=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,p=ft(d-u),h=Us({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,g=h.theta,f=Us({cx:r,cy:n,radius:s,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:c}),b=f.circleTangency,w=f.lineTangency,y=f.theta,j=c?Math.abs(u-d):Math.abs(u-d)-g-y;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LP({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var v="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=Us({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,P=N.lineTangency,C=N.theta,$=Us({cx:r,cy:n,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=$.circleTangency,A=$.lineTangency,T=$.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-T;if(I<0&&o===0)return"".concat(v,"L").concat(r,",").concat(n,"Z");v+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else v+="L".concat(r,",").concat(n,"Z");return v},tB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BP=function(t){var r=Dj(Dj({},tB),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,p=r.endAngle,h=r.className;if(o<s||d===p)return null;var m=fe("recharts-sector",h),x=o-s,g=mt(l,x,0,!0),f;return g>0&&Math.abs(d-p)<360?f=eB({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:p}):f=LP({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:p}),E.createElement("path",Ef({},se(r,!0),{className:m,d:f,role:"img"}))};function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){rB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rB(e,t,r){return t=nB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nB(e){var t=aB(e,"string");return es(t)=="symbol"?t:t+""}function aB(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bj={curveBasisClosed:S6,curveBasisOpen:k6,curveBasis:N6,curveBumpX:c6,curveBumpY:u6,curveLinearClosed:P6,curveLinear:Sl,curveMonotoneX:A6,curveMonotoneY:C6,curveNatural:O6,curveStep:T6,curveStepAfter:E6,curveStepBefore:_6},Vs=function(t){return t.x===+t.x&&t.y===+t.y},ri=function(t){return t.x},ni=function(t){return t.y},iB=function(t,r){if(ue(t))return t;var n="curve".concat(jl(t));return(n==="curveMonotone"||n==="curveBump")&&r?Bj["".concat(n).concat(r==="vertical"?"Y":"X")]:Bj[n]||Sl},sB=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=iB(n,l),p=u?s.filter(function(g){return Vs(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return Vs(g)}):o,x=p.map(function(g,f){return Lj(Lj({},g),{},{base:m[f]})});return l==="vertical"?h=$s().y(ni).x1(ri).x0(function(g){return g.base.x}):h=$s().x(ri).y1(ni).y0(function(g){return g.base.y}),h.defined(Vs).curve(d),h(x)}return l==="vertical"&&Z(o)?h=$s().y(ni).x1(ri).x0(o):Z(o)?h=$s().x(ri).y1(ni).y0(o):h=RS().x(ri).y(ni),h.defined(Vs).curve(d),h(p)},Bo=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?sB(t):i;return S.createElement("path",If({},se(t,!1),po(t),{className:fe("recharts-curve",r),d:o,ref:s}))},Vp={exports:{}},Wp,Fj;function oB(){if(Fj)return Wp;Fj=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wp=e,Wp}var Hp,qj;function lB(){if(qj)return Hp;qj=1;var e=oB();function t(){}function r(){}return r.resetWarningCache=t,Hp=function(){function n(o,l,c,u,d,p){if(p!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},Hp}var zj;function cB(){return zj||(zj=1,Vp.exports=lB()()),Vp.exports}var uB=cB();const Ne=Pe(uB),{getOwnPropertyNames:dB,getOwnPropertySymbols:pB}=Object,{hasOwnProperty:hB}=Object.prototype;function Uj(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Ws(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,i);return s.delete(r),s.delete(n),c}}function fB(e){return e?.[Symbol.toStringTag]}function Vj(e){return dB(e).concat(pB(e))}const mB=Object.hasOwn||((e,t)=>hB.call(e,t));function Rn(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const gB="__v",xB="__o",yB="_owner",{getOwnPropertyDescriptor:Wj,keys:Hj}=Object;function vB(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function bB(e,t){return Rn(e.getTime(),t.getTime())}function wB(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jB(e,t){return e===t}function Gj(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let d=!1,p=0;for(;(l=u.next())&&!l.done;){if(i[p]){p++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,p,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}const NB=Rn;function SB(e,t,r){const n=Hj(e);let i=n.length;if(Hj(t).length!==i)return!1;for(;i-- >0;)if(!FP(e,t,r,n[i]))return!1;return!0}function ai(e,t,r){const n=Vj(e);let i=n.length;if(Vj(t).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=n[i],!FP(e,t,r,s)||(o=Wj(e,s),l=Wj(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function kB(e,t){return Rn(e.valueOf(),t.valueOf())}function PB(e,t){return e.source===t.source&&e.flags===t.flags}function Kj(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function AB(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CB(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function FP(e,t,r,n){return(n===yB||n===xB||n===gB)&&(e.$$typeof||t.$$typeof)?!0:mB(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const OB="[object Arguments]",TB="[object Boolean]",_B="[object Date]",EB="[object Error]",IB="[object Map]",MB="[object Number]",$B="[object Object]",DB="[object RegExp]",RB="[object Set]",LB="[object String]",BB="[object URL]",{isArray:FB}=Array,Xj=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:Yj}=Object,qB=Object.prototype.toString.call.bind(Object.prototype.toString);function zB({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:h}){return function(x,g,f){if(x===g)return!0;if(x==null||g==null)return!1;const b=typeof x;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(x,g,f):b==="function"?n(x,g,f):!1;const w=x.constructor;if(w!==g.constructor)return!1;if(w===Object)return o(x,g,f);if(FB(x))return e(x,g,f);if(Xj!=null&&Xj(x))return d(x,g,f);if(w===Date)return t(x,g,f);if(w===RegExp)return c(x,g,f);if(w===Map)return i(x,g,f);if(w===Set)return u(x,g,f);const y=qB(x);if(y===_B)return t(x,g,f);if(y===DB)return c(x,g,f);if(y===IB)return i(x,g,f);if(y===RB)return u(x,g,f);if(y===$B)return typeof x.then!="function"&&typeof g.then!="function"&&o(x,g,f);if(y===BB)return p(x,g,f);if(y===EB)return r(x,g,f);if(y===OB)return o(x,g,f);if(y===TB||y===MB||y===LB)return l(x,g,f);if(h){let j=h[y];if(!j){const v=fB(x);v&&(j=h[v])}if(j)return j(x,g,f)}return!1}}function UB({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?ai:vB,areDatesEqual:bB,areErrorsEqual:wB,areFunctionsEqual:jB,areMapsEqual:r?Uj(Gj,ai):Gj,areNumbersEqual:NB,areObjectsEqual:r?ai:SB,arePrimitiveWrappersEqual:kB,areRegExpsEqual:PB,areSetsEqual:r?Uj(Kj,ai):Kj,areTypedArraysEqual:r?ai:AB,areUrlsEqual:CB,unknownTagComparators:void 0};if(t&&(n=Yj({},n,t(n))),e){const i=Ws(n.areArraysEqual),s=Ws(n.areMapsEqual),o=Ws(n.areObjectsEqual),l=Ws(n.areSetsEqual);n=Yj({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function VB(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function WB({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,s)}}const HB=Kr();Kr({strict:!0});Kr({circular:!0});Kr({circular:!0,strict:!0});Kr({createInternalComparator:()=>Rn});Kr({strict:!0,createInternalComparator:()=>Rn});Kr({circular:!0,createInternalComparator:()=>Rn});Kr({circular:!0,createInternalComparator:()=>Rn,strict:!0});function Kr(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=UB(e),o=zB(s),l=r?r(o):VB(o);return WB({circular:t,comparator:o,createState:n,equals:l,strict:i})}function GB(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Jj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):GB(i)};requestAnimationFrame(n)}function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function KB(e){return ZB(e)||JB(e)||YB(e)||XB()}function XB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(e,t){if(e){if(typeof e=="string")return Zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(e,t)}}function Zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZB(e){if(Array.isArray(e))return e}function QB(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=KB(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Jj(i.bind(null,u),c);return}i(c),Jj(i.bind(null,u));return}Mf(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){qP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qP(e,t,r){return t=eF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eF(e){var t=tF(e,"string");return ts(t)==="symbol"?t:String(t)}function tF(e,t){if(ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rF=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},nF=function(t){return t},aF=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vi=function(t,r){return Object.keys(r).reduce(function(n,i){return e1(e1({},n),{},qP({},i,t(i,r[i])))},{})},t1=function(t,r,n){return t.map(function(i){return"".concat(aF(i)," ").concat(r,"ms ").concat(n)}).join(",")};function iF(e,t){return lF(e)||oF(e,t)||zP(e,t)||sF()}function sF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lF(e){if(Array.isArray(e))return e}function cF(e){return pF(e)||dF(e)||zP(e)||uF()}function uF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zP(e,t){if(e){if(typeof e=="string")return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}}function dF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pF(e){if(Array.isArray(e))return $f(e)}function $f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fo=1e-4,UP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VP=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},r1=function(t,r){return function(n){var i=UP(t,r);return VP(i,n)}},hF=function(t,r){return function(n){var i=UP(t,r),s=[].concat(cF(i.map(function(o,l){return o*l}).slice(1)),[0]);return VP(s,n)}},n1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(f){return parseFloat(f)}),d=iF(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var p=r1(i,o),h=r1(s,l),m=hF(i,o),x=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,y=w,j=0;j<8;++j){var v=p(y)-w,N=m(y);if(Math.abs(v-w)<Fo||N<Fo)return h(y);y=x(y-v/N)}return h(y)};return g.isStepper=!1,g},fF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,p,h){var m=-(d-p)*n,x=h*s,g=h+(m-x)*l/1e3,f=h*l/1e3+d;return Math.abs(f-p)<Fo&&Math.abs(g)<Fo?[p,0]:[f,g]};return c.isStepper=!0,c.dt=l,c},mF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n1(i);case"spring":return fF();default:if(i.split("(")[0]==="cubic-bezier")return n1(i)}return typeof i=="function"?i:null};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function a1(e){return yF(e)||xF(e)||WP(e)||gF()}function gF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yF(e){if(Array.isArray(e))return Rf(e)}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){Df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Df(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=bF(e,"string");return rs(t)==="symbol"?t:String(t)}function bF(e,t){if(rs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wF(e,t){return SF(e)||NF(e,t)||WP(e,t)||jF()}function jF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WP(e,t){if(e){if(typeof e=="string")return Rf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rf(e,t)}}function Rf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function SF(e){if(Array.isArray(e))return e}var qo=function(t,r,n){return t+(r-t)*n},Lf=function(t){var r=t.from,n=t.to;return r!==n},kF=function e(t,r,n){var i=vi(function(s,o){if(Lf(o)){var l=t(o.from,o.to,o.velocity),c=wF(l,2),u=c[0],d=c[1];return at(at({},o),{},{from:u,velocity:d})}return o},r);return n<1?vi(function(s,o){return Lf(o)?at(at({},o),{},{velocity:qo(o.velocity,i[s].velocity,n),from:qo(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const PF=(function(e,t,r,n,i){var s=rF(e,t),o=s.reduce(function(f,b){return at(at({},f),{},Df({},b,[e[b],t[b]]))},{}),l=s.reduce(function(f,b){return at(at({},f),{},Df({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,p=function(){return null},h=function(){return vi(function(b,w){return w.from},l)},m=function(){return!Object.values(l).filter(Lf).length},x=function(b){u||(u=b);var w=b-u,y=w/r.dt;l=kF(r,l,y),i(at(at(at({},e),t),h())),u=b,m()||(c=requestAnimationFrame(p))},g=function(b){d||(d=b);var w=(b-d)/n,y=vi(function(v,N){return qo.apply(void 0,a1(N).concat([r(w)]))},o);if(i(at(at(at({},e),t),y)),w<1)c=requestAnimationFrame(p);else{var j=vi(function(v,N){return qo.apply(void 0,a1(N).concat([r(1)]))},o);i(at(at(at({},e),t),j))}};return p=r.isStepper?x:g,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}var AF=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CF(e,t){if(e==null)return{};var r=OF(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OF(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Gp(e){return IF(e)||EF(e)||_F(e)||TF()}function TF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(e,t){if(e){if(typeof e=="string")return Bf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bf(e,t)}}function EF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IF(e){if(Array.isArray(e))return Bf(e)}function Bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ci(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function DF(e,t,r){return t&&$F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HP(e){var t=RF(e,"string");return va(t)==="symbol"?t:String(t)}function RF(e,t){if(va(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(va(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ff(e,t)}function Ff(e,t){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ff(e,t)}function BF(e){var t=FF();return function(){var n=zo(e),i;if(t){var s=zo(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return qf(this,i)}}function qf(e,t){if(t&&(va(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}function zf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zo(e)}var or=(function(e){LF(r,e);var t=BF(r);function r(n,i){var s;MF(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,p=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(zf(s)),s.changeStyle=s.changeStyle.bind(zf(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),qf(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof h=="function")return s.state={style:u},qf(s);s.state={style:c?ci({},c,u):u}}else s.state={style:{}};return s}return DF(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,p=s.from,h=this.state.style;if(l){if(!o){var m={style:c?ci({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(HB(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?p:i.to;if(this.state&&h){var f={style:c?ci({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(f)}this.runAnimation(Ht(Ht({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,p=i.onAnimationEnd,h=i.onAnimationStart,m=PF(o,l,mF(u),c,this.changeStyle),x=function(){s.stopJSAnimation=m()};this.manager.start([h,d,x,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,p=u.duration,h=p===void 0?0:p,m=function(g,f,b){if(b===0)return g;var w=f.duration,y=f.easing,j=y===void 0?"ease":y,v=f.style,N=f.properties,k=f.onAnimationEnd,P=b>0?o[b-1]:f,C=N||Object.keys(v);if(typeof j=="function"||j==="spring")return[].concat(Gp(g),[s.runJSAnimation.bind(s,{from:P.style,to:v,duration:w,easing:j}),w]);var $=t1(C,w,j),O=Ht(Ht(Ht({},P.style),v),{},{transition:$});return[].concat(Gp(g),[O,w,k]).filter(nF)};return this.manager.start([c].concat(Gp(o.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=QB());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,h=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?ci({},l,c):c,f=t1(Object.keys(g),o,u);x.start([d,s,Ht(Ht({},g),{},{transition:f}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=CF(i,AF),u=S.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var p=function(m){var x=m.props,g=x.style,f=g===void 0?{}:g,b=x.className,w=S.cloneElement(m,Ht(Ht({},c),{},{style:Ht(Ht({},f),d),className:b}));return w};return u===1?p(S.Children.only(s)):E.createElement("div",null,S.Children.map(s,function(h){return p(h)}))}}]),r})(S.PureComponent);or.displayName="Animate";or.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};or.propTypes={from:Ne.oneOfType([Ne.object,Ne.string]),to:Ne.oneOfType([Ne.object,Ne.string]),attributeName:Ne.string,duration:Ne.number,begin:Ne.number,easing:Ne.oneOfType([Ne.string,Ne.func]),steps:Ne.arrayOf(Ne.shape({duration:Ne.number.isRequired,style:Ne.object.isRequired,easing:Ne.oneOfType([Ne.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ne.func]),properties:Ne.arrayOf("string"),onAnimationEnd:Ne.func})),children:Ne.oneOfType([Ne.node,Ne.func]),isActive:Ne.bool,canBegin:Ne.bool,onAnimationEnd:Ne.func,shouldReAnimate:Ne.bool,onAnimationStart:Ne.func,onAnimationReStart:Ne.func};function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(this,arguments)}function qF(e,t){return WF(e)||VF(e,t)||UF(e,t)||zF()}function zF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(e,t){if(e){if(typeof e=="string")return o1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(e,t)}}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function WF(e){if(Array.isArray(e))return e}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){HF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HF(e,t,r){return t=GF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=KF(e,"string");return ns(t)=="symbol"?t:t+""}function KF(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u1=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],h=0,m=4;h<m;h++)p[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+c*p[0],",").concat(r)),d+="L ".concat(t+n-c*p[1],",").concat(r),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*p[1])),d+="L ".concat(t+n,",").concat(r+i-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-c*p[2],",").concat(r+i)),d+="L ".concat(t+c*p[3],",").concat(r+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*p[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},XF=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),p=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=p&&i<=h}return!1},YF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K0=function(t){var r=c1(c1({},YF),t),n=S.useRef(),i=S.useState(-1),s=qF(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,p=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,f=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||p!==+p||d===0||p===0)return null;var y=fe("recharts-rectangle",m);return w?E.createElement(or,{canBegin:o>0,from:{width:d,height:p,x:c,y:u},to:{width:d,height:p,x:c,y:u},duration:g,animationEasing:x,isActive:w},function(j){var v=j.width,N=j.height,k=j.x,P=j.y;return E.createElement(or,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:g,isActive:b,easing:x},E.createElement("path",Uo({},se(r,!0),{className:y,d:u1(k,P,v,N,h),ref:n})))}):E.createElement("path",Uo({},se(r,!0),{className:y,d:u1(c,u,d,p,h)}))},JF=["points","className","baseLinePoints","connectNulls"];function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(this,arguments)}function ZF(e,t){if(e==null)return{};var r=QF(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d1(e){return nq(e)||rq(e)||tq(e)||eq()}function eq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(e,t){if(e){if(typeof e=="string")return Uf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uf(e,t)}}function rq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nq(e){if(Array.isArray(e))return Uf(e)}function Uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p1=function(t){return t&&t.x===+t.x&&t.y===+t.y},aq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){p1(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),p1(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},bi=function(t,r){var n=aq(t);r&&(n=[n.reduce(function(s,o){return[].concat(d1(s),d1(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},iq=function(t,r,n){var i=bi(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(bi(r.reverse(),n).slice(1))},sq=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=ZF(t,JF);if(!r||!r.length)return null;var l=fe("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=iq(r,i,s);return E.createElement("g",{className:l},E.createElement("path",Qn({},se(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?E.createElement("path",Qn({},se(o,!0),{fill:"none",d:bi(r,s)})):null,c?E.createElement("path",Qn({},se(o,!0),{fill:"none",d:bi(i,s)})):null)}var d=bi(r,s);return E.createElement("path",Qn({},se(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}var ql=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=fe("recharts-dot",s);return r===+r&&n===+n&&i===+i?S.createElement("circle",Vf({},se(t,!1),po(t),{className:o,cx:r,cy:n,r:i})):null};function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}var oq=["x","y","top","left","width","height","className"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(this,arguments)}function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return t=uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=dq(e,"string");return as(t)=="symbol"?t:t+""}function dq(e,t){if(as(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t){if(e==null)return{};var r=hq(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fq=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},mq=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,p=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,g=pq(t,oq),f=lq({x:n,y:s,top:l,left:u,width:p,height:m},g);return!Z(n)||!Z(s)||!Z(p)||!Z(m)||!Z(l)||!Z(u)?null:E.createElement("path",Wf({},se(f,!0),{className:fe("recharts-cross",x),d:fq(n,s,p,m,l,u)}))},Kp,f1;function gq(){if(f1)return Kp;f1=1;var e=Dl(),t=oP(),r=cr();function n(i,s){return i&&i.length?e(i,r(s,2),t):void 0}return Kp=n,Kp}var xq=gq();const yq=Pe(xq);var Xp,m1;function vq(){if(m1)return Xp;m1=1;var e=Dl(),t=cr(),r=lP();function n(i,s){return i&&i.length?e(i,t(s,2),r):void 0}return Xp=n,Xp}var bq=vq();const wq=Pe(bq);var jq=["cx","cy","angle","ticks","axisLine"],Nq=["ticks","tick","angle","tickFormatter","stroke"];function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}function g1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(r),!0).forEach(function(n){zl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x1(e,t){if(e==null)return{};var r=Sq(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KP(n.key),n)}}function Pq(e,t,r){return t&&y1(e.prototype,t),r&&y1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aq(e,t,r){return t=Vo(t),Cq(e,GP()?Reflect.construct(t,r||[],Vo(e).constructor):t.apply(e,r))}function Cq(e,t){if(t&&(ba(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oq(e)}function Oq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vo(e)}function Tq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hf(e,t)}function Hf(e,t){return Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hf(e,t)}function zl(e,t,r){return t=KP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KP(e){var t=_q(e,"string");return ba(t)=="symbol"?t:t+""}function _q(e,t){if(ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ul=(function(e){function t(){return kq(this,t),Aq(this,t,arguments)}return Tq(t,e),Pq(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return _e(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=yq(l,function(d){return d.coordinate||0}),u=wq(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=x1(n,jq),d=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),p=_e(i,s,d[0],o),h=_e(i,s,d[1],o),m=Zr(Zr(Zr({},se(u,!1)),{},{fill:"none"},se(c,!1)),{},{x1:p.x,y1:p.y,x2:h.x,y2:h.y});return E.createElement("line",wi({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=x1(i,Nq),p=this.getTickTextAnchor(),h=se(d,!1),m=se(o,!1),x=s.map(function(g,f){var b=n.getTickValueCoord(g),w=Zr(Zr(Zr(Zr({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:f},b),{},{payload:g});return E.createElement(ve,wi({className:fe("recharts-polar-radius-axis-tick",DP(o)),key:"tick-".concat(g.coordinate)},Pn(n.props,g,f)),t.renderTickItem(o,w,c?c(g.value,f):g.value))});return E.createElement(ve,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:E.createElement(ve,{className:fe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),tt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return E.isValidElement(n)?o=E.cloneElement(n,i):ue(n)?o=n(i):o=E.createElement(An,wi({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(S.PureComponent);zl(Ul,"displayName","PolarRadiusAxis");zl(Ul,"axisType","radiusAxis");zl(Ul,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wa(e){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nn.apply(this,arguments)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YP(n.key),n)}}function Iq(e,t,r){return t&&b1(e.prototype,t),r&&b1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mq(e,t,r){return t=Wo(t),$q(e,XP()?Reflect.construct(t,r||[],Wo(e).constructor):t.apply(e,r))}function $q(e,t){if(t&&(wa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dq(e)}function Dq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XP=function(){return!!e})()}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wo(e)}function Rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gf(e,t)}function Gf(e,t){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gf(e,t)}function Vl(e,t,r){return t=YP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){var t=Lq(e,"string");return wa(t)=="symbol"?t:t+""}function Lq(e,t){if(wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bq=Math.PI/180,w1=1e-5,Wl=(function(e){function t(){return Eq(this,t),Mq(this,t,arguments)}return Rq(t,e),Iq(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,p=_e(s,o,l,n.coordinate),h=_e(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:p.x,y1:p.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Bq),o;return s>w1?o=i==="outer"?"start":"end":s<-w1?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Qr(Qr({},se(this.props,!1)),{},{fill:"none"},se(l,!1));if(c==="circle")return E.createElement(ql,nn({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,p=d.map(function(h){return _e(i,s,o,h.coordinate)});return E.createElement(sq,nn({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=se(this.props,!1),p=se(o,!1),h=Qr(Qr({},d),{},{fill:"none"},se(l,!1)),m=s.map(function(x,g){var f=n.getTickLineCoord(x),b=n.getTickTextAnchor(x),w=Qr(Qr(Qr({textAnchor:b},d),{},{stroke:"none",fill:u},p),{},{index:g,payload:x,x:f.x2,y:f.y2});return E.createElement(ve,nn({className:fe("recharts-polar-angle-axis-tick",DP(o)),key:"tick-".concat(x.coordinate)},Pn(n.props,x,g)),l&&E.createElement("line",nn({className:"recharts-polar-angle-axis-tick-line"},h,f)),o&&t.renderTickItem(o,w,c?c(x.value,g):x.value))});return E.createElement(ve,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:E.createElement(ve,{className:fe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return E.isValidElement(n)?o=E.cloneElement(n,i):ue(n)?o=n(i):o=E.createElement(An,nn({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(S.PureComponent);Vl(Wl,"displayName","PolarAngleAxis");Vl(Wl,"axisType","angleAxis");Vl(Wl,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yp,j1;function Fq(){if(j1)return Yp;j1=1;var e=sk(),t=e(Object.getPrototypeOf,Object);return Yp=t,Yp}var Jp,N1;function qq(){if(N1)return Jp;N1=1;var e=Or(),t=Fq(),r=Tr(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var p=t(d);if(p===null)return!0;var h=l.call(p,"constructor")&&p.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return Jp=u,Jp}var zq=qq();const Uq=Pe(zq);var Zp,S1;function Vq(){if(S1)return Zp;S1=1;var e=Or(),t=Tr(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return Zp=n,Zp}var Wq=Vq();const Hq=Pe(Wq);function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}function Gq(e,t){return Jq(e)||Yq(e,t)||Xq(e,t)||Kq()}function Kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Jq(e){if(Array.isArray(e))return e}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=e7(e,"string");return is(t)=="symbol"?t:t+""}function e7(e,t){if(is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C1=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},t7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r7=function(t){var r=A1(A1({},t7),t),n=S.useRef(),i=S.useState(-1),s=Gq(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,p=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,f=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||p!==+p||h!==+h||d===0&&p===0||h===0)return null;var w=fe("recharts-trapezoid",m);return b?E.createElement(or,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:p,height:h,x:c,y:u},duration:g,animationEasing:x,isActive:b},function(y){var j=y.upperWidth,v=y.lowerWidth,N=y.height,k=y.x,P=y.y;return E.createElement(or,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:g,easing:x},E.createElement("path",Ho({},se(r,!0),{className:w,d:C1(k,P,j,v,N),ref:n})))}):E.createElement("g",null,E.createElement("path",Ho({},se(r,!0),{className:w,d:C1(c,u,d,p,h)})))},n7=["option","shapeType","propTransformer","activeClassName","isActive"];function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function a7(e,t){if(e==null)return{};var r=i7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){s7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=l7(e,"string");return ss(t)=="symbol"?t:t+""}function l7(e,t){if(ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c7(e,t){return Go(Go({},t),e)}function u7(e,t){return e==="symbols"}function T1(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(K0,r);case"trapezoid":return E.createElement(r7,r);case"sector":return E.createElement(BP,r);case"symbols":if(u7(t))return E.createElement(h0,r);break;default:return null}}function d7(e){return S.isValidElement(e)?e.props:e}function JP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?c7:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=a7(e,n7),u;if(S.isValidElement(t))u=S.cloneElement(t,Go(Go({},c),d7(t)));else if(ue(t))u=t(c);else if(Uq(t)&&!Hq(t)){var d=i(t,c);u=E.createElement(T1,{shapeType:r,elementProps:d})}else{var p=c;u=E.createElement(T1,{shapeType:r,elementProps:p})}return l?E.createElement(ve,{className:o},u):u}function Hl(e,t){return t!=null&&"trapezoids"in e.props}function Gl(e,t){return t!=null&&"sectors"in e.props}function os(e,t){return t!=null&&"points"in e.props}function p7(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function h7(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function f7(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function m7(e,t){var r;return Hl(e,t)?r=p7:Gl(e,t)?r=h7:os(e,t)&&(r=f7),r}function g7(e,t){var r;return Hl(e,t)?r="trapezoids":Gl(e,t)?r="sectors":os(e,t)&&(r="points"),r}function x7(e,t){if(Hl(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gl(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return os(e,t)?t.payload:{}}function y7(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=g7(r,t),s=x7(r,t),o=n.filter(function(c,u){var d=Ps(s,c),p=r.props[i].filter(function(x){var g=m7(r,t);return g(x,t)}),h=r.props[i].indexOf(p[p.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var to;function ja(e){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ea.apply(this,arguments)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){Mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QP(n.key),n)}}function b7(e,t,r){return t&&E1(e.prototype,t),r&&E1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w7(e,t,r){return t=Ko(t),j7(e,ZP()?Reflect.construct(t,r||[],Ko(e).constructor):t.apply(e,r))}function j7(e,t){if(t&&(ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N7(e)}function N7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!e})()}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ko(e)}function S7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kf(e,t)}function Kf(e,t){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kf(e,t)}function Mt(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=k7(e,"string");return ja(t)=="symbol"?t:t+""}function k7(e,t){if(ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Er=(function(e){function t(r){var n;return v7(this,t),n=w7(this,t,[r]),Mt(n,"pieRef",null),Mt(n,"sectorRefs",[]),Mt(n,"id",Ua("recharts-pie-")),Mt(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ue(i)&&i()}),Mt(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ue(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return S7(t,e),b7(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=se(this.props,!1),p=se(o,!1),h=se(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,f){var b=(g.startAngle+g.endAngle)/2,w=_e(g.cx,g.cy,g.outerRadius+m,b),y=Ce(Ce(Ce(Ce({},d),g),{},{stroke:"none"},p),{},{index:f,textAnchor:t.getTextAnchor(w.x,g.cx)},w),j=Ce(Ce(Ce(Ce({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:f,points:[_e(g.cx,g.cy,g.outerRadius,b),w]}),v=c;return he(c)&&he(u)?v="value":he(c)&&(v=u),E.createElement(ve,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(f)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,y,Ye(g,v)))});return E.createElement(ve,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=p?o:h,x=Ce(Ce({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return E.createElement(ve,ea({ref:function(f){f&&!i.sectorRefs.includes(f)&&i.sectorRefs.push(f)},tabIndex:-1,className:"recharts-pie-sector"},Pn(i.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),E.createElement(JP,ea({option:m,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,p=this.state,h=p.prevSectors,m=p.prevIsAnimationActive;return E.createElement(or,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,f=[],b=s&&s[0],w=b.startAngle;return s.forEach(function(y,j){var v=h&&h[j],N=j>0?At(y,"paddingAngle",0):0;if(v){var k=kt(v.endAngle-v.startAngle,y.endAngle-y.startAngle),P=Ce(Ce({},y),{},{startAngle:w+N,endAngle:w+k(g)+N});f.push(P),w=P.endAngle}else{var C=y.endAngle,$=y.startAngle,O=kt(0,C-$),A=O(g),T=Ce(Ce({},y),{},{startAngle:w+N,endAngle:w+A+N});f.push(T),w=T.endAngle}}),E.createElement(ve,null,n.renderSectorsStatically(f))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Ps(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,p=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!o||!o.length||!Z(u)||!Z(d)||!Z(p)||!Z(h))return null;var g=fe("recharts-pie",l);return E.createElement(ve,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),tt.renderCallByParent(this.props,null,!1),(!m||x)&&br.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(E.isValidElement(n))return E.cloneElement(n,i);if(ue(n))return n(i);var o=fe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return E.createElement(Bo,ea({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(E.isValidElement(n))return E.cloneElement(n,i);var o=s;if(ue(n)&&(o=n(i),E.isValidElement(o)))return o;var l=fe("recharts-pie-label-text",typeof n!="boolean"&&!ue(n)?n.className:"");return E.createElement(An,ea({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(S.PureComponent);to=Er;Mt(Er,"displayName","Pie");Mt(Er,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mt(Er,"parseDeltaAngle",function(e,t){var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Mt(Er,"getRealPieData",function(e){var t=e.data,r=e.children,n=se(e,!1),i=Ct(r,Ol);return t&&t.length?t.map(function(s,o){return Ce(Ce(Ce({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Ce(Ce({},n),s.props)}):[]});Mt(Er,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=$P(i,s),l=n+mt(e.cx,i,i/2),c=r+mt(e.cy,s,s/2),u=mt(e.innerRadius,o,0),d=mt(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:p}});Mt(Er,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ce(Ce({},t.type.defaultProps),t.props):t.props,i=to.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,p=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=to.parseCoordinateOfPie(n,r),g=to.parseDeltaAngle(o,l),f=Math.abs(g),b=u;he(u)&&he(p)?(Jt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):he(u)&&(Jt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=p);var w=i.filter(function(P){return Ye(P,b,0)!==0}).length,y=(f>=360?w:w-1)*c,j=f-w*m-y,v=i.reduce(function(P,C){var $=Ye(C,b,0);return P+(Z($)?$:0)},0),N;if(v>0){var k;N=i.map(function(P,C){var $=Ye(P,b,0),O=Ye(P,d,C),A=(Z($)?$:0)/v,T;C?T=k.endAngle+ft(g)*c*($!==0?1:0):T=o;var I=T+ft(g)*(($!==0?m:0)+A*j),M=(T+I)/2,R=(x.innerRadius+x.outerRadius)/2,L=[{name:O,value:$,payload:P,dataKey:b,type:h}],q=_e(x.cx,x.cy,R,M);return k=Ce(Ce(Ce({percent:A,cornerRadius:s,name:O,tooltipPayload:L,midAngle:M,middleRadius:R,tooltipPosition:q},P),x),{},{value:Ye(P,b),startAngle:T,endAngle:I,payload:P,paddingAngle:ft(g)*c}),k})}return Ce(Ce({},x),{},{sectors:N,data:i})});var Qp,I1;function P7(){if(I1)return Qp;I1=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var l=-1,c=t(e((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return Qp=r,Qp}var eh,M1;function eA(){if(M1)return eh;M1=1;var e=jk(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return eh=n,eh}var th,$1;function A7(){if($1)return th;$1=1;var e=P7(),t=Cl(),r=eA();function n(i){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,i)}}return th=n,th}var rh,D1;function C7(){if(D1)return rh;D1=1;var e=A7(),t=e();return rh=t,rh}var O7=C7();const Xo=Pe(O7);function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){tA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tA(e,t,r){return t=T7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=_7(e,"string");return ls(t)=="symbol"?t:t+""}function _7(e,t){if(ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=["Webkit","Moz","O","ms"],I7=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=E7.reduce(function(s,o){return L1(L1({},s),{},tA({},o+n,r))},{});return i[t]=r,i};function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){Nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nA(n.key),n)}}function $7(e,t,r){return t&&F1(e.prototype,t),r&&F1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D7(e,t,r){return t=Jo(t),R7(e,rA()?Reflect.construct(t,r||[],Jo(e).constructor):t.apply(e,r))}function R7(e,t){if(t&&(Na(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L7(e)}function L7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rA=function(){return!!e})()}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jo(e)}function B7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xf(e,t)}function Xf(e,t){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xf(e,t)}function Nt(e,t,r){return t=nA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nA(e){var t=F7(e,"string");return Na(t)=="symbol"?t:t+""}function F7(e,t){if(Na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q7=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xi().domain(Xo(0,c)).range([s,s+o-l]),d=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},q1=function(t){return t.changedTouches&&!!t.changedTouches.length},Sa=(function(e){function t(r){var n;return M7(this,t),n=D7(this,t,[r]),Nt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Nt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Nt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Nt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nt(n,"handleSlideDragStart",function(i){var s=q1(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return B7(t,e),$7(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,p=Math.min(i,s),h=Math.max(i,s),m=t.getIndexInRange(o,p),x=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Ye(s[n],l,n);return ue(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,p=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-p-l,u+d-p-o):g<0&&(g=Math.max(g,u-o,u-l));var f=this.getIndex({startX:o+g,endX:l+g});(f.startIndex!==h||f.endIndex!==m)&&x&&x(f),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=q1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,p=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,g=d.gap,f=d.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,p+h-m-u):w<0&&(w=Math.max(w,p-u)),b[o]=u+w;var y=this.getIndex(b),j=y.startIndex,v=y.endIndex,N=function(){var P=f.length-1;return o==="startX"&&(l>c?j%g===0:v%g===0)||l<c&&v===P||o==="endX"&&(l>c?v%g===0:j%g===0)||l>c&&v===P};this.setState(Nt(Nt({},o,u+w),"brushMoveStartX",n.pageX),function(){x&&N()&&x(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],p=l.indexOf(d);if(p!==-1){var h=p+n;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Nt({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return E.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,p=S.Children.only(u);return p?E.cloneElement(p,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,p=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,f=c.endIndex,b=Math.max(n,this.props.x),w=nh(nh({},se(this.props,!1)),{},{x:b,y:u,width:d,height:p}),y=m||"Min value: ".concat((s=x[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=x[f])===null||o===void 0?void 0:o.name);return E.createElement(ve,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),l.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,p=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return E.createElement(ve,{className:"recharts-brush-texts"},E.createElement(An,Yo({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,h)-m,y:o+l/2},x),this.getTextOfTick(i)),E.createElement(An,Yo({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,h)+c+m,y:o+l/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,p=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,f=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Z(l)||!Z(c)||!Z(u)||!Z(d)||u<=0||d<=0)return null;var y=fe("recharts-brush",s),j=E.Children.count(o)===1,v=I7("userSelect","none");return E.createElement(ve,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||f||b||w||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),E.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return E.isValidElement(n)?s=E.cloneElement(n,i):ue(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return nh({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?q7({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(S.PureComponent);Nt(Sa,"displayName","Brush");Nt(Sa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ah,z1;function z7(){if(z1)return ah;z1=1;var e=b0();function t(r,n){var i;return e(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return ah=t,ah}var ih,U1;function U7(){if(U1)return ih;U1=1;var e=QS(),t=cr(),r=z7(),n=wt(),i=Cl();function s(o,l,c){var u=n(o)?e:r;return c&&i(o,l,c)&&(l=void 0),u(o,t(l,3))}return ih=s,ih}var V7=U7();const W7=Pe(V7);var ir=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},sh,V1;function H7(){if(V1)return sh;V1=1;var e=xk();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return sh=t,sh}var oh,W1;function G7(){if(W1)return oh;W1=1;var e=H7(),t=mk(),r=cr();function n(i,s){var o={};return s=r(s,3),t(i,function(l,c,u){e(o,c,s(l,c,u))}),o}return oh=n,oh}var K7=G7();const X7=Pe(K7);var lh,H1;function Y7(){if(H1)return lh;H1=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return lh=e,lh}var ch,G1;function J7(){if(G1)return ch;G1=1;var e=b0();function t(r,n){var i=!0;return e(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return ch=t,ch}var uh,K1;function Z7(){if(K1)return uh;K1=1;var e=Y7(),t=J7(),r=cr(),n=wt(),i=Cl();function s(o,l,c){var u=n(o)?e:t;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return uh=s,uh}var Q7=Z7();const aA=Pe(Q7);var ez=["x","y"];function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tz(e,t,r){return t=rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rz(e){var t=nz(e,"string");return cs(t)=="symbol"?t:t+""}function nz(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function az(e,t){if(e==null)return{};var r=iz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sz(e,t){var r=e.x,n=e.y,i=az(e,ez),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),p="".concat(t.width||i.width),h=parseInt(p,10);return ii(ii(ii(ii(ii({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Y1(e){return E.createElement(JP,Yf({shapeType:"rectangle",propTransformer:sz,activeClassName:"recharts-active-bar"},e))}var oz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Z(n)||TE(n);return s?t(n,i):(s||On(),r)}},lz=["value","background"],iA;function ka(e){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(e)}function cz(e,t){if(e==null)return{};var r=uz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){Rr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oA(n.key),n)}}function pz(e,t,r){return t&&Z1(e.prototype,t),r&&Z1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hz(e,t,r){return t=Qo(t),fz(e,sA()?Reflect.construct(t,r||[],Qo(e).constructor):t.apply(e,r))}function fz(e,t){if(t&&(ka(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mz(e)}function mz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sA=function(){return!!e})()}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qo(e)}function gz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jf(e,t)}function Jf(e,t){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jf(e,t)}function Rr(e,t,r){return t=oA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oA(e){var t=xz(e,"string");return ka(t)=="symbol"?t:t+""}function xz(e,t){if(ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ln=(function(e){function t(){var r;dz(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=hz(this,t,[].concat(i)),Rr(r,"state",{isAnimationFinished:!1}),Rr(r,"id",Ua("recharts-bar-")),Rr(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Rr(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return gz(t,e),pz(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=se(this.props,!1);return n&&n.map(function(p,h){var m=h===c,x=m?u:o,g=Ue(Ue(Ue({},d),p),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return E.createElement(ve,Zo({className:"recharts-bar-rectangle"},Pn(i.props,p,h),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(h)}),E.createElement(Y1,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,p=i.animationId,h=this.state.prevData;return E.createElement(or,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=s.map(function(f,b){var w=h&&h[b];if(w){var y=kt(w.x,f.x),j=kt(w.y,f.y),v=kt(w.width,f.width),N=kt(w.height,f.height);return Ue(Ue({},f),{},{x:y(x),y:j(x),width:v(x),height:N(x)})}if(o==="horizontal"){var k=kt(0,f.height),P=k(x);return Ue(Ue({},f),{},{y:f.y+f.height-P,height:P})}var C=kt(0,f.width),$=C(x);return Ue(Ue({},f),{},{width:$})});return E.createElement(ve,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Ps(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=se(this.props.background,!1);return s.map(function(u,d){u.value;var p=u.background,h=cz(u,lz);if(!p)return null;var m=Ue(Ue(Ue(Ue(Ue({},h),{},{fill:"#eee"},p),c),Pn(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return E.createElement(Y1,Zo({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,p=Ct(d,As);if(!p)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(f,b){var w=Array.isArray(f.value)?f.value[1]:f.value;return{x:f.x,y:f.y,value:w,errorVal:Ye(f,b)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return E.createElement(ve,x,p.map(function(g){return E.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,p=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(i||!s||!s.length)return null;var f=this.state.isAnimationFinished,b=fe("recharts-bar",o),w=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,j=w||y,v=he(g)?this.id:g;return E.createElement(ve,{className:b},w||y?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(v)},E.createElement("rect",{x:w?u:u-p/2,y:y?d:d-h/2,width:w?p:p*2,height:y?h:h*2}))):null,E.createElement(ve,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(v,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,v),(!m||f)&&br.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(S.PureComponent);iA=Ln;Rr(Ln,"displayName","Bar");Rr(Ln,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Rr(Ln,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,p=e.displayedData,h=e.offset,m=WL(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,f=g!==void 0?Ue(Ue({},g),r.props):r.props,b=f.dataKey,w=f.children,y=f.minPointSize,j=x==="horizontal"?o:s,v=u?j.scale.domain():null,N=ZL({numericAxis:j}),k=Ct(w,Ol),P=p.map(function(C,$){var O,A,T,I,M,R;u?O=HL(u[d+$],v):(O=Ye(C,b),Array.isArray(O)||(O=[N,O]));var L=oz(y,iA.defaultProps.minPointSize)(O[1],$);if(x==="horizontal"){var q,B=[o.scale(O[0]),o.scale(O[1])],te=B[0],U=B[1];A=Nj({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:C,index:$}),T=(q=U??te)!==null&&q!==void 0?q:void 0,I=m.size;var G=te-U;if(M=Number.isNaN(G)?0:G,R={x:A,y:o.y,width:I,height:o.height},Math.abs(L)>0&&Math.abs(M)<Math.abs(L)){var ne=ft(M||L)*(Math.abs(L)-Math.abs(M));T-=ne,M+=ne}}else{var de=[s.scale(O[0]),s.scale(O[1])],oe=de[0],xe=de[1];if(A=oe,T=Nj({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:C,index:$}),I=xe-oe,M=m.size,R={x:s.x,y:T,width:s.width,height:M},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var ze=ft(I||L)*(Math.abs(L)-Math.abs(I));I+=ze}}return Ue(Ue(Ue({},C),{},{x:A,y:T,width:I,height:M,value:u?O:O[1],payload:C,background:R},k&&k[$]&&k[$].props),{},{tooltipPayload:[IP(r,C)],tooltipPosition:{x:A+I/2,y:T+M/2}})});return Ue({data:P,layout:x},h)});function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function yz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lA(n.key),n)}}function vz(e,t,r){return t&&Q1(e.prototype,t),r&&Q1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){Kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kl(e,t,r){return t=lA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lA(e){var t=bz(e,"string");return us(t)=="symbol"?t:t+""}function bz(e,t){if(us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cA=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!St(u,Ln);return d.reduce(function(m,x){var g=r[x],f=g.orientation,b=g.domain,w=g.padding,y=w===void 0?{}:w,j=g.mirror,v=g.reversed,N="".concat(f).concat(j?"Mirror":""),k,P,C,$,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var A=b[1]-b[0],T=1/0,I=g.categoricalDomain.sort(IE);if(I.forEach(function(de,oe){oe>0&&(T=Math.min((de||0)-(I[oe-1]||0),T))}),Number.isFinite(T)){var M=T/A,R=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(k=M*R/2),g.padding==="no-gap"){var L=mt(t.barCategoryGap,M*R),q=M*R/2;k=q-L-(q-L)/R*L}}}i==="xAxis"?P=[n.left+(y.left||0)+(k||0),n.left+n.width-(y.right||0)-(k||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(k||0),n.top+n.height-(y.bottom||0)-(k||0)]:P=g.range,v&&(P=[P[1],P[0]]);var B=OP(g,s,h),te=B.scale,U=B.realScaleType;te.domain(b).range(P),TP(te);var G=_P(te,Kt(Kt({},g),{},{realScaleType:U}));i==="xAxis"?(O=f==="top"&&!j||f==="bottom"&&j,C=n.left,$=p[N]-O*g.height):i==="yAxis"&&(O=f==="left"&&!j||f==="right"&&j,C=p[N]-O*g.width,$=n.top);var ne=Kt(Kt(Kt({},g),G),{},{realScaleType:U,x:C,y:$,scale:te,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return ne.bandSize=Do(ne,G),!g.hide&&i==="xAxis"?p[N]+=(O?-1:1)*ne.height:g.hide||(p[N]+=(O?-1:1)*ne.width),Kt(Kt({},m),{},Kl({},x,ne))},{})},uA=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},wz=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return uA({x:r,y:n},{x:i,y:s})},dA=(function(){function e(t){yz(this,e),this.scale=t}return vz(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Kl(dA,"EPS",1e-4);var X0=function(t){var r=Object.keys(t).reduce(function(n,i){return Kt(Kt({},n),{},Kl({},i,dA.create(t[i])))},{});return Kt(Kt({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return X7(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return aA(i,function(s,o){return r[o].isInRange(s)})}})};function jz(e){return(e%180+180)%180}var Nz=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jz(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},dh,tN;function Sz(){if(tN)return dh;tN=1;var e=cr(),t=ws(),r=Pl();function n(i){return function(s,o,l){var c=Object(s);if(!t(s)){var u=e(o,3);s=r(s),o=function(p){return u(c[p],p,c)}}var d=i(s,o,l);return d>-1?c[u?s[d]:d]:void 0}}return dh=n,dh}var ph,rN;function kz(){if(rN)return ph;rN=1;var e=eA();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return ph=t,ph}var hh,nN;function Pz(){if(nN)return hh;nN=1;var e=uk(),t=cr(),r=kz(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(s,t(o,3),u)}return hh=i,hh}var fh,aN;function Az(){if(aN)return fh;aN=1;var e=Sz(),t=Pz(),r=e(t);return fh=r,fh}var Cz=Az();const Oz=Pe(Cz);var Tz=PS();const _z=Pe(Tz);var Ez=_z(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Y0=S.createContext(void 0),J0=S.createContext(void 0),pA=S.createContext(void 0),hA=S.createContext({}),fA=S.createContext(void 0),mA=S.createContext(0),gA=S.createContext(0),iN=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Ez(s);return E.createElement(Y0.Provider,{value:n},E.createElement(J0.Provider,{value:i},E.createElement(hA.Provider,{value:s},E.createElement(pA.Provider,{value:d},E.createElement(fA.Provider,{value:o},E.createElement(mA.Provider,{value:u},E.createElement(gA.Provider,{value:c},l)))))))},Iz=function(){return S.useContext(fA)},xA=function(t){var r=S.useContext(Y0);r==null&&On();var n=r[t];return n==null&&On(),n},Mz=function(){var t=S.useContext(Y0);return Dr(t)},$z=function(){var t=S.useContext(J0),r=Oz(t,function(n){return aA(n.domain,Number.isFinite)});return r||Dr(t)},yA=function(t){var r=S.useContext(J0);r==null&&On();var n=r[t];return n==null&&On(),n},Dz=function(){var t=S.useContext(pA);return t},Rz=function(){return S.useContext(hA)},Z0=function(){return S.useContext(gA)},Q0=function(){return S.useContext(mA)};function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}function Lz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bA(n.key),n)}}function Fz(e,t,r){return t&&Bz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qz(e,t,r){return t=el(t),zz(e,vA()?Reflect.construct(t,r||[],el(e).constructor):t.apply(e,r))}function zz(e,t){if(t&&(Pa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uz(e)}function Uz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vA=function(){return!!e})()}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},el(e)}function Vz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}function Zf(e,t){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zf(e,t)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){eg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eg(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=Wz(e,"string");return Pa(t)=="symbol"?t:t+""}function Wz(e,t){if(Pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hz(e,t){return Yz(e)||Xz(e,t)||Kz(e,t)||Gz()}function Gz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kz(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Yz(e){if(Array.isArray(e))return e}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(this,arguments)}var Jz=function(t,r){var n;return E.isValidElement(t)?n=E.cloneElement(t,r):ue(t)?n=t(r):n=E.createElement("line",Qf({},r,{className:"recharts-reference-line-line"})),n},Zz=function(t,r,n,i,s,o,l,c,u){var d=s.x,p=s.y,h=s.width,m=s.height;if(n){var x=u.y,g=t.y.apply(x,{position:o});if(ir(u,"discard")&&!t.y.isInRange(g))return null;var f=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?f.reverse():f}if(r){var b=u.x,w=t.x.apply(b,{position:o});if(ir(u,"discard")&&!t.x.isInRange(w))return null;var y=[{x:w,y:p+m},{x:w,y:p}];return l==="top"?y.reverse():y}if(i){var j=u.segment,v=j.map(function(N){return t.apply(N,{position:o})});return ir(u,"discard")&&W7(v,function(N){return!t.isInRange(N)})?null:v}return null};function Qz(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Iz(),d=xA(i),p=yA(s),h=Dz();if(!u||!h)return null;Jt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=X0({x:d.scale,y:p.scale}),x=Je(t),g=Je(r),f=n&&n.length===2,b=Zz(m,x,g,f,h,e.position,d.orientation,p.orientation,e);if(!b)return null;var w=Hz(b,2),y=w[0],j=y.x,v=y.y,N=w[1],k=N.x,P=N.y,C=ir(e,"hidden")?"url(#".concat(u,")"):void 0,$=oN(oN({clipPath:C},se(e,!0)),{},{x1:j,y1:v,x2:k,y2:P});return E.createElement(ve,{className:fe("recharts-reference-line",l)},Jz(o,$),tt.renderCallByParent(e,wz({x1:j,y1:v,x2:k,y2:P})))}var tg=(function(e){function t(){return Lz(this,t),qz(this,t,arguments)}return Vz(t,e),Fz(t,[{key:"render",value:function(){return E.createElement(Qz,this.props)}}])})(E.Component);eg(tg,"displayName","ReferenceLine");eg(tg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function Aa(e){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(e)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){Xl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jA(n.key),n)}}function rU(e,t,r){return t&&tU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nU(e,t,r){return t=tl(t),aU(e,wA()?Reflect.construct(t,r||[],tl(e).constructor):t.apply(e,r))}function aU(e,t){if(t&&(Aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iU(e)}function iU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wA=function(){return!!e})()}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tl(e)}function sU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tm(e,t)}function Xl(e,t,r){return t=jA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jA(e){var t=oU(e,"string");return Aa(t)=="symbol"?t:t+""}function oU(e,t){if(Aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lU=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=X0({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ir(t,"discard")&&!o.isInRange(l)?null:l},Yl=(function(e){function t(){return eU(this,t),nU(this,t,arguments)}return sU(t,e),rU(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Je(i),d=Je(s);if(Jt(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var p=lU(this.props);if(!p)return null;var h=p.x,m=p.y,x=this.props,g=x.shape,f=x.className,b=ir(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=uN(uN({clipPath:b},se(this.props,!0)),{},{cx:h,cy:m});return E.createElement(ve,{className:fe("recharts-reference-dot",f)},t.renderDot(g,w),tt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])})(E.Component);Xl(Yl,"displayName","ReferenceDot");Xl(Yl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xl(Yl,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):ue(e)?r=e(t):r=E.createElement(ql,em({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(this,arguments)}function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){Jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SA(n.key),n)}}function dU(e,t,r){return t&&uU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pU(e,t,r){return t=rl(t),hU(e,NA()?Reflect.construct(t,r||[],rl(e).constructor):t.apply(e,r))}function hU(e,t){if(t&&(Ca(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fU(e)}function fU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NA=function(){return!!e})()}function rl(e){return rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rl(e)}function mU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}function nm(e,t){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nm(e,t)}function Jl(e,t,r){return t=SA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SA(e){var t=gU(e,"string");return Ca(t)=="symbol"?t:t+""}function gU(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xU=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,p=s.yAxis;if(!d||!p)return null;var h=X0({x:d.scale,y:p.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ir(s,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:uA(m,x)},Zl=(function(e){function t(){return cU(this,t),pU(this,t,arguments)}return mU(t,e),dU(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Jt(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Je(i),h=Je(s),m=Je(o),x=Je(l),g=this.props.shape;if(!p&&!h&&!m&&!x&&!g)return null;var f=xU(p,h,m,x,this.props);if(!f&&!g)return null;var b=ir(this.props,"hidden")?"url(#".concat(d,")"):void 0;return E.createElement(ve,{className:fe("recharts-reference-area",c)},t.renderRect(g,pN(pN({clipPath:b},se(this.props,!0)),f)),tt.renderCallByParent(this.props,f))}}])})(E.Component);Jl(Zl,"displayName","ReferenceArea");Jl(Zl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jl(Zl,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):ue(e)?r=e(t):r=E.createElement(K0,rm({},t,{className:"recharts-reference-area-rect"})),r});function kA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function yU(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Nz(n,r)}function vU(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function nl(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function bU(e,t){return kA(e,t+1)}function wU(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,p=function(){var x=n?.[c];if(x===void 0)return{v:kA(n,u)};var g=c,f,b=function(){return f===void 0&&(f=r(x,g)),f},w=x.coordinate,y=c===0||nl(e,w,b,d,l);y||(c=0,d=o,u+=1),y&&(d=w+e*(b()/2+i),c+=u)},h;u<=s.length;)if(h=p(),h)return h.v;return[]}function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return t=NU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=SU(e,"string");return ds(t)=="symbol"?t:t+""}function SU(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kU(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var f=e*(m.coordinate+e*g()/2-c);s[h]=m=ct(ct({},m),{},{tickCoord:f>0?m.coordinate-f*e:m.coordinate})}else s[h]=m=ct(ct({},m),{},{tickCoord:m.coordinate});var b=nl(e,m.tickCoord,g,l,c);b&&(c=m.tickCoord-e*(g()/2+i),s[h]=ct(ct({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function PU(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],p=r(d,l-1),h=e*(d.coordinate+e*p/2-u);o[l-1]=d=ct(ct({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=nl(e,d.tickCoord,function(){return p},c,u);m&&(u=d.tickCoord-e*(p/2+i),o[l-1]=ct(ct({},d),{},{isShow:!0}))}for(var x=s?l-1:l,g=function(w){var y=o[w],j,v=function(){return j===void 0&&(j=r(y,w)),j};if(w===0){var N=e*(y.coordinate-e*v()/2-c);o[w]=y=ct(ct({},y),{},{tickCoord:N<0?y.coordinate-N*e:y.coordinate})}else o[w]=y=ct(ct({},y),{},{tickCoord:y.coordinate});var k=nl(e,y.tickCoord,v,c,u);k&&(c=y.tickCoord+e*(v()/2+i),o[w]=ct(ct({},y),{},{isShow:!0}))},f=0;f<x;f++)g(f);return o}function rg(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(Z(c)||Mn.isSsr)return bU(i,typeof c=="number"&&Z(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?gi(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(y,j){var v=ue(u)?u(y.value,j):y.value;return m==="width"?yU(gi(v,{fontSize:t,letterSpacing:r}),x,p):gi(v,{fontSize:t,letterSpacing:r})[m]},f=i.length>=2?ft(i[1].coordinate-i[0].coordinate):1,b=vU(s,f,m);return c==="equidistantPreserveStart"?wU(f,b,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=PU(f,b,g,i,o,c==="preserveStartEnd"):h=kU(f,b,g,i,o),h.filter(function(w){return w.isShow}))}var AU=["viewBox"],CU=["viewBox"],OU=["ticks"];function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mh(e,t){if(e==null)return{};var r=TU(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AA(n.key),n)}}function EU(e,t,r){return t&&mN(e.prototype,t),r&&mN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IU(e,t,r){return t=al(t),MU(e,PA()?Reflect.construct(t,r||[],al(e).constructor):t.apply(e,r))}function MU(e,t){if(t&&(Oa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $U(e)}function $U(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PA=function(){return!!e})()}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},al(e)}function DU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},am(e,t)}function ng(e,t,r){return t=AA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AA(e){var t=RU(e,"string");return Oa(t)=="symbol"?t:t+""}function RU(e,t){if(Oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ka=(function(e){function t(r){var n;return _U(this,t),n=IU(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return DU(t,e),EU(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=mh(n,AU),l=this.props,c=l.viewBox,u=mh(l,CU);return!aa(s,c)||!aa(o,u)||!aa(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,p=i.mirror,h=i.tickMargin,m,x,g,f,b,w,y=p?-1:1,j=n.tickSize||d,v=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,f=o+ +!p*c,g=f-y*j,w=g-y*h,b=v;break;case"left":g=f=n.coordinate,x=s+ +!p*l,m=x-y*j,b=m-y*h,w=v;break;case"right":g=f=n.coordinate,x=s+ +p*l,m=x+y*j,b=m+y*h,w=v;break;default:m=x=n.coordinate,f=o+ +p*c,g=f+y*j,w=g+y*h,b=v;break}return{line:{x1:m,y1:g,x2:x,y2:f},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,p=He(He(He({},se(this.props,!1)),se(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);p=He(He({},p),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);p=He(He({},p),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+l})}return E.createElement("line",ta({},p,{className:fe("recharts-cartesian-axis-line",At(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,p=l.tickFormatter,h=l.unit,m=rg(He(He({},this.props),{},{ticks:n}),i,s),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),f=se(this.props,!1),b=se(d,!1),w=He(He({},f),{},{fill:"none"},se(c,!1)),y=m.map(function(j,v){var N=o.getTickLineCoord(j),k=N.line,P=N.tick,C=He(He(He(He({textAnchor:x,verticalAnchor:g},f),{},{stroke:"none",fill:u},b),P),{},{index:v,payload:j,visibleTicksCount:m.length,tickFormatter:p});return E.createElement(ve,ta({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Pn(o.props,j,v)),c&&E.createElement("line",ta({},w,k,{className:fe("recharts-cartesian-axis-tick-line",At(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(ue(p)?p(j.value,v):j.value).concat(h||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var p=this.props,h=p.ticks,m=mh(p,OU),x=h;return ue(c)&&(x=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:E.createElement(ve,{className:fe("recharts-cartesian-axis",u),ref:function(f){n.layerReference=f}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),tt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=fe(i.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(n)?o=E.cloneElement(n,He(He({},i),{},{className:l})):ue(n)?o=n(He(He({},i),{},{className:l})):o=E.createElement(An,ta({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(S.Component);ng(Ka,"displayName","CartesianAxis");ng(Ka,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var LU=["x1","y1","x2","y2","key"],BU=["offset"];function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return t=qU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=zU(e,"string");return Tn(t)=="symbol"?t:t+""}function zU(e,t){if(Tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},un.apply(this,arguments)}function xN(e,t){if(e==null)return{};var r=UU(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VU=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return E.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CA(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(ue(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=xN(t,LU),u=se(c,!1);u.offset;var d=xN(u,BU);r=E.createElement("line",un({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function WU(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ut(ut({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return CA(i,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function HU(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ut(ut({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return CA(i,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function GU(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var p=d.map(function(h,m){var x=!d[m+1],g=x?i+o-h:d[m+1]-h;if(g<=0)return null;var f=m%t.length;return E.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[f],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function KU(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var p=d.map(function(h,m){var x=!d[m+1],g=x?s+l-h:d[m+1]-h;if(g<=0)return null;var f=m%n.length;return E.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[f],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var XU=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return CP(rg(ut(ut(ut({},Ka.defaultProps),n),{},{ticks:mr(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},YU=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return CP(rg(ut(ut(ut({},Ka.defaultProps),n),{},{ticks:mr(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Wn={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function im(e){var t,r,n,i,s,o,l=Z0(),c=Q0(),u=Rz(),d=ut(ut({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wn.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wn.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Wn.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Wn.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Wn.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wn.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),p=d.x,h=d.y,m=d.width,x=d.height,g=d.syncWithTicks,f=d.horizontalValues,b=d.verticalValues,w=Mz(),y=$z();if(!Z(m)||m<=0||!Z(x)||x<=0||!Z(p)||p!==+p||!Z(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||XU,v=d.horizontalCoordinatesGenerator||YU,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&ue(v)){var P=f&&f.length,C=v({yAxis:y?ut(ut({},y),{},{ticks:P?f:y.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);Jt(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tn(C),"]")),Array.isArray(C)&&(N=C)}if((!k||!k.length)&&ue(j)){var $=b&&b.length,O=j({xAxis:w?ut(ut({},w),{},{ticks:$?b:w.ticks}):void 0,width:l,height:c,offset:u},$?!0:g);Jt(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tn(O),"]")),Array.isArray(O)&&(k=O)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(VU,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),E.createElement(WU,un({},d,{offset:u,horizontalPoints:N,xAxis:w,yAxis:y})),E.createElement(HU,un({},d,{offset:u,verticalPoints:k,xAxis:w,yAxis:y})),E.createElement(GU,un({},d,{horizontalPoints:N})),E.createElement(KU,un({},d,{verticalPoints:k})))}im.displayName="CartesianGrid";var JU=["type","layout","connectNulls","ref"],ZU=["key"];function Ta(e){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function yN(e,t){if(e==null)return{};var r=QU(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){Xt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hn(e){return nV(e)||rV(e)||tV(e)||eV()}function eV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(e,t){if(e){if(typeof e=="string")return sm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sm(e,t)}}function rV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nV(e){if(Array.isArray(e))return sm(e)}function sm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TA(n.key),n)}}function iV(e,t,r){return t&&bN(e.prototype,t),r&&bN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sV(e,t,r){return t=il(t),oV(e,OA()?Reflect.construct(t,r||[],il(e).constructor):t.apply(e,r))}function oV(e,t){if(t&&(Ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lV(e)}function lV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OA=function(){return!!e})()}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},il(e)}function cV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},om(e,t)}function Xt(e,t,r){return t=TA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e){var t=uV(e,"string");return Ta(t)=="symbol"?t:t+""}function uV(e,t){if(Ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _a=(function(e){function t(){var r;aV(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=sV(this,t,[].concat(i)),Xt(r,"state",{isAnimationFinished:!0,totalLength:0}),Xt(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Xt(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,w){return b+w});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),p=o%u,h=l-o,m=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>p){m=[].concat(Hn(c.slice(0,x)),[p-g]);break}var f=m.length%2===0?[0,h]:[h];return[].concat(Hn(t.repeat(c,d)),Hn(m),f).map(function(b){return"".concat(b,"px")}).join(", ")}),Xt(r,"id",Ua("recharts-line-")),Xt(r,"pathRef",function(o){r.mainCurve=o}),Xt(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Xt(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cV(t,e),iV(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,p=Ct(d,As);if(!p)return null;var h=function(g,f){return{x:g.x,y:g.y,value:g.value,errorVal:Ye(g.payload,f)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return E.createElement(ve,m,p.map(function(x){return E.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,p=se(this.props,!1),h=se(c,!0),m=u.map(function(g,f){var b=jt(jt(jt({key:"dot-".concat(f),r:3},p),h),{},{index:f,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,b)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return E.createElement(ve,ji({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var p=yN(l,JU),h=jt(jt(jt({},se(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return E.createElement(Bo,ji({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,p=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,f=o.height,b=this.state,w=b.prevPoints,y=b.totalLength;return E.createElement(or,{begin:d,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var v=j.t;if(w){var N=w.length/l.length,k=l.map(function(A,T){var I=Math.floor(T*N);if(w[I]){var M=w[I],R=kt(M.x,A.x),L=kt(M.y,A.y);return jt(jt({},A),{},{x:R(v),y:L(v)})}if(x){var q=kt(g*2,A.x),B=kt(f/2,A.y);return jt(jt({},A),{},{x:q(v),y:B(v)})}return jt(jt({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(k,n,i)}var P=kt(0,y),C=P(v),$;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});$=s.getStrokeDasharray(C,y,O)}else $=s.generateSimpleStrokeDasharray(y,C);return s.renderCurveStatically(l,n,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Ps(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,p=i.top,h=i.left,m=i.width,x=i.height,g=i.isAnimationActive,f=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,y=fe("recharts-line",c),j=u&&u.allowDataOverflow,v=d&&d.allowDataOverflow,N=j||v,k=he(f)?this.id:f,P=(n=se(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=P.r,$=C===void 0?3:C,O=P.strokeWidth,A=O===void 0?2:O,T=zE(o)?o:{},I=T.clipDot,M=I===void 0?!0:I,R=$*2+A;return E.createElement(ve,{className:y},j||v?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(k)},E.createElement("rect",{x:j?h:h-m/2,y:v?p:p-x/2,width:j?m:m*2,height:v?x:x*2})),!M&&E.createElement("clipPath",{id:"clipPath-dots-".concat(k)},E.createElement("rect",{x:h-R/2,y:p-R/2,width:m+R,height:x+R}))):null,!w&&this.renderCurve(N,k),this.renderErrorBar(N,k),(w||o)&&this.renderDots(N,M,k),(!g||b)&&br.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Hn(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Hn(o),Hn(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(E.isValidElement(n))s=E.cloneElement(n,i);else if(ue(n))s=n(i);else{var o=i.key,l=yN(i,ZU),c=fe("recharts-line-dot",typeof n!="boolean"?n.className:"");s=E.createElement(ql,ji({key:o},l,{className:c}))}return s}}])})(S.PureComponent);Xt(_a,"displayName","Line");Xt(_a,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Xt(_a,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,p=c.map(function(h,m){var x=Ye(h,o);return d==="horizontal"?{x:jj({axis:r,ticks:i,bandSize:l,entry:h,index:m}),y:he(x)?null:n.scale(x),value:x,payload:h}:{x:he(x)?null:r.scale(x),y:jj({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:x,payload:h}});return jt({points:p,layout:d},u)});function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}function dV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IA(n.key),n)}}function hV(e,t,r){return t&&pV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fV(e,t,r){return t=sl(t),mV(e,_A()?Reflect.construct(t,r||[],sl(e).constructor):t.apply(e,r))}function mV(e,t){if(t&&(Ea(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gV(e)}function gV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_A=function(){return!!e})()}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sl(e)}function xV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lm(e,t)}function EA(e,t,r){return t=IA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IA(e){var t=yV(e,"string");return Ea(t)=="symbol"?t:t+""}function yV(e,t){if(Ea(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function vV(e){var t=e.xAxisId,r=Z0(),n=Q0(),i=xA(t);return i==null?null:S.createElement(Ka,cm({},i,{className:fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return mr(o,!0)}}))}var Ia=(function(e){function t(){return dV(this,t),fV(this,t,arguments)}return xV(t,e),hV(t,[{key:"render",value:function(){return S.createElement(vV,this.props)}}])})(S.Component);EA(Ia,"displayName","XAxis");EA(Ia,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ma(e){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(e)}function bV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function jV(e,t,r){return t&&wV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NV(e,t,r){return t=ol(t),SV(e,MA()?Reflect.construct(t,r||[],ol(e).constructor):t.apply(e,r))}function SV(e,t){if(t&&(Ma(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kV(e)}function kV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MA=function(){return!!e})()}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ol(e)}function PV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}function um(e,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},um(e,t)}function $A(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=AV(e,"string");return Ma(t)=="symbol"?t:t+""}function AV(e,t){if(Ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}var CV=function(t){var r=t.yAxisId,n=Z0(),i=Q0(),s=yA(r);return s==null?null:S.createElement(Ka,dm({},s,{className:fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return mr(l,!0)}}))},vn=(function(e){function t(){return bV(this,t),NV(this,t,arguments)}return PV(t,e),jV(t,[{key:"render",value:function(){return S.createElement(CV,this.props)}}])})(S.Component);$A(vn,"displayName","YAxis");$A(vn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function wN(e){return EV(e)||_V(e)||TV(e)||OV()}function OV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(e,t){if(e){if(typeof e=="string")return pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pm(e,t)}}function _V(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EV(e){if(Array.isArray(e))return pm(e)}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hm=function(t,r,n,i,s){var o=Ct(t,tg),l=Ct(t,Yl),c=[].concat(wN(o),wN(l)),u=Ct(t,Zl),d="".concat(i,"Id"),p=i[0],h=r;if(c.length&&(h=c.reduce(function(g,f){if(f.props[d]===n&&ir(f.props,"extendDomain")&&Z(f.props[p])){var b=f.props[p];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(p,"1"),x="".concat(p,"2");h=u.reduce(function(g,f){if(f.props[d]===n&&ir(f.props,"extendDomain")&&Z(f.props[m])&&Z(f.props[x])){var b=f.props[m],w=f.props[x];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,f){return Z(f)?[Math.min(g[0],f),Math.max(g[1],f)]:g},h)),h},gh={exports:{}},jN;function IV(){return jN||(jN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,p,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,m=p.length,x=new Array(m);h<m;h++)x[h]=p[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var f=this._events[g],b=arguments.length,w,y;if(f.fn){switch(f.once&&this.removeListener(u,f.fn,void 0,!0),b){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,d),!0;case 3:return f.fn.call(f.context,d,p),!0;case 4:return f.fn.call(f.context,d,p,h),!0;case 5:return f.fn.call(f.context,d,p,h,m),!0;case 6:return f.fn.call(f.context,d,p,h,m,x),!0}for(y=1,w=new Array(b-1);y<b;y++)w[y-1]=arguments[y];f.fn.apply(f.context,w)}else{var j=f.length,v;for(y=0;y<j;y++)switch(f[y].once&&this.removeListener(u,f[y].fn,void 0,!0),b){case 1:f[y].fn.call(f[y].context);break;case 2:f[y].fn.call(f[y].context,d);break;case 3:f[y].fn.call(f[y].context,d,p);break;case 4:f[y].fn.call(f[y].context,d,p,h);break;default:if(!w)for(v=1,w=new Array(b-1);v<b;v++)w[v-1]=arguments[v];f[y].fn.apply(f[y].context,w)}}return!0},l.prototype.on=function(u,d,p){return s(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return s(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!p||x.context===p)&&o(this,m);else{for(var g=0,f=[],b=x.length;g<b;g++)(x[g].fn!==d||h&&!x[g].once||p&&x[g].context!==p)&&f.push(x[g]);f.length?this._events[m]=f.length===1?f[0]:f:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(gh)),gh.exports}var MV=IV();const $V=Pe(MV);var xh=new $V,yh="recharts.syncMouseEvents";function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function DV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RA(n.key),n)}}function LV(e,t,r){return t&&RV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vh(e,t,r){return t=RA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RA(e){var t=BV(e,"string");return ps(t)=="symbol"?t:t+""}function BV(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FV=(function(){function e(){DV(this,e),vh(this,"activeIndex",0),vh(this,"coordinateList",[]),vh(this,"layout","horizontal")}return LV(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,p=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:p,pageY:h})}}}])})();function qV(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&Z(n)&&Z(i))return!0}return!1}function zV(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function LA(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=_e(t,r,n,i),l=_e(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function UV(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,p=t.angle,h=_e(l,c,u,p),m=_e(l,c,d,p);n=h.x,i=h.y,s=m.x,o=m.y}else return LA(t);return[{x:n,y:i},{x:s,y:o}]}function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return t=WV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=HV(e,"string");return hs(t)=="symbol"?t:t+""}function HV(e,t){if(hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GV(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var x,g=Bo;if(h==="ScatterChart")x=o,g=mq;else if(h==="BarChart")x=zV(p,o,c,d),g=K0;else if(p==="radial"){var f=LA(o),b=f.cx,w=f.cy,y=f.radius,j=f.startAngle,v=f.endAngle;x={cx:b,cy:w,startAngle:j,endAngle:v,innerRadius:y,outerRadius:y},g=BP}else x={points:UV(p,o,c)},g=Bo;var N=Hs(Hs(Hs(Hs({stroke:"#ccc",pointerEvents:"none"},c),x),se(m,!1)),{},{payload:l,payloadIndex:u,className:fe("recharts-tooltip-cursor",m.className)});return S.isValidElement(m)?S.cloneElement(m,N):S.createElement(g,N)}var KV=["item"],XV=["children","className","width","height","style","compact","title","desc"];function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ra.apply(this,arguments)}function SN(e,t){return ZV(e)||JV(e,t)||FA(e,t)||YV()}function YV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZV(e){if(Array.isArray(e))return e}function kN(e,t){if(e==null)return{};var r=QV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qA(n.key),n)}}function rW(e,t,r){return t&&tW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nW(e,t,r){return t=ll(t),aW(e,BA()?Reflect.construct(t,r||[],ll(e).constructor):t.apply(e,r))}function aW(e,t){if(t&&($a(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(e)}function iW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BA=function(){return!!e})()}function ll(e){return ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ll(e)}function sW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fm(e,t)}function Da(e){return cW(e)||lW(e)||FA(e)||oW()}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FA(e,t){if(e){if(typeof e=="string")return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}}function lW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cW(e){if(Array.isArray(e))return mm(e)}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function le(e,t,r){return t=qA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qA(e){var t=uW(e,"string");return $a(t)=="symbol"?t:t+""}function uW(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dW={xAxis:["bottom","top"],yAxis:["left","right"]},pW={width:"100%",height:"100%"},zA={x:0,y:0};function Gs(e){return e}var hW=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},fW=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return F(F(F({},i),_e(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return F(F(F({},i),_e(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return zA},Ql=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Da(l),Da(u)):l},[]);return o.length>0?o:t&&t.length&&Z(i)&&Z(s)?t.slice(i,s+1):[]};function UA(e){return e==="number"?[0,"auto"]:void 0}var gm=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=Ql(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,p=(d=u.props.data)!==null&&d!==void 0?d:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=p===void 0?l:p;h=uo(m,o.dataKey,i)}else h=p&&p[n]||l[n];return h?[].concat(Da(c),[IP(u,h)]):c},[])},AN=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=hW(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=BL(o,l,u,c);if(d>=0&&u){var p=u[d]&&u[d].value,h=gm(t,r,d,p),m=fW(n,l,d,s);return{activeTooltipIndex:d,activeLabel:p,activePayload:h,activeCoordinate:m}}return null},mW=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,p=t.children,h=t.stackOffset,m=AP(d,s);return n.reduce(function(x,g){var f,b=g.type.defaultProps!==void 0?F(F({},g.type.defaultProps),g.props):g.props,w=b.type,y=b.dataKey,j=b.allowDataOverflow,v=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,P=b.includeHidden,C=b[o];if(x[C])return x;var $=Ql(t.data,{graphicalItems:i.filter(function(G){var ne,de=o in G.props?G.props[o]:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne[o];return de===C}),dataStartIndex:c,dataEndIndex:u}),O=$.length,A,T,I;qV(b.domain,j,w)&&(A=Of(b.domain,null,j),m&&(w==="number"||N!=="auto")&&(I=yi($,y,"category")));var M=UA(w);if(!A||A.length===0){var R,L=(R=b.domain)!==null&&R!==void 0?R:M;if(y){if(A=yi($,y,w),w==="category"&&m){var q=EE(A);v&&q?(T=A,A=Xo(0,O)):v||(A=Pj(L,A,g).reduce(function(G,ne){return G.indexOf(ne)>=0?G:[].concat(Da(G),[ne])},[]))}else if(w==="category")v?A=A.filter(function(G){return G!==""&&!he(G)}):A=Pj(L,A,g).reduce(function(G,ne){return G.indexOf(ne)>=0||ne===""||he(ne)?G:[].concat(Da(G),[ne])},[]);else if(w==="number"){var B=VL($,i.filter(function(G){var ne,de,oe=o in G.props?G.props[o]:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne[o],xe="hide"in G.props?G.props.hide:(de=G.type.defaultProps)===null||de===void 0?void 0:de.hide;return oe===C&&(P||!xe)}),y,s,d);B&&(A=B)}m&&(w==="number"||N!=="auto")&&(I=yi($,y,"category"))}else m?A=Xo(0,O):l&&l[C]&&l[C].hasStack&&w==="number"?A=h==="expand"?[0,1]:EP(l[C].stackGroups,c,u):A=PP($,i.filter(function(G){var ne=o in G.props?G.props[o]:G.type.defaultProps[o],de="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ne===C&&(P||!de)}),w,d,!0);if(w==="number")A=hm(p,A,C,s,k),L&&(A=Of(L,A,j));else if(w==="category"&&L){var te=L,U=A.every(function(G){return te.indexOf(G)>=0});U&&(A=te)}}return F(F({},x),{},le({},C,F(F({},b),{},{axisType:s,domain:A,categoricalDomain:I,duplicateDomain:T,originalDomain:(f=b.domain)!==null&&f!==void 0?f:M,isCategorical:m,layout:d})))},{})},gW=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,p=t.children,h=Ql(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,x=AP(d,s),g=-1;return n.reduce(function(f,b){var w=b.type.defaultProps!==void 0?F(F({},b.type.defaultProps),b.props):b.props,y=w[o],j=UA("number");if(!f[y]){g++;var v;return x?v=Xo(0,m):l&&l[y]&&l[y].hasStack?(v=EP(l[y].stackGroups,c,u),v=hm(p,v,y,s)):(v=Of(j,PP(h,n.filter(function(N){var k,P,C=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],$="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return C===y&&!$}),"number",d),i.defaultProps.allowDataOverflow),v=hm(p,v,y,s)),F(F({},f),{},le({},y,F(F({axisType:s},i.defaultProps),{},{hide:!0,orientation:At(dW,"".concat(s,".").concat(g%2),null),domain:v,originalDomain:j,isCategorical:x,layout:d})))}return f},{})},xW=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,p="".concat(i,"Id"),h=Ct(d,s),m={};return h&&h.length?m=mW(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=gW(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},yW=function(t){var r=Dr(t),n=mr(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:w0(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Do(r,n)}},CN=function(t){var r=t.children,n=t.defaultShowTooltip,i=St(r,Sa),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vW=function(t){return!t||!t.length?!1:t.some(function(r){var n=yr(r&&r.type);return n&&n.indexOf("Bar")>=0})},ON=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bW=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,p=n.children,h=n.margin||{},m=St(p,Sa),x=St(p,gn),g=Object.keys(c).reduce(function(v,N){var k=c[N],P=k.orientation;return!k.mirror&&!k.hide?F(F({},v),{},le({},P,v[P]+k.width)):v},{left:h.left||0,right:h.right||0}),f=Object.keys(o).reduce(function(v,N){var k=o[N],P=k.orientation;return!k.mirror&&!k.hide?F(F({},v),{},le({},P,At(v,"".concat(P))+k.height)):v},{top:h.top||0,bottom:h.bottom||0}),b=F(F({},f),g),w=b.bottom;m&&(b.bottom+=m.props.height||Sa.defaultProps.height),x&&r&&(b=zL(b,i,n,r));var y=u-b.left-b.right,j=d-b.top-b.bottom;return F(F({brushBottom:w},b),{},{width:Math.max(y,0),height:Math.max(j,0)})},wW=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ag=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,p=t.defaultProps,h=function(b,w){var y=w.graphicalItems,j=w.stackGroups,v=w.offset,N=w.updateId,k=w.dataStartIndex,P=w.dataEndIndex,C=b.barSize,$=b.layout,O=b.barGap,A=b.barCategoryGap,T=b.maxBarSize,I=ON($),M=I.numericAxisName,R=I.cateAxisName,L=vW(y),q=[];return y.forEach(function(B,te){var U=Ql(b.data,{graphicalItems:[B],dataStartIndex:k,dataEndIndex:P}),G=B.type.defaultProps!==void 0?F(F({},B.type.defaultProps),B.props):B.props,ne=G.dataKey,de=G.maxBarSize,oe=G["".concat(M,"Id")],xe=G["".concat(R,"Id")],ze={},Ee=c.reduce(function(V,W){var pe=w["".concat(W.axisType,"Map")],De=G["".concat(W.axisType,"Id")];pe&&pe[De]||W.axisType==="zAxis"||On();var xt=pe[De];return F(F({},V),{},le(le({},W.axisType,xt),"".concat(W.axisType,"Ticks"),mr(xt)))},ze),D=Ee[R],K=Ee["".concat(R,"Ticks")],ee=j&&j[oe]&&j[oe].hasStack&&QL(B,j[oe].stackGroups),z=yr(B.type).indexOf("Bar")>=0,me=Do(D,K),Q=[],J=L&&FL({barSize:C,stackGroups:j,totalSize:wW(Ee,R)});if(z){var ie,we,qe=he(de)?T:de,er=(ie=(we=Do(D,K,!0))!==null&&we!==void 0?we:qe)!==null&&ie!==void 0?ie:0;Q=qL({barGap:O,barCategoryGap:A,bandSize:er!==me?er:me,sizeList:J[xe],maxBarSize:qe}),er!==me&&(Q=Q.map(function(V){return F(F({},V),{},{position:F(F({},V.position),{},{offset:V.position.offset-er/2})})}))}var Ir=B&&B.type&&B.type.getComposedData;Ir&&q.push({props:F(F({},Ir(F(F({},Ee),{},{displayedData:U,props:b,dataKey:ne,item:B,bandSize:me,barPosition:Q,offset:v,stackedData:ee,layout:$,dataStartIndex:k,dataEndIndex:P}))),{},le(le(le({key:B.key||"item-".concat(te)},M,Ee[M]),R,Ee[R]),"animationId",N)),childIndex:WE(B,b.children),item:B})}),q},m=function(b,w){var y=b.props,j=b.dataStartIndex,v=b.dataEndIndex,N=b.updateId;if(!Fy({props:y}))return null;var k=y.children,P=y.layout,C=y.stackOffset,$=y.data,O=y.reverseStackOrder,A=ON(P),T=A.numericAxisName,I=A.cateAxisName,M=Ct(k,n),R=JL($,M,"".concat(T,"Id"),"".concat(I,"Id"),C,O),L=c.reduce(function(G,ne){var de="".concat(ne.axisType,"Map");return F(F({},G),{},le({},de,xW(y,F(F({},ne),{},{graphicalItems:M,stackGroups:ne.axisType===T&&R,dataStartIndex:j,dataEndIndex:v}))))},{}),q=bW(F(F({},L),{},{props:y,graphicalItems:M}),w?.legendBBox);Object.keys(L).forEach(function(G){L[G]=d(y,L[G],q,G.replace("Map",""),r)});var B=L["".concat(I,"Map")],te=yW(B),U=h(y,F(F({},L),{},{dataStartIndex:j,dataEndIndex:v,updateId:N,graphicalItems:M,stackGroups:R,offset:q}));return F(F({formattedGraphicalItems:U,graphicalItems:M,offset:q,stackGroups:R},te),L)},x=(function(f){function b(w){var y,j,v;return eW(this,b),v=nW(this,b,[w]),le(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(v,"accessibilityManager",new FV),le(v,"handleLegendBBoxUpdate",function(N){if(N){var k=v.state,P=k.dataStartIndex,C=k.dataEndIndex,$=k.updateId;v.setState(F({legendBBox:N},m({props:v.props,dataStartIndex:P,dataEndIndex:C,updateId:$},F(F({},v.state),{},{legendBBox:N}))))}}),le(v,"handleReceiveSyncEvent",function(N,k,P){if(v.props.syncId===N){if(P===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(k)}}),le(v,"handleBrushChange",function(N){var k=N.startIndex,P=N.endIndex;if(k!==v.state.dataStartIndex||P!==v.state.dataEndIndex){var C=v.state.updateId;v.setState(function(){return F({dataStartIndex:k,dataEndIndex:P},m({props:v.props,dataStartIndex:k,dataEndIndex:P,updateId:C},v.state))}),v.triggerSyncEvent({dataStartIndex:k,dataEndIndex:P})}}),le(v,"handleMouseEnter",function(N){var k=v.getMouseInfo(N);if(k){var P=F(F({},k),{},{isTooltipActive:!0});v.setState(P),v.triggerSyncEvent(P);var C=v.props.onMouseEnter;ue(C)&&C(P,N)}}),le(v,"triggeredAfterMouseMove",function(N){var k=v.getMouseInfo(N),P=k?F(F({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(P),v.triggerSyncEvent(P);var C=v.props.onMouseMove;ue(C)&&C(P,N)}),le(v,"handleItemMouseEnter",function(N){v.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),le(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),le(v,"handleMouseMove",function(N){N.persist(),v.throttleTriggeredAfterMouseMove(N)}),le(v,"handleMouseLeave",function(N){v.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};v.setState(k),v.triggerSyncEvent(k);var P=v.props.onMouseLeave;ue(P)&&P(k,N)}),le(v,"handleOuterEvent",function(N){var k=VE(N),P=At(v.props,"".concat(k));if(k&&ue(P)){var C,$;/.*touch.*/i.test(k)?$=v.getMouseInfo(N.changedTouches[0]):$=v.getMouseInfo(N),P((C=$)!==null&&C!==void 0?C:{},N)}}),le(v,"handleClick",function(N){var k=v.getMouseInfo(N);if(k){var P=F(F({},k),{},{isTooltipActive:!0});v.setState(P),v.triggerSyncEvent(P);var C=v.props.onClick;ue(C)&&C(P,N)}}),le(v,"handleMouseDown",function(N){var k=v.props.onMouseDown;if(ue(k)){var P=v.getMouseInfo(N);k(P,N)}}),le(v,"handleMouseUp",function(N){var k=v.props.onMouseUp;if(ue(k)){var P=v.getMouseInfo(N);k(P,N)}}),le(v,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),le(v,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&v.handleMouseDown(N.changedTouches[0])}),le(v,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&v.handleMouseUp(N.changedTouches[0])}),le(v,"handleDoubleClick",function(N){var k=v.props.onDoubleClick;if(ue(k)){var P=v.getMouseInfo(N);k(P,N)}}),le(v,"handleContextMenu",function(N){var k=v.props.onContextMenu;if(ue(k)){var P=v.getMouseInfo(N);k(P,N)}}),le(v,"triggerSyncEvent",function(N){v.props.syncId!==void 0&&xh.emit(yh,v.props.syncId,N,v.eventEmitterSymbol)}),le(v,"applySyncEvent",function(N){var k=v.props,P=k.layout,C=k.syncMethod,$=v.state.updateId,O=N.dataStartIndex,A=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)v.setState(F({dataStartIndex:O,dataEndIndex:A},m({props:v.props,dataStartIndex:O,dataEndIndex:A,updateId:$},v.state)));else if(N.activeTooltipIndex!==void 0){var T=N.chartX,I=N.chartY,M=N.activeTooltipIndex,R=v.state,L=R.offset,q=R.tooltipTicks;if(!L)return;if(typeof C=="function")M=C(q,N);else if(C==="value"){M=-1;for(var B=0;B<q.length;B++)if(q[B].value===N.activeLabel){M=B;break}}var te=F(F({},L),{},{x:L.left,y:L.top}),U=Math.min(T,te.x+te.width),G=Math.min(I,te.y+te.height),ne=q[M]&&q[M].value,de=gm(v.state,v.props.data,M),oe=q[M]?{x:P==="horizontal"?q[M].coordinate:U,y:P==="horizontal"?G:q[M].coordinate}:zA;v.setState(F(F({},N),{},{activeLabel:ne,activeCoordinate:oe,activePayload:de,activeTooltipIndex:M}))}else v.setState(N)}),le(v,"renderCursor",function(N){var k,P=v.state,C=P.isTooltipActive,$=P.activeCoordinate,O=P.activePayload,A=P.offset,T=P.activeTooltipIndex,I=P.tooltipAxisBandSize,M=v.getTooltipEventType(),R=(k=N.props.active)!==null&&k!==void 0?k:C,L=v.props.layout,q=N.key||"_recharts-cursor";return E.createElement(GV,{key:q,activeCoordinate:$,activePayload:O,activeTooltipIndex:T,chartName:r,element:N,isActive:R,layout:L,offset:A,tooltipAxisBandSize:I,tooltipEventType:M})}),le(v,"renderPolarAxis",function(N,k,P){var C=At(N,"type.axisType"),$=At(v.state,"".concat(C,"Map")),O=N.type.defaultProps,A=O!==void 0?F(F({},O),N.props):N.props,T=$&&$[A["".concat(C,"Id")]];return S.cloneElement(N,F(F({},T),{},{className:fe(C,T.className),key:N.key||"".concat(k,"-").concat(P),ticks:mr(T,!0)}))}),le(v,"renderPolarGrid",function(N){var k=N.props,P=k.radialLines,C=k.polarAngles,$=k.polarRadius,O=v.state,A=O.radiusAxisMap,T=O.angleAxisMap,I=Dr(A),M=Dr(T),R=M.cx,L=M.cy,q=M.innerRadius,B=M.outerRadius;return S.cloneElement(N,{polarAngles:Array.isArray(C)?C:mr(M,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray($)?$:mr(I,!0).map(function(te){return te.coordinate}),cx:R,cy:L,innerRadius:q,outerRadius:B,key:N.key||"polar-grid",radialLines:P})}),le(v,"renderLegend",function(){var N=v.state.formattedGraphicalItems,k=v.props,P=k.children,C=k.width,$=k.height,O=v.props.margin||{},A=C-(O.left||0)-(O.right||0),T=SP({children:P,formattedGraphicalItems:N,legendWidth:A,legendContent:u});if(!T)return null;var I=T.item,M=kN(T,KV);return S.cloneElement(I,F(F({},M),{},{chartWidth:C,chartHeight:$,margin:O,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),le(v,"renderTooltip",function(){var N,k=v.props,P=k.children,C=k.accessibilityLayer,$=St(P,It);if(!$)return null;var O=v.state,A=O.isTooltipActive,T=O.activeCoordinate,I=O.activePayload,M=O.activeLabel,R=O.offset,L=(N=$.props.active)!==null&&N!==void 0?N:A;return S.cloneElement($,{viewBox:F(F({},R),{},{x:R.left,y:R.top}),active:L,label:M,payload:L?I:[],coordinate:T,accessibilityLayer:C})}),le(v,"renderBrush",function(N){var k=v.props,P=k.margin,C=k.data,$=v.state,O=$.offset,A=$.dataStartIndex,T=$.dataEndIndex,I=$.updateId;return S.cloneElement(N,{key:N.key||"_recharts-brush",onChange:zs(v.handleBrushChange,N.props.onChange),data:C,x:Z(N.props.x)?N.props.x:O.left,y:Z(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(P.bottom||0),width:Z(N.props.width)?N.props.width:O.width,startIndex:A,endIndex:T,updateId:"brush-".concat(I)})}),le(v,"renderReferenceElement",function(N,k,P){if(!N)return null;var C=v,$=C.clipPathId,O=v.state,A=O.xAxisMap,T=O.yAxisMap,I=O.offset,M=N.type.defaultProps||{},R=N.props,L=R.xAxisId,q=L===void 0?M.xAxisId:L,B=R.yAxisId,te=B===void 0?M.yAxisId:B;return S.cloneElement(N,{key:N.key||"".concat(k,"-").concat(P),xAxis:A[q],yAxis:T[te],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:$})}),le(v,"renderActivePoints",function(N){var k=N.item,P=N.activePoint,C=N.basePoint,$=N.childIndex,O=N.isRange,A=[],T=k.props.key,I=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,M=I.activeDot,R=I.dataKey,L=F(F({index:$,dataKey:R,cx:P.x,cy:P.y,r:4,fill:G0(k.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},se(M,!1)),po(M));return A.push(b.renderActiveDot(M,L,"".concat(T,"-activePoint-").concat($))),C?A.push(b.renderActiveDot(M,F(F({},L),{},{cx:C.x,cy:C.y}),"".concat(T,"-basePoint-").concat($))):O&&A.push(null),A}),le(v,"renderGraphicChild",function(N,k,P){var C=v.filterFormatItem(N,k,P);if(!C)return null;var $=v.getTooltipEventType(),O=v.state,A=O.isTooltipActive,T=O.tooltipAxis,I=O.activeTooltipIndex,M=O.activeLabel,R=v.props.children,L=St(R,It),q=C.props,B=q.points,te=q.isRange,U=q.baseLine,G=C.item.type.defaultProps!==void 0?F(F({},C.item.type.defaultProps),C.item.props):C.item.props,ne=G.activeDot,de=G.hide,oe=G.activeBar,xe=G.activeShape,ze=!!(!de&&A&&L&&(ne||oe||xe)),Ee={};$!=="axis"&&L&&L.props.trigger==="click"?Ee={onClick:zs(v.handleItemMouseEnter,N.props.onClick)}:$!=="axis"&&(Ee={onMouseLeave:zs(v.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:zs(v.handleItemMouseEnter,N.props.onMouseEnter)});var D=S.cloneElement(N,F(F({},C.props),Ee));function K(W){return typeof T.dataKey=="function"?T.dataKey(W.payload):null}if(ze)if(I>=0){var ee,z;if(T.dataKey&&!T.allowDuplicatedCategory){var me=typeof T.dataKey=="function"?K:"payload.".concat(T.dataKey.toString());ee=uo(B,me,M),z=te&&U&&uo(U,me,M)}else ee=B?.[I],z=te&&U&&U[I];if(xe||oe){var Q=N.props.activeIndex!==void 0?N.props.activeIndex:I;return[S.cloneElement(N,F(F(F({},C.props),Ee),{},{activeIndex:Q})),null,null]}if(!he(ee))return[D].concat(Da(v.renderActivePoints({item:C,activePoint:ee,basePoint:z,childIndex:I,isRange:te})))}else{var J,ie=(J=v.getItemByXY(v.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:D},we=ie.graphicalItem,qe=we.item,er=qe===void 0?N:qe,Ir=we.childIndex,V=F(F(F({},C.props),Ee),{},{activeIndex:Ir});return[S.cloneElement(er,V),null,null]}return te?[D,null,null]:[D,null]}),le(v,"renderCustomized",function(N,k,P){return S.cloneElement(N,F(F({key:"recharts-customized-".concat(P)},v.props),v.state))}),le(v,"renderMap",{CartesianGrid:{handler:Gs,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:Gs},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:Gs},YAxis:{handler:Gs},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((y=w.id)!==null&&y!==void 0?y:Ua("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=Nk(v.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),v.state={},v}return sW(b,f),rW(b,[{key:"componentDidMount",value:function(){var y,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,j=y.children,v=y.data,N=y.height,k=y.layout,P=St(j,It);if(P){var C=P.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=gm(this.state,v,C,$),A=this.state.tooltipTicks[C].coordinate,T=(this.state.offset.top+N)/2,I=k==="horizontal",M=I?{x:A,y:T}:{y:A,x:T},R=this.state.formattedGraphicalItems.find(function(q){var B=q.item;return B.type.name==="Scatter"});R&&(M=F(F({},M),R.props.points[C].tooltipPosition),O=R.props.points[C].tooltipPayload);var L={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:$,activePayload:O,activeCoordinate:M};this.setState(L),this.renderCursor(P),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var v,N;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){Yh([St(y.children,It)],[St(this.props.children,It)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=St(this.props.children,It);if(y&&typeof y.props.shared=="boolean"){var j=y.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var j=this.container,v=j.getBoundingClientRect(),N=_$(v),k={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},P=v.width/j.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,P);if(!C)return null;var $=this.state,O=$.xAxisMap,A=$.yAxisMap,T=this.getTooltipEventType(),I=AN(this.state,this.props.data,this.props.layout,C);if(T!=="axis"&&O&&A){var M=Dr(O).scale,R=Dr(A).scale,L=M&&M.invert?M.invert(k.chartX):null,q=R&&R.invert?R.invert(k.chartY):null;return F(F({},k),{},{xValue:L,yValue:q},I)}return I?F(F({},k),I):null}},{key:"inRange",value:function(y,j){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=y/v,P=j/v;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,$=k>=C.left&&k<=C.left+C.width&&P>=C.top&&P<=C.top+C.height;return $?{x:k,y:P}:null}var O=this.state,A=O.angleAxisMap,T=O.radiusAxisMap;if(A&&T){var I=Dr(A);return Oj({x:k,y:P},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,j=this.getTooltipEventType(),v=St(y,It),N={};v&&j==="axis"&&(v.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=po(this.props,this.handleOuterEvent);return F(F({},k),N)}},{key:"addListener",value:function(){xh.on(yh,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xh.removeListener(yh,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,j,v){for(var N=this.state.formattedGraphicalItems,k=0,P=N.length;k<P;k++){var C=N[k];if(C.item===y||C.props.key===y.key||j===yr(C.item.type)&&v===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,j=this.state.offset,v=j.left,N=j.top,k=j.height,P=j.width;return E.createElement("defs",null,E.createElement("clipPath",{id:y},E.createElement("rect",{x:v,y:N,height:k,width:P})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(j,v){var N=SN(v,2),k=N[0],P=N[1];return F(F({},j),{},le({},k,P.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(j,v){var N=SN(v,2),k=N[0],P=N[1];return F(F({},j),{},le({},k,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(y){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(y){var j=this.state,v=j.formattedGraphicalItems,N=j.activeItem;if(v&&v.length)for(var k=0,P=v.length;k<P;k++){var C=v[k],$=C.props,O=C.item,A=O.type.defaultProps!==void 0?F(F({},O.type.defaultProps),O.props):O.props,T=yr(O.type);if(T==="Bar"){var I=($.data||[]).find(function(q){return XF(y,q)});if(I)return{graphicalItem:C,payload:I}}else if(T==="RadialBar"){var M=($.data||[]).find(function(q){return Oj(y,q)});if(M)return{graphicalItem:C,payload:M}}else if(Hl(C,N)||Gl(C,N)||os(C,N)){var R=y7({graphicalItem:C,activeTooltipItem:N,itemData:A.data}),L=A.activeIndex===void 0?R:A.activeIndex;return{graphicalItem:F(F({},C),{},{childIndex:L}),payload:os(C,N)?A.data[R]:C.props.data[R]}}}return null}},{key:"render",value:function(){var y=this;if(!Fy(this))return null;var j=this.props,v=j.children,N=j.className,k=j.width,P=j.height,C=j.style,$=j.compact,O=j.title,A=j.desc,T=kN(j,XV),I=se(T,!1);if($)return E.createElement(iN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Zh,ra({},I,{width:k,height:P,title:O,desc:A}),this.renderClipPath(),zy(v,this.renderMap)));if(this.props.accessibilityLayer){var M,R;I.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,I.role=(R=this.props.role)!==null&&R!==void 0?R:"application",I.onKeyDown=function(q){y.accessibilityManager.keyboardEvent(q)},I.onFocus=function(){y.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return E.createElement(iN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",ra({className:fe("recharts-wrapper",N),style:F({position:"relative",cursor:"default",width:k,height:P},C)},L,{ref:function(B){y.container=B}}),E.createElement(Zh,ra({},I,{width:k,height:P,title:O,desc:A,style:pW}),this.renderClipPath(),zy(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);le(x,"displayName",r),le(x,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),le(x,"getDerivedStateFromProps",function(f,b){var w=f.dataKey,y=f.data,j=f.children,v=f.width,N=f.height,k=f.layout,P=f.stackOffset,C=f.margin,$=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var A=CN(f);return F(F(F({},A),{},{updateId:0},m(F(F({props:f},A),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:y,prevWidth:v,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:C,prevChildren:j})}if(w!==b.prevDataKey||y!==b.prevData||v!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||P!==b.prevStackOffset||!aa(C,b.prevMargin)){var T=CN(f),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},M=F(F({},AN(b,y,k)),{},{updateId:b.updateId+1}),R=F(F(F({},T),I),M);return F(F(F({},R),m(F({props:f},R),b)),{},{prevDataKey:w,prevData:y,prevWidth:v,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:C,prevChildren:j})}if(!Yh(j,b.prevChildren)){var L,q,B,te,U=St(j,Sa),G=U&&(L=(q=U.props)===null||q===void 0?void 0:q.startIndex)!==null&&L!==void 0?L:$,ne=U&&(B=(te=U.props)===null||te===void 0?void 0:te.endIndex)!==null&&B!==void 0?B:O,de=G!==$||ne!==O,oe=!he(y),xe=oe&&!de?b.updateId:b.updateId+1;return F(F({updateId:xe},m(F(F({props:f},b),{},{updateId:xe,dataStartIndex:G,dataEndIndex:ne}),b)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:ne})}return null}),le(x,"renderActiveDot",function(f,b,w){var y;return S.isValidElement(f)?y=S.cloneElement(f,b):ue(f)?y=f(b):y=E.createElement(ql,b),E.createElement(ve,{className:"recharts-active-dot",key:w},y)});var g=S.forwardRef(function(b,w){return E.createElement(x,ra({},b,{ref:w}))});return g.displayName=x.displayName,g},jW=ag({chartName:"LineChart",GraphicalChild:_a,axisComponents:[{axisType:"xAxis",AxisComp:Ia},{axisType:"yAxis",AxisComp:vn}],formatAxisMap:cA}),NW=ag({chartName:"BarChart",GraphicalChild:Ln,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ia},{axisType:"yAxis",AxisComp:vn}],formatAxisMap:cA}),SW=ag({chartName:"PieChart",GraphicalChild:Er,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Wl},{axisType:"radiusAxis",AxisComp:Ul}],formatAxisMap:c8,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const TN=["#9333ea","#ec4899","#8b5cf6","#d946ef","#a855f7","#c026d3"];function kW(){const[e,t]=S.useState(null),[r,n]=S.useState(!0),[i,s]=S.useState("30d");S.useEffect(()=>{o()},[i]);const o=async()=>{try{n(!0);const c=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/analytics?range=${i}`,{headers:{Authorization:`Bearer ${Y}`}})).json();c.success&&t(c.analytics)}catch(l){console.error("Error fetching analytics:",l)}finally{n(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-400",children:"Track your store's performance and insights"})]}),a.jsxs("select",{value:i,onChange:l=>s(l.target.value),className:"bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"}),a.jsx("option",{value:"90d",children:"Last 90 Days"}),a.jsx("option",{value:"all",children:"All Time"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Ks,{title:"Total Revenue",value:`${e.totalRevenue.toLocaleString()}`,icon:Qs,growth:e.revenueGrowth,color:"purple"}),a.jsx(Ks,{title:"Total Orders",value:e.totalOrders.toString(),icon:gr,growth:e.ordersGrowth,color:"pink"}),a.jsx(Ks,{title:"Total Customers",value:e.totalCustomers.toString(),icon:Sn,color:"purple"}),a.jsx(Ks,{title:"Avg Order Value",value:`${e.averageOrderValue.toLocaleString()}`,icon:ye,color:"pink"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Revenue & Orders Trend"}),a.jsx(Sp,{width:"100%",height:300,children:a.jsxs(jW,{data:e.revenueByMonth,children:[a.jsx(im,{strokeDasharray:"3 3",stroke:"#444"}),a.jsx(Ia,{dataKey:"month",stroke:"#888"}),a.jsx(vn,{yAxisId:"left",stroke:"#888"}),a.jsx(vn,{yAxisId:"right",orientation:"right",stroke:"#888"}),a.jsx(It,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #9333ea"},labelStyle:{color:"#fff"}}),a.jsx(gn,{}),a.jsx(_a,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#9333ea",strokeWidth:2,name:"Revenue ()"}),a.jsx(_a,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"#ec4899",strokeWidth:2,name:"Orders"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Sales by Category"}),a.jsx(Sp,{width:"100%",height:300,children:a.jsxs(SW,{children:[a.jsx(Er,{data:e.salesByCategory,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:c})=>`${l} ${(c*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:e.salesByCategory.map((l,c)=>a.jsx(Ol,{fill:TN[c%TN.length]},`cell-${c}`))}),a.jsx(It,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #9333ea"}})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Orders by Status"}),a.jsx(Sp,{width:"100%",height:300,children:a.jsxs(NW,{data:e.ordersByStatus,children:[a.jsx(im,{strokeDasharray:"3 3",stroke:"#444"}),a.jsx(Ia,{dataKey:"status",stroke:"#888"}),a.jsx(vn,{stroke:"#888"}),a.jsx(It,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #9333ea"}}),a.jsx(Ln,{dataKey:"count",fill:"#9333ea"})]})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Top Selling Products"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-purple-500/30",children:[a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Product"}),a.jsx("th",{className:"text-right text-gray-400 py-3 px-4",children:"Sales"}),a.jsx("th",{className:"text-right text-gray-400 py-3 px-4",children:"Revenue"})]})}),a.jsx("tbody",{children:e.topProducts.map((l,c)=>a.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[a.jsx("td",{className:"text-white py-3 px-4",children:l.name}),a.jsx("td",{className:"text-gray-300 py-3 px-4 text-right",children:l.sales}),a.jsxs("td",{className:"text-gray-300 py-3 px-4 text-right",children:["",l.revenue.toLocaleString()]})]},c))})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Customer Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 mb-2",children:"New Customers"}),a.jsx("p",{className:"text-white text-2xl",children:e.customerInsights.newCustomers})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 mb-2",children:"Returning Customers"}),a.jsx("p",{className:"text-white text-2xl",children:e.customerInsights.returningCustomers})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 mb-2",children:"Avg Lifetime Value"}),a.jsxs("p",{className:"text-white text-2xl",children:["",e.customerInsights.averageLifetimeValue.toLocaleString()]})]})]})]})]}):a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-gray-400",children:"Failed to load analytics data"})})}function Ks({title:e,value:t,icon:r,growth:n,color:i}){const s=i==="purple"?"from-purple-600 to-purple-700":"from-pink-600 to-pink-700";return a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${s} rounded-lg flex items-center justify-center`,children:a.jsx(r,{className:"w-6 h-6 text-white"})}),n!==void 0&&a.jsxs("div",{className:`flex items-center gap-1 text-sm ${n>=0?"text-green-400":"text-red-400"}`,children:[n>=0?a.jsx(VT,{className:"w-4 h-4"}):a.jsx(BT,{className:"w-4 h-4"}),Math.abs(n),"%"]})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:e}),a.jsx("p",{className:"text-white text-2xl",children:t})]})}function PW(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[i,s]=S.useState({criticalThreshold:5,warningThreshold:10,emailNotifications:!0});S.useEffect(()=>{o(),l()},[]);const o=async()=>{try{n(!0);const x=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/inventory-alerts`,{headers:{Authorization:`Bearer ${Y}`}})).json();x.success&&t(x.alerts)}catch(m){console.error("Error fetching inventory alerts:",m)}finally{n(!1)}},l=async()=>{try{const x=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/inventory-settings`,{headers:{Authorization:`Bearer ${Y}`}})).json();x.success&&x.settings&&s(x.settings)}catch(m){console.error("Error fetching settings:",m)}},c=async()=>{try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/inventory-settings`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(i)})).json()).success&&(alert("Settings updated successfully!"),o())}catch(m){console.error("Error updating settings:",m),alert("Failed to update settings")}},u=m=>{switch(m){case"critical":return"border-red-500 bg-red-900/20";case"warning":return"border-yellow-500 bg-yellow-900/20";default:return"border-purple-500 bg-purple-900/20"}},d=m=>{switch(m){case"critical":return a.jsx(Ei,{className:"w-5 h-5 text-red-500"});case"warning":return a.jsx(Ox,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(ye,{className:"w-5 h-5 text-purple-500"})}};if(r)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})});const p=e.filter(m=>m.severity==="critical"),h=e.filter(m=>m.severity==="warning");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Inventory Alerts"}),a.jsx("p",{className:"text-gray-400",children:"Monitor low stock products and set restock reminders"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2",children:[a.jsx(pS,{className:"w-5 h-5"}),"Alert Settings"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Critical Threshold"}),a.jsx("input",{type:"number",value:i.criticalThreshold,onChange:m=>s({...i,criticalThreshold:parseInt(m.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"1"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Alert when stock  this value"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Warning Threshold"}),a.jsx("input",{type:"number",value:i.warningThreshold,onChange:m=>s({...i,warningThreshold:parseInt(m.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"1"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Warning when stock  this value"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:c,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-2 rounded-lg transition-all",children:"Save Settings"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-red-900/20 to-black border border-red-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Ei,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"text-white",children:"Critical"})]}),a.jsx("p",{className:"text-3xl text-white",children:p.length}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Products out of stock or very low"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-black border border-yellow-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Ox,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h3",{className:"text-white",children:"Warning"})]}),a.jsx("p",{className:"text-3xl text-white",children:h.length}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Products running low"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ye,{className:"w-6 h-6 text-purple-500"}),a.jsx("h3",{className:"text-white",children:"Total Alerts"})]}),a.jsx("p",{className:"text-3xl text-white",children:e.length}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Active inventory alerts"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Low Stock Products"}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"All products are well stocked! "})]}):a.jsx("div",{className:"space-y-4",children:e.map((m,x)=>a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},className:`border rounded-xl p-4 ${u(m.severity)}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:m.image,alt:m.productName,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(m.severity),a.jsx("h3",{className:"text-white",children:m.productName})]}),a.jsx("p",{className:"text-gray-400 text-sm",children:m.category})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white text-2xl mb-1",children:m.currentStock}),a.jsx("p",{className:"text-gray-400 text-sm",children:"units left"})]}),a.jsxs("div",{className:"ml-4",children:[m.severity==="critical"&&a.jsx("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm",children:"Restock Now"}),m.severity==="warning"&&a.jsx("span",{className:"bg-yellow-600 text-white px-3 py-1 rounded-full text-sm",children:"Low Stock"})]})]})},m.id))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{onClick:()=>{const m=p.map(x=>x.productName).join(", ");navigator.clipboard.writeText(m),alert("Critical products copied to clipboard!")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors",disabled:p.length===0,children:"Copy Critical Products"}),a.jsx("button",{onClick:()=>{const m=e.map(x=>`${x.productName}: ${x.currentStock} units (${x.severity})`).join(`
`);navigator.clipboard.writeText(m),alert("Full report copied to clipboard!")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors",disabled:e.length===0,children:"Export Alert Report"})]})]})]})}function AW(){const[e,t]=S.useState(!1),[r,n]=S.useState(null),[i,s]=S.useState("add"),o=()=>{const u=`name,description,price,category,subcategory,image,stock
Example Figure,Premium anime figure,2499,figures,Naruto,https://example.com/image.jpg,50
Example Katana,Authentic replica sword,4999,katana,Demon Slayer,https://example.com/image2.jpg,25`,d=new Blob([u],{type:"text/csv"}),p=window.URL.createObjectURL(d),h=document.createElement("a");h.href=p,h.download="products_template.csv",h.click(),window.URL.revokeObjectURL(p)},l=async()=>{try{const u=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products/export-csv`,{headers:{Authorization:`Bearer ${Y}`}});if(u.ok){const d=await u.blob(),p=window.URL.createObjectURL(d),h=document.createElement("a");h.href=p,h.download=`products_export_${new Date().toISOString().split("T")[0]}.csv`,h.click(),window.URL.revokeObjectURL(p)}else alert("Failed to export products")}catch(u){console.error("Error exporting products:",u),alert("Failed to export products")}},c=async u=>{const d=u.target.files?.[0];if(d){if(!d.name.endsWith(".csv")){alert("Please upload a CSV file");return}t(!0),n(null);try{const p=new FormData;p.append("file",d),p.append("operation",i);const m=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products/bulk-import`,{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:p})).json();m.success?n(m.result):alert("Failed to process file: "+m.error)}catch(p){console.error("Error uploading file:",p),alert("Failed to upload file")}finally{t(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Bulk Operations"}),a.jsx("p",{className:"text-gray-400",children:"Import or export products in bulk using CSV files"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:a.jsx(fS,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white",children:"CSV Template"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Download sample format"})]})]}),a.jsxs("button",{onClick:o,className:"w-full bg-purple-600 hover:bg-purple-700 px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(eo,{className:"w-5 h-5"}),"Download Template"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-600 to-pink-700 rounded-lg flex items-center justify-center",children:a.jsx(eo,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white",children:"Export Products"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Download current products"})]})]}),a.jsxs("button",{onClick:l,className:"w-full bg-pink-600 hover:bg-pink-700 px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(eo,{className:"w-5 h-5"}),"Export to CSV"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Import Products"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-300 mb-3",children:"Operation Type"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",value:"add",checked:i==="add",onChange:u=>s(u.target.value),className:"text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"text-white",children:"Add New Products"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",value:"update",checked:i==="update",onChange:u=>s(u.target.value),className:"text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"text-white",children:"Update Existing Products"})]})]}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:i==="add"?"All products in the CSV will be added as new products":"Products will be matched by name and updated. New products will be skipped."})]}),a.jsxs("div",{className:"border-2 border-dashed border-purple-500/30 rounded-xl p-8 text-center hover:border-purple-500/50 transition-colors",children:[a.jsx("input",{type:"file",accept:".csv",onChange:c,className:"hidden",id:"csv-upload",disabled:e}),a.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[e?a.jsx(fn,{className:"w-16 h-16 text-purple-500 mx-auto mb-4 animate-spin"}):a.jsx(ys,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),a.jsx("p",{className:"text-white mb-2",children:e?"Processing...":"Click to upload CSV file"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop your CSV file here"})]})]}),r&&a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.success?a.jsx(st,{className:"w-6 h-6 text-green-500"}):a.jsx(bn,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"text-white",children:"Import Results"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-green-400 text-sm mb-1",children:"Processed"}),a.jsx("p",{className:"text-white text-2xl",children:r.processed})]}),a.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-red-400 text-sm mb-1",children:"Failed"}),a.jsx("p",{className:"text-white text-2xl",children:r.failed})]})]}),r.errors.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-gray-400 mb-2",children:"Errors:"}),a.jsx("div",{className:"bg-black/50 rounded-lg p-4 max-h-60 overflow-y-auto",children:r.errors.map((u,d)=>a.jsxs("div",{className:"text-red-400 text-sm mb-2",children:["Row ",u.row,": ",u.error]},d))})]})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-4",children:"CSV Format Instructions"}),a.jsxs("div",{className:"space-y-3 text-gray-400",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"Required columns:"})," name, description, price, category, subcategory, image, stock"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"name:"})," Product name (required)"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"description:"})," Product description (required)"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"price:"})," Price in rupees (number only, e.g., 2499)"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"category:"})," figures, katana, accessories, posters, clothing, collectibles"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"subcategory:"})," Subcategory name (e.g., Naruto, One Piece)"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"image:"})," Full URL to product image"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{className:"text-white",children:"stock:"})," Number of units available"]}),a.jsx("p",{className:"text-purple-400",children:" Tip: Download the template or export existing products to see the exact format"})]})]})]})}function CW(){const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,s]=S.useState(!0),[o,l]=S.useState(!1),[c,u]=S.useState({subject:"",content:"",htmlContent:"",scheduledFor:""}),[d,p]=S.useState(null),[h,m]=S.useState("campaigns");S.useEffect(()=>{x(),g()},[]);const x=async()=>{try{s(!0);const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletters`,{headers:{Authorization:`Bearer ${Y}`}})).json();v.success&&t(v.newsletters)}catch(j){console.error("Error fetching newsletters:",j)}finally{s(!1)}},g=async()=>{try{const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletter-subscribers`,{headers:{Authorization:`Bearer ${Y}`}})).json();v.success&&n(v.subscribers)}catch(j){console.error("Error fetching subscribers:",j)}},f=async j=>{j.preventDefault();try{const v=d?`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletters/${d}`:`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletters`;(await(await fetch(v,{method:d?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(c)})).json()).success&&(u({subject:"",content:"",htmlContent:"",scheduledFor:""}),p(null),l(!1),x(),alert("Newsletter saved successfully!"))}catch(v){console.error("Error saving newsletter:",v),alert("Failed to save newsletter")}},b=async j=>{if(confirm("Are you sure you want to send this newsletter to all subscribers?"))try{const N=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletters/${j}/send`,{method:"POST",headers:{Authorization:`Bearer ${Y}`}})).json();N.success?(alert(`Newsletter sent to ${N.sentCount} subscribers!`),x()):alert("Failed to send newsletter: "+N.error)}catch(v){console.error("Error sending newsletter:",v),alert("Failed to send newsletter")}},w=async j=>{if(confirm("Are you sure you want to delete this newsletter?"))try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/newsletters/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}})).json()).success&&x()}catch(v){console.error("Error deleting newsletter:",v),alert("Failed to delete newsletter")}},y=r.filter(j=>j.status==="active");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Newsletter & Email Campaigns"}),a.jsx("p",{className:"text-gray-400",children:"Send promotional emails to your customers"})]}),!o&&h==="campaigns"&&a.jsxs("button",{onClick:()=>{l(!0),p(null),u({subject:"",content:"",htmlContent:"",scheduledFor:""})},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(_n,{className:"w-5 h-5"}),"Create Campaign"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Sn,{className:"w-6 h-6 text-purple-500"}),a.jsx("h3",{className:"text-white",children:"Subscribers"})]}),a.jsx("p",{className:"text-3xl text-white",children:y.length}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Active subscribers"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Te,{className:"w-6 h-6 text-pink-500"}),a.jsx("h3",{className:"text-white",children:"Campaigns"})]}),a.jsx("p",{className:"text-3xl text-white",children:e.filter(j=>j.status==="sent").length}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Emails sent"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Jm,{className:"w-6 h-6 text-purple-500"}),a.jsx("h3",{className:"text-white",children:"Scheduled"})]}),a.jsx("p",{className:"text-3xl text-white",children:e.filter(j=>j.status==="scheduled").length}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Upcoming campaigns"})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-purple-900/30",children:[a.jsxs("button",{onClick:()=>m("campaigns"),className:`px-6 py-3 flex items-center gap-2 transition-all border-b-2 ${h==="campaigns"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Te,{className:"w-5 h-5"}),"Campaigns"]}),a.jsxs("button",{onClick:()=>m("subscribers"),className:`px-6 py-3 flex items-center gap-2 transition-all border-b-2 ${h==="subscribers"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Sn,{className:"w-5 h-5"}),"Subscribers"]})]}),h==="campaigns"&&a.jsx(a.Fragment,{children:o?a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("h2",{className:"text-white mb-6",children:[d?"Edit":"Create"," Campaign"]}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"campaignSubject",className:"block text-gray-300 mb-2",children:"Subject Line"}),a.jsx("input",{id:"campaignSubject",name:"campaignSubject",type:"text",value:c.subject,onChange:j=>u({...c,subject:j.target.value}),required:!0,placeholder:"e.g., New arrivals this week!",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"campaignContent",className:"block text-gray-300 mb-2",children:"Plain Text Content"}),a.jsx("textarea",{id:"campaignContent",name:"campaignContent",value:c.content,onChange:j=>u({...c,content:j.target.value}),required:!0,rows:6,placeholder:"Plain text version of your email...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"campaignHtmlContent",className:"block text-gray-300 mb-2",children:"HTML Content (Optional)"}),a.jsx("textarea",{id:"campaignHtmlContent",name:"campaignHtmlContent",value:c.htmlContent,onChange:j=>u({...c,htmlContent:j.target.value}),rows:6,placeholder:"HTML version for rich formatting...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500 font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"campaignScheduledFor",className:"block text-gray-300 mb-2",children:"Schedule For (Optional)"}),a.jsx("input",{id:"campaignScheduledFor",name:"campaignScheduledFor",type:"datetime-local",value:c.scheduledFor,onChange:j=>u({...c,scheduledFor:j.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Leave empty to save as draft"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-2 rounded-lg transition-all",children:[d?"Update":"Save"," Campaign"]}),a.jsx("button",{type:"button",onClick:()=>{l(!1),p(null)},className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}):a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl",children:[a.jsx(Te,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"No campaigns yet. Create your first one!"})]}):e.map((j,v)=>a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-white text-lg",children:j.subject}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${j.status==="sent"?"bg-green-600":j.status==="scheduled"?"bg-blue-600":"bg-gray-600"}`,children:j.status})]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:[j.content.substring(0,100),"..."]}),j.sentAt&&a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Sent to ",j.recipientCount," subscribers"]}),a.jsx("span",{className:"text-gray-500",children:new Date(j.sentAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[j.status==="draft"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{p(j.id),u({subject:j.subject,content:j.content,htmlContent:j.htmlContent,scheduledFor:j.scheduledFor||""}),l(!0)},className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",title:"Edit",children:a.jsx(qr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(j.id),className:"p-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",title:"Send Now",children:a.jsx(fl,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>w(j.id),className:"p-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",title:"Delete",children:a.jsx(Zt,{className:"w-4 h-4"})})]})]})},j.id))})}),h==="subscribers"&&a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Subscriber List"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-purple-500/30",children:[a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Email"}),a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Subscribed"}),a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Status"})]})}),a.jsx("tbody",{children:r.map(j=>a.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[a.jsx("td",{className:"text-white py-3 px-4",children:j.email}),a.jsx("td",{className:"text-gray-300 py-3 px-4",children:j.name}),a.jsx("td",{className:"text-gray-300 py-3 px-4",children:new Date(j.subscribedAt).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${j.status==="active"?"bg-green-600":"bg-gray-600"}`,children:j.status})})]},j.id))})]})})]})]})}function OW(){const[e,t]=S.useState({pointsPerRupee:1,signupBonus:100,referralBonus:500,birthdayBonus:200,reviewBonus:50,minimumRedemption:500,redemptionValue:10}),[r,n]=S.useState(null),[i,s]=S.useState([{id:"1",name:"Bronze",minPoints:0,benefits:["Earn 1 point per 1 spent","Birthday bonus"],color:"from-amber-700 to-amber-900"},{id:"2",name:"Silver",minPoints:1e3,benefits:["Earn 1.5 points per 1 spent","Birthday bonus","Early access to sales"],color:"from-gray-400 to-gray-600"},{id:"3",name:"Gold",minPoints:5e3,benefits:["Earn 2 points per 1 spent","Birthday bonus","Early access","Free shipping"],color:"from-yellow-400 to-yellow-600"},{id:"4",name:"Platinum",minPoints:1e4,benefits:["Earn 3 points per 1 spent","All benefits","Exclusive products","Priority support"],color:"from-purple-400 to-purple-600"}]),[o,l]=S.useState(!0);S.useEffect(()=>{c(),u()},[]);const c=async()=>{try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/loyalty/settings`,{headers:{Authorization:`Bearer ${Y}`}})).json();h.success&&h.settings&&t(h.settings)}catch(p){console.error("Error fetching loyalty settings:",p)}},u=async()=>{try{l(!0);const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/loyalty/stats`,{headers:{Authorization:`Bearer ${Y}`}})).json();h.success&&n(h.stats)}catch(p){console.error("Error fetching loyalty stats:",p)}finally{l(!1)}},d=async()=>{try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/loyalty/settings`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()).success&&alert("Settings saved successfully!")}catch(p){console.error("Error saving settings:",p),alert("Failed to save settings")}};return o?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Loyalty & Rewards Program"}),a.jsx("p",{className:"text-gray-400",children:"Manage your customer rewards and loyalty tiers"})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Sn,{className:"w-6 h-6 text-purple-500"}),a.jsx("h3",{className:"text-white",children:"Members"})]}),a.jsx("p",{className:"text-3xl text-white",children:r.totalMembers}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[r.activeMembers," active"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(xr,{className:"w-6 h-6 text-pink-500"}),a.jsx("h3",{className:"text-white",children:"Points Issued"})]}),a.jsx("p",{className:"text-3xl text-white",children:r.totalPointsIssued.toLocaleString()}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Total earned"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(v5,{className:"w-6 h-6 text-purple-500"}),a.jsx("h3",{className:"text-white",children:"Points Redeemed"})]}),a.jsx("p",{className:"text-3xl text-white",children:r.totalPointsRedeemed.toLocaleString()}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Total used"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(p_,{className:"w-6 h-6 text-pink-500"}),a.jsx("h3",{className:"text-white",children:"Available"})]}),a.jsx("p",{className:"text-3xl text-white",children:(r.totalPointsIssued-r.totalPointsRedeemed).toLocaleString()}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Active points"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("h2",{className:"text-white mb-6 flex items-center gap-2",children:[a.jsx(lo,{className:"w-6 h-6"}),"Reward Tiers"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((p,h)=>a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[a.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center mx-auto mb-4`,children:a.jsx(lo,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-white text-center text-xl mb-2",children:p.name}),a.jsxs("p",{className:"text-center text-gray-400 text-sm mb-4",children:[p.minPoints.toLocaleString(),"+ points"]}),a.jsx("ul",{className:"space-y-2",children:p.benefits.map((m,x)=>a.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 mt-1",children:""}),m]},x))})]},p.id))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsxs("h2",{className:"text-white mb-6 flex items-center gap-2",children:[a.jsx(e_,{className:"w-6 h-6"}),"Points Configuration"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Points Per Rupee Spent"}),a.jsx("input",{type:"number",value:e.pointsPerRupee,onChange:p=>t({...e,pointsPerRupee:parseFloat(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",step:"0.1",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Signup Bonus"}),a.jsx("input",{type:"number",value:e.signupBonus,onChange:p=>t({...e,signupBonus:parseInt(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Referral Bonus"}),a.jsx("input",{type:"number",value:e.referralBonus,onChange:p=>t({...e,referralBonus:parseInt(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Birthday Bonus"}),a.jsx("input",{type:"number",value:e.birthdayBonus,onChange:p=>t({...e,birthdayBonus:parseInt(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Review Bonus"}),a.jsx("input",{type:"number",value:e.reviewBonus,onChange:p=>t({...e,reviewBonus:parseInt(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Minimum Redemption Points"}),a.jsx("input",{type:"number",value:e.minimumRedemption,onChange:p=>t({...e,minimumRedemption:parseInt(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Points Value (points per 1)"}),a.jsx("input",{type:"number",value:e.redemptionValue,onChange:p=>t({...e,redemptionValue:parseInt(p.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"1"}),a.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[e.redemptionValue," points = 1 discount"]})]})]}),a.jsx("button",{onClick:d,className:"mt-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Save Settings"})]}),r&&r.topMembers.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-white mb-6",children:"Top Loyalty Members"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-purple-500/30",children:[a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Rank"}),a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Email"}),a.jsx("th",{className:"text-right text-gray-400 py-3 px-4",children:"Points"}),a.jsx("th",{className:"text-center text-gray-400 py-3 px-4",children:"Tier"})]})}),a.jsx("tbody",{children:r.topMembers.map((p,h)=>a.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[h===0&&a.jsx("span",{className:"text-2xl",children:""}),h===1&&a.jsx("span",{className:"text-2xl",children:""}),h===2&&a.jsx("span",{className:"text-2xl",children:""}),h>2&&a.jsxs("span",{className:"text-gray-400",children:["#",h+1]})]})}),a.jsx("td",{className:"text-white py-3 px-4",children:p.name}),a.jsx("td",{className:"text-gray-300 py-3 px-4",children:p.email}),a.jsx("td",{className:"text-white py-3 px-4 text-right",children:p.points.toLocaleString()}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${p.tier==="Platinum"?"bg-purple-600":p.tier==="Gold"?"bg-yellow-600":p.tier==="Silver"?"bg-gray-600":"bg-amber-700"}`,children:p.tier})})]},p.email))})]})})]})]})}function TW(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[i,s]=S.useState(""),[o,l]=S.useState("all"),[c,u]=S.useState(null),[d,p]=S.useState(!1),[h,m]=S.useState(""),[x,g]=S.useState(!1);S.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{console.log(" Fetching return requests...");const N=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/returns`,{headers:{Authorization:`Bearer ${Y}`}});if(N.ok){const k=await N.json();console.log(" Returns fetched:",k.returns?.length||0),t(k.returns||[])}}catch(N){console.error(" Error fetching returns:",N)}finally{n(!1)}},b=async N=>{const k=prompt("Enter return tracking ID:");if(!k||k.trim()===""){alert("Return tracking ID is required");return}g(!0);try{console.log(" Approving return:",N.orderId);const P=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/returns/${N.orderId}/approve`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({returnTrackingId:k})}),C=await P.json();P.ok&&C.success?(console.log(" Return approved successfully"),alert("Return request approved! Customer will receive an email with tracking details."),await f()):(console.error(" Failed to approve return:",C),alert(`Failed to approve return: ${C.error||"Unknown error"}`))}catch(P){console.error(" Error approving return:",P),alert("Error approving return. Please try again.")}finally{g(!1)}},w=async N=>{const k=prompt("Enter reason for rejection:");if(!k||k.trim()===""){alert("Rejection reason is required");return}if(confirm("Are you sure you want to reject this return request?")){g(!0);try{console.log(" Rejecting return:",N.orderId);const P=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/returns/${N.orderId}/reject`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:k})}),C=await P.json();P.ok&&C.success?(console.log(" Return rejected successfully"),alert("Return request rejected. Customer will receive an email notification."),await f()):(console.error(" Failed to reject return:",C),alert(`Failed to reject return: ${C.error||"Unknown error"}`))}catch(P){console.error(" Error rejecting return:",P),alert("Error rejecting return. Please try again.")}finally{g(!1)}}},y=e.filter(N=>{const k=N.orderId.toLowerCase().includes(i.toLowerCase())||N.customerName.toLowerCase().includes(i.toLowerCase())||N.email.toLowerCase().includes(i.toLowerCase()),P=o==="all"||N.status===o;return k&&P}),j=N=>{switch(N){case"pending":return a.jsxs("span",{className:"px-3 py-1 bg-yellow-600/20 border border-yellow-500/50 rounded-full text-yellow-400 text-sm flex items-center gap-1",children:[a.jsx(Oi,{className:"w-4 h-4"}),"Pending"]});case"approved":return a.jsxs("span",{className:"px-3 py-1 bg-green-600/20 border border-green-500/50 rounded-full text-green-400 text-sm flex items-center gap-1",children:[a.jsx(st,{className:"w-4 h-4"}),"Approved"]});case"rejected":return a.jsxs("span",{className:"px-3 py-1 bg-red-600/20 border border-red-500/50 rounded-full text-red-400 text-sm flex items-center gap-1",children:[a.jsx(ht,{className:"w-4 h-4"}),"Rejected"]});default:return null}},v=e.filter(N=>N.status==="pending").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-white mb-2",children:"Return Requests"}),a.jsx("p",{className:"text-gray-400",children:"Manage customer return requests"})]}),v>0&&a.jsx("div",{className:"bg-yellow-600/20 border border-yellow-500/50 px-4 py-2 rounded-lg",children:a.jsxs("p",{className:"text-yellow-400",children:[a.jsx("span",{className:"font-bold",children:v})," pending ",v===1?"request":"requests"]})})]}),a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsx("div",{className:"flex-1 min-w-[300px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(fi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by order ID, customer name, or email...",value:i,onChange:N=>s(N.target.value),className:"w-full bg-black/50 border border-purple-500/30 pl-10 pr-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500"})]})}),a.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(N=>a.jsx("button",{onClick:()=>l(N),className:`px-4 py-3 rounded-lg transition-all ${o===N?"bg-purple-600 text-white":"bg-purple-600/20 text-purple-300 hover:bg-purple-600/30"}`,children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-400 mt-4",children:"Loading returns..."})]}):y.length===0?a.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl",children:[a.jsx(ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:i||o!=="all"?"No returns match your filters":"No return requests yet"})]}):a.jsx("div",{className:"space-y-4",children:y.map((N,k)=>a.jsxs(_.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h3",{className:"text-white text-lg",children:["Order #",N.orderId]}),j(N.status)]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-400",children:["Customer: ",a.jsx("span",{className:"text-white",children:N.customerName})]}),a.jsxs("p",{className:"text-gray-400",children:["Email: ",a.jsx("span",{className:"text-white",children:N.email})]}),a.jsxs("p",{className:"text-gray-400",children:["Requested: ",a.jsx("span",{className:"text-white",children:new Date(N.requestedAt).toLocaleString()})]})]})]})}),a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-purple-300 text-sm mb-1",children:"Reason:"}),a.jsx("p",{className:"text-white mb-3",children:N.reason}),a.jsx("p",{className:"text-purple-300 text-sm mb-1",children:"Description:"}),a.jsx("p",{className:"text-gray-300 text-sm",children:N.description})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400 mb-4",children:[a.jsxs("span",{children:["Items: ",N.items.length]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Total: ",N.orderTotal.toLocaleString()]})]}),N.returnTrackingId&&a.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3 mb-4 flex items-center gap-2",children:[a.jsx(Ur,{className:"w-5 h-5 text-green-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-green-300 text-sm",children:"Return Tracking ID:"}),a.jsx("p",{className:"text-white font-mono",children:N.returnTrackingId})]})]}),N.status==="pending"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>b(N),disabled:x,className:"flex-1 bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50",children:[a.jsx(st,{className:"w-4 h-4"}),"Approve Return"]}),a.jsxs("button",{onClick:()=>w(N),disabled:x,className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50",children:[a.jsx(ht,{className:"w-4 h-4"}),"Reject Return"]})]})]},N.orderId))})]})}function _W(){const[e,t]=S.useState("privacy"),[r,n]=S.useState(""),[i,s]=S.useState(""),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,p]=S.useState(null),[h,m]=S.useState(!1);S.useEffect(()=>{x()},[]);const x=async()=>{l(!0);try{const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${Y}`}})).json();v.success&&(n(v.privacy||""),s(v.terms||""))}catch(j){console.error("Error fetching legal content:",j),b("error","Failed to load legal content")}finally{l(!1)}},g=async()=>{u(!0);try{const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({type:e,content:e==="privacy"?r:i})})).json();v.success?(b("success",`${e==="privacy"?"Privacy Policy":"Terms of Service"} updated successfully!`),m(!1)):b("error",v.error||"Failed to save")}catch(j){console.error("Error saving legal content:",j),b("error","Failed to save legal content")}finally{u(!1)}},f=()=>{confirm("Are you sure you want to reset to default content? This will discard all custom changes.")&&(e==="privacy"?n(""):s(""),m(!0),b("success","Content reset to default. Click Save to apply changes."))},b=(j,v)=>{p({type:j,text:v}),setTimeout(()=>p(null),5e3)},w=j=>{e==="privacy"?n(j):s(j),m(!0)},y=e==="privacy"?r:i;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-white mb-2",children:"Legal Content Management"}),a.jsx("p",{className:"text-gray-400",children:"Manage Privacy Policy and Terms of Service content"})]})}),d&&a.jsxs("div",{className:`p-4 rounded-lg border ${d.type==="success"?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"} flex items-center gap-2`,children:[a.jsx(bn,{className:"w-5 h-5"}),a.jsx("span",{children:d.text})]}),a.jsxs("div",{className:"flex gap-4 border-b border-purple-900/30",children:[a.jsxs("button",{onClick:()=>t("privacy"),className:`px-6 py-3 flex items-center gap-2 transition-all border-b-2 ${e==="privacy"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Nn,{className:"w-5 h-5"}),"Privacy Policy"]}),a.jsxs("button",{onClick:()=>t("terms"),className:`px-6 py-3 flex items-center gap-2 transition-all border-b-2 ${e==="terms"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(kx,{className:"w-5 h-5"}),"Terms of Service"]})]}),o?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Loading legal content..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/30 rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-white mb-1",children:e==="privacy"?"Privacy Policy Content":"Terms of Service Content"}),a.jsx("p",{className:"text-sm text-gray-400",children:y===""?"Using default content. Add custom content to override the default.":"Custom content is active. Leave empty to use default content."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:f,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",title:"Reset to default content",children:[a.jsx(gS,{className:"w-4 h-4"}),"Reset"]}),a.jsxs("button",{onClick:g,disabled:c||!h,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(hl,{className:"w-4 h-4"}),c?"Saving...":"Save Changes"]})]})]}),a.jsx("textarea",{value:y,onChange:j=>w(j.target.value),placeholder:`Enter custom ${e==="privacy"?"Privacy Policy":"Terms of Service"} content here (supports plain text and HTML)...`,className:"w-full h-96 bg-black/50 border border-purple-500/30 rounded-lg p-4 text-gray-300 font-mono text-sm focus:outline-none focus:border-purple-500 resize-y",style:{minHeight:"400px"}}),h&&a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 flex items-center gap-2",children:[a.jsx(bn,{className:"w-5 h-5"}),a.jsx("span",{children:'You have unsaved changes. Click "Save Changes" to apply them.'})]})]}),a.jsxs("div",{className:"bg-blue-900/10 border border-blue-500/30 rounded-lg p-6",children:[a.jsxs("h4",{className:"text-white mb-3 flex items-center gap-2",children:[a.jsx(kx,{className:"w-5 h-5"}),"Instructions"]}),a.jsxs("ul",{className:"text-gray-400 space-y-2 text-sm",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Custom Content:"})," Add your own content to override the default legal text"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"HTML Support:"})," You can use HTML tags for formatting (headings, paragraphs, lists, etc.)"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Default Content:"})," Leave empty to use the built-in default legal content"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Preview:"})," Visit the actual pages to see how your changes look:",a.jsxs("div",{className:"ml-6 mt-2 space-y-1",children:[a.jsx("a",{href:"/privacy-policy",target:"_blank",className:"text-purple-400 hover:text-purple-300 block",children:" View Privacy Policy Page"}),a.jsx("a",{href:"/terms-of-service",target:"_blank",className:"text-purple-400 hover:text-purple-300 block",children:" View Terms of Service Page"})]})]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Best Practice:"})," Include sections like Introduction, Contact Info, Last Updated date, etc."]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Legal Compliance:"})," Ensure your content complies with applicable laws and regulations"]})]})]})]})]})}function EW(){const e=ot(),[t,r]=S.useState(!1),[n,i]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(!1);console.log("AdminPage rendered, isLoggedIn:",t);const[p,h]=S.useState([]),[m,x]=S.useState(!1),[g,f]=S.useState(null),[b,w]=S.useState({name:"",description:"",price:"",category:"figures",subcategory:"",image:"",images:[],stock:""}),[y,j]=S.useState([]),[v,N]=S.useState([]),[k,P]=S.useState(!1),[C,$]=S.useState(!1),[O,A]=S.useState("products"),[T,I]=S.useState([]),[M,R]=S.useState([]),[L,q]=S.useState(!1),[B,te]=S.useState(null),[U,G]=S.useState({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0}),[ne,de]=S.useState([]),[oe,xe]=S.useState("all"),ze=b.images||[],Ee=v||[];S.useEffect(()=>{localStorage.getItem("adminLoggedIn")==="true"&&r(!0)},[]),S.useEffect(()=>{t&&(ee(),z(),me(),Q())},[t]);const D=async V=>{V.preventDefault(),c(""),d(!0);try{s==="admin123"?(r(!0),i(""),o(""),localStorage.setItem("adminLoggedIn","true")):c("Invalid password. Please try again.")}catch(W){console.log("Login error:",W),c("An error occurred. Please try again.")}finally{d(!1)}},K=()=>{r(!1),x(!1),f(null),localStorage.removeItem("adminLoggedIn")},ee=async()=>{try{const W=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${Y}`}})).json();W.success&&h(W.products)}catch(V){console.log("Error fetching products:",V)}},z=async()=>{try{const W=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{headers:{Authorization:`Bearer ${Y}`}})).json();W.success&&I(W.orders)}catch(V){console.log("Error fetching orders:",V)}},me=async()=>{try{const W=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,{headers:{Authorization:`Bearer ${Y}`}})).json();W.success&&R(W.coupons)}catch(V){console.log("Error fetching coupons:",V)}},Q=async()=>{try{const W=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${Y}`}})).json();W.success&&de(W.categories)}catch(V){console.log("Error fetching categories:",V)}},J=async V=>{V.preventDefault();try{const W=g?`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products/${g.id}`:`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products`;(await(await fetch(W,{method:g?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({...b,image:b.image||b.images[0]||""})})).json()).success&&(w({name:"",description:"",price:"",category:"figures",subcategory:"",image:"",images:[],stock:""}),j([]),N([]),f(null),x(!1),ee())}catch(W){console.log("Error saving product:",W)}},ie=async V=>{if(confirm("Are you sure you want to delete this product?"))try{(await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products/${V}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}})).json()).success&&ee()}catch(W){console.log("Error deleting product:",W)}},we=V=>{f(V),w({name:V.name,description:V.description,price:V.price.toString(),category:V.category,subcategory:V.subcategory||"",image:V.image||V.images?.[0]||"",images:V.images||(V.image?[V.image]:[]),stock:V.stock.toString()}),j([]),N([]),x(!0)},qe=V=>{const W=Array.from(V.target.files||[]);W.length&&(j(W),N(W.map(pe=>URL.createObjectURL(pe))))},er=async()=>{if(y.length){P(!0);try{const V=[];for(const W of y||[]){const pe=W.name.split(".").pop(),De=`${Date.now()}_${Math.random().toString(36).substring(7)}.${pe}`,{data:xt,error:Ut}=await Xe.storage.from("product-images").upload(De,W,{cacheControl:"3600",upsert:!1});if(Ut){console.error("Error uploading image:",Ut),Ut.message&&Ut.message.includes("row-level security")?$(!0):alert(`Failed to upload image: ${Ut.message}`);continue}const{data:Bn}=Xe.storage.from("product-images").getPublicUrl(xt.path);Bn?.publicUrl&&V.push(Bn.publicUrl)}V.length&&w(W=>{const pe=[...W.images,...V];return{...W,images:pe,image:W.image||pe[0]}})}catch(V){console.error("Error uploading image:",V),alert("Failed to upload image. Please try again.")}finally{P(!1),j([]),N([])}}},Ir=V=>{w(W=>{const pe=W.images[V],De=W.images.filter((Ut,Bn)=>Bn!==V),xt=De[0]||"";return{...W,images:De,image:W.image===pe?xt:W.image}})};try{return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("nav",{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsx("button",{onClick:()=>e("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:a.jsx(qt,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cr,{}),a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm ml-1 sm:ml-2 hidden md:inline",children:"Admin Panel"})]})]}),a.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>window.open("/email-test","_blank"),className:"bg-blue-600 hover:bg-blue-700 px-2 sm:px-4 py-2 rounded-lg transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base",title:"Test Email System",children:[a.jsx(Te,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden lg:inline",children:"Email Test"})]}),a.jsxs("button",{onClick:async()=>{if(confirm("Seed default categories and wallpapers? This will only add them if none exist."))try{const W=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/seed-defaults`,{method:"POST",headers:{Authorization:`Bearer ${Y}`}})).json();if(W.success){const pe=[];W.categoriesSeeded?pe.push(" Categories seeded successfully!"):pe.push(" Categories already exist, skipped seeding."),W.wallpapersSeeded?pe.push(" Wallpapers seeded successfully!"):pe.push(" Wallpapers already exist, skipped seeding."),await Promise.all([Q(),ee(),z(),me()]),alert(pe.join(`
`)+`

 Data refreshed successfully!

 Go to Home Page to see the new wallpapers in action!`)}else alert(" Failed to seed defaults: "+W.error)}catch(V){console.error("Error seeding defaults:",V),alert("Failed to seed defaults")}},className:"bg-green-600 hover:bg-green-700 px-2 sm:px-4 py-2 rounded-lg transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[a.jsx(eo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Seed Defaults"}),a.jsx("span",{className:"sm:hidden",children:"Seed"})]}),a.jsx("button",{onClick:K,className:"bg-red-600 hover:bg-red-700 px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm sm:text-base",children:"Logout"})]})})]})})}),a.jsx("main",{className:"py-12 px-4",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:t?a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-8 border-b border-purple-900/30 overflow-x-auto scrollbar-hide",children:[a.jsxs("button",{onClick:()=>A("products"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="products"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(co,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Products"})]}),a.jsxs("button",{onClick:()=>A("orders"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="orders"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(ye,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Orders"}),T.length>0&&a.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full",children:T.length})]}),a.jsxs("button",{onClick:()=>A("payments"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="payments"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Nr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Payments"})]}),a.jsxs("button",{onClick:()=>A("coupons"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="coupons"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Hh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Coupons"}),M.length>0&&a.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full",children:M.length})]}),a.jsxs("button",{onClick:()=>A("custom-clothing"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="custom-clothing"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(zr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Custom"})]}),a.jsxs("button",{onClick:()=>A("support"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="support"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Ti,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Support"})]}),a.jsxs("button",{onClick:()=>A("categories"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="categories"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(mS,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Categories"})]}),a.jsxs("button",{onClick:()=>A("wallpapers"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="wallpapers"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Wallpapers"})]}),a.jsxs("button",{onClick:()=>A("email"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="email"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Email Setup"})]}),a.jsxs("button",{onClick:()=>A("users"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="users"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Sn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),a.jsxs("button",{onClick:()=>A("analytics"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="analytics"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(JT,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),a.jsxs("button",{onClick:()=>A("inventory-alerts"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="inventory-alerts"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(pS,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Inventory Alerts"})]}),a.jsxs("button",{onClick:()=>A("bulk-operations"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="bulk-operations"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(fS,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Bulk Operations"})]}),a.jsxs("button",{onClick:()=>A("newsletter-management"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="newsletter-management"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Newsletter Management"})]}),a.jsxs("button",{onClick:()=>A("loyalty-program"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="loyalty-program"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(lo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Loyalty Program"})]}),a.jsxs("button",{onClick:()=>A("returns"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="returns"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(xS,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Returns"})]}),a.jsxs("button",{onClick:()=>A("legal-content"),className:`px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base ${O==="legal-content"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[a.jsx(Nn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Legal"})]})]}),O==="products"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-white mb-2",children:"Product Management"}),a.jsx("p",{className:"text-gray-400",children:"Manage your store inventory and products"})]}),!m&&a.jsxs("button",{onClick:()=>{x(!0),f(null),w({name:"",description:"",price:"",category:"figures",subcategory:"",image:"",images:[],stock:""})},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[a.jsx(_n,{className:"w-5 h-5"}),"Add New Product"]})]}),m?a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[a.jsx("h2",{className:"text-white mb-6",children:g?"Edit Product":"Add New Product"}),a.jsxs("form",{onSubmit:J,className:"space-y-4 max-w-2xl",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"productName",className:"block text-gray-300 mb-2",children:"Product Name"}),a.jsx("input",{id:"productName",name:"productName",type:"text",value:b.name,onChange:V=>w({...b,name:V.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"productDescription",className:"block text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{id:"productDescription",name:"productDescription",value:b.description,onChange:V=>w({...b,description:V.target.value}),rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"productPrice",className:"block text-gray-300 mb-2",children:"Price ()"}),a.jsx("input",{id:"productPrice",name:"productPrice",type:"number",value:b.price,onChange:V=>w({...b,price:V.target.value}),required:!0,min:"0",step:"0.01",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"productStock",className:"block text-gray-300 mb-2",children:"Stock"}),a.jsx("input",{id:"productStock",name:"productStock",type:"number",value:b.stock,onChange:V=>w({...b,stock:V.target.value}),required:!0,min:"0",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"productCategory",className:"block text-gray-300 mb-2",children:"Category"}),a.jsx("select",{id:"productCategory",name:"productCategory",value:b.category,onChange:V=>w({...b,category:V.target.value,subcategory:""}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:ne.length>0?ne.map(V=>a.jsx("option",{value:V.slug,children:V.name},V.id)):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"figures",children:"Figures"}),a.jsx("option",{value:"katana",children:"Katana"}),a.jsx("option",{value:"accessories",children:"Accessories"}),a.jsx("option",{value:"posters",children:"Posters"}),a.jsx("option",{value:"clothing",children:"Clothing"}),a.jsx("option",{value:"collectibles",children:"Collectibles"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"productSubcategory",className:"block text-gray-300 mb-2",children:"Subcategory (Optional)"}),(()=>{const V=ne.find(pe=>pe.slug===b.category);return V&&V.subcategories&&V.subcategories.length>0?a.jsxs("select",{id:"productSubcategory",name:"productSubcategory",value:b.subcategory,onChange:pe=>w({...b,subcategory:pe.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[a.jsx("option",{value:"",children:"-- Select Subcategory --"}),V.subcategories.map((pe,De)=>a.jsx("option",{value:pe.toLowerCase().replace(/\s+/g,"-"),children:pe},De))]}):a.jsx("input",{type:"text",value:b.subcategory,onChange:pe=>w({...b,subcategory:pe.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., demon-slayer, naruto, etc."})})()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Product Images"}),a.jsxs("div",{className:"space-y-4",children:[ze.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ze.map((V,W)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-purple-500/30 bg-purple-900/10",children:[a.jsx("img",{src:V,alt:`Product ${W+1}`,className:"w-full h-32 object-cover"}),a.jsx("div",{className:"absolute top-2 left-2 flex gap-2",children:W===0&&a.jsx("span",{className:"text-xs bg-black/70 text-purple-200 px-2 py-1 rounded-full border border-purple-500/50",children:"Primary"})}),a.jsx("button",{type:"button",onClick:()=>Ir(W),className:"absolute top-2 right-2 bg-black/60 hover:bg-black/80 p-1 rounded-full border border-purple-500/50 transition-colors",children:a.jsx(ke,{className:"w-4 h-4 text-gray-200"})})]},V+W))}),Ee.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Ee.map((V,W)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-dashed border-purple-500/40 bg-purple-900/10",children:[a.jsx("img",{src:V,alt:`Preview ${W+1}`,className:"w-full h-32 object-cover opacity-80"}),a.jsx("span",{className:"absolute bottom-2 left-2 text-xs bg-black/70 text-gray-200 px-2 py-1 rounded-full border border-purple-500/50",children:"Ready to upload"})]},V+W))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs("label",{className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 cursor-pointer hover:bg-purple-900/30 transition-colors flex items-center justify-center gap-2 text-center",children:[a.jsx(ys,{className:"w-5 h-5 text-purple-400"}),a.jsx("span",{className:"text-gray-300",children:(y||[]).length?`${y.length} image(s) selected`:"Choose images (you can select multiple)"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:qe,className:"hidden"})]}),(y||[]).length>0&&a.jsx("button",{type:"button",onClick:er,disabled:k,className:"sm:w-48 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:k?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jn,{className:"w-4 h-4"}),"Upload"]})})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Tip: The first image is used as the primary thumbnail. Re-upload to change the order."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all",children:g?"Update Product":"Add Product"}),a.jsx("button",{type:"button",onClick:()=>{x(!1),f(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all",children:"Cancel"})]})]})]}):a.jsx("div",{className:"space-y-4",children:p.length===0?a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:a.jsx("p",{className:"text-gray-400 text-lg",children:"No products yet. Add your first product!"})}):p.map(V=>a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-4 sm:p-6",children:[a.jsx("img",{src:V.images?.[0]||V.image||"https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",alt:V.name,className:"w-full sm:w-24 md:w-32 h-32 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white mb-2",children:V.name}),a.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:V.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("span",{className:"text-purple-400",children:["",V.price.toLocaleString()]}),a.jsxs("span",{className:"text-gray-400",children:["Stock: ",V.stock]}),a.jsxs("span",{className:"text-gray-400 capitalize hidden sm:inline",children:["Category: ",V.category]}),V.subcategory&&a.jsxs("span",{className:"text-gray-400 capitalize hidden lg:inline",children:["Subcategory: ",V.subcategory]})]})]}),a.jsxs("div",{className:"flex sm:flex-col gap-2",children:[a.jsxs("button",{onClick:()=>we(V),className:"flex-1 sm:flex-none bg-blue-600 hover:bg-blue-700 px-3 sm:px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[a.jsx(qr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"sm:inline",children:"Edit"})]}),a.jsxs("button",{onClick:()=>ie(V.id),className:"flex-1 sm:flex-none bg-red-600 hover:bg-red-700 px-3 sm:px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[a.jsx(Zt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"sm:inline",children:"Delete"})]})]})]},V.id))})]}):O==="orders"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-2",children:[a.jsxs("button",{onClick:()=>xe("all"),className:`px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${oe==="all"?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"}`,children:["All Orders (",T.length,")"]}),a.jsxs("button",{onClick:()=>xe("Order Pending"),className:`px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${oe==="Order Pending"?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"}`,children:["Pending (",T.filter(V=>V.status==="Order Pending").length,")"]}),a.jsxs("button",{onClick:()=>xe("In Transit"),className:`px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${oe==="In Transit"?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"}`,children:["In Transit (",T.filter(V=>V.status==="In Transit").length,")"]}),a.jsxs("button",{onClick:()=>xe("Out for Delivery"),className:`px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${oe==="Out for Delivery"?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"}`,children:["Out for Delivery (",T.filter(V=>V.status==="Out for Delivery").length,")"]}),a.jsxs("button",{onClick:()=>xe("Order Delivered"),className:`px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${oe==="Order Delivered"?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"}`,children:["Delivered (",T.filter(V=>V.status==="Order Delivered").length,")"]}),a.jsxs("button",{onClick:()=>xe("Cancelled"),className:`px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${oe==="Cancelled"?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"}`,children:["Cancelled (",T.filter(V=>V.status==="Cancelled").length,")"]})]}),(()=>{const V=oe==="all"?T:T.filter(W=>W.status===oe);return V.length===0?a.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:a.jsx("p",{className:"text-gray-400 text-lg",children:oe==="all"?"No orders yet. Wait for customers to place orders!":`No orders with status "${oe}"`})}):V.map(W=>a.jsx("div",{className:"flex gap-4 bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"text-white mb-2",children:["Order ID: ",W.id]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Tracking ID: ",W.trackingId]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm mb-4",children:[a.jsxs("span",{className:"text-purple-400",children:["Total: ",W.total.toLocaleString()]}),a.jsxs("span",{className:"text-gray-400",children:["Created At: ",new Date(W.createdAt).toLocaleString()]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"adminOrderStatus",className:"block text-gray-300 mb-2",children:"Order Status (Admin Only)"}),a.jsxs("select",{id:"adminOrderStatus",name:"adminOrderStatus",value:W.status,onChange:async pe=>{const De=pe.target.value;if(W.status==="Cancelled"){alert("Cannot update status of cancelled orders");return}if(confirm(`Update order status to "${De}"?`))try{const Ut=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/${W.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({status:De})})).json();Ut.success?(alert(" Order status updated successfully! Customer will be notified via Email and WhatsApp."),z()):alert(`Failed to update status: ${Ut.message}`)}catch(xt){console.error("Error updating order status:",xt),alert("Failed to update order status. Please try again.")}},disabled:W.status==="Cancelled",className:"w-full max-w-xs bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"Order Pending",children:"Order Pending"}),a.jsx("option",{value:"In Transit",children:"In Transit"}),a.jsx("option",{value:"Out for Delivery",children:"Out for Delivery"}),a.jsx("option",{value:"Order Delivered",children:"Order Delivered"}),W.status==="Cancelled"&&a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"text-white mb-2",children:"Customer Information"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Name: ",W.customerInfo.name]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Email: ",W.customerInfo.email]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Phone: ",W.customerInfo.phone]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Address: ",W.customerInfo.address]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"text-white mb-2",children:"Payment Information"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Payment ID: ",W.paymentId]}),a.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Payment Method: ",W.paymentMethod]}),W.paymentType&&a.jsxs("p",{className:"text-gray-400 text-sm mb-1 flex items-center gap-2",children:["Payment Type:",a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${W.paymentType==="Prepaid"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:W.paymentType})]}),W.paymentStatus&&a.jsxs("p",{className:"text-gray-400 text-sm mb-1 flex items-center gap-2",children:["Payment Status:",a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${W.paymentStatus==="Paid"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"}`,children:W.paymentStatus==="Paid"?" PAID":"PAYMENT PENDING"})]}),(W.paymentMethod.toLowerCase().includes("razorpay")||W.paymentMethod.toLowerCase().includes("paytm"))&&W.status!=="Cancelled"&&a.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-br from-yellow-900/20 to-orange-900/20 border border-yellow-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Nn,{className:"w-5 h-5 text-yellow-400"}),a.jsx("h6",{className:"text-yellow-400 font-medium",children:"Payment Verification Required"})]}),a.jsxs("p",{className:"text-gray-300 text-sm mb-3",children:["This order was placed using ",W.paymentMethod,". Please verify that payment was actually received before processing the order."]}),W.paymentVerified?a.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(st,{className:"w-5 h-5 text-green-400"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Payment Verified "})]}),a.jsxs("p",{className:"text-gray-300 text-xs mt-2",children:["Verified on: ",new Date(W.paymentVerifiedAt).toLocaleString()]}),W.verifiedBy&&a.jsxs("p",{className:"text-gray-400 text-xs",children:["By: ",W.verifiedBy]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3 mb-3",children:[a.jsx("p",{className:"text-orange-300 text-xs mb-2",children:" Payment Not Yet Verified"}),a.jsxs("p",{className:"text-gray-400 text-xs",children:["Check your ",W.paymentMethod," dashboard to confirm payment was received for Payment ID:"," ",a.jsx("span",{className:"text-purple-400 font-mono",children:W.paymentId})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:async()=>{if(confirm(`Confirm that you have verified payment receipt in your ${W.paymentMethod} dashboard?

Payment ID: ${W.paymentId}
Amount: ${W.total.toLocaleString()}

This will mark the payment as verified and allow order processing.`))try{const De=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/${W.id}/verify-payment`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({verified:!0,verifiedBy:"Admin"})})).json();De.success?(alert(" Payment verified successfully!"),z()):alert(`Failed to verify payment: ${De.message}`)}catch(pe){console.error("Error verifying payment:",pe),alert("Failed to verify payment. Please try again.")}},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 text-sm",children:[a.jsx(st,{className:"w-4 h-4"}),"Verify Payment Received"]}),a.jsxs("button",{onClick:async()=>{const pe=prompt(` PAYMENT VERIFICATION FAILED

You are about to CANCEL this order because payment was not received.

Payment ID: ${W.paymentId}
Amount: ${W.total.toLocaleString()}
Method: ${W.paymentMethod}

Please enter the reason for cancellation:`);if(pe&&pe.trim()&&confirm(`Are you absolutely sure you want to CANCEL this order?

Reason: ${pe}

The customer will be notified via email.`))try{const xt=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/${W.id}/cancel-payment-failed`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({reason:pe,cancelledBy:"Admin"})})).json();xt.success?(alert(" Order cancelled successfully. Customer has been notified via email."),z()):alert(`Failed to cancel order: ${xt.message}`)}catch(De){console.error("Error cancelling order:",De),alert("Failed to cancel order. Please try again.")}},className:"flex-1 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 text-sm",children:[a.jsx(ke,{className:"w-4 h-4"}),"Payment Not Received - Cancel Order"]})]}),a.jsx("p",{className:"text-gray-500 text-xs mt-2 text-center",children:" Tip: Check your payment gateway dashboard before taking action"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"text-white mb-2",children:"Items"}),a.jsx("ul",{className:"list-disc list-inside",children:W.items.map((pe,De)=>a.jsxs("li",{className:"text-gray-400 text-sm",children:[pe.name," - ",pe.price.toLocaleString()," x ",pe.quantity]},De))})]})]})},W.id))})()]}):O==="payments"?a.jsx(D_,{orders:T,onRefresh:z}):O==="custom-clothing"?a.jsx($_,{}):O==="support"?a.jsx(R_,{}):O==="categories"?a.jsx(L_,{}):O==="wallpapers"?a.jsxs("div",{className:"space-y-8",children:[a.jsx(F_,{}),a.jsx("div",{className:"border-t border-gray-700 pt-8",children:a.jsx(B_,{})})]}):O==="email"?a.jsx(z_,{}):O==="users"?a.jsx(U_,{}):O==="analytics"?a.jsx(kW,{}):O==="inventory-alerts"?a.jsx(PW,{}):O==="bulk-operations"?a.jsx(AW,{}):O==="newsletter-management"?a.jsx(CW,{}):O==="loyalty-program"?a.jsx(OW,{}):O==="returns"?a.jsx(TW,{}):O==="legal-content"?a.jsx(_W,{}):a.jsx(M_,{coupons:M,onRefresh:me})]}):a.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md shadow-2xl shadow-purple-900/50 p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ca,{className:"w-8 h-8"})}),a.jsx("h1",{className:"text-white mb-2",children:"Admin Access"}),a.jsx("p",{className:"text-gray-400",children:"Sign in to manage your store"})]}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"userId",className:"block text-gray-300 mb-2",children:"User ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"userId",name:"userId",type:"text",value:n,onChange:V=>i(V.target.value),required:!0,placeholder:"Enter your user ID",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"password",name:"password",type:"password",value:s,onChange:V=>o(V.target.value),required:!0,placeholder:"Enter your password",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),l&&a.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:l}),a.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all text-lg",children:u?"Logging in...":"Login"})]})]})})})}),C&&a.jsx(q_,{})]})}catch(V){return console.error("AdminPage render error:",V),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-8 text-center max-w-md",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Admin Panel Error"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"There was an error loading the admin panel. Please check the console for details."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors",children:"Reload Page"})]})})}}function IW(){const e=ot();return a.jsx("footer",{className:"border-t border-purple-900/30 py-12 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Cr,{size:"md"}),a.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]}),a.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for premium anime merchandise and collectibles."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-4",children:"Shop"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>e("/#shop"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"All Products"}),a.jsx("button",{onClick:()=>e("/#categories"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Categories"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-4",children:"About"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>e("/#about"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"About Us"}),a.jsx("button",{onClick:()=>e("/#contact"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Contact Us"}),a.jsx("button",{onClick:()=>e("/track-order"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Track Order"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-4",children:"Legal"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>e("/privacy-policy"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Privacy Policy"}),a.jsx("button",{onClick:()=>e("/terms-of-service"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Terms of Service"})]})]})]}),a.jsx("div",{className:"border-t border-purple-900/30 mt-8 pt-8 text-center text-gray-400",children:a.jsx("p",{children:" 2025 animedropzone. All rights reserved."})})]})})}function MW(){const{error:e}=En(),[t,r]=S.useState(""),[n,i]=S.useState(null),[s,o]=S.useState(""),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[p,h]=S.useState(""),[m,x]=S.useState(!1),[g,f]=S.useState(!1),b=async y=>{y.preventDefault(),o(""),i(null),c(!0);try{const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{headers:{Authorization:`Bearer ${Y}`}})).json();if(v.success){const N=v.orders.find(k=>k.trackingId===t||k.id===t);N?i(N):o("Order not found. Please check your Order ID or Tracking ID.")}}catch(j){console.log("Error tracking order:",j),o("An error occurred. Please try again.")}finally{c(!1)}},w=async()=>{x(!0),o("");try{const j=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/cancel`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:n?.id,reason:p})})).json();j.success?(e(` Order cancelled successfully. ${n?.paymentMethod!=="cod"?"Refund will be processed in 5-7 days.":""}`,6e3),i(null),d(!1),h(""),r("")):o(j.message||"Failed to cancel order.")}catch(y){console.log("Error cancelling order:",y),o("An error occurred. Please try again.")}finally{x(!1)}};return a.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[a.jsx(gl,{}),a.jsx("main",{className:"flex-1 py-20 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-white mb-4",children:"Track Your Order"}),a.jsx("p",{className:"text-gray-400",children:"Enter your Order ID or Tracking ID to check your order status"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 mb-8",children:[a.jsxs("form",{onSubmit:b,className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("label",{htmlFor:"trackingInput",className:"sr-only",children:"Enter Order ID or Tracking ID"}),a.jsx(fi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"trackingInput",name:"trackingInput",type:"text",value:t,onChange:y=>r(y.target.value),required:!0,placeholder:"Enter Order ID or Tracking ID",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-12 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),a.jsx("button",{type:"submit",disabled:l,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-8 py-3 rounded-lg transition-all",children:l?"Searching...":"Track Order"})]}),s&&a.jsx("div",{className:"mt-4 bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:s})]}),n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:n.status==="Order Delivered"?a.jsx(st,{className:"w-16 h-16 text-white"}):n.status==="Out for Delivery"?a.jsx(ye,{className:"w-16 h-16 text-white"}):n.status==="In Transit"?a.jsx(mn,{className:"w-16 h-16 text-white"}):n.status==="Cancelled"?a.jsx(ht,{className:"w-16 h-16 text-white"}):a.jsx(ye,{className:"w-16 h-16 text-white"})}),a.jsx("h2",{className:"text-white mb-2",children:n.status}),a.jsxs("p",{className:"text-purple-100",children:["Tracking ID: ",n.trackingId]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[a.jsx("h3",{className:"text-white mb-6",children:"Order Details"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Order ID"}),a.jsx("p",{className:"text-white",children:n.id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Order Date"}),a.jsx("p",{className:"text-white",children:new Date(n.createdAt).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Payment ID"}),a.jsx("p",{className:"text-white",children:n.paymentId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Payment Method"}),a.jsx("p",{className:"text-white capitalize",children:n.paymentMethod})]})]}),a.jsx("div",{className:"border-t border-purple-900/30 pt-6",children:a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(mn,{className:"w-5 h-5 text-purple-400 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Delivery Address"}),a.jsx("p",{className:"text-white",children:n.customerInfo.name}),a.jsx("p",{className:"text-gray-300",children:n.customerInfo.fullAddress||n.customerInfo.address}),a.jsx("p",{className:"text-gray-300",children:n.customerInfo.phone}),a.jsx("p",{className:"text-gray-300",children:n.customerInfo.email})]})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[a.jsxs("h3",{className:"text-white mb-6 flex items-center gap-2",children:[a.jsx(ye,{className:"w-5 h-5 text-purple-400"}),"Items Ordered"]}),a.jsx("div",{className:"space-y-4",children:n.items.map((y,j)=>a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-purple-900/30 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-900/20 rounded-lg flex items-center justify-center",children:a.jsx(ye,{className:"w-8 h-8 text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white",children:y.name}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Quantity: ",y.quantity]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-white",children:["",(y.price*y.quantity).toLocaleString()]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["",y.price.toLocaleString()," each"]})]})]},j))}),a.jsx("div",{className:"border-t border-purple-900/30 mt-6 pt-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-white",children:"Total Amount"}),a.jsxs("p",{className:"text-purple-400 text-2xl",children:["",n.total.toLocaleString()]})]})})]}),n.status==="Order Pending"&&a.jsx("div",{className:"text-center mt-6",children:a.jsx("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-8 py-3 rounded-lg transition-all",children:"Cancel Order"})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ht,{className:"w-6 h-6"}),a.jsx("h2",{className:"text-white text-xl",children:"Cancel Order"})]}),a.jsx("button",{onClick:()=>d(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-white mb-2",children:"Are you sure you want to cancel this order?"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Order ID: ",n?.id]}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Tracking ID: ",n?.trackingId]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cancelReason",className:"block text-gray-300 mb-2",children:"Reason for Cancellation (Optional)"}),a.jsx("textarea",{id:"cancelReason",name:"cancelReason",value:p,onChange:y=>h(y.target.value),rows:4,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Changed my mind, found a better deal, ordered by mistake..."})]}),a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-yellow-400 text-sm",children:" You will receive cancellation confirmation via Email and WhatsApp"}),n?.paymentMethod!=="cod"&&a.jsx("p",{className:"text-yellow-400 text-sm mt-2",children:" Refund will be processed within 5-7 business days"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>d(!1),disabled:m,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Keep Order"}),a.jsx("button",{onClick:w,disabled:m,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cancelling..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ht,{className:"w-5 h-5"}),"Confirm Cancellation"]})})]})]})]})})]})}),a.jsx(IW,{})]})}function Ra(){const e=Array.from({length:20},(t,r)=>({id:r,size:Math.random()*6+2,initialX:Math.random()*100,initialY:Math.random()*100,duration:Math.random()*10+10,delay:Math.random()*5}));return a.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:e.map(t=>a.jsx(_.div,{className:"absolute rounded-full bg-gradient-to-br from-purple-500/30 to-pink-500/30 blur-sm",style:{width:t.size,height:t.size,left:`${t.initialX}%`,top:`${t.initialY}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id))})}function $W(){const{id:e}=xm(),t=ot(),[r,n]=S.useState(null),[i,s]=S.useState([]),{cartItems:o,addToCart:l,removeFromCart:c,updateQuantity:u,isCartOpen:d,setIsCartOpen:p}=ml(),{showToast:h}=En(),[m,x]=S.useState(!1),[g,f]=S.useState(!1),[b,w]=S.useState(null),[y,j]=S.useState(0),[v,N]=S.useState(1),[k,P]=S.useState(!1),[C,$]=S.useState(!1),[O,A]=S.useState(!1),[T,I]=S.useState(null),M=S.useRef(null),R=typeof window<"u"?window.innerWidth<768:!1;S.useEffect(()=>{B(),te(),L()},[e]),S.useEffect(()=>{j(0),M.current&&(clearInterval(M.current),M.current=null)},[r?.id]),S.useEffect(()=>{if(!r||R){M.current&&(clearInterval(M.current),M.current=null);return}const J=(r.images&&r.images.length?r.images:[r.image]).filter(Boolean),ie=J.length?J:["https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080"];if(ie.length<=1){M.current&&(clearInterval(M.current),M.current=null);return}return M.current=window.setInterval(()=>{j(we=>(we+1)%ie.length)},5e3),()=>{M.current&&(clearInterval(M.current),M.current=null)}},[r?.images,r?.image]);const L=async()=>{const{data:J}=await Xe.auth.getSession();J.session&&w(J.session.user)},q=async()=>{await Xe.auth.signOut(),w(null)},B=async()=>{try{if(!e){I("Product ID not found"),setTimeout(()=>t("/"),2e3);return}const J=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${Y}`}});if(!J.ok)throw new Error(`API error: ${J.status}`);const ie=await J.json();if(ie.success&&Array.isArray(ie.products)){const we=ie.products.find(qe=>qe&&qe.id===e);we?(n(we),I(null)):(I("Product not found"),setTimeout(()=>t("/"),2e3))}else throw new Error("Invalid API response")}catch(J){console.error("Error fetching product:",J),I(J instanceof Error?J.message:"Failed to load product"),setTimeout(()=>t("/"),2e3)}},te=async()=>{try{if(!e)return;const J=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/reviews/${e}`,{headers:{Authorization:`Bearer ${Y}`}});if(!J.ok){console.warn(`Reviews API error: ${J.status}`);return}const ie=await J.json();ie.success&&Array.isArray(ie.reviews)&&s(ie.reviews)}catch(J){console.warn("Error fetching reviews (non-critical):",J),s([])}},U=()=>{r&&(l(r),h(`${r.name} added to cart!`,"success",3e3))},G=()=>{if(r){if(!b){$(!0),x(!0);return}l(r),f(!0)}},ne=J=>{w(J),C&&($(!1),G())},de=()=>{f(!1),t("/")},oe=()=>{const J=`/product/${e}`;let ie=null;try{ie=sessionStorage.getItem("prevRoute")}catch{}if(ie&&ie!==J){t(ie);return}window.history.length>2?t(-1):t("/")},xe=()=>{if(!b){p(!1),$(!0),x(!0);return}p(!1),f(!0)};if(!r)return a.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center",children:[!R&&a.jsx(Ra,{}),a.jsx("div",{className:"text-center",children:T?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-red-400 text-xl mb-4",children:T}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Redirecting to home..."})]}):a.jsx("div",{className:"text-white text-xl",children:"Loading product..."})})]});const ze=i.length>0?i.reduce((J,ie)=>J+ie.rating,0)/i.length:4.8;k||i.slice(0,3);const Ee=o.reduce((J,ie)=>J+ie.price*ie.quantity,0),D="https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",K=(r.images&&r.images.length?r.images:[r.image]).filter(Boolean),ee=K.length?K:[D],z=ee[Math.min(y,ee.length-1)],me=()=>{ee.length&&j(J=>(J+1)%ee.length)},Q=()=>{ee.length&&j(J=>(J-1+ee.length)%ee.length)};return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),!R&&a.jsx(Ra,{}),a.jsx(gl,{cartCount:o.reduce((J,ie)=>J+ie.quantity,0),onCartClick:()=>p(!0),onLoginClick:()=>x(!0),user:b,onLogout:q}),a.jsxs("main",{className:"relative z-10",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsx(_.button,{onClick:oe,className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",whileHover:{x:-5},children:a.jsx(qt,{className:"w-5 h-5"})})}),a.jsx("section",{className:"max-w-7xl mx-auto px-4 py-4 md:py-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12",children:[a.jsxs(_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},className:"w-full",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx(_.div,{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur-xl opacity-50 -z-10 pointer-events-none",animate:{opacity:[.5,.7,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsxs("div",{className:"relative rounded-2xl overflow-hidden border-2 border-purple-500/50 bg-black max-h-80 md:max-h-full",children:[a.jsx(_.img,{src:z,alt:r.name,className:"w-full h-auto object-cover",layoutId:`product-${r.id}`}),r.stock===0&&a.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:a.jsx("span",{className:"text-red-400 border border-red-400 px-6 py-3 rounded-lg text-xl",children:"Out of Stock"})}),ee.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-1 md:pl-2 z-20",children:a.jsx("button",{type:"button",onClick:Q,className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Previous image",children:a.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1 md:pr-2 z-20",children:a.jsx("button",{type:"button",onClick:me,className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Next image",children:a.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]})]}),a.jsxs("div",{className:"mt-2 md:mt-6 pt-2 md:pt-4 border-t border-purple-500/20",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:ee.length>1&&`${ee.length} photos`})}),a.jsx("div",{className:"flex gap-1.5 md:gap-3 overflow-x-auto pb-2 scrollbar-thin",children:ee.map((J,ie)=>a.jsx("button",{type:"button",onClick:()=>j(ie),className:`shrink-0 w-14 h-14 md:w-24 md:h-24 rounded-lg overflow-hidden border-2 transition-all hover:scale-105 cursor-pointer ${y===ie?"border-purple-500 shadow-lg shadow-purple-900/50 ring-2 ring-purple-400":"border-purple-500/30 hover:border-purple-400"}`,"aria-label":`View image ${ie+1}`,children:a.jsx("img",{src:J,alt:`Thumbnail ${ie+1}`,className:"w-full h-full object-cover pointer-events-none"})},`${ie}-${J.substring(0,20)}`))})]})]}),a.jsx(_.div,{className:"grid grid-cols-2 gap-2 md:gap-4 mt-4 md:mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[{icon:Nn,text:"100% Authentic"},{icon:Ur,text:"Fast Delivery"},{icon:ye,text:"Secure Packaging"},{icon:Nr,text:"Secure Payment"}].map((J,ie)=>a.jsxs(_.div,{className:"flex items-center gap-2 md:gap-3 bg-purple-900/20 border border-purple-500/30 rounded-lg p-2 md:p-4 text-xs md:text-base",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.4+ie*.1},whileHover:{scale:1.05},children:[a.jsx(J.icon,{className:"w-4 h-4 md:w-6 md:h-6 text-purple-400 shrink-0"}),a.jsx("span",{className:"text-gray-300 text-xs md:text-sm",children:J.text})]},J.text))})]}),a.jsxs(_.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"w-full",children:[a.jsx(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:a.jsx("span",{className:"inline-block px-3 py-1 bg-gradient-to-r from-purple-600/30 to-pink-600/30 border border-purple-500/50 rounded-full text-purple-300 text-xs md:text-sm mb-3 md:mb-4",children:r.category.charAt(0).toUpperCase()+r.category.slice(1)})}),a.jsx(_.h1,{className:"text-xl md:text-3xl lg:text-4xl text-white mb-3 md:mb-4 leading-tight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:r.name}),a.jsxs(_.div,{className:"flex items-center gap-2 md:gap-4 mb-4 md:mb-6 flex-wrap",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:[a.jsx("div",{className:"flex items-center gap-0.5 md:gap-1",children:[...Array(5)].map((J,ie)=>a.jsx(xr,{className:`w-3 h-3 md:w-5 md:h-5 ${ie<Math.floor(ze)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},ie))}),a.jsxs("span",{className:"text-gray-400 text-xs md:text-base",children:[ze.toFixed(1)," (",i.length," reviews)"]})]}),a.jsx(_.p,{className:"text-gray-300 text-sm md:text-lg mb-4 md:mb-6 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.description}),a.jsxs(_.div,{className:"mb-6 md:mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.7},children:[a.jsxs("span",{className:"text-3xl md:text-5xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent font-bold",children:["",r.price.toLocaleString()]}),a.jsxs("p",{className:"text-gray-400 text-xs md:text-base mt-1 md:mt-2",children:["Stock:"," ",a.jsxs("span",{className:r.stock>10?"text-green-400":"text-orange-400",children:[r.stock," available"]})]})]}),a.jsxs(_.div,{className:"mb-4 md:mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[a.jsx("label",{className:"text-white text-sm md:text-base mb-2 block",children:"Quantity:"}),a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsx("button",{onClick:()=>N(Math.max(1,v-1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center transition-colors text-sm md:text-base",disabled:r.stock===0,children:"-"}),a.jsx("span",{className:"text-white text-lg md:text-xl w-8 md:w-12 text-center",children:v}),a.jsx("button",{onClick:()=>N(Math.min(r.stock,v+1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center transition-colors text-sm md:text-base",disabled:r.stock===0,children:"+"})]})]}),a.jsxs(_.div,{className:"flex flex-col gap-2 md:gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:[a.jsxs(_.button,{onClick:G,disabled:r.stock===0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-6 md:px-8 py-3 md:py-4 rounded-lg flex items-center justify-center gap-2 transition-all text-sm md:text-lg shadow-lg shadow-purple-900/50 font-semibold",whileHover:{scale:r.stock>0?1.02:1},whileTap:{scale:r.stock>0?.98:1},children:[a.jsx(Nr,{className:"w-4 h-4 md:w-5 md:h-5"}),"Order Now"]}),a.jsxs(_.button,{onClick:U,disabled:r.stock===0,className:"bg-white/10 hover:bg-white/20 border border-purple-500/50 hover:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 md:px-8 py-3 md:py-4 rounded-lg flex items-center justify-center gap-2 transition-all text-sm md:text-lg font-semibold",whileHover:{scale:r.stock>0?1.02:1},whileTap:{scale:r.stock>0?.98:1},children:[a.jsx(gr,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add to Cart"]})]})]})]})}),a.jsx("section",{className:"max-w-7xl mx-auto px-4 py-16",children:a.jsx(_.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:a.jsx(jS,{productId:e,user:b,onLoginClick:()=>x(!0)})})})]}),a.jsx(Zm,{isOpen:d,onClose:()=>p(!1),items:o,onUpdateQuantity:u,onRemoveItem:c,onCheckout:xe,onProductClick:J=>{p(!1),t(`/product/${J.id}`)}}),a.jsx(Qm,{isOpen:m,onClose:()=>x(!1),onAuthSuccess:ne,showCheckoutMessage:C}),a.jsx(e0,{isOpen:g,onClose:()=>f(!1),items:o,total:Ee,onSuccess:de,user:b})]})}const DW={figures:ye,katana:yS,accessories:Sr,posters:jn,clothing:zr,collectibles:hS,custom_clothing:Wh},bh={figures:{title:"Anime Figures",description:"Premium anime action figures and statues from your favorite series"},katana:{title:"Katana Collection",description:"Authentic Japanese swords and replicas inspired by legendary anime"},accessories:{title:"Accessories",description:"Keychains, pins, phone cases, and more anime collectibles"},posters:{title:"Posters & Art",description:"High-quality anime art prints and wall decorations"},clothing:{title:"Anime Clothing",description:"Anime-themed apparel, cosplay costumes, and fashion accessories"},collectibles:{title:"Collectibles",description:"Limited edition merchandise, trading cards, and rare items"},custom_clothing:{title:"Custom Clothing",description:"Create your own anime-themed clothing with our custom design service"}},RW={figures:[{name:"Demon Slayer",value:"demon-slayer",description:"Tanjiro, Nezuko, and more"},{name:"Naruto",value:"naruto",description:"Iconic ninja figures"},{name:"One Piece",value:"one-piece",description:"Luffy and crew collectibles"},{name:"Attack on Titan",value:"attack-on-titan",description:"Survey Corps figures"},{name:"My Hero Academia",value:"my-hero-academia",description:"Heroes and villains"},{name:"Dragon Ball",value:"dragon-ball",description:"Super Saiyan warriors"}],katana:[{name:"Demon Slayer Swords",value:"demon-slayer-katana",description:"Nichirin blades collection"},{name:"Samurai Katanas",value:"samurai-katana",description:"Traditional Japanese swords"},{name:"Replica Katanas",value:"replica-katana",description:"Display-worthy replicas"},{name:"Training Katanas",value:"training-katana",description:"Practice swords"}],accessories:[{name:"Keychains",value:"keychains",description:"Character keychains"},{name:"Pins & Badges",value:"pins",description:"Collectible pins"},{name:"Phone Cases",value:"phone-cases",description:"Anime-themed cases"},{name:"Jewelry",value:"jewelry",description:"Necklaces and rings"},{name:"Bags & Backpacks",value:"bags",description:"Character bags"}],posters:[{name:"Wall Scrolls",value:"wall-scrolls",description:"Hanging art scrolls"},{name:"Framed Prints",value:"framed-prints",description:"Premium framed art"},{name:"Mini Posters",value:"mini-posters",description:"Small format prints"},{name:"Canvas Art",value:"canvas-art",description:"Canvas wall art"}],clothing:[{name:"T-Shirts",value:"t-shirts",description:"Character t-shirts"},{name:"Hoodies",value:"hoodies",description:"Anime hoodies"},{name:"Cosplay",value:"cosplay",description:"Cosplay costumes"},{name:"Accessories",value:"clothing-accessories",description:"Hats, socks, etc."}],collectibles:[{name:"Limited Editions",value:"limited-editions",description:"Rare collectibles"},{name:"Trading Cards",value:"trading-cards",description:"Collectible cards"},{name:"Plushies",value:"plushies",description:"Soft character plushies"},{name:"Model Kits",value:"model-kits",description:"Build-your-own kits"}],custom_clothing:[{name:"Custom T-Shirts",value:"custom-t-shirts",description:"Design your own t-shirts"},{name:"Custom Hoodies",value:"custom-hoodies",description:"Design your own hoodies"},{name:"Custom Cosplay",value:"custom-cosplay",description:"Design your own cosplay costumes"},{name:"Custom Accessories",value:"custom-accessories",description:"Design your own accessories"}]};function LW(){const{category:e}=xm(),t=ot(),r=typeof window<"u"?window.innerWidth<768:!1,[n,i]=S.useState([]),[s,o]=S.useState([]),[l,c]=S.useState(null),{cartItems:u,addToCart:d,removeFromCart:p,updateQuantity:h,isCartOpen:m,setIsCartOpen:x}=ml(),{showToast:g}=En(),[f,b]=S.useState(!1),[w,y]=S.useState(!1),[j,v]=S.useState(!1),[N,k]=S.useState(!1),[P,C]=S.useState(null),[$,O]=S.useState(!1),[A,T]=S.useState(!0),[I,M]=S.useState(null),[R,L]=S.useState([]),[q,B]=S.useState(null);S.useEffect(()=>{te(),ne(),U()},[e]),S.useEffect(()=>{(!e||!bh[e])&&console.log(" Category not in hardcoded list, checking database...")},[e,t]);const te=async()=>{try{const Q=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${Y}`}});if(Q.ok){const J=await Q.json();if(J.success&&J.categories){const ie=J.categories.find(we=>we.slug===e);if(console.log(" Category data:",ie),ie&&(M(ie),ie.subcategories&&ie.subcategories.length>0)){const we=ie.subcategories.map(qe=>({name:qe.name||qe,value:qe.value||qe.toLowerCase().replace(/\s+/g,"-"),description:qe.description||""}));L(we),console.log(" Dynamic subcategories loaded:",we)}}}}catch(Q){console.error("Error fetching category data:",Q)}};S.useEffect(()=>{let Q=n;l&&(Q=Q.filter(J=>J.subcategory===l)),o(Q)},[l,n]);const U=async()=>{const{data:Q}=await Xe.auth.getSession();Q.session&&C(Q.session.user)},G=async()=>{await Xe.auth.signOut(),C(null)},ne=async()=>{T(!0),B(null);try{if(!e)throw new Error("Category not specified");const Q=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/products/category/${e}`,{headers:{Authorization:`Bearer ${Y}`}});if(!Q.ok)throw new Error(`API error: ${Q.status}`);const J=await Q.json();J.success&&Array.isArray(J.products)?(i(J.products),o(J.products)):J.success||(B("Failed to load products"),i([]),o([]))}catch(Q){console.error("Error fetching products:",Q),B(Q instanceof Error?Q.message:"Failed to load products"),i([]),o([])}finally{T(!1)}},de=Q=>{d(Q),g(`${Q.name} added to cart!`,"success",3e3)},oe=()=>{if(!P){x(!1),O(!0),b(!0);return}x(!1),y(!0)},xe=Q=>{C(Q),$&&(O(!1),y(!0))},ze=()=>{y(!1)},Ee=Q=>{c(Q),v(!1)},D=e&&DW[e]||ye,K=e&&bh[e]?bh[e]:I?{title:I.name,description:I.description||"Browse our products"}:{title:"Category",description:"Browse our products"},ee=u.reduce((Q,J)=>Q+J.price*J.quantity,0),z=R.length>0?R:RW[e||""]||[],me=z.length>0;return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),typeof window<"u"&&window.innerWidth>=768&&a.jsx(Ra,{}),a.jsx(gl,{cartCount:u.reduce((Q,J)=>Q+J.quantity,0),onCartClick:()=>x(!0),onLoginClick:()=>b(!0),user:P,onLogout:G}),a.jsxs("main",{className:"relative z-10",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsx(_.button,{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",whileHover:{x:-5},children:a.jsx(qt,{className:"w-5 h-5"})})}),a.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-4 md:py-8",children:[a.jsxs(_.div,{className:"text-center mb-8 md:mb-12",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[r?a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-4",children:a.jsx(D,{className:"w-10 h-10 text-white"})}):a.jsx(_.div,{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-6",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,type:"spring"},whileHover:{scale:1.1,rotate:5},children:a.jsx(D,{className:"w-12 h-12 text-white"})}),a.jsx(_.h1,{className:"mb-2 md:mb-4 text-2xl md:text-4xl bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:K.title}),a.jsx(_.p,{className:"text-gray-300 text-sm md:text-lg max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:K.description}),me&&a.jsxs(_.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx(_.button,{onClick:()=>v(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Browse by Subcategory"}),l&&a.jsx(_.button,{onClick:()=>c(null),className:"ml-4 text-purple-400 hover:text-purple-300 underline transition-colors",initial:{opacity:0},animate:{opacity:1},children:"Clear filter"})]})]}),e==="clothing"&&a.jsx(_.div,{className:"mb-12 bg-gradient-to-br from-purple-900/40 to-pink-900/40 border-2 border-purple-500/50 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:.6},whileHover:{scale:1.02},children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx(_.div,{className:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-pink-600 to-purple-600 rounded-xl flex items-center justify-center",whileHover:{rotate:10},transition:{type:"spring"},children:a.jsx(Wh,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white text-2xl mb-2",children:" Design Your Own Custom Clothing"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Want something unique? Upload your design and we'll create custom anime-themed clothing just for you!"}),a.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 mb-4",children:[a.jsx("li",{children:" Upload your own designs or photos"}),a.jsx("li",{children:" Choose clothing type, size, and color"}),a.jsx("li",{children:" Get a quote within 24-48 hours"}),a.jsx("li",{children:" Professional quality printing"})]}),a.jsxs(_.button,{onClick:()=>k(!0),className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 px-8 py-4 rounded-lg text-lg shadow-lg shadow-pink-900/50 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(Wh,{className:"w-5 h-5"}),"Start Custom Design"]})]})]})}),A?a.jsxs(_.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"inline-block w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-400 mt-4",children:"Loading products..."})]}):q?a.jsx(_.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:a.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-12 max-w-md mx-auto",children:[a.jsx(D,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-white text-2xl mb-2",children:"Error Loading Products"}),a.jsx("p",{className:"text-gray-400 mb-6",children:q}),a.jsx(_.button,{onClick:()=>ne(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Try Again"})]})}):s.length===0?a.jsx(_.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-2xl p-12 max-w-md mx-auto",children:[a.jsx(D,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-white text-2xl mb-2",children:"No Products Found"}),a.jsx("p",{className:"text-gray-400",children:l?"No products available in this subcategory. Try selecting a different filter.":"No products available in this category yet. Check back soon!"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:s.map(Q=>a.jsx("div",{children:a.jsx(mi,{product:Q,onAddToCart:de})},Q.id))}),!A&&s.length>0&&a.jsx(_.div,{className:"text-center mt-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},children:a.jsxs("p",{className:"text-gray-400",children:["Showing ",s.length," ",s.length===1?"product":"products",l&&" in selected subcategory"]})})]})]}),a.jsx(Zm,{isOpen:m,onClose:()=>x(!1),items:u,onUpdateQuantity:h,onRemoveItem:p,onCheckout:oe,onProductClick:Q=>{x(!1),t(`/product/${Q.id}`)}}),a.jsx(Qm,{isOpen:f,onClose:()=>b(!1),onAuthSuccess:xe,showCheckoutMessage:$}),a.jsx(e0,{isOpen:w,onClose:()=>y(!1),items:u,total:ee,onSuccess:ze,user:P}),me&&a.jsx(wS,{isOpen:j,onClose:()=>v(!1),category:e,subcategories:z,onSelectSubcategory:Ee}),e==="custom_clothing"&&a.jsx(Gh,{isOpen:N,onClose:()=>k(!1),onSuccess:()=>{alert("Custom clothing request submitted successfully!"),k(!1)}}),e==="clothing"&&a.jsx(Gh,{isOpen:N,onClose:()=>k(!1),onSuccess:()=>{alert("Custom clothing request submitted successfully!"),k(!1)}})]})}function VA({isOpen:e,onClose:t,order:r,onSuccess:n}){const[i,s]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState(!1),d=["Defective/Damaged Product","Wrong Item Received","Not as Described","Size Issue","Changed Mind","Quality Issues","Other"],p=async h=>{if(h.preventDefault(),!i||!o.trim()){alert("Please select a reason and provide details");return}u(!0);try{console.log(" Submitting return request for order:",r.orderId);const m=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/${r.orderId}/return-request`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({reason:i,description:o,customerEmail:r.email,customerName:r.customerName})}),x=await m.json();m.ok&&x.success?(console.log(" Return request submitted successfully"),alert("Return request submitted successfully! You will receive an email confirmation."),n(),t(),s(""),l("")):(console.error(" Failed to submit return request:",x),alert(`Failed to submit return request: ${x.error||"Unknown error"}`))}catch(m){console.error(" Error submitting return request:",m),alert("Error submitting return request. Please try again.")}finally{u(!1)}};return a.jsx(Re,{children:e&&a.jsx(_.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:a.jsxs(_.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-orange-600/20 p-3 rounded-lg",children:a.jsx(ye,{className:"w-6 h-6 text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl text-white",children:"Request Return"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Order #",r.orderId]})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6 flex gap-3",children:[a.jsx(bn,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-200",children:[a.jsx("p",{className:"mb-2",children:"Please note:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[a.jsx("li",{children:"Return requests are reviewed within 24-48 hours"}),a.jsx("li",{children:"You'll receive an email once your request is processed"}),a.jsx("li",{children:"Return shipping label will be provided upon approval"}),a.jsx("li",{children:"Refund will be processed after item inspection"})]})]})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"returnReason",className:"block text-white mb-2",children:["Return Reason ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("select",{id:"returnReason",name:"returnReason",value:i,onChange:h=>s(h.target.value),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0,children:[a.jsx("option",{value:"",children:"Select a reason"}),d.map(h=>a.jsx("option",{value:h,children:h},h))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"returnDescription",className:"block text-white mb-2",children:["Description ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{id:"returnDescription",name:"returnDescription",value:o,onChange:h=>l(h.target.value),placeholder:"Please provide details about why you're returning this item...",rows:5,className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500 resize-none",required:!0}),a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[o.length,"/500 characters"]})]}),a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-white mb-3",children:"Order Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Order Date:"}),a.jsx("span",{className:"text-white",children:new Date(r.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Total Items:"}),a.jsx("span",{className:"text-white",children:r.items.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Order Total:"}),a.jsxs("span",{className:"text-white",children:["",r.total.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 px-6 py-3 rounded-lg disabled:opacity-50 transition-all",children:c?"Submitting...":"Submit Return Request"}),a.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all",children:"Cancel"})]})]})]})})})}function BW(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[i,s]=S.useState([]),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,p]=S.useState(null),[h,m]=S.useState(!1),[x,g]=S.useState(null),f=async()=>{if(!e&&!r){alert("Please enter either email or phone number");return}l(!0);try{const y=new URLSearchParams;e&&y.append("email",e),r&&y.append("phone",r);const v=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/my-orders?${y}`,{headers:{Authorization:`Bearer ${Y}`}})).json();v.success?(s(v.orders),u(!0)):alert("Failed to fetch orders")}catch(y){console.error("Error fetching orders:",y),alert("Error fetching orders. Please try again.")}finally{l(!1)}},b=y=>{switch(y.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"shipped":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},w=y=>{switch(y.toLowerCase()){case"pending":return a.jsx(Oi,{className:"w-4 h-4"});case"processing":return a.jsx(ye,{className:"w-4 h-4"});case"shipped":return a.jsx(Ur,{className:"w-4 h-4"});case"delivered":return a.jsx(st,{className:"w-4 h-4"});case"cancelled":return a.jsx(ht,{className:"w-4 h-4"});default:return a.jsx(ye,{className:"w-4 h-4"})}};return a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[a.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),a.jsx(_.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"border-b border-purple-500/20 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx(Ni,{to:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors group",children:a.jsx(qt,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})}),a.jsxs(_.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-2xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(Sr,{className:"w-6 h-6 text-purple-400"}),"My Orders"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[a.jsx(Re,{mode:"wait",children:!c&&a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-md mx-auto",children:a.jsxs(_.div,{initial:{scale:.95},animate:{scale:1},className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-8 backdrop-blur-sm shadow-2xl shadow-purple-500/10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs(_.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl",children:a.jsx(fi,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl",children:"Find Your Orders"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Track all your anime treasures"})]})]}),a.jsxs(_.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-5",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"orderEmail",className:"block text-sm text-gray-300 mb-2 flex items-center gap-2",children:[a.jsx(Te,{className:"w-4 h-4 text-purple-400"}),"Email Address"]}),a.jsx("input",{id:"orderEmail",name:"orderEmail",type:"email",value:e,onChange:y=>t(y.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-black/50 border border-purple-500/30 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent flex-1"}),a.jsx("span",{className:"text-sm text-gray-500 px-3",children:"OR"}),a.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent flex-1"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"orderPhone",className:"block text-sm text-gray-300 mb-2 flex items-center gap-2",children:[a.jsx(_i,{className:"w-4 h-4 text-purple-400"}),"Phone Number"]}),a.jsx("input",{id:"orderPhone",name:"orderPhone",type:"tel",value:r,onChange:y=>n(y.target.value),placeholder:"+91XXXXXXXXXX",onKeyDown:y=>y.key==="Enter"&&f(),className:"w-full px-4 py-3 bg-black/50 border border-purple-500/30 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),a.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:o,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 hover:from-purple-700 hover:via-pink-700 hover:to-purple-700 py-3.5 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/30 flex items-center justify-center gap-2 group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Searching..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fi,{className:"w-5 h-5"}),"View My Orders"]})]})]})]})]})})}),a.jsx(Re,{mode:"wait",children:c&&a.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[a.jsxs(_.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent flex items-center gap-3",children:[a.jsx(co,{className:"w-8 h-8 text-purple-400"}),"Your Orders"]}),a.jsxs("p",{className:"text-gray-400 mt-1",children:[i.length," ",i.length===1?"order":"orders"," found"]})]}),a.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{u(!1),s([]),t(""),n(""),p(null)},className:"px-6 py-2.5 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 rounded-lg transition-all flex items-center gap-2 group",children:[a.jsx(fi,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"}),"Search Again"]})]}),i.length===0?a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-20",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx(_.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx(ye,{className:"w-20 h-20 text-gray-700 mx-auto mb-6"})}),a.jsx("div",{className:"absolute inset-0 bg-purple-500/20 blur-2xl rounded-full"})]}),a.jsx("p",{className:"text-gray-300 text-xl mb-2",children:"No orders found"}),a.jsx("p",{className:"text-gray-500",children:"Try a different email or phone number"})]}):a.jsx("div",{className:"space-y-6",children:i.map((y,j)=>a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"bg-gradient-to-br from-purple-900/30 via-black to-pink-900/20 border border-purple-500/20 rounded-2xl p-6 hover:border-purple-500/40 transition-all hover:shadow-xl hover:shadow-purple-500/10 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[a.jsxs("h3",{className:"text-xl bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:["Order #",y.trackingId]}),a.jsxs(_.span,{whileHover:{scale:1.05},className:`px-3 py-1.5 rounded-full text-xs border ${b(y.status)} flex items-center gap-1.5 font-medium`,children:[w(y.status),y.status.toUpperCase()]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Jm,{className:"w-4 h-4 text-purple-400"}),new Date(y.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"w-4 h-4 text-purple-400"}),y.paymentMethod.toUpperCase()]}),y.paymentType&&a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${y.paymentType==="Prepaid"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:y.paymentType}),y.paymentStatus&&a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${y.paymentStatus==="Paid"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"}`,children:y.paymentStatus==="Paid"?" PAID":"PAYMENT PENDING"}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ye,{className:"w-4 h-4 text-purple-400"}),y.items.reduce((v,N)=>v+N.quantity,0)," item",y.items.reduce((v,N)=>v+N.quantity,0)!==1?"s":""]})]})]}),a.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(d?.id===y.id?null:y),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 hover:from-purple-600/30 hover:to-pink-600/30 rounded-lg transition-all flex items-center gap-2",children:[a.jsx(wn,{className:"w-4 h-4"}),d?.id===y.id?"Hide Details":"View Details"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[a.jsxs("div",{className:"bg-black/30 rounded-xl p-4 border border-purple-500/10",children:[a.jsxs("p",{className:"text-sm text-gray-400 mb-3 flex items-center gap-2",children:[a.jsx(co,{className:"w-4 h-4 text-purple-400"}),"Order Items"]}),a.jsx("div",{className:"space-y-2",children:y.items.map(v=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:v.name}),a.jsxs("span",{className:"text-gray-400",children:["x ",v.quantity]})]},v.id))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-600/10 to-pink-600/10 rounded-xl p-4 border border-purple-500/20",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Amount"}),a.jsxs("p",{className:"text-3xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent mb-2",children:["",y.total.toLocaleString("en-IN")]}),y.discount&&y.discount>0&&a.jsxs(_.p,{initial:{scale:0},animate:{scale:1},className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(Sr,{className:"w-4 h-4"}),"Saved ",y.discount.toLocaleString("en-IN")," with ",y.couponCode]})]})]}),a.jsx(Re,{children:d?.id===y.id&&a.jsx(_.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-purple-500/20 pt-6 mt-4 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(_.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"bg-black/30 rounded-xl p-5 border border-purple-500/10",children:[a.jsxs("h4",{className:"text-sm text-gray-300 mb-3 flex items-center gap-2",children:[a.jsx(mn,{className:"w-4 h-4 text-purple-400"}),"Delivery Address"]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[a.jsxs("p",{className:"text-white",children:[y.customerInfo.firstName," ",y.customerInfo.lastName]}),a.jsx("p",{children:y.customerInfo.address}),a.jsxs("p",{children:[y.customerInfo.city,", ",y.customerInfo.state," -"," ",y.customerInfo.pincode]})]})]}),a.jsxs(_.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"bg-black/30 rounded-xl p-5 border border-purple-500/10",children:[a.jsx("h4",{className:"text-sm text-gray-300 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("p",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(Te,{className:"w-4 h-4 text-purple-400"}),y.customerInfo.email]}),a.jsxs("p",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(_i,{className:"w-4 h-4 text-purple-400"}),y.customerInfo.phone]})]})]})]}),a.jsxs(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 rounded-xl p-5 border border-purple-500/20",children:[a.jsxs("h4",{className:"text-sm text-gray-300 mb-4 flex items-center gap-2",children:[a.jsx(Nr,{className:"w-4 h-4 text-purple-400"}),"Price Breakdown"]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["",y.subtotal.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Shipping Charges"}),a.jsxs("span",{children:["",y.shippingCharges.toLocaleString("en-IN")]})]}),y.discount&&y.discount>0&&a.jsxs("div",{className:"flex justify-between text-green-400",children:[a.jsxs("span",{children:["Discount (",y.couponCode,")"]}),a.jsxs("span",{children:["-",y.discount.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"flex justify-between text-lg border-t border-purple-500/30 pt-3",children:[a.jsx("span",{className:"text-white",children:"Total"}),a.jsxs("span",{className:"bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:["",y.total.toLocaleString("en-IN")]})]})]})]}),a.jsx(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"pt-2",children:a.jsxs(Ni,{to:`/track-order?id=${y.trackingId}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg transition-all shadow-lg shadow-purple-500/20 group",children:[a.jsx(Ur,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}),"Track this order"]})}),y.status.toLowerCase()==="delivered"&&a.jsx(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"pt-2",children:a.jsxs("button",{onClick:()=>{m(!0),g(y)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 rounded-lg transition-all shadow-lg shadow-red-500/20 group",children:[a.jsx(xS,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}),"Return this order"]})})]})})})]})]},y.id))})]})})]}),a.jsx(VA,{isOpen:h,onClose:()=>{m(!1),g(null)},order:x?{orderId:x.id,trackingId:x.trackingId,email:x.customerInfo.email,customerName:`${x.customerInfo.firstName} ${x.customerInfo.lastName}`,total:x.total,items:x.items,createdAt:x.createdAt,deliveredAt:x.deliveredAt,updatedAt:x.updatedAt}:null,onSuccess:()=>{m(!1),g(null),f()}})]})}function FW(){const e=ot(),{showToast:t,success:r,error:n}=En(),[i,s]=S.useState(null),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,p]=S.useState([]),[h,m]=S.useState(!0),[x,g]=S.useState(!1),[f,b]=S.useState(!1),[w,y]=S.useState(null),[j,v]=S.useState(null),[N,k]=S.useState(!1),[P,C]=S.useState(null),[$,O]=S.useState(null),[A,T]=S.useState(null),[I,M]=S.useState(!1);S.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{session:D}}=await Xe.auth.getSession();if(!D||!D.user){e("/",{replace:!0});return}s(D.user),await L(D.user.email,D.user.user_metadata),await q(D.user.email),await B()}catch(D){console.error("Error checking auth:",D),e("/",{replace:!0})}finally{m(!1)}},L=async(D,K)=>{try{const{data:{session:ee}}=await Xe.auth.getSession();if(!ee)return;const z=await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/user-profile`,{headers:{Authorization:`Bearer ${ee.access_token}`}});if(z.ok){const Q=await z.json();if(Q.success){l(Q.profile),v(Q.profile);return}}const me={email:D,name:K?.name||"",phone:K?.phone||"",address:K?.address||"",city:K?.city||"",state:K?.state||"",pincode:K?.pincode||"",loyaltyPoints:K?.loyaltyPoints||0,defaultAddress:K?.defaultAddress||null};l(me),v(me)}catch(ee){console.error("Error fetching profile:",ee);const z={email:D,name:K?.name||"",phone:K?.phone||"",address:K?.address||"",city:K?.city||"",state:K?.state||"",pincode:K?.pincode||"",loyaltyPoints:K?.loyaltyPoints||0,defaultAddress:K?.defaultAddress||null};l(z),v(z)}},q=async D=>{try{const ee=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/my-orders?email=${D}`,{headers:{Authorization:`Bearer ${Y}`}})).json();if(ee.success){const z=ee.orders.sort((me,Q)=>new Date(Q.createdAt).getTime()-new Date(me.createdAt).getTime());u(z)}}catch(K){console.error("Error fetching orders:",K)}},B=async()=>{try{const{data:{session:D}}=await Xe.auth.getSession();if(!D)return;const ee=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/addresses`,{headers:{Authorization:`Bearer ${D.access_token}`}})).json();ee.success&&p(ee.addresses||[])}catch(D){console.error("Error fetching addresses:",D)}},te=async()=>{if(!(!i||!j)){b(!0);try{const{error:D}=await Xe.auth.updateUser({data:{name:j.name,phone:j.phone,address:j.address,city:j.city,state:j.state,pincode:j.pincode}});if(D)throw D;l(j),g(!1),r("Profile updated successfully!")}catch(D){console.error("Error updating profile:",D),n("Failed to update profile. Please try again.")}finally{b(!1)}}},U=()=>{v(o),g(!1)},G=async()=>{if(i)try{const{data:{session:D}}=await Xe.auth.getSession();if(!D)return;const ee=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/account`,{method:"DELETE",headers:{Authorization:`Bearer ${D.access_token}`}})).json();ee.success?(await Xe.auth.signOut(),r("Account deleted successfully"),e("/",{replace:!0})):n(ee.message||"Failed to delete account")}catch(D){console.error("Error deleting account:",D),n("Error deleting account. Please try again.")}},ne=async D=>{try{const ee=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/cancel`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:D,reason:"Customer requested cancellation"})})).json();ee.success?(r("Order cancelled successfully"),await q(i.email),C(null)):n(ee.message||"Failed to cancel order")}catch(K){console.error("Error cancelling order:",K),n("Error cancelling order. Please try again.")}},de=async D=>{if(A)try{const{data:{session:K}}=await Xe.auth.getSession();if(!K)return;const z=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/orders/${D}/address`,{method:"PUT",headers:{Authorization:`Bearer ${K.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(A)})).json();z.success?(r("Order address updated successfully"),await q(i.email),O(null),T(null)):n(z.message||"Failed to update address")}catch(K){console.error("Error updating address:",K),n("Error updating address. Please try again.")}},oe=D=>{switch(D.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"shipped":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},xe=D=>{switch(D.toLowerCase()){case"pending":return a.jsx(Oi,{className:"w-4 h-4"});case"processing":return a.jsx(ye,{className:"w-4 h-4"});case"shipped":return a.jsx(Ur,{className:"w-4 h-4"});case"delivered":return a.jsx(st,{className:"w-4 h-4"});case"cancelled":return a.jsx(ht,{className:"w-4 h-4"});default:return a.jsx(ye,{className:"w-4 h-4"})}},ze=D=>D.toLowerCase()==="pending",Ee=async D=>{try{const{data:{session:K}}=await Xe.auth.getSession();if(!K)return;const z=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/addresses/${D}/set-default`,{method:"POST",headers:{Authorization:`Bearer ${K.access_token}`}})).json();z.success?(r("Default address updated successfully!"),await L(i.email,i.user_metadata),await B()):n(z.message||"Failed to set default address")}catch(K){console.error("Error setting default address:",K),n("Error setting default address. Please try again.")}};return h?a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[a.jsx(Vh,{className:"w-12 h-12 text-purple-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-400",children:"Loading your profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[a.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),a.jsx(_.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"border-b border-purple-500/20 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Ni,{to:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors group",children:[a.jsx(qt,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Back to Home"})]}),a.jsxs(_.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-2xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(Dt,{className:"w-6 h-6 text-purple-400"}),"My Profile"]}),a.jsx("div",{className:"w-24"})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[a.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-purple-600/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-3 rounded-full",children:a.jsx(lo,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-white mb-1",children:"Loyalty Rewards"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Earn points on every purchase"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Your Points"}),a.jsxs("p",{className:"text-3xl bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:[o?.loyaltyPoints||0," pts"]})]})]})})}),d.length>0&&a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-6",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[a.jsxs("h2",{className:"text-xl flex items-center gap-2 mb-6",children:[a.jsx(I5,{className:"w-5 h-5 text-purple-400"}),"Saved Addresses (",d.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(D=>{const K=o?.defaultAddress?.id===D.id;return a.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`bg-black/50 border rounded-xl p-4 transition-all ${K?"border-purple-500/50 shadow-lg shadow-purple-500/20":"border-purple-500/20"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mn,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),a.jsx("h3",{className:"text-white",children:D.label})]}),K&&a.jsx("span",{className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-full",children:"Default"})]}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[a.jsxs("p",{children:[D.firstName," ",D.lastName]}),a.jsx("p",{children:D.address}),a.jsxs("p",{children:[D.city,", ",D.state," - ",D.pincode]}),a.jsx("p",{children:D.phone})]}),!K&&a.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Ee(D.id),className:"mt-3 w-full bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 text-purple-300 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[a.jsx(st,{className:"w-4 h-4"}),"Set as Default"]})]},D.id)})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5 text-purple-400"}),"Profile Details"]}),x?a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:te,disabled:f,className:"p-2 bg-green-600/20 border border-green-500/30 hover:bg-green-600/30 rounded-lg transition-all disabled:opacity-50",children:f?a.jsx(Vh,{className:"w-4 h-4 text-green-400 animate-spin"}):a.jsx(hl,{className:"w-4 h-4 text-green-400"})}),a.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:U,className:"p-2 bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 rounded-lg transition-all",children:a.jsx(ke,{className:"w-4 h-4 text-red-400"})})]}):a.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(!0),className:"p-2 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 rounded-lg transition-all",children:a.jsx(qr,{className:"w-4 h-4 text-purple-400"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profileName",className:"block text-sm text-gray-400 mb-2",children:"Full Name"}),x?a.jsx("input",{id:"profileName",name:"profileName",type:"text",value:j?.name||"",onChange:D=>v({...j,name:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}):a.jsx("p",{className:"text-white",children:o?.name||"Not provided"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[a.jsx(Te,{className:"w-4 h-4 text-purple-400"}),"Email"]}),a.jsx("p",{className:"text-white",children:o?.email})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"profilePhone",className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[a.jsx(_i,{className:"w-4 h-4 text-purple-400"}),"Phone Number"]}),x?a.jsx("input",{id:"profilePhone",name:"profilePhone",type:"tel",value:j?.phone||"",onChange:D=>v({...j,phone:D.target.value}),placeholder:"+91XXXXXXXXXX",className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}):a.jsx("p",{className:"text-white",children:o?.phone||"Not provided"})]}),a.jsx("div",{className:"pt-4 border-t border-purple-500/20",children:a.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(!0),className:"w-full bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 text-red-400 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(Zt,{className:"w-4 h-4"}),"Delete Account"]})})]})]})}),a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[a.jsxs("h2",{className:"text-xl flex items-center gap-2 mb-6",children:[a.jsx(co,{className:"w-5 h-5 text-purple-400"}),"My Orders ",c.length>0&&`(${c.length})`]}),c.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"No orders yet"})]}):a.jsx("div",{className:"space-y-4",children:c.map(D=>a.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/50 border border-purple-500/20 rounded-xl p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-400",children:["Order ID: ",D.trackingId]}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(D.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-1 ${oe(D.status)}`,children:[xe(D.status),D.status]})})]}),a.jsxs("div",{className:"border-t border-purple-500/20 pt-3",children:[a.jsxs("p",{className:"text-white",children:["Total: ",D.total.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[D.items.length," item(s)"]})]}),ze(D.status)&&a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{O(D.id),T(D.customerInfo)},className:"flex-1 bg-blue-600/20 border border-blue-500/30 hover:bg-blue-600/30 text-blue-400 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[a.jsx(mn,{className:"w-4 h-4"}),"Change Address"]}),a.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(D.id),className:"flex-1 bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 text-red-400 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[a.jsx(ht,{className:"w-4 h-4"}),"Cancel Order"]})]}),!ze(D.status)&&D.status.toLowerCase()!=="cancelled"&&a.jsxs("p",{className:"text-xs text-gray-500 mt-3 flex items-center gap-1",children:[a.jsx(Ei,{className:"w-3 h-3"}),"Order cannot be modified once processing has begun"]}),a.jsxs(_.button,{whileHover:{scale:1.01},onClick:()=>y(w?.id===D.id?null:D),className:"w-full mt-3 text-purple-400 hover:text-purple-300 text-sm flex items-center justify-center gap-2",children:[a.jsx(wn,{className:"w-4 h-4"}),w?.id===D.id?"Hide":"View"," Details"]}),a.jsx(Re,{children:w?.id===D.id&&a.jsx(_.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-purple-500/20 mt-3 pt-3 space-y-2",children:[a.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Items:"}),D.items.map(K=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[K.name," x ",K.quantity]}),a.jsxs("span",{children:["",(K.price*K.quantity).toLocaleString()]})]},K.id)),a.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["",D.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[a.jsx("span",{children:"Shipping:"}),a.jsxs("span",{children:["",D.shippingCharges.toLocaleString()]})]}),D.discount&&D.discount>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-400",children:[a.jsx("span",{children:"Discount:"}),a.jsxs("span",{children:["-",D.discount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-white mt-2 pt-2 border-t border-purple-500/20",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["",D.total.toLocaleString()]})]})]}),a.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2",children:[a.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Delivery Address:"}),a.jsxs("p",{className:"text-sm text-white",children:[D.customerInfo.firstName," ",D.customerInfo.lastName]}),a.jsx("p",{className:"text-sm text-gray-300",children:D.customerInfo.address}),a.jsxs("p",{className:"text-sm text-gray-300",children:[D.customerInfo.city,", ",D.customerInfo.state," - ",D.customerInfo.pincode]}),a.jsx("p",{className:"text-sm text-gray-300",children:D.customerInfo.phone})]})]})})})]},D.id))})]})})]})]}),a.jsx(Re,{children:N&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>k(!1)}),a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-red-900/20 border border-red-500/30 rounded-2xl p-6 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ei,{className:"w-8 h-8 text-red-400"})}),a.jsx("h3",{className:"text-xl text-white mb-2",children:"Delete Account?"}),a.jsx("p",{className:"text-gray-400",children:"This action cannot be undone. All your data will be permanently deleted."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Cancel"}),a.jsx("button",{onClick:()=>{G(),k(!1)},className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-all",children:"Delete Account"})]})]})]})}),a.jsx(Re,{children:P&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>C(null)}),a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-red-900/20 border border-red-500/30 rounded-2xl p-6 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ht,{className:"w-8 h-8 text-red-400"})}),a.jsx("h3",{className:"text-xl text-white mb-2",children:"Cancel Order?"}),a.jsx("p",{className:"text-gray-400",children:"Are you sure you want to cancel this order?"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>C(null),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Keep Order"}),a.jsx("button",{onClick:()=>ne(P),className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-all",children:"Cancel Order"})]})]})]})}),a.jsx(Re,{children:$&&A&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>O(null)}),a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[a.jsx(mn,{className:"w-5 h-5 text-purple-400"}),"Update Delivery Address"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm text-gray-400 mb-2",children:"First Name"}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",value:A.firstName||"",onChange:D=>T({...A,firstName:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm text-gray-400 mb-2",children:"Last Name"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",value:A.lastName||"",onChange:D=>T({...A,lastName:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm text-gray-400 mb-2",children:"Phone"}),a.jsx("input",{id:"phone",name:"phone",type:"tel",value:A.phone||"",onChange:D=>T({...A,phone:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"address",className:"block text-sm text-gray-400 mb-2",children:"Address"}),a.jsx("textarea",{id:"address",name:"address",value:A.address||"",onChange:D=>T({...A,address:D.target.value}),rows:3,className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm text-gray-400 mb-2",children:"City"}),a.jsx("input",{id:"city",name:"city",type:"text",value:A.city||"",onChange:D=>T({...A,city:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm text-gray-400 mb-2",children:"State"}),a.jsx("input",{id:"state",name:"state",type:"text",value:A.state||"",onChange:D=>T({...A,state:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"pincode",className:"block text-sm text-gray-400 mb-2",children:"Pincode"}),a.jsx("input",{id:"pincode",name:"pincode",type:"text",value:A.pincode||"",onChange:D=>T({...A,pincode:D.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>O(null),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Cancel"}),a.jsx("button",{onClick:()=>de($),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg transition-all",children:"Update Address"})]})]})]})}),a.jsx(Re,{children:I&&a.jsx(VA,{onClose:()=>M(!1)})})]})}function qW(){const{id:e}=xm(),[t]=_N(),r=ot(),n=t.get("action"),[i,s]=S.useState("loading"),[o,l]=S.useState(""),[c,u]=S.useState(null);S.useEffect(()=>{d()},[e,n]);const d=async()=>{if(!e||!n||n!=="approve"&&n!=="reject"){s("error"),l("Invalid approval link. Please check your email and try again.");return}try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${e}/approve`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({action:n})})).json();h.success?(s("success"),u(h.request),l(n==="approve"?"Quote approved successfully! We will contact you shortly with payment details and production timeline.":"Quote rejected. Thank you for considering our service. Feel free to submit a new request anytime.")):(s("error"),l(h.error||"Failed to process your response. Please try again or contact support."))}catch(p){console.error("Error processing approval:",p),s("error"),l("An error occurred while processing your response. Please contact support.")}};return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx(Ra,{}),a.jsx("nav",{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex items-center justify-center h-20",children:a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("/"),children:[a.jsx(Cr,{size:"md"}),a.jsx("span",{className:"text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]})})})}),a.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-5rem)] py-12 px-4",children:a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl w-full",children:a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl p-8 md:p-12",children:[i==="loading"&&a.jsxs("div",{className:"text-center",children:[a.jsx(_.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-6",children:a.jsx(fn,{className:"w-16 h-16 text-purple-400"})}),a.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"Processing Your Response..."}),a.jsx("p",{className:"text-gray-400",children:"Please wait while we update your custom clothing request."})]}),i==="success"&&a.jsxs("div",{className:"text-center",children:[a.jsx(_.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-6",children:n==="approve"?a.jsx(st,{className:"w-20 h-20 text-green-400"}):a.jsx(ht,{className:"w-20 h-20 text-red-400"})}),a.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:n==="approve"?"Quote Approved! ":"Quote Declined"}),a.jsx("p",{className:"text-gray-300 text-lg mb-8",children:o}),c&&a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6 mb-8 text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-purple-400",children:[a.jsx(zr,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold",children:"Request Details"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-purple-400",children:"Request ID:"})," ",c.requestId]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-purple-400",children:"Type:"})," ",c.clothingDetails?.type]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-purple-400",children:"Size:"})," ",c.clothingDetails?.size]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-purple-400",children:"Quantity:"})," ",c.clothingDetails?.quantity]}),n==="approve"&&c.quotedPrice&&a.jsxs("p",{className:"text-gray-300 text-lg mt-4 pt-4 border-t border-purple-500/30",children:[a.jsx("span",{className:"text-purple-400",children:"Quoted Price:"})," ",a.jsxs("span",{className:"text-green-400 font-semibold",children:["",c.quotedPrice.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(_.button,{onClick:()=>r("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg transition-all flex items-center gap-2 justify-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(ye,{className:"w-5 h-5"}),"Continue Shopping"]}),n==="reject"&&a.jsx(_.button,{onClick:()=>r("/?custom-clothing=open"),className:"bg-purple-900/30 border border-purple-500/50 hover:bg-purple-900/50 px-8 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Submit New Request"})]})]}),i==="error"&&a.jsxs("div",{className:"text-center",children:[a.jsx(_.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-6",children:a.jsx(ht,{className:"w-20 h-20 text-red-400"})}),a.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"Something Went Wrong"}),a.jsx("p",{className:"text-gray-300 text-lg mb-8",children:o}),a.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-8",children:a.jsx("p",{className:"text-red-300 text-sm",children:"If you continue to experience issues, please contact our support team with your request ID."})}),a.jsx(_.button,{onClick:()=>r("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Return to Home"})]})]})})})]})}function zW(){const e=ot(),[t,r]=S.useState("1499.00"),n={requestId:"CCR-1234567890",customerInfo:{name:"Test Customer"},clothingDetails:{type:"T-Shirt",size:"L",color:"Black",quantity:2}},i=window.location.origin,s=`${i}/approve-quote/custom-clothing:1234567890?action=approve`,o=`${i}/approve-quote/custom-clothing:1234567890?action=reject`,l=`
    <!DOCTYPE html>
    <html>
      <head>
        <style>
          body { font-family: Arial, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 20px; }
          .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a0a2e 0%, #7b2cbf 100%); border-radius: 16px; padding: 30px; }
          .header { background: linear-gradient(to right, #7b2cbf, #e91e63); padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; }
          .content { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border: 1px solid rgba(123,44,191,0.3); }
          .label { color: #a855f7; font-weight: bold; }
          .value { color: #e5e5e5; }
          .price-box { background: linear-gradient(to right, #059669, #10b981); padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center; }
          .button-container { display: flex; gap: 15px; justify-content: center; margin: 30px 0; }
          .button { display: inline-block; padding: 15px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 16px; text-align: center; }
          .approve-btn { background: linear-gradient(to right, #059669, #10b981); color: white; }
          .reject-btn { background: linear-gradient(to right, #dc2626, #e91e63); color: white; }
          .footer { text-align: center; margin-top: 20px; color: #9ca3af; font-size: 12px; }
          @media only screen and (max-width: 600px) {
            .button-container { flex-direction: column; }
            .button { width: 100%; }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1 style="margin: 0; color: white;"> Your Custom Clothing Quote</h1>
          </div>
          <div class="content">
            <p style="font-size: 16px; margin-bottom: 20px;">Hi ${n.customerInfo.name},</p>
            <p>Great news! We've reviewed your custom clothing design and prepared a quote for you.</p>
            
            <div style="margin: 20px 0; padding: 15px; background: rgba(123,44,191,0.2); border-left: 4px solid #7b2cbf; border-radius: 8px;">
              <p style="margin: 0;"><strong>Request ID:</strong> ${n.requestId}</p>
            </div>
            
            <div class="price-box">
              <h2 style="margin: 0 0 10px 0; color: white; font-size: 36px;">${t}</h2>
              <p style="margin: 0; color: white; opacity: 0.9;">Total Price (Including 100 shipping)</p>
            </div>
            
            <h3 style="color: #e91e63;">Your Order Details</h3>
            <p><span class="label">Clothing Type:</span> <span class="value">${n.clothingDetails.type}</span></p>
            <p><span class="label">Size:</span> <span class="value">${n.clothingDetails.size}</span></p>
            <p><span class="label">Color:</span> <span class="value">${n.clothingDetails.color}</span></p>
            <p><span class="label">Quantity:</span> <span class="value">${n.clothingDetails.quantity}</span></p>
            
            <h3 style="color: #e91e63; margin-top: 30px;">Please Respond to This Quote</h3>
            <p style="text-align: center; color: #e5e5e5; margin-bottom: 20px;">Click one of the buttons below to accept or decline this quote:</p>
            
            <div class="button-container">
              <a href="${s}" class="button approve-btn"> Accept Quote</a>
              <a href="${o}" class="button reject-btn"> Decline Quote</a>
            </div>
            
            <h3 style="color: #e91e63; margin-top: 20px;">What Happens Next?</h3>
            <ol style="line-height: 1.8; color: #e5e5e5;">
              <li>Click "Accept Quote" if you're happy with the price</li>
              <li>We'll send you payment details within 24 hours</li>
              <li>Production will begin after payment confirmation</li>
              <li>Your custom clothing will be delivered to your address</li>
              <li>Delivery typically takes 7-14 business days</li>
            </ol>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(123,44,191,0.2); border-left: 4px solid #e91e63; border-radius: 8px;">
              <p style="margin: 0;"> <strong>Quote Valid For:</strong> 7 days from today</p>
            </div>
          </div>
          <div class="footer">
            <p>AnimeDropZone - Embrace Your Inner Demon</p>
            <p>Questions? Reply to this email or contact us.</p>
          </div>
        </div>
      </body>
    </html>
  `;return a.jsx("div",{className:"min-h-screen bg-black p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>e("/secret-admin-panel-7b2cbf"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 mb-6",children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Admin"]}),a.jsx("h1",{className:"text-white text-3xl mb-4",children:"Quote Email Preview"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"This is how the customer will see the quote email with approval buttons."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"testQuotePrice",className:"block text-gray-300 mb-2",children:"Adjust Quote Price ()"}),a.jsx("input",{id:"testQuotePrice",name:"testQuotePrice",type:"number",value:t,onChange:c=>r(c.target.value),className:"bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white",step:"0.01"})]}),a.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:a.jsx("iframe",{srcDoc:l,className:"w-full h-[800px] border-0",title:"Email Preview"})}),a.jsxs("div",{className:"mt-6 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white mb-2",children:"Testing Instructions:"}),a.jsxs("ul",{className:"text-gray-300 text-sm space-y-2 list-disc list-inside",children:[a.jsx("li",{children:"This preview shows exactly how the quote email will appear to customers"}),a.jsx("li",{children:"The approval buttons will redirect to /approve-quote/:id page"}),a.jsx("li",{children:"Customers can approve or reject with one click"}),a.jsx("li",{children:"The status automatically updates in the database"}),a.jsxs("li",{children:[a.jsx("strong",{children:"Note:"})," With Resend free plan, emails only work if sent to your verified email address"]})]})]})]})})}function UW(){const e=ot(),[t,r]=S.useState(""),[n,i]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState(""),u=async d=>{d.preventDefault(),i(!0),c("");try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/auth/forgot-password`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();h.success?o(!0):c(h.message||"Failed to send reset email")}catch(p){console.error("Error sending reset email:",p),c("An error occurred. Please try again.")}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[a.jsx(Ra,{}),a.jsxs(_.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs(_.button,{onClick:()=>e("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors mb-6",whileHover:{x:-5},children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Home"]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(Cr,{size:"lg"})}),s?a.jsxs(_.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Bt,{className:"w-8 h-8 text-green-400"})}),a.jsx("h3",{className:"text-white mb-2",children:"Check Your Email!"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["We've sent a password reset link to ",a.jsx("span",{className:"text-purple-400",children:t})]}),a.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"The link will expire in 1 hour. If you don't see the email, check your spam folder."}),a.jsx(_.button,{onClick:()=>e("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",whileHover:{scale:1.05},children:"Return to Home"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-white text-center mb-2",children:"Forgot Password?"}),a.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Enter your email and we'll send you a link to reset your password."}),l&&a.jsx(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:a.jsx("p",{className:"text-red-400 text-sm text-center",children:l})}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"email",name:"email",type:"email",value:t,onChange:d=>r(d.target.value),placeholder:"your@email.com",required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"})]})]}),a.jsx(_.button,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},children:n?"Sending...":"Send Reset Link"})]})]})]})]})]})}function VW(){const e=ot(),[t]=_N(),r=t.get("token"),[n,i]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[p,h]=S.useState(!1),[m,x]=S.useState(!1),[g,f]=S.useState("");S.useEffect(()=>{r||f("Invalid reset link")},[r]);const b=async w=>{if(w.preventDefault(),n.length<6){f("Password must be at least 6 characters long");return}if(n!==s){f("Passwords do not match");return}h(!0),f("");try{const j=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/auth/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:n})})).json();j.success?(x(!0),setTimeout(()=>e("/"),3e3)):f(j.message||"Failed to reset password")}catch(y){console.error("Error resetting password:",y),f("An error occurred. Please try again.")}finally{h(!1)}};return a.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[a.jsx(Ra,{}),a.jsxs(_.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs(_.button,{onClick:()=>e("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors mb-6",whileHover:{x:-5},children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Home"]}),a.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(Cr,{size:"lg"})}),m?a.jsxs(_.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Bt,{className:"w-8 h-8 text-green-400"})}),a.jsx("h3",{className:"text-white mb-2",children:"Password Reset Successful!"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Your password has been updated successfully."}),a.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"You can now log in with your new password. Redirecting to home page..."}),a.jsx(_.button,{onClick:()=>e("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",whileHover:{scale:1.05},children:"Go to Home Now"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-white text-center mb-2",children:"Reset Password"}),a.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Enter your new password below."}),g&&a.jsx(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:a.jsx("p",{className:"text-red-400 text-sm text-center",children:g})}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"resetPassword",className:"block text-gray-300 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"resetPassword",name:"resetPassword",type:l?"text":"password",value:n,onChange:w=>i(w.target.value),placeholder:"Enter new password",required:!0,minLength:6,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:l?a.jsx(Uh,{className:"w-5 h-5"}):a.jsx(wn,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"At least 6 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmResetPassword",className:"block text-gray-300 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"confirmResetPassword",name:"confirmResetPassword",type:u?"text":"password",value:s,onChange:w=>o(w.target.value),placeholder:"Confirm new password",required:!0,minLength:6,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"}),a.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:u?a.jsx(Uh,{className:"w-5 h-5"}):a.jsx(wn,{className:"w-5 h-5"})})]})]}),a.jsx(_.button,{type:"submit",disabled:p||!r,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},children:p?"Resetting...":"Reset Password"})]})]})]})]})]})}function WW(){const e=ot(),[t,r]=S.useState(""),[n,i]=S.useState(null),[s,o]=S.useState(null),[l,c]=S.useState({health:!1,email:!1}),u=async()=>{c({...l,health:!0}),i(null);try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/health`,{headers:{Authorization:`Bearer ${Y}`}})).json();i({success:!0,data:h})}catch(p){i({success:!1,error:p instanceof Error?p.message:"Unknown error"})}finally{c({...l,health:!1})}},d=async()=>{if(!t){o({success:!1,error:"Please enter an email address"});return}c({...l,email:!0}),o(null);try{const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();o(h)}catch(p){o({success:!1,error:p instanceof Error?p.message:"Unknown error"})}finally{c({...l,email:!1})}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center gap-4 mb-8",children:a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Home"]})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl mb-4",children:" Server Health Check"}),a.jsx("p",{className:"text-gray-400",children:"Test if the server and email service are working properly"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Cx,{className:"w-6 h-6 text-purple-400"}),a.jsx("h2",{className:"text-2xl",children:"Server Status"})]}),a.jsx("button",{onClick:u,disabled:l.health,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2 mb-4",children:l.health?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"w-5 h-5 animate-spin"}),"Testing Server..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cx,{className:"w-5 h-5"}),"Check Server Health"]})}),n&&a.jsx("div",{className:`p-4 rounded-lg border ${n.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:n.success?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-3",children:[a.jsx(Bt,{className:"w-5 h-5"}),a.jsx("strong",{children:"Server is Running!"})]}),a.jsxs("div",{className:"text-sm space-y-2 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",n.data.status]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Message:"})," ",n.data.message]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Timestamp:"})," ",new Date(n.data.timestamp).toLocaleString()]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1",children:a.jsx("strong",{children:"Services:"})}),a.jsxs("ul",{className:"ml-4 space-y-1",children:[a.jsxs("li",{children:[" Database: ",n.data.services.database]}),a.jsxs("li",{children:[" Email Provider: ",n.data.services.emailProvider]}),a.jsxs("li",{children:[" Admin Email: ",n.data.services.adminEmail]})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[a.jsx(ke,{className:"w-5 h-5"}),a.jsx("strong",{children:"Server Error"})]}),a.jsx("p",{className:"text-sm text-gray-300",children:n.error})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Te,{className:"w-6 h-6 text-purple-400"}),a.jsx("h2",{className:"text-2xl",children:"Email Service Test"})]}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Send a test email to verify that the email service is working correctly. This will send a real email to the address you provide."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"serverTestEmail",className:"block text-gray-300 mb-2",children:"Email Address"}),a.jsx("input",{id:"serverTestEmail",name:"serverTestEmail",type:"email",value:t,onChange:p=>r(p.target.value),placeholder:"Enter your email address",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),a.jsx("button",{onClick:d,disabled:l.email||!t,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2 mb-4",children:l.email?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"w-5 h-5 animate-spin"}),"Sending Test Email..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{className:"w-5 h-5"}),"Send Test Email"]})}),s&&a.jsx("div",{className:`p-4 rounded-lg border ${s.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:s.success?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[a.jsx(Bt,{className:"w-5 h-5"}),a.jsx("strong",{children:"Email Sent Successfully!"})]}),a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.message}),a.jsx("p",{className:"text-xs text-gray-400",children:" Check your spam/junk folder if you don't see it in your inbox"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[a.jsx(ke,{className:"w-5 h-5"}),a.jsx("strong",{children:"Email Send Failed"})]}),a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.error||"Unknown error"}),s.details&&a.jsx("div",{className:"mt-3 p-3 bg-black/30 rounded text-xs text-gray-400 overflow-auto",children:a.jsx("pre",{children:JSON.stringify(s.details,null,2)})})]})})]}),a.jsxs("div",{className:"mt-6 bg-purple-900/10 border border-purple-500/20 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg mb-3 text-purple-300",children:" How to Use This Test"}),a.jsxs("ol",{className:"space-y-2 text-sm text-gray-400 list-decimal list-inside",children:[a.jsx("li",{children:'First, click "Check Server Health" to verify the server is running'}),a.jsx("li",{children:"If server is healthy, enter your email address in the field above"}),a.jsx("li",{children:'Click "Send Test Email" to test the email service'}),a.jsx("li",{children:"Check your inbox (and spam folder) for the test email"}),a.jsx("li",{children:"If you receive the email, your email service is working correctly!"})]}),a.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:a.jsxs("p",{className:"text-yellow-400 text-sm",children:[a.jsx("strong",{children:" Note:"})," If the test email fails, check the browser console (F12) and Supabase Edge Function logs for detailed error messages."]})})]})]})]})})}function HW(){const e=ot(),[t,r]=S.useState({customerEmail:"",customerName:"",customerPassword:""}),[n,i]=S.useState({basicTest:null,signupTest:null,adminTest:null}),[s,o]=S.useState({basicTest:!1,signupTest:!1,adminTest:!1}),l=async()=>{if(!t.customerEmail){i({...n,basicTest:{success:!1,error:"Please enter an email address"}});return}o({...s,basicTest:!0}),i({...n,basicTest:null});try{console.log(" TEST 1: Testing basic email service...");const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:t.customerEmail})})).json();console.log(" Basic email test response:",h),i({...n,basicTest:h})}catch(p){console.error(" Basic email test failed:",p),i({...n,basicTest:{success:!1,error:p instanceof Error?p.message:"Unknown error"}})}finally{o({...s,basicTest:!1})}},c=async()=>{if(!t.customerEmail||!t.customerName||!t.customerPassword){i({...n,signupTest:{success:!1,error:"Please fill in all signup fields (email, name, password)"}});return}o({...s,signupTest:!0}),i({...n,signupTest:null});try{console.log(" TEST 2: Testing signup email flow..."),console.log(" This will send:"),console.log("   1. Welcome email to:",t.customerEmail),console.log("   2. Admin notification to: anime.drop.zone.00@gmail.com");const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/signup`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:t.customerEmail,name:t.customerName,password:t.customerPassword})})).json();console.log(" Signup response:",h),h.success?i({...n,signupTest:{success:!0,message:`Account created successfully! Check these inboxes:
1. ${t.customerEmail} (Welcome email)
2. anime.drop.zone.00@gmail.com (Admin notification)

 Check spam folders if emails don't appear in inbox!`,data:h}}):i({...n,signupTest:{success:!1,error:h.message||h.error||"Signup failed",data:h}})}catch(p){console.error(" Signup test failed:",p),i({...n,signupTest:{success:!1,error:p instanceof Error?p.message:"Unknown error"}})}finally{o({...s,signupTest:!1})}},u=async()=>{o({...s,adminTest:!0}),i({...n,adminTest:null});try{console.log(" TEST 3: Testing admin email directly...");const h=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({email:"anime.drop.zone.00@gmail.com"})})).json();console.log(" Admin email test response:",h),i({...n,adminTest:h})}catch(p){console.error(" Admin email test failed:",p),i({...n,adminTest:{success:!1,error:p instanceof Error?p.message:"Unknown error"}})}finally{o({...s,adminTest:!1})}},d=async()=>{console.log(" RUNNING ALL EMAIL TESTS..."),console.log("================================================"),await l(),await new Promise(p=>setTimeout(p,2e3)),await c(),await new Promise(p=>setTimeout(p,2e3)),await u(),console.log("================================================"),console.log(" ALL TESTS COMPLETED")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center gap-4 mb-8",children:a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Home"]})}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl mb-4",children:" Email System Test"}),a.jsx("p",{className:"text-gray-400",children:"Comprehensive testing for customer and admin email delivery"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl mb-4",children:" Test Configuration"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"testCustomerEmail",className:"block text-gray-300 mb-2",children:"Customer Email (for testing)"}),a.jsx("input",{id:"testCustomerEmail",name:"testCustomerEmail",type:"email",value:t.customerEmail,onChange:p=>r({...t,customerEmail:p.target.value}),placeholder:"your-email@example.com",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This email will receive test emails"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"testCustomerName",className:"block text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{id:"testCustomerName",name:"testCustomerName",type:"text",value:t.customerName,onChange:p=>r({...t,customerName:p.target.value}),placeholder:"Test User",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"testPassword",className:"block text-gray-300 mb-2",children:"Test Password"}),a.jsx("input",{id:"testPassword",name:"testPassword",type:"password",value:t.customerPassword,onChange:p=>r({...t,customerPassword:p.target.value}),placeholder:"test123456",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),a.jsxs("button",{onClick:d,disabled:!t.customerEmail||!t.customerName||!t.customerPassword,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-600 disabled:to-gray-700 py-4 rounded-lg transition-all flex items-center justify-center gap-2 text-lg font-bold",children:[a.jsx(Te,{className:"w-6 h-6"}),"Run All Email Tests"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Te,{className:"w-6 h-6 text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl",children:"Test 1: Basic Email Service"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Tests if email service is configured correctly"})]})]}),a.jsx("button",{onClick:l,disabled:s.basicTest||!t.customerEmail,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:s.basicTest?a.jsx(fn,{className:"w-4 h-4 animate-spin"}):"Test"})]}),n.basicTest&&a.jsx("div",{className:`p-4 rounded-lg border ${n.basicTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:n.basicTest.success?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[a.jsx(Bt,{className:"w-5 h-5"}),a.jsx("strong",{children:" Email Service Working!"})]}),a.jsxs("p",{className:"text-sm text-gray-300",children:["Test email sent to: ",t.customerEmail]}),a.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:" Check your inbox and spam folder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[a.jsx(ke,{className:"w-5 h-5"}),a.jsx("strong",{children:" Email Service Failed"})]}),a.jsx("p",{className:"text-sm text-gray-300",children:n.basicTest.error})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Dt,{className:"w-6 h-6 text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl",children:"Test 2: Signup Email Flow"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Tests customer welcome email + admin notification"})]})]}),a.jsx("button",{onClick:c,disabled:s.signupTest||!t.customerEmail||!t.customerName||!t.customerPassword,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:s.signupTest?a.jsx(fn,{className:"w-4 h-4 animate-spin"}):"Test"})]}),a.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:[a.jsx("p",{className:"text-sm text-blue-300",children:a.jsx("strong",{children:" This test will send 2 emails:"})}),a.jsxs("ul",{className:"text-sm text-gray-300 ml-4 mt-2 space-y-1",children:[a.jsxs("li",{children:["1. Welcome email  ",t.customerEmail||"[Customer Email]"]}),a.jsx("li",{children:"2. Admin notification  anime.drop.zone.00@gmail.com"})]})]}),n.signupTest&&a.jsx("div",{className:`p-4 rounded-lg border ${n.signupTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:n.signupTest.success?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[a.jsx(Bt,{className:"w-5 h-5"}),a.jsx("strong",{children:" Signup Flow Completed!"})]}),a.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line mb-3",children:n.signupTest.message}),a.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded p-3 mt-3",children:[a.jsx("p",{className:"text-xs text-purple-300 mb-2",children:a.jsx("strong",{children:"What to check:"})}),a.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[a.jsxs("li",{children:[" Customer inbox: ",t.customerEmail]}),a.jsx("li",{children:" Admin inbox: anime.drop.zone.00@gmail.com"}),a.jsx("li",{children:" Check spam/junk folders in both inboxes"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[a.jsx(ke,{className:"w-5 h-5"}),a.jsx("strong",{children:" Signup Flow Failed"})]}),a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:n.signupTest.error}),n.signupTest.data&&a.jsx("div",{className:"mt-2 p-2 bg-black/30 rounded text-xs text-gray-400 overflow-auto max-h-40",children:a.jsx("pre",{children:JSON.stringify(n.signupTest.data,null,2)})})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nn,{className:"w-6 h-6 text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl",children:"Test 3: Admin Email Direct"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Tests sending email directly to admin"})]})]}),a.jsx("button",{onClick:u,disabled:s.adminTest,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:s.adminTest?a.jsx(fn,{className:"w-4 h-4 animate-spin"}):"Test"})]}),a.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-blue-300",children:[a.jsx("strong",{children:" Sends test email to:"})," anime.drop.zone.00@gmail.com"]})}),n.adminTest&&a.jsx("div",{className:`p-4 rounded-lg border ${n.adminTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:n.adminTest.success?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[a.jsx(Bt,{className:"w-5 h-5"}),a.jsx("strong",{children:" Admin Email Sent!"})]}),a.jsx("p",{className:"text-sm text-gray-300",children:"Test email sent to admin: anime.drop.zone.00@gmail.com"}),a.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:" Check anime.drop.zone.00@gmail.com inbox and spam folder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[a.jsx(ke,{className:"w-5 h-5"}),a.jsx("strong",{children:" Admin Email Failed"})]}),a.jsx("p",{className:"text-sm text-gray-300",children:n.adminTest.error})]})})]}),a.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/20 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg mb-3 text-purple-300",children:" Testing Instructions"}),a.jsxs("ol",{className:"space-y-3 text-sm text-gray-400 list-decimal list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{className:"text-white",children:"Fill in test data above"}),a.jsx("p",{className:"ml-6 mt-1",children:"Enter your email, a test name, and a password (min 6 chars)"})]}),a.jsxs("li",{children:[a.jsx("strong",{className:"text-white",children:'Click "Run All Email Tests"'}),a.jsx("p",{className:"ml-6 mt-1",children:"This will automatically run all 3 tests in sequence"})]}),a.jsxs("li",{children:[a.jsx("strong",{className:"text-white",children:"Check inboxes"}),a.jsxs("p",{className:"ml-6 mt-1",children:[" Your email inbox (customer welcome email)",a.jsx("br",{})," anime.drop.zone.00@gmail.com (admin notification)",a.jsx("br",{})," Don't forget to check spam/junk folders!"]})]}),a.jsxs("li",{children:[a.jsx("strong",{className:"text-white",children:"Check browser console and server logs"}),a.jsxs("p",{className:"ml-6 mt-1",children:[" Open browser console (F12) for detailed logs",a.jsx("br",{})," Check Supabase Edge Function logs if emails fail"]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:a.jsxs("p",{className:"text-yellow-400 text-sm",children:[a.jsx("strong",{children:" Important:"}),' The signup test creates a real user account. If you run it multiple times with the same email, it will fail saying "user already exists". Use different email addresses for multiple tests.']})})]})]})]})})}function GW(){const e=ot(),[t,r]=S.useState(null),[n,i]=S.useState(!0);S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),s()},[]);const s=async()=>{try{const c=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${Y}`}})).json();c.success&&c.privacy&&r(c.privacy)}catch(l){console.error("Error fetching custom privacy policy:",l)}finally{i(!1)}},o=()=>n?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):t?a.jsx("div",{className:"space-y-8 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t}}):a.jsxs("div",{className:"space-y-8 text-gray-300",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"1. Introduction"}),a.jsx("p",{className:"leading-relaxed",children:'Welcome to animedropzone.com ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our services.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"2. Information We Collect"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"We collect information that you provide directly to us, including:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, shipping address"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Information:"})," Payment method details (processed securely through our payment partners)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Order Information:"})," Purchase history, product preferences, cart contents"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Account Information:"})," Username, password (encrypted), profile details"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Communication Data:"})," Support tickets, reviews, feedback, and correspondence"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information, cookies"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"3. How We Use Your Information"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"We use the information we collect to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Process and fulfill your orders"}),a.jsx("li",{children:"Send order confirmations, shipping updates, and delivery notifications"}),a.jsx("li",{children:"Provide customer support and respond to your inquiries"}),a.jsx("li",{children:"Send promotional emails about new products, special offers, and updates (with your consent)"}),a.jsx("li",{children:"Improve our website, products, and services"}),a.jsx("li",{children:"Prevent fraud and enhance security"}),a.jsx("li",{children:"Comply with legal obligations"}),a.jsx("li",{children:"Manage our loyalty program and rewards"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"4. Information Sharing"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"We may share your information with:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processors:"})," Razorpay, PayTM for secure payment processing"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Shipping Partners:"})," Courier services for order delivery"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email Service Providers:"})," For sending transactional and promotional emails"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"WhatsApp Business API:"})," For order notifications and updates (via Twilio)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Analytics Providers:"})," To understand website usage and improve our services"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Legal Authorities:"})," When required by law or to protect our rights"]})]}),a.jsx("p",{className:"leading-relaxed mt-4",children:a.jsx("strong",{children:"We do NOT sell your personal information to third parties."})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"5. Data Security"}),a.jsx("p",{className:"leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"6. Cookies and Tracking Technologies"}),a.jsx("p",{className:"leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your browsing experience, analyze website traffic, and personalize content. You can control cookie preferences through your browser settings. However, disabling cookies may limit some website functionality."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"7. Your Privacy Rights"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"You have the right to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access:"})," Request a copy of your personal information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Deletion:"})," Request deletion of your account and personal data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Opt-Out:"})," Unsubscribe from marketing communications"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Object:"})," Object to processing of your personal information"]})]}),a.jsxs("p",{className:"leading-relaxed mt-4",children:["To exercise these rights, please contact us at ",a.jsx("strong",{className:"text-purple-400",children:"anime.drop.zone.00@gmail.com"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"8. Data Retention"}),a.jsx("p",{className:"leading-relaxed",children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required by law. Order information is typically retained for 7 years for accounting and tax purposes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"9. Children's Privacy"}),a.jsx("p",{className:"leading-relaxed",children:"Our services are not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"10. International Data Transfers"}),a.jsx("p",{className:"leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"11. Changes to This Policy"}),a.jsx("p",{className:"leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last updated" date. We encourage you to review this Privacy Policy periodically.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"12. Contact Us"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6",children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"animedropzone.com"})}),a.jsxs("p",{className:"mb-2",children:["Email: ",a.jsx("a",{href:"mailto:anime.drop.zone.00@gmail.com",className:"text-purple-400 hover:text-purple-300",children:"anime.drop.zone.00@gmail.com"})]}),a.jsxs("p",{children:["Website: ",a.jsx("a",{href:"/",className:"text-purple-400 hover:text-purple-300",children:"animedropzone.com"})]})]})]}),a.jsx("section",{className:"border-t border-purple-500/30 pt-8 mt-8",children:a.jsx("p",{className:"text-gray-400 text-sm",children:"By using AnimeDropZone, you acknowledge that you have read and understood this Privacy Policy and agree to its terms. If you do not agree with this policy, please do not use our website or services."})})]});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:[a.jsx("nav",{className:"bg-black/50 backdrop-blur-md border-b border-purple-900/30 sticky top-0 z-40",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Home"]})}),a.jsx(Cr,{})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-8 md:p-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Privacy Policy"}),a.jsxs("p",{className:"text-gray-400 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),o()]})})]})}function KW(){const e=ot(),[t,r]=S.useState(null),[n,i]=S.useState(!0);S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),s()},[]);const s=async()=>{try{const c=await(await fetch(`https://${H}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${Y}`}})).json();c.success&&c.terms&&r(c.terms)}catch(l){console.error("Error fetching custom terms of service:",l)}finally{i(!1)}},o=()=>n?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):t?a.jsx("div",{className:"space-y-8 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t}}):a.jsxs("div",{className:"space-y-8 text-gray-300",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"leading-relaxed",children:'Welcome to animedropzone.com! By accessing or using our website and services, you agree to be bound by these Terms of Service ("Terms"). If you do not agree with these Terms, please do not use our services. We reserve the right to modify these Terms at any time, and your continued use of the website constitutes acceptance of any changes.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"2. Description of Service"}),a.jsx("p",{className:"leading-relaxed",children:"animedropzone.com is an e-commerce platform specializing in anime figures, accessories, posters, clothing, collectibles, and katana. We provide an online marketplace where customers can browse, purchase, and receive anime-related merchandise. We reserve the right to modify, suspend, or discontinue any aspect of our services at any time."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"3. User Accounts"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"To make purchases, you must create an account. You agree to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),a.jsx("li",{children:"Maintain and promptly update your account information"}),a.jsx("li",{children:"Keep your password confidential and secure"}),a.jsx("li",{children:"Notify us immediately of any unauthorized use of your account"}),a.jsx("li",{children:"Be responsible for all activities that occur under your account"}),a.jsx("li",{children:"Not share your account with others"})]}),a.jsx("p",{className:"leading-relaxed mt-4",children:"You must be at least 18 years old to create an account. We reserve the right to refuse service or terminate accounts at our discretion."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"4. Orders and Payments"}),a.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.1 Placing Orders"}),a.jsx("p",{className:"leading-relaxed",children:"When you place an order, you are making an offer to purchase products. We reserve the right to accept or decline your order for any reason, including product availability, pricing errors, or suspected fraudulent activity."}),a.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.2 Pricing"}),a.jsx("p",{className:"leading-relaxed",children:"All prices are listed in Indian Rupees () and are subject to change without notice. We make every effort to ensure pricing accuracy, but errors may occur. If a product is listed at an incorrect price, we reserve the right to refuse or cancel orders placed at that price."}),a.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.3 Payment Methods"}),a.jsx("p",{className:"leading-relaxed mb-2",children:"We accept the following payment methods:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"UPI (Google Pay, PhonePe, Paytm, BHIM, etc.)"}),a.jsx("li",{children:"Razorpay (Credit/Debit Cards, Net Banking, Wallets)"}),a.jsx("li",{children:"PayTM"}),a.jsx("li",{children:"Cash on Delivery (COD) - subject to availability"})]}),a.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.4 Shipping Charges"}),a.jsx("p",{className:"leading-relaxed",children:"A flat shipping charge of 100 applies to all orders, regardless of order value or location within India."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"5. Shipping and Delivery"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"We ship products across India. Delivery times may vary based on your location and product availability. You will receive tracking information via email and WhatsApp once your order is shipped."}),a.jsxs("p",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Important:"})," Please ensure your shipping address is accurate. We are not responsible for delays or non-delivery due to incorrect addresses provided by customers."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"6. Returns and Refunds"}),a.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"6.1 Return Policy"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"We want you to be completely satisfied with your purchase. Returns are accepted under the following conditions:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Products must be returned within 7 days of delivery"}),a.jsx("li",{children:"Items must be unused, in original packaging, and in resellable condition"}),a.jsx("li",{children:"Proof of purchase (order ID) must be provided"}),a.jsx("li",{children:"Custom clothing orders are non-returnable unless defective"}),a.jsx("li",{children:"Collectibles and limited edition items may have special return policies"})]}),a.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"6.2 Refund Process"}),a.jsx("p",{className:"leading-relaxed",children:"Refunds for online payments (UPI, Razorpay, PayTM) will be processed within 5-7 business days after we receive and inspect the returned item. COD orders are not eligible for cash refunds."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"7. Order Cancellation"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"You may cancel your order before it is shipped. To cancel an order:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:'Go to "Track Order" and enter your tracking ID'}),a.jsx("li",{children:'Click "Cancel Order" and provide a reason'}),a.jsx("li",{children:"You will receive a cancellation confirmation via email and WhatsApp"})]}),a.jsx("p",{className:"leading-relaxed mt-4",children:"Orders cannot be cancelled once they are shipped. In such cases, you must follow the return process after receiving the product."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"8. Product Descriptions and Images"}),a.jsx("p",{className:"leading-relaxed",children:"We strive to display product colors, images, and descriptions as accurately as possible. However, actual colors may vary slightly due to screen settings. Product images are for illustration purposes and may include accessories or components not included with the purchase."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"9. Intellectual Property"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"All content on AnimeDropZone, including but not limited to text, graphics, logos, images, and software, is our property or the property of our licensors and is protected by intellectual property laws. You may not:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Reproduce, distribute, or publicly display any content without permission"}),a.jsx("li",{children:"Use our brand name, logo, or trademarks without authorization"}),a.jsx("li",{children:"Copy or scrape product listings or images"}),a.jsx("li",{children:"Reverse engineer or modify any part of our website"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"10. User Conduct"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"You agree not to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Use our services for any illegal or unauthorized purpose"}),a.jsx("li",{children:"Violate any laws in your jurisdiction"}),a.jsx("li",{children:"Transmit any harmful code, viruses, or malware"}),a.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),a.jsx("li",{children:"Harass, abuse, or harm other users or our staff"}),a.jsx("li",{children:"Submit false or misleading information"}),a.jsx("li",{children:"Engage in fraudulent activities or payment disputes"}),a.jsx("li",{children:"Post inappropriate reviews or content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"11. Reviews and User Content"}),a.jsx("p",{className:"leading-relaxed",children:"You may submit product reviews and ratings. By submitting content, you grant us a non-exclusive, royalty-free, perpetual license to use, reproduce, modify, and display your content. We reserve the right to remove any content that violates these Terms or is deemed inappropriate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"12. Loyalty Program"}),a.jsx("p",{className:"leading-relaxed",children:"Our loyalty program rewards returning customers with points that can be redeemed for discounts. Program terms, point values, and redemption rules are subject to change. Points have no cash value and cannot be transferred."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"13. Coupons and Promotions"}),a.jsx("p",{className:"leading-relaxed",children:"Coupon codes and promotional offers are subject to specific terms and conditions. Coupons may have expiration dates, minimum order requirements, and usage limits. We reserve the right to cancel or modify promotions at any time."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"14. Limitation of Liability"}),a.jsx("p",{className:"leading-relaxed",children:"To the fullest extent permitted by law, AnimeDropZone shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of our services. Our total liability shall not exceed the amount you paid for the product in question."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"15. Disclaimer of Warranties"}),a.jsx("p",{className:"leading-relaxed",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied. We do not guarantee that our website will be uninterrupted, error-free, or secure.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"16. Indemnification"}),a.jsx("p",{className:"leading-relaxed",children:"You agree to indemnify and hold harmless AnimeDropZone, its officers, directors, employees, and affiliates from any claims, damages, losses, or expenses arising from your violation of these Terms or misuse of our services."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"17. Governing Law"}),a.jsx("p",{className:"leading-relaxed",children:"These Terms shall be governed by and construed in accordance with the laws of India. Any disputes shall be subject to the exclusive jurisdiction of the courts in [Your City], India."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"18. Contact Information"}),a.jsx("p",{className:"leading-relaxed mb-4",children:"For questions, concerns, or support regarding these Terms of Service, please contact us:"}),a.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6",children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"animedropzone.com"})}),a.jsxs("p",{className:"mb-2",children:["Email: ",a.jsx("a",{href:"mailto:anime.drop.zone.00@gmail.com",className:"text-purple-400 hover:text-purple-300",children:"anime.drop.zone.00@gmail.com"})]}),a.jsxs("p",{children:["Website: ",a.jsx("a",{href:"/",className:"text-purple-400 hover:text-purple-300",children:"animedropzone.com"})]})]})]}),a.jsxs("section",{className:"border-t border-purple-500/30 pt-8 mt-8",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"By using AnimeDropZone, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service. If you do not agree with these Terms, please discontinue use of our website and services immediately."}),a.jsx("p",{className:"text-gray-400 text-sm mt-4",children:a.jsx("strong",{children:"Thank you for shopping with AnimeDropZone! "})})]})]});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:[a.jsx("nav",{className:"bg-black/50 backdrop-blur-md border-b border-purple-900/30 sticky top-0 z-40",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[a.jsx(qt,{className:"w-5 h-5"}),"Back to Home"]})}),a.jsx(Cr,{})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-8 md:p-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Terms of Service"}),a.jsxs("p",{className:"text-gray-400 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),o()]})})]})}function XW(){return S.useEffect(()=>{const e=`
      <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#9333ea;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
          </linearGradient>
          <linearGradient id="inner-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#9333ea;stop-opacity:1" />
          </linearGradient>
        </defs>
        
        <!-- Background rounded square -->
        <rect width="32" height="32" rx="6" fill="url(#bg-gradient)"/>
        
        <!-- Stylized "A" for Anime -->
        <path
          d="M16 8L9 26H12L14 21H18L20 26H23L16 8Z"
          fill="white"
          stroke="white"
          stroke-width="0.3"
        />
        <path
          d="M15 18L16 14L17 18H15Z"
          fill="url(#inner-gradient)"
        />
      </svg>
    `,t=new Blob([e],{type:"image/svg+xml"}),r=URL.createObjectURL(t);document.querySelectorAll('link[rel*="icon"]').forEach(l=>l.remove());const i=document.createElement("link");i.rel="icon",i.type="image/svg+xml",i.href=r,document.head.appendChild(i);const s=document.createElement("link");if(s.rel="apple-touch-icon",s.href=r,document.head.appendChild(s),(document.title===""||document.title==="Vite + React + TS")&&(document.title="AnimeDropZone - Anime Figures & Accessories Store"),!document.querySelector('meta[name="theme-color"]')){const l=document.createElement("meta");l.name="theme-color",l.content="#9333ea",document.head.appendChild(l)}return()=>{URL.revokeObjectURL(r)}},[]),null}function YW(){return a.jsx(N_,{children:a.jsx(S_,{children:a.jsxs(XA,{children:[a.jsx(XW,{}),a.jsxs(YA,{children:[a.jsx(lt,{path:"/",element:a.jsx(_x,{})}),a.jsx(lt,{path:"/secret-admin-panel-7b2cbf",element:a.jsx(EW,{})}),a.jsx(lt,{path:"/admin",element:a.jsx(_x,{})}),a.jsx(lt,{path:"/track-order",element:a.jsx(MW,{})}),a.jsx(lt,{path:"/my-orders",element:a.jsx(BW,{})}),a.jsx(lt,{path:"/my-profile",element:a.jsx(FW,{})}),a.jsx(lt,{path:"/product/:id",element:a.jsx($W,{})}),a.jsx(lt,{path:"/category/:category",element:a.jsx(LW,{})}),a.jsx(lt,{path:"/approve-quote/:id",element:a.jsx(qW,{})}),a.jsx(lt,{path:"/test-quote-email",element:a.jsx(zW,{})}),a.jsx(lt,{path:"/forgot-password",element:a.jsx(UW,{})}),a.jsx(lt,{path:"/reset-password",element:a.jsx(VW,{})}),a.jsx(lt,{path:"/server-test",element:a.jsx(WW,{})}),a.jsx(lt,{path:"/email-test",element:a.jsx(HW,{})}),a.jsx(lt,{path:"/privacy-policy",element:a.jsx(GW,{})}),a.jsx(lt,{path:"/terms-of-service",element:a.jsx(KW,{})})]})]})})})}t4.createRoot(document.getElementById("root")).render(a.jsx(YW,{}));
