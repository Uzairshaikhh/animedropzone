const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutUs-DSXIIPla.js","assets/vendor-radix-C25SgQMl.js","assets/vendor-react-GDNHgLqA.js","assets/vendor-motion-Hb7f354d.js","assets/vendor-supabase-B0pucGay.js","assets/ContactUs-D6wd4kr3.js","assets/NewsletterSubscribe-DWUKgxbd.js"])))=>i.map(i=>d[i]);
import{j as e}from"./vendor-radix-C25SgQMl.js";import{c as t,b as r,u as n,d as a,L as i,e as s,a as o,R as l,f as c,h as u,B as d,i as p,j as h}from"./vendor-react-GDNHgLqA.js";import{A as m,m as f}from"./vendor-motion-Hb7f354d.js";import{c as x}from"./vendor-supabase-B0pucGay.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var y,g={};var b=function(){if(y)return g;y=1;var e=t();return g.createRoot=e.createRoot,g.hydrateRoot=e.hydrateRoot,g}();const v={},j=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");n=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in v)return;v[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},w=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},k=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=r.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:s,iconNode:o,...l},c)=>r.createElement("svg",{ref:c,...S,width:t,height:t,stroke:e,strokeWidth:a?24*Number(n)/Number(t):n,className:k("lucide",i),...l},[...o.map(([e,t])=>r.createElement(e,t)),...Array.isArray(s)?s:[s]])),O=(e,t)=>{const n=r.forwardRef(({className:n,...a},i)=>r.createElement(C,{ref:i,iconNode:t,className:k(`lucide-${w(N(e))}`,`lucide-${e}`,n),...a}));return n.displayName=N(e),n},E=O("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),P=O("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),A=O("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),T=O("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),M=O("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),I=O("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),D=O("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),_=O("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),L=O("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),z=O("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$=O("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),B=O("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),R=O("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),F=O("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),U=O("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),q=O("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),H=O("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),W=O("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),G=O("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),V=O("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),X=O("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Y=O("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),K=O("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),J=O("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Z=O("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Q=O("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ee=O("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),te=O("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),re=O("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ne=O("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ae=O("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ie=O("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),se=O("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),oe=O("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),le=O("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ce=O("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ue=O("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),de=O("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),pe=O("map-pinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]),he=O("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),me=O("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),fe=O("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),xe=O("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ye=O("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),ge=O("palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),be=O("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),ve=O("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),je=O("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),we=O("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ne=O("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ke=O("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Se=O("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Ce=O("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Oe=O("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ee=O("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Pe=O("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ae=O("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Te=O("shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),Me=O("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Ie=O("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),De=O("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),_e=O("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Le=O("swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),ze=O("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),$e=O("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Be=O("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Re=O("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Fe=O("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ue=O("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),qe=O("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),He=O("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),We=O("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ge=O("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ve=O("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Xe({toast:t,onClose:n}){r.useEffect(()=>{const e=setTimeout(()=>{n(t.id)},t.duration||5e3);return()=>clearTimeout(e)},[t.id,t.duration,n]);const a=(()=>{switch(t.type){case"success":return{bg:"bg-gradient-to-r from-green-500/20 to-emerald-500/20",border:"border-green-500/50",icon:"text-green-400",glow:"shadow-[0_0_20px_rgba(34,197,94,0.3)]"};case"error":return{bg:"bg-gradient-to-r from-red-500/20 to-rose-500/20",border:"border-red-500/50",icon:"text-red-400",glow:"shadow-[0_0_20px_rgba(239,68,68,0.3)]"};case"warning":return{bg:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20",border:"border-yellow-500/50",icon:"text-yellow-400",glow:"shadow-[0_0_20px_rgba(234,179,8,0.3)]"};case"info":return{bg:"bg-gradient-to-r from-purple-500/20 to-pink-500/20",border:"border-purple-500/50",icon:"text-purple-400",glow:"shadow-[0_0_20px_rgba(147,51,234,0.3)]"}}})();return e.jsxs(f.div,{layout:!0,initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",stiffness:500,damping:30},className:`\n        relative overflow-hidden\n        ${a.bg} ${a.border} ${a.glow}\n        backdrop-blur-md\n        border rounded-lg\n        p-4 pr-12\n        min-w-[320px] max-w-[500px]\n        cursor-pointer\n        group\n      `,onClick:()=>n(t.id),children:[e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})}),e.jsxs("div",{className:"relative flex items-start gap-3",children:[e.jsx("div",{className:`${a.icon} flex-shrink-0 mt-0.5`,children:e.jsx(f.div,{initial:{rotate:-180,scale:0},animate:{rotate:0,scale:1},transition:{type:"spring",delay:.1},children:(()=>{switch(t.type){case"success":return e.jsx(U,{className:"w-5 h-5"});case"error":return e.jsx(F,{className:"w-5 h-5"});case"warning":return e.jsx(Fe,{className:"w-5 h-5"});case"info":return e.jsx(ie,{className:"w-5 h-5"})}})()})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-white text-sm leading-relaxed",children:t.message})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),n(t.id)},className:"absolute top-3 right-3 text-white/60 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-4 h-4"})})]}),e.jsx(f.div,{className:"absolute bottom-0 left-0 h-1 "+("success"===t.type?"bg-green-400":"error"===t.type?"bg-red-400":"warning"===t.type?"bg-yellow-400":"bg-purple-400"),initial:{width:"100%"},animate:{width:"0%"},transition:{duration:(t.duration||5e3)/1e3,ease:"linear"}}),"success"===t.type&&e.jsx(e.Fragment,{children:[...Array(3)].map((t,r)=>e.jsx(f.div,{className:"absolute w-1 h-1 bg-green-400 rounded-full",initial:{x:100*Math.random()-50,y:50*Math.random(),scale:0,opacity:1},animate:{y:-50,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:1.5,delay:.2*r,repeat:1/0,repeatDelay:1},style:{left:20+30*r+"%",top:"50%"}},r))})]})}function Ye({toasts:t,onClose:r}){return e.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:e.jsx(m,{mode:"popLayout",children:t.map(t=>e.jsx("div",{className:"pointer-events-auto",children:e.jsx(Xe,{toast:t,onClose:r})},t.id))})})}const Ke=r.createContext(void 0);function Je({children:t}){const[n,a]=r.useState([]),i=r.useCallback(e=>{a(t=>t.filter(t=>t.id!==e))},[]),s=r.useCallback((e,t="info",r)=>{const n={id:`toast-${Date.now()}-${Math.random()}`,message:e,type:t,duration:r};a(e=>[...e,n])},[]),o=r.useCallback((e,t)=>{s(e,"success",t)},[s]),l=r.useCallback((e,t)=>{s(e,"error",t)},[s]),c=r.useCallback((e,t)=>{s(e,"info",t)},[s]),u=r.useCallback((e,t)=>{s(e,"warning",t)},[s]);return e.jsxs(Ke.Provider,{value:{showToast:s,success:o,error:l,info:c,warning:u},children:[t,e.jsx(Ye,{toasts:n,onClose:i})]})}function Ze(){const e=r.useContext(Ke);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const Qe=r.createContext(void 0),et="animedropzone_cart";function tt({children:t}){const[n,a]=r.useState([]),[i,s]=r.useState(!1);r.useEffect(()=>{try{const e=localStorage.getItem(et);e&&a(JSON.parse(e))}catch(e){}},[]),r.useEffect(()=>{try{localStorage.setItem(et,JSON.stringify(n))}catch(e){}},[n]);const o=e=>{a(t=>t.filter(t=>t.id!==e))};return e.jsx(Qe.Provider,{value:{cartItems:n,addToCart:e=>{a(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]),s(!0)},removeFromCart:o,updateQuantity:(e,t)=>{t<=0?o(e):a(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{a([])},isCartOpen:i,setIsCartOpen:s},children:t})}function rt(){const e=r.useContext(Qe);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e}function nt({size:t="md"}){const r={sm:{container:"w-8 h-8",text:"text-lg"},md:{container:"w-10 h-10",text:"text-xl"},lg:{container:"w-16 h-16",text:"text-3xl"}};return e.jsxs("div",{className:`${r[t].container} bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center relative overflow-hidden shadow-lg shadow-purple-900/50`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20"}),e.jsx("span",{className:`${r[t].text} relative z-10`,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full p-1",children:[e.jsx("path",{d:"M12 3L3 21H7L9 16H15L17 21H21L12 3Z",fill:"white",stroke:"white",strokeWidth:"0.5"}),e.jsx("path",{d:"M10 13L12 8L14 13H10Z",fill:"url(#logo-gradient)"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"logo-gradient",x1:"12",y1:"8",x2:"12",y2:"13",children:[e.jsx("stop",{offset:"0%",stopColor:"#ec4899"}),e.jsx("stop",{offset:"100%",stopColor:"#9333ea"})]})})]})})]})}function at({cartCount:t,wishlistCount:a=0,onCartClick:i,onWishlistClick:s,onLoginClick:o,user:l,onLogout:c}){const[u,d]=r.useState(!1),p=n();return e.jsx(f.nav,{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:100},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center h-16 md:h-20",children:[e.jsx(f.div,{className:"hidden lg:flex items-center gap-3 xl:gap-6 flex-1 justify-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:["Home","Shop","Categories","About","Contact"].map((t,r)=>e.jsx(f.a,{href:"Home"===t?"/":`/#${t.toLowerCase()}`,onClick:e=>{if("Home"===t)e.preventDefault(),p("/");else{const r=document.getElementById(t.toLowerCase());r&&(e.preventDefault(),r.scrollIntoView({behavior:"smooth"}))}},className:"text-gray-300 hover:text-purple-400 transition-colors text-sm xl:text-base whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+.05*r},whileHover:{scale:1.1,y:-2},children:t},t))}),e.jsx(f.div,{className:"lg:hidden flex-1 flex justify-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:e.jsx("button",{onClick:()=>d(!u),className:"text-white",children:e.jsx(m,{mode:"wait",children:u?e.jsx(f.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:e.jsx(Ge,{className:"w-6 h-6"})},"close"):e.jsx(f.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:e.jsx(he,{className:"w-6 h-6"})},"menu")})})}),e.jsxs(f.div,{className:"flex items-center gap-2 cursor-pointer flex-shrink-0 justify-center",onClick:()=>p("/"),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},children:[e.jsx(nt,{size:"md"}),e.jsx("span",{className:"hidden sm:inline text-xl md:text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent whitespace-nowrap",children:"animedropzone"})]}),e.jsxs(f.div,{className:"flex items-center gap-2 xl:gap-3 flex-1 justify-end",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[e.jsxs("div",{className:"hidden lg:flex items-center gap-2 xl:gap-3",children:[l?e.jsxs(e.Fragment,{children:[e.jsxs(f.button,{onClick:()=>p("/my-profile"),className:"text-gray-300 hover:text-purple-400 transition-colors text-sm xl:text-base flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},title:"My Profile",children:[e.jsx(He,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden xl:inline max-w-[100px] truncate",title:l.user_metadata?.name||"User",children:l.user_metadata?.name||"User"})]}),e.jsx(f.button,{onClick:c,className:"text-gray-300 hover:text-purple-400 transition-colors p-2 rounded-lg hover:bg-purple-900/20",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Logout",children:e.jsx(ce,{className:"w-5 h-5"})})]}):e.jsx(f.button,{onClick:o,className:"text-gray-300 hover:text-purple-400 transition-colors p-2 rounded-lg hover:bg-purple-900/20",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Login",children:e.jsx(He,{className:"w-5 h-5"})}),e.jsx(f.button,{onClick:()=>p("/my-orders"),className:"bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"My Orders",children:e.jsx(ye,{className:"w-5 h-5"})}),s&&e.jsxs(f.button,{onClick:s,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Wishlist",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx(m,{children:a>0&&e.jsx(f.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:a})})]}),e.jsxs(f.button,{onClick:i,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Cart",children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx(m,{children:t>0&&e.jsx(f.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:t})})]})]}),e.jsxs("div",{className:"flex lg:hidden items-center gap-2",children:[e.jsx(f.button,{onClick:()=>p("/my-orders"),className:"bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ye,{className:"w-5 h-5"})}),s&&e.jsxs(f.button,{onClick:s,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx(m,{children:a>0&&e.jsx(f.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:a})})]}),e.jsxs(f.button,{onClick:i,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx(m,{children:t>0&&e.jsx(f.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:t})})]})]})]})]}),e.jsx(m,{children:u&&e.jsx(f.div,{className:"lg:hidden py-4 border-t border-purple-900/30",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:"flex flex-col gap-4",children:[["Home","Shop","Categories","About","Contact"].map((t,r)=>e.jsx(f.a,{href:"Home"===t?"/":`/#${t.toLowerCase()}`,onClick:e=>{if(d(!1),"Home"===t)e.preventDefault(),p("/");else{const r=document.getElementById(t.toLowerCase());r&&(e.preventDefault(),r.scrollIntoView({behavior:"smooth"}))}},className:"text-gray-300 hover:text-purple-400 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*r},children:t},t)),l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{d(!1),p("/my-profile")},className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"My Profile"]}),e.jsxs("button",{onClick:c,className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),"Logout"]})]}):e.jsxs("button",{onClick:o,className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"Login"]}),e.jsxs("button",{onClick:()=>{d(!1),i()},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2 justify-center",children:[e.jsx(Ie,{className:"w-5 h-5"}),"Cart (",t,")"]}),s&&e.jsxs("button",{onClick:()=>{d(!1),s()},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2 justify-center",children:[e.jsx(re,{className:"w-5 h-5"}),"Wishlist (",a,")"]}),e.jsxs("button",{onClick:()=>{d(!1),p("/my-orders")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5"}),"My Orders"]})]})})})]})})}const it="omfqjzwegmiezbfpjysp",st="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tZnFqendlZ21pZXpiZnBqeXNwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNjY2NDcsImV4cCI6MjA4MDg0MjY0N30.YkSoV-8t4qWXNppvM2t1mDsdkirIoNRpMmQUjvVk-3o";function ot({onShopNow:t}){const[n,a]=r.useState([{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚öîÔ∏è Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23f59e0b;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%239333ea;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g2)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eü•∑ Naruto Legends%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%235b21b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g3)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüè¥‚Äç‚ò†Ô∏è One Piece Adventure%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%236366f1;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23dc2626;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g4)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚õ©Ô∏è Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23fbbf24;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f87171;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g5)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}]),[i,s]=r.useState(0),[o,l]=r.useState(!1),c="undefined"!=typeof window&&window.innerWidth<768,[u,d]=r.useState(!0);r.useEffect(()=>{const e=()=>{window.innerWidth<768&&!u&&setTimeout(()=>d(!0),100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[u]),r.useEffect(()=>{if(c&&!u){const e=setTimeout(()=>d(!0),300);return()=>clearTimeout(e)}},[c,u]),r.useEffect(()=>{(async()=>{await p()})();let e=null;try{e=new BroadcastChannel("wallpapers"),e.onmessage=e=>{"wallpaper_updated"!==e.data.type&&"wallpaper_deleted"!==e.data.type&&"wallpaper_added"!==e.data.type||(e.data.wallpapers&&e.data.wallpapers.length>0?a(e.data.wallpapers):setTimeout(()=>{p()},500))}}catch(n){}let t=0;const r=setInterval(()=>{t++;(t<20||t%8==0)&&p()},15e3);return()=>{e&&e.close(),clearInterval(r)}},[]);const p=async()=>{try{const e=new AbortController,t=setTimeout(()=>e.abort(),15e3),r=`?t=${Date.now()}`,n=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers${r}`,{headers:{Authorization:`Bearer ${st}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},signal:e.signal});if(clearTimeout(t),n.ok){const e=await n.json();if(e.wallpapers&&e.wallpapers.length>0){const t=e.wallpapers.filter(e=>null!=e).map(e=>({id:e.id||e.wallpaper_id||`wallpaper_${Math.random()}`,imageUrl:e.imageUrl||e.image_url||e.image,title:e.title||"Anime Collection",subtitle:e.subtitle||"Premium Collection",order:e.order||0})).sort((e,t)=>(e.order||0)-(t.order||0));if(t.length>0)return a(t),localStorage.setItem("cached_wallpapers",JSON.stringify(t)),void localStorage.setItem("wallpapers_sync_time",Date.now().toString())}}}catch(e){}try{const e=localStorage.getItem("cached_wallpapers");if(e){const t=JSON.parse(e);if(t.length>0)return void a(t)}}catch(t){}await h()},h=async()=>{try{const t=[{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚öîÔ∏è Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23f59e0b;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%239333ea;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g2)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eü•∑ Naruto Legends%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%235b21b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g3)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüè¥‚Äç‚ò†Ô∏è One Piece Adventure%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%236366f1;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23dc2626;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g4)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚õ©Ô∏è Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23fbbf24;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f87171;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g5)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}];let r=0;for(const a of t)try{(await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({imageUrl:a.imageUrl,title:a.title,subtitle:a.subtitle})})).ok&&r++}catch(e){}await new Promise(e=>setTimeout(e,1500));const n=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers?t=${Date.now()}`,{headers:{Authorization:`Bearer ${st}`,"Cache-Control":"no-cache, no-store, must-revalidate"}});if(n.ok){const e=await n.json();if(e.wallpapers&&e.wallpapers.length>0){const t=e.wallpapers.filter(e=>null!=e).map(e=>({id:e.id||e.wallpaper_id||`wallpaper_${Math.random()}`,imageUrl:e.imageUrl||e.image_url||e.image,title:e.title||"Anime Collection",subtitle:e.subtitle||"Premium Collection",order:e.order||0})).sort((e,t)=>(e.order||0)-(t.order||0));if(t.length>0)return a(t),void localStorage.setItem("cached_wallpapers",JSON.stringify(t))}}a([{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚öîÔ∏è Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23f59e0b;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%239333ea;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g2)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eü•∑ Naruto Legends%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%235b21b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g3)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüè¥‚Äç‚ò†Ô∏è One Piece Adventure%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%236366f1;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23dc2626;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g4)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚õ©Ô∏è Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23fbbf24;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f87171;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g5)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}])}catch(e){a([{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚öîÔ∏è Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23f59e0b;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%239333ea;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g2)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eü•∑ Naruto Legends%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%235b21b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g3)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüè¥‚Äç‚ò†Ô∏è One Piece Adventure%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%236366f1;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23dc2626;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g4)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚õ©Ô∏è Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23fbbf24;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f87171;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g5)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}])}};r.useEffect(()=>{if(n.length<=1)return;n.forEach(e=>{(new Image).src=e.imageUrl});const e=setInterval(()=>{s(e=>(e+1)%n.length)},c?1e4:6e3);return()=>clearInterval(e)},[n.length,c]);const m=n[i]||{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚öîÔ∏è Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},x=m&&m.imageUrl?m:{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a855f7;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='1080' fill='url(%23g1)'/%3E%3Ctext x='50%25' y='50%25' font-size='72' fill='white' text-anchor='middle' dominant-baseline='middle'%3E‚öîÔ∏è Demon Slayer Collection%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0};return e.jsxs("section",{className:"relative overflow-hidden",children:[!c&&e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/30 via-black to-pink-900/30"}),e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx(f.div,{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),e.jsx(f.div,{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600 rounded-full blur-3xl",animate:{scale:[1,1.3,1],opacity:[.5,.7,.5]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}})]})]}),c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-black to-pink-900/20"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-20",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"z-10",children:[e.jsxs(f.div,{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-900/50 to-pink-900/50 border border-purple-500/50 rounded-full mb-6 backdrop-blur-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:c?.3:.6},children:[e.jsx(f.div,{animate:{rotate:c?[0,180]:[0,360]},transition:{duration:c?2:3,repeat:1/0,ease:"linear"},children:e.jsx(_e,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"})}),e.jsx("span",{className:"text-purple-300",children:"Premium Collection"})]}),e.jsx(f.h1,{className:"mb-6 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent leading-tight",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:c?.3:.8,delay:c?0:.2},children:"Embrace Your Inner Demon"}),e.jsx(f.p,{className:"mb-4 text-gray-300 text-lg",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:c?.3:.8,delay:c?.1:.4},children:"Step into the world of anime with our exclusive collection of premium figures, authentic katanas, and rare collectibles."}),e.jsx(f.div,{className:"flex flex-wrap gap-6 mb-8",initial:c?{opacity:1}:{opacity:0},animate:{opacity:1},transition:{duration:c?0:.8,delay:c?.2:.6},children:[{icon:Ve,text:"Fast Shipping"},{icon:Ae,text:"100% Authentic"},{icon:_e,text:"Premium Quality",filled:!0}].map((t,r)=>e.jsxs(f.div,{className:"flex items-center gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:c?.3:.5,delay:.7+.05*r},whileHover:c?{}:{scale:1.05},children:[e.jsx(t.icon,{className:"w-5 h-5 text-purple-400 "+(t.filled?"fill-purple-400":"")}),e.jsx("span",{className:"text-gray-300",children:t.text})]},t.text))}),e.jsxs(f.div,{className:"flex flex-wrap gap-4",initial:c?{opacity:1,y:0}:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:c?0:.8,delay:c?0:.9},children:[e.jsx(f.div,{whileHover:c?{}:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("button",{type:"button",onClick:()=>{t&&t(),setTimeout(()=>{const e=document.getElementById("shop");e&&e.scrollIntoView({behavior:"smooth"})},100)},className:"group bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-purple-900/50 hover:shadow-purple-900/70 cursor-pointer",children:[e.jsx("span",{className:"text-lg",children:"Shop Now"}),e.jsx(A,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(f.a,{href:"#categories",className:"bg-white/10 hover:bg-white/20 border border-white/30 hover:border-white/50 px-8 py-4 rounded-lg transition-all backdrop-blur-sm text-lg",whileHover:c?{}:{scale:1.05},whileTap:{scale:.95},children:"Explore Categories"})]})]}),e.jsx(f.div,{className:"relative z-10",initial:{opacity:0,scale:.8,rotateY:20},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:c?.6:1,delay:.3},children:e.jsxs("div",{className:"relative group",children:[!c&&e.jsx(f.div,{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity",animate:{opacity:[.5,.7,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden border-2 border-purple-500/50 shadow-2xl shadow-purple-900/50 bg-gradient-to-br from-purple-900 via-black to-pink-900 min-h-96",children:[x?.imageUrl?e.jsx(f.img,{src:x.imageUrl,alt:x.title||"Wallpaper",loading:"lazy",decoding:"async",className:"w-full h-auto",onError:e=>{},initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},transition:{duration:c?.4:.7}},`wallpaper-${i}`):e.jsx("div",{className:"w-full h-96 bg-gradient-to-br from-purple-900 via-black to-pink-900 flex items-center justify-center",children:e.jsx("p",{className:"text-gray-400",children:"Loading wallpaper..."})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"}),e.jsx(f.div,{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-orange-600 px-4 py-2 rounded-full",initial:c?{scale:1}:{},animate:c?{scale:1}:{scale:[1,1.1,1]},transition:c?{}:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("span",{className:"text-white text-sm",children:"New Arrival"})}),e.jsxs(f.div,{className:"absolute bottom-0 left-0 right-0 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h3",{className:"text-white text-2xl mb-2",children:x?.title||"Anime Collection"}),e.jsx("p",{className:"text-purple-200",children:x?.subtitle||"Premium Collection"})]},`text-${i}`),n.length>1&&e.jsx("div",{className:"absolute bottom-24 left-0 right-0 flex justify-center gap-2",children:n.map((t,r)=>e.jsx("button",{onClick:()=>s(r),className:"w-2 h-2 rounded-full transition-all "+(r===i?"bg-white w-8":"bg-white/50 hover:bg-white/75"),"aria-label":`Go to slide ${r+1}`},r))})]})]})})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsxs("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"url(#gradient)",fillOpacity:"0.1"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"1440",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"#9333ea"}),e.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})})]})})]})}function lt({icon:t,title:r,description:n,onClick:a}){return e.jsxs("button",{onClick:a,className:"group bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 hover:border-purple-500 rounded-xl p-4 md:p-6 transition-all hover:shadow-lg hover:shadow-purple-900/50 text-left w-full hover:scale-105 active:scale-98",children:[e.jsx("div",{className:"w-12 md:w-14 h-12 md:h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center mb-3 md:mb-4",children:e.jsx(t,{className:"w-6 md:w-7 h-6 md:h-7 text-white"})}),e.jsx("h3",{className:"mb-1 md:mb-2 text-white text-sm md:text-base font-semibold",children:r}),e.jsx("p",{className:"text-gray-400 text-xs md:text-sm line-clamp-2",children:n})]})}const ct=r.memo(function({product:t,onAddToCart:i,onViewDetails:s,isInWishlist:o=!1,onToggleWishlist:l}){const c=n(),u=a(),[d,p]=r.useState(!1),h="undefined"!=typeof window&&window.innerWidth<768,m="undefined"!=typeof navigator&&navigator.deviceMemory||4,x="undefined"!=typeof navigator&&navigator.connection?.effectiveType||"4g",y=m>=8&&("4g"===x||"5g"===x),g="undefined"!=typeof window&&(m<4||"slow-2g"===x||"2g"===x||"3g"===x),b=t.images?.[0]||t.image||"https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080";let v="75",j="600";y?(v="90",j="1000"):h&&(v="70",j="400"),g&&(v="50",j="250");const w=b.includes("unsplash.com")?`${b}&w=${j}&q=${v}`:b,N=()=>{try{const e=u.pathname+u.search,t=sessionStorage.getItem("categorySubcategory");let r=e;t&&!e.includes("subcat=")&&(r=`${u.pathname}?subcat=${encodeURIComponent(t)}`),sessionStorage.setItem("prevRoute",r)}catch{}c(`/product/${t.id}`)};return e.jsxs(f.div,{className:"group bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl overflow-hidden hover:border-purple-500 transition-all hover:shadow-lg hover:shadow-purple-900/50 cursor-pointer relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.25},whileHover:h?{}:{y:-5},onClick:N,children:[l&&e.jsx(f.button,{onClick:e=>{e.stopPropagation(),l(t)},"aria-label":o?`Remove ${t?.name} from wishlist`:`Add ${t?.name} to wishlist`,title:o?"Remove from wishlist":"Add to wishlist",className:"absolute top-3 right-3 z-10 w-10 h-10 bg-black/60 hover:bg-black/80 backdrop-blur-sm rounded-full flex items-center justify-center border border-purple-500/30 hover:border-purple-500 transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(re,{className:"w-5 h-5 transition-all "+(o?"fill-pink-500 text-pink-500":"text-gray-400 hover:text-pink-400")})}),e.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gradient-to-br from-purple-900 via-black to-pink-900",children:[e.jsx("img",{src:w,alt:t.name,loading:"lazy",decoding:"async",className:`w-full h-full object-cover transition-all duration-300 ${d?"opacity-100":"opacity-0"} group-hover:scale-110`,onLoad:()=>p(!0),onError:e=>{p(!0),e.target.style.display="none"}}),!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-black to-pink-900 animate-pulse"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4 opacity-50",children:[e.jsx("div",{className:"text-2xl mb-2",children:"üì¶"}),e.jsx("p",{className:"text-xs text-gray-300",children:t?.name||"Product"})]}),(0===t?.stock||!t?.stock)&&e.jsx(f.div,{className:"absolute inset-0 bg-black/80 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("span",{className:"text-red-400 border border-red-400 px-4 py-2 rounded",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((t,r)=>e.jsx(f.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.2,delay:.05*r},children:e.jsx(_e,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})},r)),e.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"(4.8)"})]}),e.jsx("h3",{className:"text-white mb-1 line-clamp-1",children:t?.name||"Product Name"}),e.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:t?.description||"No description available"}),e.jsx(f.div,{className:"mb-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:e.jsxs("span",{className:"text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["‚Çπ",(t?.price??0).toLocaleString()]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(f.button,{onClick:e=>{e.stopPropagation(),i(t)},disabled:0===t?.stock||!t?.stock,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all text-sm",whileHover:h?{}:{scale:1.05},whileTap:h?{}:{scale:.95},children:[e.jsx(Ie,{className:"w-4 h-4"}),"Add"]}),e.jsxs(f.button,{onClick:N,className:"bg-white/10 hover:bg-white/20 border border-purple-500/50 hover:border-purple-500 px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all text-sm",whileHover:h?{}:{scale:1.05},whileTap:h?{}:{scale:.95},children:[e.jsx(J,{className:"w-4 h-4"}),"Details"]})]})]})]})});function ut({isOpen:t,onClose:r,items:n,onUpdateQuantity:a,onRemoveItem:i,onCheckout:s,onProductClick:o}){const l=n.reduce((e,t)=>e+t.price*t.quantity,0);return e.jsx(m,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-end",children:[e.jsx(f.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),e.jsxs(f.div,{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-l-2xl h-screen w-full max-w-md shadow-2xl shadow-purple-900/50 flex flex-col",initial:{opacity:0,x:400},animate:{opacity:1,x:0},exit:{opacity:0,x:400},transition:{duration:.4,type:"spring",stiffness:300,damping:30},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30 flex-shrink-0",children:[e.jsx("h2",{className:"text-white",children:"Shopping Cart"}),e.jsx(f.button,{onClick:r,className:"text-gray-400 hover:text-white transition-colors",whileHover:{rotate:90,scale:1.1},transition:{duration:.3},children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1 p-6",children:0===n.length?e.jsx(f.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("p",{className:"text-gray-400 text-lg",children:"Your cart is empty"})}):e.jsx("div",{className:"space-y-4",children:e.jsx(m,{mode:"popLayout",children:n.map((t,r)=>e.jsxs(f.div,{className:"flex gap-4 bg-purple-900/10 border border-purple-500/20 rounded-lg p-4",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50,height:0,marginBottom:0,padding:0},transition:{duration:.3,delay:.05*r},layout:!0,children:[e.jsx(f.button,{onClick:()=>{o&&o(t)},className:"flex-shrink-0 group cursor-pointer",whileHover:{scale:1.05},transition:{duration:.3},children:e.jsx(f.img,{src:t.image,alt:t.name,className:"w-24 h-24 object-cover rounded-lg group-hover:opacity-75 transition-opacity",whileHover:{scale:1.1,rotate:5},transition:{duration:.3}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f.button,{onClick:()=>{o&&o(t)},className:"text-white hover:text-purple-400 transition-colors mb-1 block text-left font-medium",children:t.name}),e.jsxs("p",{className:"text-purple-400 mb-2",children:["‚Çπ",t.price.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f.button,{onClick:()=>a(t.id,Math.max(1,t.quantity-1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 rounded flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx(f.span,{className:"text-white w-8 text-center",initial:{scale:1.5,color:"#ec4899"},animate:{scale:1,color:"#ffffff"},transition:{duration:.3},children:t.quantity},t.quantity),e.jsx(f.button,{onClick:()=>a(t.id,t.quantity+1),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 rounded flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx(f.button,{onClick:()=>i(t.id),className:"ml-auto text-red-400 hover:text-red-300 transition-colors",whileHover:{scale:1.2,rotate:15},whileTap:{scale:.9},children:e.jsx($e,{className:"w-5 h-5"})})]})]})]},t.id))})})}),n.length>0&&e.jsxs("div",{className:"p-6 border-t border-purple-500/30 bg-black/50 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Total:"}),e.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["‚Çπ",l.toLocaleString()]})]}),e.jsxs("button",{onClick:s,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",children:[e.jsx(G,{className:"w-5 h-5"}),"Proceed to Checkout"]})]})]})]})})}function dt({isOpen:t,onClose:r,wishlistItems:n,onRemoveFromWishlist:a,onAddToCart:i,onViewProduct:s}){return e.jsx(m,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),e.jsxs(f.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-gradient-to-br from-black via-purple-900/20 to-black border-l border-purple-500/30 shadow-2xl z-50 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-600 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx(re,{className:"w-5 h-5 fill-white"})}),e.jsx("h2",{className:"text-2xl text-white",children:"My Wishlist"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[n.length," ",1===n.length?"item":"items"," saved"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:0===n.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[e.jsx(f.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-24 h-24 bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-full flex items-center justify-center mb-6",children:e.jsx(re,{className:"w-12 h-12 text-purple-400"})}),e.jsx("h3",{className:"text-xl text-white mb-2",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Save your favorite items by clicking the heart icon on any product"}),e.jsx("button",{onClick:r,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-4",children:e.jsx(m,{mode:"popLayout",children:n.map((t,n)=>e.jsx(f.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:.05*n},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-4 hover:border-purple-500/50 transition-all",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>{s(t),r()},className:"relative w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 group cursor-pointer",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),0===t.stock&&e.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:e.jsx("span",{className:"text-red-400 text-xs font-semibold",children:"Out of Stock"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("button",{onClick:()=>{s(t),r()},className:"text-white hover:text-purple-400 transition-colors mb-1 block text-left truncate w-full",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400 mb-2 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg text-purple-400",children:["‚Çπ",t.price.toLocaleString()]}),t.stock>0&&t.stock<5&&e.jsxs("span",{className:"text-xs text-orange-400",children:["Only ",t.stock," left"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{i(t),a(t.id)},disabled:0===t.stock,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 py-2 rounded-lg text-sm flex items-center justify-center gap-2 transition-all",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Add to Cart"]}),e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(t.id),className:"bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 hover:border-red-500/50 p-2 rounded-lg transition-all",children:e.jsx($e,{className:"w-4 h-4 text-red-400"})})]})]})]})},t.id))})})}),n.length>0&&e.jsx("div",{className:"p-6 border-t border-purple-500/30 bg-black/50",children:e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n.forEach(e=>{e.stock>0&&(i(e),a(e.id))})},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),"Add All to Cart"]})})]})]})})}const pt=x(`https://${it}.supabase.co`,st);function ht({isOpen:t,onClose:a,onAuthSuccess:i,showCheckoutMessage:s=!1}){const o=n(),[l,c]=r.useState("login"),[u,d]=r.useState({name:"",email:"",password:""}),[p,h]=r.useState(""),[m,f]=r.useState(!1),[x,y]=r.useState(!1),g=()=>{d({name:"",email:"",password:""}),h(""),y(!1)};return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md shadow-2xl shadow-purple-900/50 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[e.jsx("h2",{className:"text-white",children:"login"===l?"Welcome Back":"Create Account"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{if("signup"===l){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email))return h("Please enter a valid email address"),void f(!1);if(u.password.length<6)return h("Password must be at least 6 characters long"),void f(!1);if(!u.name||u.name.trim().length<2)return h("Please enter a valid name"),void f(!1);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/signup`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({email:u.email,password:u.password,name:u.name})}),t=await e.json();if(t.success){const{data:e,error:t}=await pt.auth.signInWithPassword({email:u.email,password:u.password});t?h(t.message):e.user&&(i(e.user),g(),a())}else h(t.message||"Signup failed. Please try again.")}else{const{data:e,error:t}=await pt.auth.signInWithPassword({email:u.email,password:u.password});t?h(t.message):e.user&&(i(e.user),g(),a())}}catch(t){h("An error occurred. Please try again.")}finally{f(!1)}},className:"p-6 space-y-4",children:[s&&e.jsx("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3 text-purple-300 text-sm mb-4",children:e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4"}),"Please login or create an account to complete your order"]})}),"signup"===l&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:u.name,onChange:e=>d({...u,name:e.target.value}),required:!0,placeholder:"Enter your full name",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:u.email,onChange:e=>d({...u,email:e.target.value}),required:!0,placeholder:"Enter your email",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:x?"text":"password",value:u.password,onChange:e=>d({...u,password:e.target.value}),required:!0,placeholder:"Enter your password",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-11 py-3 text-white focus:outline-none focus:border-purple-500"}),e.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:x?e.jsx(K,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})})]}),"login"===l&&e.jsx("div",{className:"text-right mt-1",children:e.jsx("button",{type:"button",onClick:()=>{a(),o("/forgot-password")},className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:"Forgot Password?"})})]}),p&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:p}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all text-lg",children:m?"Please wait...":"login"===l?"Login":"Sign Up"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{c("login"===l?"signup":"login"),g()},className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:"login"===l?"Don't have an account? Sign up":"Already have an account? Login"})})]})]})]}):null}function mt({isOpen:t,onClose:n,data:a}){const[i,s]=r.useState(null);if(!a)return null;const o=(e,t)=>{navigator.clipboard.writeText(e),s(t),setTimeout(()=>s(null),2e3)};return e.jsx(m,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsxs(f.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25},className:"relative w-full max-w-md bg-gradient-to-br from-black via-purple-950/30 to-black border border-purple-500/30 rounded-2xl shadow-[0_0_50px_rgba(147,51,234,0.3)] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})}),[...Array(6)].map((t,r)=>e.jsx(f.div,{className:"absolute w-2 h-2 bg-purple-400 rounded-full",initial:{x:400*Math.random(),y:-20,scale:0,opacity:1},animate:{y:500,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:2+2*Math.random(),delay:.2*r,repeat:1/0,repeatDelay:1}},r)),e.jsxs("div",{className:"relative p-6",children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:e.jsx(Ge,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs(f.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"relative",children:[e.jsx(f.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-xl"}),e.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 rounded-full p-4",children:e.jsx(U,{className:"w-12 h-12 text-white",strokeWidth:2.5})})]})}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl mb-2 bg-gradient-to-r from-white via-green-200 to-emerald-200 bg-clip-text text-transparent",children:a.isPrepaid?"üí≥ Payment Successful!":"Order Placed Successfully!"}),e.jsx("p",{className:"text-gray-400 text-sm",children:a.isPrepaid?"Your payment has been confirmed. Thank you!":"Please keep cash ready for delivery"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Order ID"})]}),e.jsx("button",{onClick:()=>o(a.orderId,"orderId"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:"orderId"===i?e.jsx($,{className:"w-4 h-4"}):e.jsx(W,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-white mt-1 font-mono text-sm",children:a.orderId})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Tracking ID"})]}),e.jsx("button",{onClick:()=>o(a.trackingId,"trackingId"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:"trackingId"===i?e.jsx($,{className:"w-4 h-4"}):e.jsx(W,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-white mt-1 font-mono text-sm",children:a.trackingId})]})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border border-purple-500/20 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(G,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Payment Summary"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Payment Method"}),e.jsx("span",{className:"text-white",children:a.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"text-white",children:["‚Çπ",a.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Shipping Charges"}),e.jsxs("span",{className:"text-white",children:["‚Çπ",a.shippingCharges.toLocaleString()]})]}),a.discount>0&&e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"text-green-400",children:["‚Çπ",a.discount.toLocaleString()]})]}),a.isPrepaid&&e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Payment Status"}),e.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),"PAID"]})]}),e.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2 flex justify-between",children:[e.jsxs("span",{className:"text-white",children:["Total ",a.isPrepaid?"Paid":"Amount"]}),e.jsxs("span",{className:"text-white text-lg",children:["‚Çπ",a.total.toLocaleString()]})]})]})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3",children:[e.jsxs("button",{onClick:()=>{window.open("/track-order","_blank")},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white py-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group",children:[e.jsx(Ue,{className:"w-5 h-5 group-hover:animate-bounce"}),"Track Your Order",e.jsx(Y,{className:"w-4 h-4"})]}),e.jsx("button",{onClick:n,className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 rounded-lg transition-all duration-300 border border-white/20",children:"Continue Shopping"})]}),e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"üìß Order confirmation sent to your email"})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500",children:e.jsx(f.div,{className:"h-full bg-gradient-to-r from-transparent via-white to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})]})]})})}function ft({isOpen:t,onClose:n,items:a,total:i,onSuccess:s,user:o}){const{success:l}=Ze(),{clearCart:c}=rt(),[u,d]=r.useState(!1),[p,h]=r.useState({firstName:"",lastName:"",email:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""}),[m,f]=r.useState("cod"),[x,y]=r.useState(!1),[g,b]=r.useState(""),[v,j]=r.useState(null),[w,N]=r.useState(!1),[k,S]=r.useState(!1),[C,O]=r.useState(null);r.useEffect(()=>{if(window.Razorpay)return void d(!0);const e=document.createElement("script");return e.id="razorpay-checkout",e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,e.onload=()=>{setTimeout(()=>{window.Razorpay&&d(!0)},100)},e.onerror=()=>{d(!1)},document.head.appendChild(e),()=>{const e=document.getElementById("razorpay-checkout");e&&e.remove()}},[]);const E=100,P=i,A=v?v.discount:0,T="razorpay"===m?0:E,M=P+T-A,D=async(e,t)=>{try{const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({items:a.map(e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity})),subtotal:P,shippingCharges:E,discount:A,couponCode:v?.code||null,total:M,customerInfo:p,paymentId:e,paymentMethod:t})}),i=await r.json();if(i.success){const e="cod"!==t;await _(),l(e?`üéâ Order placed successfully! Payment confirmed for ‚Çπ${M.toLocaleString()}`:`üéâ Order placed successfully! Total: ‚Çπ${M.toLocaleString()} - Cash on Delivery`,5e3);const r="cod"===t?`Order placed successfully! \n\nOrder ID: ${i.order.id}\nTracking ID: ${i.order.trackingId}\n\nPayment Method: Cash on Delivery\nSubtotal: ‚Çπ${P.toLocaleString()}\nShipping: ‚Çπ${E.toLocaleString()}\nTotal Amount to Pay: ‚Çπ${M.toLocaleString()}\n\nPlease keep cash ready for delivery.\n\nYou can track your order using either ID at animedropzone.com/track-order\n\nCheck your email for detailed order confirmation.`:`üí≥ Payment Successful! \n\n‚úÖ Your payment has been received and confirmed.\n\nOrder ID: ${i.order.id}\nTracking ID: ${i.order.trackingId}\n\nPayment Status: PAID ‚úì\nPayment Method: ${t}\nSubtotal: ‚Çπ${P.toLocaleString()}\nShipping: ‚Çπ${E.toLocaleString()}\nTotal Paid: ‚Çπ${M.toLocaleString()}\n\nYour order will be processed and shipped shortly.\n\nYou can track your order using either ID at animedropzone.com/track-order\n\nCheck your email for detailed order confirmation.`;O({message:r,orderId:i.order.id,trackingId:i.order.trackingId,paymentMethod:t,subtotal:P,shippingCharges:E,discount:A,total:M,isPrepaid:e}),S(!0),c(),s(),n()}}catch(r){alert("Error processing order. Please contact support.")}};r.useEffect(()=>{if(t&&o){const e=o.user_metadata||{};if(e.name||e.phone||e.address){const t=(e.name||"").split(" "),r=t[0]||"",n=t.slice(1).join(" ")||"";h({firstName:r,lastName:n,email:o.email||"",phone:e.phone||"",address:e.address||"",landmark:e.landmark||"",city:e.city||"",state:e.state||"",pincode:e.pincode||""})}else h({firstName:"",lastName:"",email:o.email||"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""})}else t&&!o&&h({firstName:"",lastName:"",email:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""})},[t,o]);const _=async()=>{if(o)try{await pt.auth.updateUser({data:{name:`${p.firstName} ${p.lastName}`.trim(),phone:p.phone,address:p.address,landmark:p.landmark,city:p.city,state:p.state,pincode:p.pincode}})}catch(e){}};return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:n}),e.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[e.jsx("h2",{className:"text-white",children:"Checkout"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)] p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-white mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-2 mb-4",children:a.map(t=>e.jsxs("div",{className:"flex justify-between text-gray-300",children:[e.jsxs("span",{children:[t.name," x ",t.quantity]}),e.jsxs("span",{children:["‚Çπ",(t.price*t.quantity).toLocaleString()]})]},t.id))}),e.jsxs("div",{className:"border-t border-purple-500/30 pt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-300",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["‚Çπ",P.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-gray-300",children:[e.jsx("span",{children:"Shipping Charges:"}),e.jsx("span",{children:0===T?"Free ‚úÖ":`‚Çπ${T.toLocaleString()}`})]}),v&&e.jsx("div",{className:"border-t border-purple-500/30 pt-3 mt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white text-lg",children:"Discount:"}),e.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["-‚Çπ",v.discount.toLocaleString()]})]})}),e.jsx("div",{className:"border-t border-purple-500/30 pt-3 mt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white text-lg",children:"Total:"}),e.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["‚Çπ",M.toLocaleString()]})]})})]})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),"cod"===m&&M>3e3?alert("‚ùå Cash on Delivery is not available for orders above ‚Çπ3000.\nPlease select Razorpay."):"razorpay"===m?await(async()=>{y(!0);try{if(!window.Razorpay||!u)return alert("Payment gateway is loading. Please wait a moment and try again."),void y(!1);const e={key:"rzp_live_RselwwvYioZVQE",amount:Math.round(100*M),currency:"INR",name:"AnimeDrop Zone",description:"Purchase anime figures and accessories",image:"https://your-logo-url.com/logo.png",handler:async function(e){await D(e.razorpay_payment_id,"Razorpay"),y(!1)},prefill:{name:`${p.firstName} ${p.lastName}`,email:p.email,contact:p.phone},notes:{address:p.address,city:p.city,state:p.state,pincode:p.pincode},theme:{color:"#9333ea"},modal:{ondismiss:function(){y(!1),alert("Payment cancelled. Please try again when ready.")}}},t=new window.Razorpay(e);t.on("payment.failed",function(e){y(!1),alert(`Payment Failed!\n\nReason: ${e.error.description||"Payment could not be processed"}\n\nPlease try again or use a different payment method.`)}),t.open()}catch(e){alert("Error initializing payment. Please try again."),y(!1)}})():await(async()=>{y(!0);try{const e=`COD${Date.now()}`;await D(e,"COD")}catch(e){alert("Error placing order. Please try again."),y(!1)}})()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutFirstName",className:"block text-gray-300 mb-2",children:"First Name"}),e.jsx("input",{id:"checkoutFirstName",name:"checkoutFirstName",type:"text",value:p.firstName,onChange:e=>h({...p,firstName:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutLastName",className:"block text-gray-300 mb-2",children:"Last Name"}),e.jsx("input",{id:"checkoutLastName",name:"checkoutLastName",type:"text",value:p.lastName,onChange:e=>h({...p,lastName:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutEmail",className:"block text-gray-300 mb-2",children:"Email"}),e.jsx("input",{id:"checkoutEmail",name:"checkoutEmail",type:"email",value:p.email,onChange:e=>h({...p,email:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutPhone",className:"block text-gray-300 mb-2",children:"Phone Number"}),e.jsx("input",{id:"checkoutPhone",name:"checkoutPhone",type:"tel",value:p.phone,onChange:e=>h({...p,phone:e.target.value}),required:!0,pattern:"[0-9]{10}",placeholder:"10-digit mobile number",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutAddress",className:"block text-gray-300 mb-2",children:"Shipping Address"}),e.jsx("textarea",{id:"checkoutAddress",name:"checkoutAddress",value:p.address,onChange:e=>h({...p,address:e.target.value}),required:!0,rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutLandmark",className:"block text-gray-300 mb-2",children:"Landmark"}),e.jsx("input",{id:"checkoutLandmark",name:"checkoutLandmark",type:"text",value:p.landmark,onChange:e=>h({...p,landmark:e.target.value}),required:!0,placeholder:"Nearby landmark (e.g., Near City Mall)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutCity",className:"block text-gray-300 mb-2",children:"City"}),e.jsx("input",{id:"checkoutCity",name:"checkoutCity",type:"text",value:p.city,onChange:e=>h({...p,city:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutState",className:"block text-gray-300 mb-2",children:"State"}),e.jsx("input",{id:"checkoutState",name:"checkoutState",type:"text",value:p.state,onChange:e=>h({...p,state:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkoutPincode",className:"block text-gray-300 mb-2",children:"Pincode"}),e.jsx("input",{id:"checkoutPincode",name:"checkoutPincode",type:"text",value:p.pincode,onChange:e=>h({...p,pincode:e.target.value}),required:!0,pattern:"[0-9]{6}",placeholder:"6-digit pincode",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-3",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>f("razorpay"),disabled:!u,className:`p-4 rounded-lg border-2 transition-all ${"razorpay"===m?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"} ${u?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(G,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),e.jsx("div",{className:"text-white text-sm",children:"Razorpay"}),e.jsx("div",{className:"text-gray-400 text-xs",children:u?"Cards, UPI, Wallet":"Loading..."})]}),e.jsxs("button",{type:"button",onClick:()=>{M>3e3?alert("‚ùå Cash on Delivery is not available for orders above ‚Çπ3000"):f("cod")},disabled:M>3e3,className:"p-4 rounded-lg border-2 transition-all "+(M>3e3?"opacity-50 cursor-not-allowed border-gray-500/30 bg-gray-900/10":"cod"===m?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"),children:[e.jsx(I,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),e.jsx("div",{className:"text-white text-sm",children:"Cash on Delivery"}),e.jsx("div",{className:"text-gray-400 text-xs",children:M>3e3?"Not available":"Pay at doorstep"})]})]}),M>3e3&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:"‚ö†Ô∏è Cash on Delivery is not available for orders above ‚Çπ3000"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Apply Coupon Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"Enter coupon code",className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),e.jsx("button",{type:"button",onClick:async()=>{N(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({code:g,cartTotal:i})}),t=await e.json();t.success?(j(t.coupon),alert(`Coupon applied successfully! You saved ‚Çπ${t.coupon.discount.toLocaleString()}.`)):alert(t.message||"Invalid coupon code.")}catch(e){alert("Error applying coupon. Please try again.")}finally{N(!1)}},disabled:w,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-2 rounded-lg transition-all",children:w?"Applying...":"Apply"})]}),v&&e.jsxs("p",{className:"text-green-400 text-sm mt-2",children:['‚úì Coupon "',v.code,'" applied - You saved ‚Çπ',v.discount.toLocaleString(),"!"]})]}),e.jsxs("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",children:["razorpay"===m?e.jsx(G,{className:"w-5 h-5"}):"paytm"===m?e.jsx(Wallet,{className:"w-5 h-5"}):e.jsx(I,{className:"w-5 h-5"}),x?"Processing...":"cod"===m?"Place Order - Pay Cash on Delivery":`Pay ‚Çπ${M.toLocaleString()} with ${"razorpay"===m?"Razorpay":"Paytm"}`]})]})]})]}),e.jsx(mt,{isOpen:k,onClose:()=>S(!1),data:C})]}):null}function xt({isOpen:t,onClose:r,category:n,subcategories:a,onSelectSubcategory:i}){return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:r}),e.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[e.jsxs("h2",{className:"text-white capitalize",children:[n," Categories"]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)] p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(t=>e.jsxs("button",{onClick:()=>{i(t.value),r()},className:"group bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 hover:border-purple-500 rounded-xl p-6 transition-all hover:scale-105 hover:shadow-lg hover:shadow-purple-900/50 text-left",children:[e.jsx("h4",{className:"text-white mb-2 group-hover:text-purple-300 transition-colors",children:t.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.description})]},t.value))})})]})]}):null}function yt({productId:t,user:n,onLoginClick:a}){const[i,s]=r.useState([]),[o,l]=r.useState(5),[c,u]=r.useState(""),[d,p]=r.useState(!1),[h,m]=r.useState(!1),[f,x]=r.useState(0);r.useEffect(()=>{y()},[t]);const y=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/reviews/${t}`,{headers:{Authorization:`Bearer ${st}`}}),r=await e.json();r.success&&s(r.reviews)}catch(e){}},g=i.length>0?(i.reduce((e,t)=>e+t.rating,0)/i.length).toFixed(1):"0.0";return e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-xl mb-2",children:"Customer Reviews"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((t,r)=>e.jsx(_e,{className:"w-5 h-5 "+(r<Math.round(parseFloat(g))?"fill-yellow-400 text-yellow-400":"text-gray-600")},r))}),e.jsxs("span",{className:"text-gray-300",children:[g," out of 5"]}),e.jsxs("span",{className:"text-gray-500",children:["(",i.length," reviews)"]})]})]}),!h&&e.jsxs("button",{onClick:()=>{n?m(!0):a()},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(fe,{className:"w-4 h-4"}),"Write a Review"]})]}),h&&e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n){p(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/reviews`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({productId:t,userName:n.user_metadata?.name||n.email.split("@")[0],userEmail:n.email,rating:o,comment:c})});(await e.json()).success&&(u(""),l(5),m(!1),y())}catch(r){}finally{p(!1)}}else a()},className:"mb-6 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-white mb-3",children:"Write Your Review"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Rating"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(t=>e.jsx("button",{type:"button",onClick:()=>l(t),onMouseEnter:()=>x(t),onMouseLeave:()=>x(0),className:"transition-transform hover:scale-110",children:e.jsx(_e,{className:"w-8 h-8 "+(t<=(f||o)?"fill-yellow-400 text-yellow-400":"text-gray-600")})},t))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Review"}),e.jsx("textarea",{value:c,onChange:e=>u(e.target.value),required:!0,rows:4,placeholder:"Share your experience with this product...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:d,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-2 rounded-lg transition-all",children:d?"Submitting...":"Submit Review"}),e.jsx("button",{type:"button",onClick:()=>{m(!1),u(""),l(5)},className:"bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-lg transition-all",children:"Cancel"})]})]}),e.jsx("div",{className:"space-y-4",children:0===i.length?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(fe,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No reviews yet. Be the first to review this product!"})]}):i.map(t=>e.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(He,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white",children:t.userName}),e.jsx("p",{className:"text-gray-500 text-sm",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((r,n)=>e.jsx(_e,{className:"w-4 h-4 "+(n<t.rating?"fill-yellow-400 text-yellow-400":"text-gray-600")},n))})]}),e.jsx("p",{className:"text-gray-300 ml-13",children:t.comment})]},t.id))})]})}function gt({productId:t,onProductClick:n,onAddToCart:a,onToggleWishlist:i,wishlistItems:s}){const[o,l]=r.useState([]),[c,u]=r.useState(!0);r.useEffect(()=>{d()},[t]);const d=async()=>{try{u(!0);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products/${t}/recommendations`,{headers:{Authorization:`Bearer ${st}`}}),r=await e.json();r.success&&l(r.recommendations)}catch(e){}finally{u(!1)}};return c?e.jsxs("div",{className:"py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(De,{className:"w-6 h-6 text-purple-500"}),e.jsx("h2",{className:"text-white text-2xl",children:"You Might Also Like"})]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})]}):0===o.length?null:e.jsxs("div",{className:"py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(De,{className:"w-6 h-6 text-purple-500"}),e.jsx("h2",{className:"text-white text-2xl",children:"You Might Also Like"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((t,r)=>e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},children:e.jsx(ct,{product:t,onAddToCart:()=>a(t),onViewDetails:()=>n(t),onToggleWishlist:()=>i(t),isInWishlist:s.some(e=>e.id===t.id)})},t.id))})]})}const bt=Object.freeze(Object.defineProperty({__proto__:null,ProductRecommendations:gt},Symbol.toStringTag,{value:"Module"}));function vt({product:t,isOpen:n,onClose:a,onAddToCart:i,onToggleWishlist:s,wishlistItems:o,user:l,onLoginClick:c}){const[u,d]=r.useState(0),p=r.useRef(null);if(r.useEffect(()=>{d(0)},[t?.id,n]),r.useEffect(()=>{if(!n||!t)return void(p.current&&(clearInterval(p.current),p.current=null));const e=(t.images&&t.images.length?t.images:[t.image]).filter(Boolean),r=e.length?e:["https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080"];if(!(r.length<=1))return p.current=window.setInterval(()=>{d(e=>(e+1)%r.length)},5e3),()=>{p.current&&(clearInterval(p.current),p.current=null)};p.current&&(clearInterval(p.current),p.current=null)},[n,t?.images,t?.image]),!n||!t)return null;const h=(t.images&&t.images.length?t.images:[t.image]).filter(Boolean),m=h.length?h:["https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080"];return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-lg md:rounded-2xl w-full md:max-w-6xl h-[95vh] md:h-[90vh] flex flex-col overflow-hidden shadow-2xl shadow-purple-900/50",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 md:p-6 border-b border-purple-500/30 bg-black/50 backdrop-blur-sm flex-shrink-0",children:[e.jsx("h2",{className:"text-white text-lg md:text-xl",children:"Product Details"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"p-3 md:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-6 mb-2 md:mb-8",children:[e.jsx("div",{className:"w-full md:flex-1 md:min-w-0 md:max-h-[60vh]",children:e.jsxs("div",{className:"relative rounded-lg md:rounded-xl overflow-hidden bg-black/50",children:[e.jsx("div",{className:"w-full h-64 md:aspect-square md:h-auto flex items-center justify-center",children:e.jsx("img",{src:m[Math.min(u,m.length-1)],alt:t.name,className:"w-full h-full object-contain"})}),0===t.stock&&e.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg md:text-xl",children:"Out of Stock"})}),m.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-1 md:pl-2 z-20",children:e.jsx("button",{type:"button",onClick:()=>{m.length&&d(e=>(e-1+m.length)%m.length)},className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Previous image",children:e.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1 md:pr-2 z-20",children:e.jsx("button",{type:"button",onClick:()=>{m.length&&d(e=>(e+1)%m.length)},className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Next image",children:e.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]})]})}),m.length>0&&e.jsx("div",{className:"hidden md:flex md:flex-col gap-2 overflow-y-auto max-h-[32rem] w-32 flex-shrink-0",children:m.map((t,r)=>e.jsx("button",{type:"button",onClick:()=>d(r),className:"w-24 h-24 rounded-lg overflow-hidden border-2 transition-all hover:scale-105 cursor-pointer shrink-0 "+(u===r?"border-purple-500 shadow-lg shadow-purple-900/50 ring-2 ring-purple-400":"border-purple-500/30 hover:border-purple-400"),"aria-label":`View image ${r+1}`,children:e.jsx("img",{src:t,alt:`Thumbnail ${r+1}`,className:"w-full h-full object-cover pointer-events-none"})},`thumb-${r}-${t.substring(0,20)}`))})]}),m.length>1&&e.jsx("div",{className:"md:hidden flex gap-1 overflow-x-auto pb-2 mb-4 scroll-smooth -mx-3 px-3",children:m.map((t,r)=>e.jsx("button",{type:"button",onClick:()=>d(r),className:"w-12 h-12 md:w-24 md:h-24 rounded-lg overflow-hidden border-2 transition-all hover:scale-105 cursor-pointer shrink-0 "+(u===r?"border-purple-500 shadow-lg shadow-purple-900/50 ring-2 ring-purple-400":"border-purple-500/30 hover:border-purple-400"),"aria-label":`View image ${r+1}`,children:e.jsx("img",{src:t,alt:`Thumbnail ${r+1}`,className:"w-full h-full object-cover pointer-events-none"})},`thumb-mobile-${r}-${t.substring(0,20)}`))}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-xl md:text-3xl mb-1 md:mb-4",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1 md:mb-4",children:[[...Array(5)].map((t,r)=>e.jsx(_e,{className:"w-3 h-3 md:w-5 md:h-5 fill-yellow-400 text-yellow-400"},r)),e.jsx("span",{className:"text-gray-400 ml-1 text-xs md:text-sm",children:"(Reviews)"})]}),e.jsx("p",{className:"text-gray-300 mb-2 md:mb-6 leading-relaxed text-xs md:text-base",children:t.description}),e.jsxs("div",{className:"mb-2 md:mb-6",children:[e.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5",children:"Category"}),e.jsx("p",{className:"text-purple-400 capitalize text-xs md:text-base",children:t.category})]}),e.jsxs("div",{className:"mb-2 md:mb-6",children:[e.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5",children:"Stock Status"}),e.jsx("p",{className:"text-xs md:text-base "+(t.stock>0?"text-green-400":"text-red-400"),children:t.stock>0?`${t.stock} units available`:"Out of stock"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2 md:mb-6 p-2 md:p-6 bg-purple-900/20 border border-purple-500/30 rounded-lg md:rounded-xl gap-2 md:gap-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5",children:"Price"}),e.jsxs("p",{className:"text-xl md:text-4xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["‚Çπ",t.price.toLocaleString()]})]}),e.jsxs("button",{onClick:()=>{i(t),a()},disabled:0===t.stock,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 md:px-8 py-1.5 md:py-4 rounded-lg flex items-center gap-1 md:gap-3 transition-all text-xs md:text-lg w-full md:w-auto justify-center md:justify-start",children:[e.jsx(Ie,{className:"w-3 h-3 md:w-5 md:h-5"}),"Add to Cart"]})]})]}),e.jsx(yt,{productId:t.id,user:l,onLoginClick:()=>{a(),c()}}),e.jsx("div",{className:"mt-6 md:mt-12 pt-4 md:pt-8 border-t border-purple-500/20",children:e.jsx(gt,{productId:t.id,onProductClick:handleProductClick,onAddToCart:i,onToggleWishlist:s,wishlistItems:o})})," "]})," "]})]})]})}function jt({isOpen:t,onClose:n,onSuccess:a}){const[i,s]=r.useState({name:"",email:"",phone:"",clothingType:"tshirt",size:"M",color:"",quantity:"1",instructions:"",address:""}),[o,l]=r.useState([]),[c,u]=r.useState([]),[d,p]=r.useState(!1);return t?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-white",children:"Custom Clothing Design"})]}),e.jsx("button",{onClick:n,className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.length){p(!0);try{const e=[];for(const n of o){const t=new FormData;t.append("file",n),t.append("folder","custom-designs");const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${st}`},body:t});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to upload images")}const a=await r.json();e.push(a.imageUrl)}const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({...i,quantity:parseInt(i.quantity),designImages:e})}),r=await t.json();r.success?(alert(`Custom clothing request submitted successfully! Request ID: ${r.requestId}\nWe'll contact you within 24-48 hours with a quote.`),s({name:"",email:"",phone:"",clothingType:"tshirt",size:"M",color:"",quantity:"1",instructions:"",address:""}),l([]),u([]),a(),n()):alert(r.error||"Failed to submit request. Please try again.")}catch(t){alert("Failed to submit request. Please try again.")}finally{p(!1)}}else alert("Please upload at least one design image")},className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-white mb-2 flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-purple-400"}),"How It Works"]}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Upload your design images (max 5 images)"}),e.jsx("li",{children:"Fill in your details and preferences"}),e.jsx("li",{children:"Our team will review and contact you with a quote within 24-48 hours"}),e.jsx("li",{children:"Once approved, we'll create your custom clothing"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-3",children:"Upload Design Images * (Max 5)"}),c.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:c.map((t,r)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t,alt:`Design ${r+1}`,className:"w-full h-32 object-cover rounded-lg border border-purple-500/30"}),e.jsx("button",{type:"button",onClick:()=>(e=>{l(o.filter((t,r)=>r!==e)),u(c.filter((t,r)=>r!==e))})(r),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ge,{className:"w-4 h-4"})})]},r))}),o.length<5&&e.jsxs("label",{className:"w-full bg-purple-900/20 border-2 border-dashed border-purple-500/30 rounded-lg p-8 cursor-pointer hover:bg-purple-900/30 transition-colors flex flex-col items-center justify-center gap-3",children:[e.jsx(qe,{className:"w-12 h-12 text-purple-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Click to upload design images"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"PNG, JPG up to 5MB each"})]}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files||[]);if(t.length+o.length>5)return void alert("Maximum 5 images allowed");l([...o,...t]);const r=t.map(e=>URL.createObjectURL(e));u([...c,...r])},className:"hidden"})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[o.length," of 5 images uploaded"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customName",className:"block text-gray-300 mb-2",children:"Full Name *"}),e.jsx("input",{id:"customName",name:"customName",type:"text",value:i.name,onChange:e=>s({...i,name:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter your name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customEmail",className:"block text-gray-300 mb-2",children:"Email *"}),e.jsx("input",{id:"customEmail",name:"customEmail",type:"email",value:i.email,onChange:e=>s({...i,email:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customPhone",className:"block text-gray-300 mb-2",children:"Phone Number *"}),e.jsx("input",{id:"customPhone",name:"customPhone",type:"tel",value:i.phone,onChange:e=>s({...i,phone:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"+91 XXXXXXXXXX"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customClothingType",className:"block text-gray-300 mb-2",children:"Clothing Type *"}),e.jsxs("select",{id:"customClothingType",name:"customClothingType",value:i.clothingType,onChange:e=>s({...i,clothingType:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"tshirt",children:"T-Shirt"}),e.jsx("option",{value:"hoodie",children:"Hoodie"}),e.jsx("option",{value:"sweatshirt",children:"Sweatshirt"}),e.jsx("option",{value:"jacket",children:"Jacket"}),e.jsx("option",{value:"tank",children:"Tank Top"}),e.jsx("option",{value:"longsleeve",children:"Long Sleeve"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customSize",className:"block text-gray-300 mb-2",children:"Size *"}),e.jsxs("select",{id:"customSize",name:"customSize",value:i.size,onChange:e=>s({...i,size:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"XS",children:"XS"}),e.jsx("option",{value:"S",children:"S"}),e.jsx("option",{value:"M",children:"M"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"XL",children:"XL"}),e.jsx("option",{value:"XXL",children:"XXL"}),e.jsx("option",{value:"XXXL",children:"3XL"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customColor",className:"block text-gray-300 mb-2",children:"Preferred Color"}),e.jsx("input",{id:"customColor",name:"customColor",type:"text",value:i.color,onChange:e=>s({...i,color:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Black, White, Purple"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customQuantity",className:"block text-gray-300 mb-2",children:"Quantity *"}),e.jsx("input",{id:"customQuantity",name:"customQuantity",type:"number",value:i.quantity,onChange:e=>s({...i,quantity:e.target.value}),required:!0,min:"1",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customInstructions",className:"block text-gray-300 mb-2",children:"Special Instructions"}),e.jsx("textarea",{id:"customInstructions",name:"customInstructions",value:i.instructions,onChange:e=>s({...i,instructions:e.target.value}),rows:4,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Any specific requirements, placement details, or special requests..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customAddress",className:"block text-gray-300 mb-2",children:"Delivery Address *"}),e.jsx("textarea",{id:"customAddress",name:"customAddress",value:i.address,onChange:e=>s({...i,address:e.target.value}),required:!0,rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter complete delivery address..."})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-purple-400 mb-2",children:"Pricing Information"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Custom clothing prices vary based on design complexity, quantity, and clothing type. Our team will provide you with a detailed quote within 24-48 hours after reviewing your design."})]}),e.jsx("button",{type:"submit",disabled:d||0===o.length,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-4 rounded-lg transition-all text-lg flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"w-5 h-5"}),"Submit Custom Design Request"]})})]})]})}):null}function wt(){return e.jsx("div",{className:"w-full py-8 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border border-purple-500/30 border-t-purple-500"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]})})}r.lazy(()=>j(()=>Promise.resolve().then(()=>bt),void 0).then(e=>({default:e.ProductRecommendations})));const Nt=r.lazy(()=>j(()=>import("./AboutUs-DSXIIPla.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.AboutUs}))),kt=r.lazy(()=>j(()=>import("./ContactUs-D6wd4kr3.js"),__vite__mapDeps([5,1,2,3,4])).then(e=>({default:e.ContactUs}))),St=r.lazy(()=>j(()=>import("./NewsletterSubscribe-DWUKgxbd.js"),__vite__mapDeps([6,1,2,3,4])).then(e=>({default:e.NewsletterSubscribe}))),Ct={Package:ye,Swords:Le,Sparkles:De,Image:ae,Shirt:Te,Bookmark:_},Ot=[{icon:"Package",title:"Figures",description:"Premium anime action figures and statues",value:"figures"},{icon:"Swords",title:"Katana",description:"Authentic Japanese swords and replicas",value:"katana"},{icon:"Sparkles",title:"Accessories",description:"Keychains, pins, and more collectibles",value:"accessories"},{icon:"Image",title:"Posters",description:"High-quality anime art prints",value:"posters"},{icon:"Shirt",title:"Clothing",description:"Anime-themed apparel and cosplay",value:"clothing"},{icon:"Bookmark",title:"Collectibles",description:"Limited edition merchandise",value:"collectibles"}];function Et(){const{cartItems:t,addToCart:a,removeFromCart:s,updateQuantity:o,isCartOpen:l,setIsCartOpen:c}=rt(),[u,d]=r.useState([]),[p,h]=r.useState([]),[m,f]=r.useState(null),[x,y]=r.useState(null),[g,b]=r.useState([]),[v]=r.useState(12),[j,w]=r.useState(1),[N,k]=r.useState([]),[S,C]=r.useState(!1),[O,E]=r.useState(!1),[P,A]=r.useState(!1),[T,M]=r.useState(!1),[I,D]=r.useState(""),[_,L]=r.useState(null),[z,$]=r.useState(!1),[B,R]=r.useState(null),[F,U]=r.useState(!1),[q,H]=r.useState(!1),[W,G]=r.useState([]),[V,X]=r.useState({}),Y=n(),{showToast:K}=Ze(),J=r.useRef(!1),[Z,Q]=r.useState("undefined"!=typeof window&&window.innerWidth<768);r.useEffect(()=>{J.current||(J.current=!0,ie(),ae(),ne(),ee())},[]);const ee=()=>{const e=localStorage.getItem("animedropzone_wishlist");if(e)try{k(JSON.parse(e))}catch(t){}};r.useEffect(()=>{localStorage.setItem("animedropzone_wishlist",JSON.stringify(N))},[N]);const te=e=>{k(t=>t.find(t=>t.id===e.id)?(K(`Removed ${e.name} from wishlist`,"info",3e3),t.filter(t=>t.id!==e.id)):(K(`Added ${e.name} to wishlist!`,"info",3e3),[...t,e]))},re=e=>N.some(t=>t.id===e),ne=async()=>{try{const e=localStorage.getItem("animedropzone_categories"),t=localStorage.getItem("animedropzone_categories_time"),r=Date.now();if(e&&t&&r-parseInt(t)<3e5){const t=JSON.parse(e).map(e=>({...e,icon:Ct[e.iconName]||ye}));return void G(t)}const n=new AbortController,a=setTimeout(()=>n.abort(),5e3),i=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${st}`},signal:n.signal});if(clearTimeout(a),i.ok){const e=await i.json();if(e.success&&e.categories&&e.categories.length>0){const t=e.categories.sort((e,t)=>e.order-t.order).map(e=>({icon:Ct[e.icon]||ye,title:e.name,description:e.description,value:e.slug}));G(t);const r=t.map(e=>({...e,icon:void 0,iconName:Object.keys(Ct).find(t=>Ct[t]===e.icon)||"Package"}));localStorage.setItem("animedropzone_categories",JSON.stringify(r)),localStorage.setItem("animedropzone_categories_time",Date.now().toString());const n={};e.categories.forEach(e=>{e.subcategories&&e.subcategories.length>0&&(n[e.slug]=e.subcategories)}),X(n)}else G(Ot.map(e=>({icon:Ct[e.icon]||ye,title:e.title,description:e.description,value:e.value})))}else G(Ot.map(e=>({icon:Ct[e.icon]||ye,title:e.title,description:e.description,value:e.value})))}catch(e){const t=localStorage.getItem("animedropzone_categories");G(t?JSON.parse(t):Ot.map(e=>({icon:Ct[e.icon]||ye,title:e.title,description:e.description,value:e.value})))}};r.useEffect(()=>{if(!u||0===u.length)return h([]),void b([]);let e=[...u];m&&(e=e.filter(e=>e.category&&e.category.toLowerCase()===m.toLowerCase())),x&&(e=e.filter(e=>{const t=e.subcategory;return t&&t.toLowerCase()===x.toLowerCase()})),h(e),w(1);const t=0*v,r=t+v;b(e.slice(t,r))},[m,x,u,v]),r.useEffect(()=>{const e=(j-1)*v,t=e+v;b(p.slice(e,t))},[j,p,v]);const ae=async()=>{const{data:e}=await pt.auth.getSession();e.session&&L(e.session.user)},ie=async()=>{try{const e=new AbortController,t=setTimeout(()=>e.abort(),8e3),r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${st}`},signal:e.signal});clearTimeout(t);const n=await r.json();if(n.success&&Array.isArray(n.products)){const e=n.products.filter(e=>e&&e.id&&e.name);d(e)}else d([])}catch(e){d([])}},se=e=>{a(e),K(`${e.name} added to cart!`,"success",3e3)},oe=t.reduce((e,t)=>e+t.price*t.quantity,0);return e.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[e.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),e.jsx(at,{cartCount:t.reduce((e,t)=>e+t.quantity,0),wishlistCount:N.length,onCartClick:()=>c(!0),onWishlistClick:()=>C(!0),onLoginClick:()=>E(!0),user:_,onLogout:async()=>{await pt.auth.signOut(),L(null)}}),e.jsxs("main",{id:"home",children:[e.jsx(ot,{onShopNow:()=>{W.length>0&&(f(W[0].value),y("")),setTimeout(()=>{document.getElementById("shop")?.scrollIntoView({behavior:"smooth"})},150)}}),e.jsx("section",{id:"categories",className:"py-12 md:py-20 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx("h2",{className:"mb-2 md:mb-4 text-2xl md:text-4xl bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Browse Categories"}),e.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto",children:"Explore our wide range of anime merchandise categories"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:W.filter(e=>e&&e.icon&&e.value&&e.title).map(t=>{try{return e.jsx("div",{children:e.jsx(lt,{icon:t.icon,title:t.title,description:t.description,onClick:()=>(e=>{Y(`/category/${e}`)})(t.value)})},t.value)}catch(r){return null}})}),(m||x)&&e.jsxs("div",{className:"mt-6 text-center space-x-4",children:[x&&e.jsx("button",{onClick:()=>y(null),className:"text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear subcategory filter"}),m&&e.jsx("button",{onClick:()=>{f(null),y(null)},className:"text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear all filters"})]})]})}),!m&&!x&&e.jsx("section",{id:"featured",className:"py-20 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Latest Products"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Discover our handpicked selection of premium anime merchandise"})]}),u.length>=4?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.sort((e,t)=>{const r=e.createdAt?new Date(e.createdAt).getTime():parseInt(e.id)||0;return(t.createdAt?new Date(t.createdAt).getTime():parseInt(t.id)||0)-r}).slice(0,4).map(t=>e.jsx(ct,{product:t,onAddToCart:se,onViewDetails:()=>{R(t),U(!0)},onToggleWishlist:te,isInWishlist:re(t.id)},t.id))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(t=>e.jsx(ct,{product:t,onAddToCart:se,onViewDetails:()=>{R(t),U(!0)},onToggleWishlist:te,isInWishlist:re(t.id)},t.id))})]})}),(m||x)&&e.jsx("section",{id:"shop",className:"py-20 px-4 bg-gradient-to-b from-transparent to-purple-900/10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:x?`${x.charAt(0).toUpperCase()+x.slice(1)}`:m?`${W.find(e=>e.value===m)?.title} Collection`:"All Products"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:x?`Browse ${x} products`:m?`Browse our collection of ${W.find(e=>e.value===m)?.title.toLowerCase()}`:"Discover our handpicked selection of premium anime merchandise"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g&&0!==g.length?g.filter(e=>e&&e.id&&e.name).map(t=>e.jsx(ct,{product:t,onAddToCart:se,onViewDetails:()=>{R(t),U(!0)},onToggleWishlist:te,isInWishlist:re(t.id)},t.id)):e.jsx("div",{className:"col-span-full text-center py-20",children:e.jsx("p",{className:"text-gray-400 text-lg mb-4",children:u&&0!==u.length?"No products found in this category.":"No products available yet."})})}),p.length>v&&e.jsx("div",{className:"mt-12 flex justify-center gap-2",children:Array.from({length:Math.ceil(p.length/v)},(e,t)=>t+1).map(t=>e.jsx("button",{onClick:()=>w(t),className:"px-4 py-2 rounded-lg transition-all "+(j===t?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:t},t))})]})}),e.jsx(r.Suspense,{fallback:e.jsx(wt,{}),children:e.jsx(Nt,{})}),e.jsx(r.Suspense,{fallback:e.jsx(wt,{}),children:e.jsx(kt,{})}),e.jsx(r.Suspense,{fallback:e.jsx(wt,{}),children:e.jsx(St,{})}),e.jsx("footer",{className:"border-t border-purple-900/30 py-12 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(nt,{size:"md"}),e.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]}),e.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for premium anime merchandise and collectibles."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white mb-4",children:"Shop"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"#shop",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"All Products"}),e.jsx("a",{href:"#categories",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Categories"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white mb-4",children:"About"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"#about",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"About Us"}),e.jsx("a",{href:"#contact",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Contact Us"}),e.jsx("button",{onClick:()=>Y("/track-order"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Track Order"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white mb-4",children:"Legal"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{to:"/privacy-policy",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Privacy Policy"}),e.jsx(i,{to:"/terms-of-service",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Terms of Service"})]})]})]}),e.jsx("div",{className:"border-t border-purple-900/30 mt-8 pt-8 text-center text-gray-400",children:e.jsx("p",{children:"¬© 2025 animedropzone. All rights reserved."})})]})})]}),e.jsx(ut,{isOpen:l,onClose:()=>c(!1),items:t,onUpdateQuantity:o,onRemoveItem:s,onCheckout:()=>{if(!_)return c(!1),$(!0),void E(!0);c(!1),A(!0)},onProductClick:e=>{c(!1),Y(`/product/${e.id}`)}}),e.jsx(dt,{isOpen:S,onClose:()=>C(!1),wishlistItems:N,onRemoveFromWishlist:e=>{const t=N.find(t=>t.id===e);k(t=>t.filter(t=>t.id!==e)),t&&K(`Removed ${t.name} from wishlist`,"info",3e3)},onAddToCart:se,onViewProduct:e=>{R(e),U(!0)}}),e.jsx(ht,{isOpen:O,onClose:()=>E(!1),onAuthSuccess:e=>{L(e),z&&($(!1),A(!0))},showCheckoutMessage:z}),e.jsx(ft,{isOpen:P,onClose:()=>A(!1),items:t,total:oe,onSuccess:()=>{A(!1)},user:_}),e.jsx(xt,{isOpen:T,onClose:()=>M(!1),category:I,subcategories:V[I]||[],onSelectSubcategory:e=>{f(I),y(e),document.getElementById("shop")?.scrollIntoView({behavior:"smooth"})}}),e.jsx(vt,{isOpen:F,onClose:()=>U(!1),product:B,onAddToCart:se,onToggleWishlist:te,wishlistItems:N,user:_,onLoginClick:()=>E(!0)}),e.jsx(jt,{isOpen:q,onClose:()=>H(!1),onSuccess:()=>{K("Custom clothing request submitted successfully! We'll get back to you soon with a quote.","success",6e3)}})]})}function Pt({coupons:t,onRefresh:n}){const[a,i]=r.useState(!1),[s,o]=r.useState(null),[l,c]=r.useState({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Coupon Management"}),e.jsx("p",{className:"text-gray-400",children:"Create and manage discount coupons for your store"})]}),!a&&e.jsxs("button",{onClick:()=>{i(!0),o(null),c({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0})},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(we,{className:"w-5 h-5"}),"Add New Coupon"]})]}),a?e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-white mb-6",children:s?"Edit Coupon":"Add New Coupon"}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=s?`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/coupons/${s.id}`:`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,t=await fetch(e,{method:s?"PUT":"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify(l)}),r=await t.json();r.success?(c({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0}),o(null),i(!1),n()):alert(r.error||"Failed to save coupon")}catch(t){alert("Failed to save coupon. Please try again.")}},className:"space-y-4 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Coupon Code *"}),e.jsx("input",{type:"text",value:l.code,onChange:e=>c({...l,code:e.target.value.toUpperCase()}),required:!0,placeholder:"e.g., SAVE20, ANIME50",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500 uppercase"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter a unique code that customers will use"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Discount Type *"}),e.jsxs("select",{value:l.discountType,onChange:e=>c({...l,discountType:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount (‚Çπ)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Discount Value * ","percentage"===l.discountType?"(%)":"(‚Çπ)"]}),e.jsx("input",{type:"number",value:l.discountValue,onChange:e=>c({...l,discountValue:e.target.value}),required:!0,min:"0",max:"percentage"===l.discountType?"100":void 0,step:"0.01",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Minimum Purchase (‚Çπ)"}),e.jsx("input",{type:"number",value:l.minPurchase,onChange:e=>c({...l,minPurchase:e.target.value}),min:"0",step:"0.01",placeholder:"0 (No minimum)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),"percentage"===l.discountType&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Maximum Discount Amount (‚Çπ)"}),e.jsx("input",{type:"number",value:l.maxDiscount,onChange:e=>c({...l,maxDiscount:e.target.value}),min:"0",step:"0.01",placeholder:"Leave empty for no limit",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cap the maximum discount for percentage-based coupons"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Expiry Date & Time"}),e.jsx("input",{type:"datetime-local",value:l.expiryDate,onChange:e=>c({...l,expiryDate:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Leave empty for no expiry"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Usage Limit"}),e.jsx("input",{type:"number",value:l.usageLimit,onChange:e=>c({...l,usageLimit:e.target.value}),min:"0",placeholder:"Unlimited",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max number of times code can be used"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:e=>c({...l,isActive:e.target.checked}),className:"w-5 h-5 bg-purple-900/20 border border-purple-500/30 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"text-gray-300",children:"Active (Customers can use this coupon)"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all",children:s?"Update Coupon":"Create Coupon"}),e.jsx("button",{type:"button",onClick:()=>{i(!1),o(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all",children:"Cancel"})]})]})]}):e.jsx("div",{className:"space-y-4",children:0===t.length?e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:[e.jsx(ze,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"No coupons yet. Create your first discount coupon!"})]}):t.map(t=>e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:"percentage"===t.discountType?e.jsx(ve,{className:"w-8 h-8"}):e.jsx(ze,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-white text-xl font-mono",children:t.code}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs "+(t.isActive?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-gray-900/30 text-gray-400 border border-gray-500/30"),children:t.isActive?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-purple-400 mb-3",children:["percentage"===t.discountType?`${t.discountValue}% OFF`:`‚Çπ${t.discountValue} OFF`,t.maxDiscount&&"percentage"===t.discountType&&e.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Max ‚Çπ",t.maxDiscount,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Min Purchase"}),e.jsxs("p",{className:"text-gray-300",children:["‚Çπ",t.minPurchase.toLocaleString()]})]}),t.expiryDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Expires On"}),e.jsx("p",{className:"text-gray-300",children:new Date(t.expiryDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Usage"}),e.jsxs("p",{className:"text-gray-300",children:[t.usageCount," / ",t.usageLimit||"‚àû"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Created"}),e.jsx("p",{className:"text-gray-300",children:new Date(t.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>(e=>{o(e),c({code:e.code,discountType:e.discountType,discountValue:e.discountValue.toString(),minPurchase:e.minPurchase.toString(),maxDiscount:e.maxDiscount?.toString()||"",expiryDate:e.expiryDate?new Date(e.expiryDate).toISOString().slice(0,16):"",usageLimit:e.usageLimit?.toString()||"",isActive:e.isActive}),i(!0)})(t),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx(be,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this coupon?"))try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/coupons/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}});(await t.json()).success&&n()}catch(t){}})(t.id),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx($e,{className:"w-4 h-4"}),"Delete"]})]})]})},t.id))})]})}function At(){const[t,n]=r.useState([]),[a,i]=r.useState(!0),[s,o]=r.useState(null),[l,c]=r.useState(!1),[u,d]=r.useState(!1),[p,h]=r.useState(!1),[m,f]=r.useState(""),[x,y]=r.useState(""),[g,b]=r.useState(!1);r.useEffect(()=>{v()},[]);const v=async()=>{i(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&n(t.requests||[])}catch(e){}finally{i(!1)}},j=async(e,t)=>{try{const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({status:t})});(await r.json()).success&&v()}catch(r){}},w=e=>{switch(e){case"pending":return"bg-yellow-900/30 text-yellow-400 border-yellow-500/50";case"quoted":return"bg-blue-900/30 text-blue-400 border-blue-500/50";case"approved":return"bg-green-900/30 text-green-400 border-green-500/50";case"in-production":return"bg-purple-900/30 text-purple-400 border-purple-500/50";case"completed":return"bg-emerald-900/30 text-emerald-400 border-emerald-500/50";case"cancelled":return"bg-red-900/30 text-red-400 border-red-500/50";default:return"bg-gray-900/30 text-gray-400 border-gray-500/50"}},N=t=>{switch(t){case"pending":default:return e.jsx(H,{className:"w-4 h-4"});case"quoted":case"approved":case"completed":return e.jsx($,{className:"w-4 h-4"});case"in-production":return e.jsx(ye,{className:"w-4 h-4"});case"cancelled":return e.jsx(q,{className:"w-4 h-4"})}};return a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Loading custom clothing requests..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-white text-2xl flex items-center gap-3",children:[e.jsx(Te,{className:"w-7 h-7 text-purple-400"}),"Custom Clothing Requests"]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Total Requests: ",t.length]})]}),0===t.length?e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-xl p-12 text-center",children:[e.jsx(Te,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No custom clothing requests yet"})]}):e.jsx("div",{className:"grid gap-4",children:t.map(t=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-500/30 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-white text-lg",children:t.requestId}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs border flex items-center gap-1 ${w(t.status)}`,children:[N(t.status),t.status.toUpperCase()]})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:new Date(t.createdAt).toLocaleString()})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Customer"}),e.jsx("p",{className:"text-white",children:t.customerInfo.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.customerInfo.email}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.customerInfo.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Order Details"}),e.jsxs("p",{className:"text-white",children:[t.clothingDetails.type," - Size ",t.clothingDetails.size]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Color: ",t.clothingDetails.color]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Quantity: ",t.clothingDetails.quantity]})]})]}),t.quotedPrice&&e.jsx("div",{className:"mb-4 bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-green-400",children:["Quoted Price: ‚Çπ",t.quotedPrice.toFixed(2)]})}),"cancelled"===t.status&&t.cancellationReason&&e.jsx("div",{className:"mb-4 bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-red-400 text-sm",children:[e.jsx("strong",{children:"Cancellation Reason:"})," ",t.cancellationReason]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>{o(t),c(!0)},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"View Details"]}),"pending"===t.status&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{o(t),h(!0)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Send Quote"]}),e.jsxs("button",{onClick:()=>{o(t),d(!0)},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Cancel Order"]})]}),"quoted"===t.status&&e.jsx("button",{onClick:()=>j(t.id,"approved"),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg text-sm transition-colors",children:"Mark as Approved"}),"approved"===t.status&&e.jsx("button",{onClick:()=>j(t.id,"in-production"),className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm transition-colors",children:"Start Production"}),"in-production"===t.status&&e.jsx("button",{onClick:()=>j(t.id,"completed"),className:"bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-lg text-sm transition-colors",children:"Mark as Completed"})]})]},t.id))}),l&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsxs("h2",{className:"text-white text-xl",children:["Request Details - ",s.requestId]}),e.jsx("button",{onClick:()=>c(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white mb-3",children:["Design Images (",s.designImages.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.designImages.map((t,r)=>e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx("img",{src:t,alt:`Design ${r+1}`,className:"w-full h-48 object-cover rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors"})},r))})]}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white mb-3",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Name"}),e.jsx("p",{className:"text-white",children:s.customerInfo.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Email"}),e.jsx("p",{className:"text-white",children:s.customerInfo.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Phone"}),e.jsx("p",{className:"text-white",children:s.customerInfo.phone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-gray-400",children:"Delivery Address"}),e.jsx("p",{className:"text-white",children:s.customerInfo.address})]})]})]}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white mb-3",children:"Clothing Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Type"}),e.jsx("p",{className:"text-white",children:s.clothingDetails.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Size"}),e.jsx("p",{className:"text-white",children:s.clothingDetails.size})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Color"}),e.jsx("p",{className:"text-white",children:s.clothingDetails.color})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Quantity"}),e.jsx("p",{className:"text-white",children:s.clothingDetails.quantity})]})]})]}),s.instructions&&e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white mb-2",children:"Special Instructions"}),e.jsx("p",{className:"text-gray-300 text-sm",children:s.instructions})]}),e.jsx("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Status"}),e.jsxs("span",{className:`inline-flex px-3 py-1 rounded-full text-xs border items-center gap-1 ${w(s.status)}`,children:[N(s.status),s.status.toUpperCase()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Quoted Price"}),e.jsx("p",{className:"text-white",children:s.quotedPrice?`‚Çπ${s.quotedPrice}`:"Not quoted yet"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Created"}),e.jsx("p",{className:"text-white",children:new Date(s.createdAt).toLocaleString()})]})]})})]})]})}),u&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-white text-xl",children:"Cancel Order"})]}),e.jsx("button",{onClick:()=>d(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-white mb-2",children:"Are you sure you want to cancel this order?"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Request ID: ",s.requestId]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Customer: ",s.customerInfo.name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cancellation Reason * (Will be sent to customer)"}),e.jsx("textarea",{value:m,onChange:e=>f(e.target.value),rows:4,required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Sorry, we are currently out of stock for the requested clothing type. Please try again later or contact us for alternatives."})]}),e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[e.jsxs("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Customer will be notified via Email"]}),e.jsxs("p",{className:"text-yellow-400 text-sm flex items-center gap-2 mt-1",children:[e.jsx(me,{className:"w-4 h-4"}),"Customer will be notified via WhatsApp"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>d(!1),disabled:g,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Keep Order"}),e.jsx("button",{onClick:async()=>{if(s&&m.trim()){b(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${s.id}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({reason:m})}),t=await e.json();t.success?(alert("Order cancelled successfully! Customer has been notified via Email and WhatsApp."),f(""),d(!1),c(!1),o(null),v()):alert(t.error||"Failed to cancel order")}catch(e){alert("Failed to cancel order. Please try again.")}finally{b(!1)}}else alert("Please provide a cancellation reason")},disabled:g||!m.trim(),className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-5 h-5"}),"Cancel Order & Notify"]})})]})]})]})}),p&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-white text-xl",children:"Send Quote"})]}),e.jsx("button",{onClick:()=>h(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-white mb-2",children:"Request Details"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Request ID: ",s.requestId]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Customer: ",s.customerInfo.name]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[s.clothingDetails.type," - ",s.clothingDetails.size," x",s.clothingDetails.quantity]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Quoted Price (‚Çπ) *"}),e.jsx("input",{type:"number",value:x,onChange:e=>y(e.target.value),min:"0",step:"0.01",required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., 1499.00"})]}),e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[e.jsxs("p",{className:"text-green-400 text-sm flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Quote will be sent via Email"]}),e.jsxs("p",{className:"text-green-400 text-sm flex items-center gap-2 mt-1",children:[e.jsx(me,{className:"w-4 h-4"}),"Quote will be sent via WhatsApp"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(!1),disabled:g,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(s&&x.trim()){b(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${s.id}/quote`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({quotedPrice:parseFloat(x)})}),t=await e.json();if(t.success){let e="‚úÖ Quote sent successfully!\n\n";t.notifications?(e+="Notification Status:\n",t.notifications.email?e+="‚úÖ Email sent to customer\n":(e+=`‚ùå Email failed: ${t.notifications.emailError}\n`,e+="‚ö†Ô∏è NOTE: Resend free plan only sends to verified emails\n"),t.notifications.whatsapp?e+="‚úÖ WhatsApp sent to customer\n":t.notifications.whatsappError&&(e+=`‚ùå WhatsApp failed: ${t.notifications.whatsappError}\n`),e+="\nüí° Customer has approval buttons in email to accept/decline quote."):e+="Customer has been notified via Email and WhatsApp with approval buttons!",alert(e),y(""),h(!1),c(!1),o(null),v()}else alert(t.error||"Failed to send quote")}catch(e){alert("Failed to send quote. Please try again.")}finally{b(!1)}}else alert("Please provide a quoted price")},disabled:g||!x.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-5 h-5"}),"Send Quote & Notify"]})})]})]})]})})]})}function Tt({orders:t,onRefresh:n}){const[a,i]=r.useState(null),[s,o]=r.useState(!1),[l,c]=r.useState({amount:"",method:"cash",note:""}),[u,d]=r.useState(!1),p=t=>{const r=t.amountPaid||0,n=void 0!==t.amountDue?t.amountDue:t.total;return"paid"===t.paymentStatus||0===n?e.jsx("span",{className:"px-3 py-1 bg-green-900/30 border border-green-500/30 rounded-full text-green-400 text-sm",children:"Fully Paid"}):r>0?e.jsx("span",{className:"px-3 py-1 bg-yellow-900/30 border border-yellow-500/30 rounded-full text-yellow-400 text-sm",children:"Partially Paid"}):"cod"===t.paymentMethod?e.jsx("span",{className:"px-3 py-1 bg-orange-900/30 border border-orange-500/30 rounded-full text-orange-400 text-sm",children:"COD - Unpaid"}):e.jsx("span",{className:"px-3 py-1 bg-red-900/30 border border-red-500/30 rounded-full text-red-400 text-sm",children:"Unpaid"})},h=t.reduce((e,t)=>e+(t.amountPaid||0),0),m=t.reduce((e,t)=>e+(void 0!==t.amountDue?t.amountDue:t.total),0),f=t.filter(e=>"paid"===e.paymentStatus||void 0!==e.amountDue&&0===e.amountDue).length;return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(V,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl text-white",children:["‚Çπ",h.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(V,{className:"w-8 h-8 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Due"}),e.jsxs("p",{className:"text-2xl text-white",children:["‚Çπ",m.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(U,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Paid Orders"}),e.jsx("p",{className:"text-2xl text-white",children:f})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(V,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Orders"}),e.jsx("p",{className:"text-2xl text-white",children:t.length})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-white mb-4",children:"Payment Management"}),0===t.length?e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No orders to manage payments for."})}):t.map(t=>{const r=t.amountPaid||0,a=void 0!==t.amountDue?t.amountDue:t.total;return e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-white mb-2",children:["Order #",t.trackingId]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:t.customerInfo.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:t.customerInfo.phone}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[p(t),e.jsx("span",{className:"text-gray-400 text-sm",children:new Date(t.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl text-white mb-2",children:["‚Çπ",t.total.toLocaleString()]}),e.jsxs("p",{className:"text-green-400 text-sm",children:["Paid: ‚Çπ",r.toLocaleString()]}),e.jsxs("p",{className:"text-red-400 text-sm",children:["Due: ‚Çπ",a.toLocaleString()]})]})]}),t.paymentHistory&&t.paymentHistory.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-purple-900/10 border border-purple-500/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ne,{className:"w-4 h-4 text-purple-400"}),e.jsx("h5",{className:"text-white",children:"Payment History"})]}),e.jsx("div",{className:"space-y-2",children:t.paymentHistory.map((t,r)=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-300",children:new Date(t.date).toLocaleString()}),e.jsxs("span",{className:"text-gray-400 ml-3",children:["via ",t.method]}),t.note&&e.jsxs("span",{className:"text-gray-500 ml-2",children:["- ",t.note]})]}),e.jsxs("span",{className:"text-green-400",children:["+‚Çπ",t.amount.toLocaleString()]})]},r))})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[a>0&&e.jsxs("button",{onClick:()=>{i(t),c({amount:a.toString(),method:"cod"===t.paymentMethod?"cash":"online",note:""}),o(!0)},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(we,{className:"w-4 h-4"}),"Record Payment"]}),a>0&&e.jsxs("button",{onClick:()=>(async e=>{if(confirm("Mark this order as fully paid?"))try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/payments/mark-paid`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:e})}),r=await t.json();r.success?(alert("Order marked as paid!"),n()):alert(r.message||"Error updating payment status")}catch(t){alert("Error updating payment status. Please try again.")}})(t.id),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx(U,{className:"w-4 h-4"}),"Mark as Paid"]})]})]},t.id)})]}),s&&a&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>o(!1)}),e.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[e.jsx("h2",{className:"text-white",children:"Record Payment"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-purple-900/20 border border-purple-500/30 rounded-lg",children:[e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Order #",a.trackingId]}),e.jsx("p",{className:"text-white text-lg mb-2",children:a.customerInfo.name}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:["Total: ‚Çπ",a.total.toLocaleString()]}),e.jsxs("p",{className:"text-green-400 text-sm",children:["Paid: ‚Çπ",(a.amountPaid||0).toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Amount Due"}),e.jsxs("p",{className:"text-2xl text-red-400",children:["‚Çπ",(void 0!==a.amountDue?a.amountDue:a.total).toLocaleString()]})]})]})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a){d(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/payments/record`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:a.id,amount:parseFloat(l.amount),method:l.method,note:l.note})}),t=await e.json();t.success?(alert("Payment recorded successfully!"),o(!1),i(null),c({amount:"",method:"cash",note:""}),n()):alert(t.message||"Error recording payment")}catch(t){alert("Error recording payment. Please try again.")}finally{d(!1)}}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Amount (‚Çπ)"}),e.jsx("input",{type:"number",value:l.amount,onChange:e=>c({...l,amount:e.target.value}),required:!0,min:"0",max:void 0!==a.amountDue?a.amountDue:a.total,step:"0.01",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Method"}),e.jsxs("select",{value:l.method,onChange:e=>c({...l,method:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"online",children:"Online Payment"}),e.jsx("option",{value:"upi",children:"UPI"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"bank-transfer",children:"Bank Transfer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (Optional)"}),e.jsx("textarea",{value:l.note,onChange:e=>c({...l,note:e.target.value}),rows:2,placeholder:"Add any notes about this payment...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all",children:u?"Recording...":"Record Payment"}),e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all",children:"Cancel"})]})]})]})]})]})]})}function Mt(){const{success:t,error:n}=Ze(),[a,i]=r.useState([]),[s,o]=r.useState(!1),[l,c]=r.useState({}),[u,d]=r.useState("all"),p=async()=>{o(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/support/all`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&i(t.tickets)}catch(e){}finally{o(!1)}};r.useEffect(()=>{p()},[]);const h=a.filter(e=>"all"===u||e.status===u),m=a.filter(e=>"pending"===e.status).length,f=a.filter(e=>"answered"===e.status).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-white flex items-center gap-2",children:[e.jsx(fe,{className:"w-6 h-6"}),"Customer Support Tickets"]}),e.jsxs("button",{onClick:p,disabled:s,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-all disabled:opacity-50",children:[e.jsx(Ne,{className:"w-4 h-4 "+(s?"animate-spin":"")}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-black border border-purple-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Tickets"}),e.jsx("p",{className:"text-white text-2xl mt-1",children:a.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/30 to-black border border-yellow-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),e.jsx("p",{className:"text-yellow-400 text-2xl mt-1",children:m})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-black border border-green-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Answered"}),e.jsx("p",{className:"text-green-400 text-2xl mt-1",children:f})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>d("all"),className:"px-4 py-2 rounded-lg transition-all "+("all"===u?"bg-purple-600 text-white":"bg-purple-900/30 text-gray-400 hover:bg-purple-900/50"),children:["All (",a.length,")"]}),e.jsxs("button",{onClick:()=>d("pending"),className:"px-4 py-2 rounded-lg transition-all "+("pending"===u?"bg-yellow-600 text-white":"bg-yellow-900/30 text-gray-400 hover:bg-yellow-900/50"),children:["Pending (",m,")"]}),e.jsxs("button",{onClick:()=>d("answered"),className:"px-4 py-2 rounded-lg transition-all "+("answered"===u?"bg-green-600 text-white":"bg-green-900/30 text-gray-400 hover:bg-green-900/50"),children:["Answered (",f,")"]})]}),e.jsx("div",{className:"space-y-4",children:s?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading tickets..."}):0===h.length?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"No tickets found"}):h.map(r=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-white",children:r.subject}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs "+("answered"===r.status?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"),children:r.status})]}),e.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["From: ",r.name]}),e.jsxs("span",{children:["Email: ",r.email]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(r.createdAt).toLocaleString()})]}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this ticket?"))try{const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/support/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}}),a=await r.json();a.success?(p(),t("Ticket deleted successfully!")):n("Failed to delete ticket: "+a.error)}catch(r){n("Failed to delete ticket")}})(r.id),className:"text-red-400 hover:text-red-300 p-2",title:"Delete ticket",children:e.jsx($e,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"bg-purple-900/20 border border-purple-500/20 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:r.question})}),r.reply&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500/20 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-green-300 text-sm mb-1",children:e.jsx("strong",{children:"Your Reply:"})}),e.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:r.reply}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Replied: ",new Date(r.updatedAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{value:l[r.id]||"",onChange:e=>c({...l,[r.id]:e.target.value}),placeholder:r.reply?"Update your reply...":"Type your reply...",className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 min-h-[100px]"}),e.jsxs("button",{onClick:()=>(async e=>{const r=l[e];if(r&&r.trim())try{const a=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/support/reply`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({ticketId:e,reply:r})}),i=await a.json();i.success?(c({...l,[e]:""}),p(),t("‚úÖ Reply sent successfully! Customer will receive an email notification.",5e3)):n("Failed to send reply: "+i.error)}catch(a){n("Failed to send reply")}else alert("Please enter a reply")})(r.id),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all flex items-center gap-2 self-end",children:[e.jsx(Oe,{className:"w-4 h-4"}),r.reply?"Update":"Send"]})]})]},r.id))})]})}function It(){const[t,n]=r.useState([]),[a,i]=r.useState(!1),[s,o]=r.useState(null),[l,c]=r.useState(!1),[u,d]=r.useState({name:"",slug:"",subcategories:""});r.useEffect(()=>{p()},[]);const p=async()=>{i(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&n(t.categories)}catch(e){}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-white flex items-center gap-2",children:[e.jsx(ee,{className:"w-6 h-6"}),"Category Management"]}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Manage product categories and subcategories"})]}),e.jsxs("div",{className:"flex gap-3",children:[!l&&t.length>0&&e.jsxs("button",{onClick:async()=>{if(confirm(`Are you sure you want to delete all ${t.length} categories and their subcategories? This may affect existing products and cannot be undone.`))try{await Promise.all(t.map(e=>fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}}))),await p(),alert("All categories deleted successfully!")}catch(e){alert("Failed to delete all categories")}},className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx($e,{className:"w-5 h-5"}),"Clear All"]}),!l&&e.jsxs("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(we,{className:"w-5 h-5"}),"Add Category"]})]})]}),l&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-white mb-6",children:s?"Edit Category":"Add New Category"}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!u.name.trim())return void alert("Category name is required");const t=u.subcategories.split(",").map(e=>e.trim()).filter(e=>e.length>0),r={name:u.name.trim(),slug:u.slug.trim()||u.name.toLowerCase().replace(/\s+/g,"-"),subcategories:t};try{const e=s?`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories/${s.id}`:`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories`,t=await fetch(e,{method:s?"PUT":"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify(r)}),n=await t.json();n.success?(d({name:"",slug:"",subcategories:""}),o(null),c(!1),p(),alert(s?"Category updated!":"Category added!")):alert("Failed: "+n.error)}catch(n){alert("Failed to save category")}},className:"space-y-4 max-w-2xl",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Category Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:u.name,onChange:e=>d({...u,name:e.target.value}),required:!0,placeholder:"e.g., Anime Figures, Manga, Katana",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Category Slug (Optional)"}),e.jsx("input",{type:"text",value:u.slug,onChange:e=>d({...u,slug:e.target.value}),placeholder:"e.g., anime-figures (auto-generated if empty)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"URL-friendly identifier. Auto-generated from name if left empty."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Subcategories (Optional)"}),e.jsx("textarea",{value:u.subcategories,onChange:e=>d({...u,subcategories:e.target.value}),rows:4,placeholder:"Enter subcategories separated by commas\ne.g., Demon Slayer, Naruto, One Piece, Attack on Titan",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Separate multiple subcategories with commas. Leave empty if no subcategories."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),s?"Update Category":"Add Category"]}),e.jsxs("button",{type:"button",onClick:()=>{c(!1),o(null),d({name:"",slug:"",subcategories:""})},className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.jsx("div",{className:"space-y-4",children:a?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading categories..."}):0===t.length?e.jsx("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No categories yet. Add your first category!"})}):t.map(t=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white mb-2",children:t.name}),e.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Slug: ",e.jsx("span",{className:"text-purple-400",children:t.slug})]}),t.subcategories&&t.subcategories.length>0?e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Subcategories:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.subcategories.map((r,n)=>e.jsxs("span",{className:"bg-purple-900/30 border border-purple-500/30 text-purple-300 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[r,e.jsx("button",{onClick:()=>(async(e,t)=>{if(confirm(`Are you sure you want to delete the subcategory "${e.subcategories[t]}"?`))try{const r=e.subcategories.filter((e,r)=>r!==t),n=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories/${e.id}`,{method:"PUT",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,slug:e.slug,subcategories:r})}),a=await n.json();a.success?(p(),alert("Subcategory removed successfully!")):alert("Failed to remove subcategory: "+a.error)}catch(r){alert("Failed to remove subcategory")}})(t,n),className:"text-red-400 hover:text-red-300 transition-colors",title:"Remove subcategory",children:e.jsx(Ge,{className:"w-3 h-3"})})]},n))})]}):e.jsx("p",{className:"text-gray-500 text-sm italic",children:"No subcategories"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>(e=>{o(e),d({name:e.name,slug:e.slug,subcategories:e.subcategories.join(", ")}),c(!0)})(t),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx(be,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this category? This may affect existing products."))try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}}),r=await t.json();r.success?(p(),alert("Category deleted successfully!")):alert("Failed to delete: "+r.error)}catch(t){alert("Failed to delete category")}})(t.id),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx($e,{className:"w-4 h-4"}),"Delete"]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Created: ",new Date(t.createdAt).toLocaleString()]})]},t.id))})]})}function Dt(){const[t,n]=r.useState([]),[a,i]=r.useState(null),[s,o]=r.useState(!1),[l,c]=r.useState(null),[u,d]=r.useState(!1),[p,h]=r.useState({imageUrl:"",title:"",subtitle:""}),[m,x]=r.useState(null),[y,g]=r.useState(""),[b,v]=r.useState(!1);r.useEffect(()=>{j()},[]),r.useEffect(()=>{if(t.length>0){const e=t.find(e=>0===e.order)||t[0];i(e)}},[t]),r.useEffect(()=>{if(t.length>0)try{localStorage.setItem("cached_wallpapers",JSON.stringify(t))}catch(e){}},[t]);const j=async()=>{try{const t=`?t=${Date.now()}`,r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers${t}`,{headers:{Authorization:`Bearer ${st}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(r.ok){const e=((await r.json()).wallpapers||[]).filter(e=>null!=e).sort((e,t)=>(e.order||0)-(t.order||0));e.length>0?(n(e),localStorage.setItem("cached_wallpapers",JSON.stringify(e))):await(async()=>{try{const t=[{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff6b6b;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%238b0000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g1)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E‚öîÔ∏è Demon Slayer%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff9500;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23e65100;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g2)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eü•∑ Naruto%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%234a90e2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%231a237e;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g3)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüè¥‚Äç‚ò†Ô∏è One Piece%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%237e57c2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%233f2c70;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g4)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüßó Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff8a00;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23ffc000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g5)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}];let r=0,n=0;for(const a of t)try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({imageUrl:a.imageUrl,title:a.title,subtitle:a.subtitle})}),t=await e.json();e.ok&&t.success?r++:n++}catch(e){n++}await new Promise(e=>setTimeout(e,2e3)),await j()}catch(t){}})()}else{await r.text();try{const e=localStorage.getItem("cached_wallpapers");if(e){const t=JSON.parse(e);return void n(t)}}catch(e){}n([{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff6b6b;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%238b0000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g1)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E‚öîÔ∏è Demon Slayer%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff9500;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23e65100;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g2)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eü•∑ Naruto%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%234a90e2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%231a237e;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g3)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüè¥‚Äç‚ò†Ô∏è One Piece%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%237e57c2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%233f2c70;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g4)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüßó Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff8a00;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23ffc000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g5)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}])}}catch(t){try{const e=localStorage.getItem("cached_wallpapers");if(e){const t=JSON.parse(e);return void n(t)}}catch(e){}n([{id:"default_wallpaper_1",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff6b6b;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%238b0000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g1)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3E‚öîÔ∏è Demon Slayer%3C/text%3E%3C/svg%3E",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"default_wallpaper_2",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g2' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff9500;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23e65100;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g2)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eü•∑ Naruto%3C/text%3E%3C/svg%3E",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"default_wallpaper_3",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g3' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%234a90e2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%231a237e;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g3)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüè¥‚Äç‚ò†Ô∏è One Piece%3C/text%3E%3C/svg%3E",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"default_wallpaper_4",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g4' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%237e57c2;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%233f2c70;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g4)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüßó Attack on Titan%3C/text%3E%3C/svg%3E",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"default_wallpaper_5",imageUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Cdefs%3E%3ClinearGradient id='g5' x1='0%' y1='0%' x2='100%' y2='100%'%3E%3Cstop offset='0%' style='stop-color:%23ff8a00;stop-opacity:1'/%3E%3Cstop offset='100%' style='stop-color:%23ffc000;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g5)' width='1920' height='1080'/%3E%3Ctext x='960' y='540' font-size='120' fill='white' text-anchor='middle' dominant-baseline='middle' font-weight='bold'%3Eüí• Dragon Ball Z%3C/text%3E%3C/svg%3E",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}])}},w=async(e,t)=>{try{if((await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${e}/reorder`,{method:"PUT",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({direction:t})})).ok){try{const r=new BroadcastChannel("wallpapers");r.postMessage({type:"wallpaper_reordered",id:e,direction:t,timestamp:Date.now()}),r.close()}catch(r){}await j()}}catch(r){}};return e.jsxs("div",{className:"space-y-6",children:[a&&e.jsxs(f.div,{className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 border border-purple-500/50 rounded-xl p-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(De,{className:"w-5 h-5 text-purple-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Currently Displayed Wallpaper"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:a.imageUrl,alt:a.title,className:"w-32 h-32 object-cover rounded-lg border border-purple-500/30",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23333' width='100' height='100'/%3E%3C/svg%3E"}})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold text-base",children:a.title}),e.jsx("p",{className:"text-gray-300 text-sm mt-1",children:a.subtitle})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsxs(f.button,{onClick:()=>{c(a),h({imageUrl:a.imageUrl,title:a.title,subtitle:a.subtitle}),g(a.imageUrl),o(!0)},className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg transition-all whitespace-nowrap text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(be,{className:"w-4 h-4"}),"Edit"]})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-start gap-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl text-white mb-2 flex items-center gap-2",children:[e.jsx(ae,{className:"w-6 h-6 text-purple-400"}),"Hero Wallpapers"]}),e.jsx("p",{className:"text-gray-400",children:"Manage the sliding hero section wallpapers - Edit, remove, or reorder them"})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[t.length>0&&e.jsx(e.Fragment,{children:e.jsxs(f.button,{onClick:async()=>{d(!0);try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers?t=${Date.now()}`,{headers:{Authorization:`Bearer ${st}`,"Cache-Control":"no-cache, no-store, must-revalidate"}});if(t.ok){const r=((await t.json()).wallpapers||[]).filter(e=>null!=e).sort((e,t)=>(e.order||0)-(t.order||0));if(r.length>0){n(r),localStorage.setItem("cached_wallpapers",JSON.stringify(r)),localStorage.setItem("wallpapers_sync_time",Date.now().toString());try{const e=new BroadcastChannel("wallpapers");e.postMessage({type:"wallpaper_refreshed",wallpapers:r,timestamp:Date.now()}),e.close()}catch(e){}alert(`‚úÖ Refreshed! Found ${r.length} wallpapers`)}}}catch(e){alert("Failed to refresh wallpapers")}finally{d(!1)}},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Refresh wallpapers from server",children:[e.jsx(De,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),e.jsx("span",{className:"sm:hidden",children:"‚Üª"})]})}),t.length>0&&e.jsxs(f.button,{onClick:async()=>{if(confirm(`Are you sure you want to delete all ${t.length} wallpapers? This action cannot be undone.`))try{await Promise.all(t.map(e=>fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}})));try{const e=new BroadcastChannel("wallpapers");e.postMessage({type:"wallpaper_deleted_all",timestamp:Date.now()}),e.close()}catch(e){}await j(),alert("All wallpapers deleted successfully!")}catch(e){alert("Failed to delete all wallpapers")}},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},title:`Delete all ${t.length} wallpapers`,children:[e.jsx($e,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Delete All"}),e.jsx("span",{className:"sm:hidden",children:"Clear"})]}),e.jsxs(f.button,{onClick:()=>{o(!0),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g("")},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(we,{className:"w-5 h-5"}),"Add Wallpaper"]})]})]}),s&&e.jsx(f.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(f.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl text-white",children:l?"Edit Wallpaper":"Add New Wallpaper"}),e.jsx("button",{onClick:()=>{o(!1),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g("")},className:"text-gray-400 hover:text-white",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{let e=p.imageUrl;if(m){const t=await(async()=>{if(!m)return null;v(!0);const e=new FormData;e.append("file",m);try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/upload-wallpaper`,{method:"POST",headers:{Authorization:`Bearer ${st}`},body:e});if(t.ok)return(await t.json()).imageUrl;{const e=(await t.json()).error||"Failed to upload image";return e.includes("row-level security")||e.includes("RLS")?alert('‚ö†Ô∏è Storage RLS Error detected!\n\nPlease go to the Admin Panel and look for the "Fix Storage" button, or manually configure RLS policies in your Supabase dashboard.'):alert(`Failed to upload image: ${e}`),null}}catch(t){return alert("Error uploading image"),null}finally{v(!1)}})();if(!t)return void d(!1);e=t}if(!e||""===e.trim())return alert("Please provide an image URL or upload an image"),void d(!1);const a={imageUrl:e,title:p.title,subtitle:p.subtitle};if(l&&l.id.startsWith("default_wallpaper_")){const a=t.map(t=>t.id===l.id?{...t,title:p.title,subtitle:p.subtitle,imageUrl:e}:t);n(a),localStorage.setItem("cached_wallpapers",JSON.stringify(a));try{const e=new BroadcastChannel("wallpapers");e.postMessage({type:"wallpaper_updated",wallpapers:a,timestamp:Date.now()}),setTimeout(()=>{e.postMessage({type:"wallpaper_updated",wallpapers:a,timestamp:Date.now()}),e.close()},100)}catch(r){}return o(!1),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g(""),void alert("Default wallpaper updated locally ‚úÖ")}const i=l?`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${l.id}`:`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,s=l?"PUT":"POST",u=await fetch(i,{method:s,headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(u.ok){await u.json();alert("Wallpaper saved successfully! ‚úÖ");try{const e=new BroadcastChannel("wallpapers");e.postMessage({type:l?"wallpaper_updated":"wallpaper_added",timestamp:Date.now()}),setTimeout(()=>{e.postMessage({type:l?"wallpaper_updated":"wallpaper_added",timestamp:Date.now()}),e.close()},100)}catch(r){}if(l)n(t.map(t=>t.id===l.id?{...t,title:p.title,subtitle:p.subtitle,imageUrl:e}:t));else{const r={id:`wallpaper_${Date.now()}`,imageUrl:e,title:p.title,subtitle:p.subtitle,order:t.length};n([...t,r])}await j(),o(!1),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g("")}else{await u.text();if(l)n(t.map(t=>t.id===l.id?{...t,title:p.title,subtitle:p.subtitle,imageUrl:e}:t)),o(!1),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g(""),alert("Wallpaper updated locally (API sync failed, but changes are saved)");else{const r={id:`wallpaper_${Date.now()}`,imageUrl:e,title:p.title,subtitle:p.subtitle,order:t.length};n([...t,r]),o(!1),h({imageUrl:"",title:"",subtitle:""}),x(null),g(""),alert("Wallpaper saved locally (API sync failed, but your wallpaper is saved)")}}}catch(r){if(l)n(t.map(e=>e.id===l.id?{...e,title:p.title,subtitle:p.subtitle,imageUrl:p.imageUrl}:e)),o(!1),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g(""),alert("Wallpaper updated locally (network error, but changes are saved)");else{const e={id:`wallpaper_${Date.now()}`,imageUrl:p.imageUrl,title:p.title,subtitle:p.subtitle,order:t.length};n([...t,e]),o(!1),h({imageUrl:"",title:"",subtitle:""}),x(null),g(""),alert("Wallpaper saved locally (network error, but your wallpaper is saved)")}}finally{d(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white mb-2",children:"Wallpaper Image"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){x(t);const e=new FileReader;e.onloadend=()=>{g(e.result)},e.readAsDataURL(t)}},className:"hidden",id:"wallpaper-image-upload"}),e.jsxs("label",{htmlFor:"wallpaper-image-upload",className:"flex items-center justify-center gap-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 px-4 py-3 rounded-lg cursor-pointer transition-all",children:[e.jsx(qe,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-purple-300",children:m?m.name:"Choose Image"})]}),y&&e.jsx("img",{src:y,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border border-purple-500/30"}),e.jsx("input",{type:"text",placeholder:"Or paste image URL",value:p.imageUrl,onChange:e=>h({...p,imageUrl:e.target.value}),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white mb-2",children:"Title"}),e.jsx("input",{type:"text",value:p.title,onChange:e=>h({...p,title:e.target.value}),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white mb-2",children:"Subtitle"}),e.jsx("input",{type:"text",value:p.subtitle,onChange:e=>h({...p,subtitle:e.target.value}),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:u||b,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg disabled:opacity-50 transition-all",children:u||b?"Saving...":l?"Update Wallpaper":"Add Wallpaper"}),e.jsx("button",{type:"button",onClick:()=>{o(!1),c(null),h({imageUrl:"",title:"",subtitle:""}),x(null),g("")},className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all",children:"Cancel"})]})]})]})}),e.jsx("div",{className:"grid gap-4",children:0===t.length?e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl",children:[e.jsx(ae,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No wallpapers added yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Default wallpapers will be shown on the hero section"})]}):t.map((r,a)=>e.jsx(f.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 hover:border-purple-400/50 rounded-xl p-4 transition-all",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},whileHover:{borderColor:"rgba(192, 132, 250, 0.7)"},children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-24 h-24 object-cover rounded-lg border border-purple-500/30",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23333' width='100' height='100'/%3E%3C/svg%3E"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-white font-medium truncate text-sm",children:r.title}),e.jsx("p",{className:"text-gray-400 text-xs truncate",children:r.subtitle}),e.jsxs("p",{className:"text-purple-400 text-xs mt-2",children:["Position: ",e.jsxs("span",{className:"font-semibold",children:["#",r.order+1]})," of ",t.length]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex gap-1 border-r border-gray-600 pr-2",children:[e.jsx("button",{onClick:()=>w(r.id,"up"),disabled:0===a,className:"p-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Move up in order",children:e.jsx(R,{className:"w-4 h-4 text-purple-400"})}),e.jsx("button",{onClick:()=>w(r.id,"down"),disabled:a===t.length-1,className:"p-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Move down in order",children:e.jsx(B,{className:"w-4 h-4 text-purple-400"})})]}),e.jsxs(f.button,{onClick:()=>(e=>{c(e),h({imageUrl:e.imageUrl,title:e.title,subtitle:e.subtitle}),g(e.imageUrl),o(!0)})(r),className:"flex items-center gap-2 px-3 py-2 bg-blue-600/20 hover:bg-blue-600/40 border border-blue-500/50 hover:border-blue-400 rounded-lg transition-all text-xs",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Edit this wallpaper",children:[e.jsx(be,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-medium",children:"Edit"})]}),e.jsxs(f.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this wallpaper?"))try{const a=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}});if(a.ok){try{const t=new BroadcastChannel("wallpapers");t.postMessage({type:"wallpaper_deleted",id:e,timestamp:Date.now()}),setTimeout(()=>{t.postMessage({type:"wallpaper_deleted",id:e,timestamp:Date.now()}),t.close()},100)}catch(r){}await j()}else await a.text(),n(t.filter(t=>t.id!==e)),alert("Wallpaper deleted locally (API sync failed, but it's removed from your list)")}catch(r){n(t.filter(t=>t.id!==e)),alert("Wallpaper deleted locally (network error, but it's removed from your list)")}})(r.id),className:"flex items-center gap-2 px-3 py-2 bg-red-600/20 hover:bg-red-600/40 border border-red-500/50 hover:border-red-400 rounded-lg transition-all text-xs",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Delete this wallpaper",children:[e.jsx($e,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-red-400 font-medium",children:"Remove"})]})]})]})},r.id))})]})}function _t(){const[t,n]=r.useState(null),[a,i]=r.useState(!1),[s,o]=r.useState(!1),[l,c]=r.useState({title:"",subtitle:"",imageUrl:""}),[u,d]=r.useState(""),[p,h]=r.useState(null),[x,y]=r.useState(!1),[g,b]=r.useState("");r.useEffect(()=>{v()},[]);const v=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{headers:{Authorization:`Bearer ${st}`}});if(e.ok){const t=((await e.json()).wallpapers||[]).filter(e=>null!=e).sort((e,t)=>(e.order||0)-(t.order||0));if(t.length>0){const e=t[0];n(e),c({title:e.title,subtitle:e.subtitle,imageUrl:e.imageUrl}),d(e.imageUrl)}}else{await e.text()}}catch(e){}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-purple-400"}),"Dynamic Hero Wallpaper Editor"]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Edit the currently displayed hero wallpaper with live preview"})]}),t&&e.jsx("button",{onClick:()=>{a?(i(!1),h(null),d(t.imageUrl),c({title:t.title,subtitle:t.subtitle,imageUrl:t.imageUrl})):i(!0)},className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg text-white transition-all",children:a?"Cancel":"Edit"})]}),g&&e.jsx(f.div,{className:"bg-green-900/30 border border-green-500/50 text-green-300 p-4 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:g}),t?e.jsxs(f.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 space-y-4",layout:!0,children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Live Preview"}),e.jsxs("div",{className:"relative overflow-hidden rounded-lg h-64 bg-gray-800 border border-purple-500/30",children:[e.jsx("img",{src:u||t.imageUrl,alt:"Hero Wallpaper Preview",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23333' width='100' height='100'/%3E%3C/svg%3E"}}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-end justify-start p-4",children:e.jsxs("div",{className:"text-white",children:[e.jsx("h4",{className:"text-xl font-bold",children:l.title||t.title}),e.jsx("p",{className:"text-sm text-gray-300",children:l.subtitle||t.subtitle})]})})]})]}),e.jsx(m,{children:a&&e.jsxs(f.div,{className:"space-y-4 pt-4 border-t border-gray-700",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:l.title,onChange:e=>c({...l,title:e.target.value}),className:"w-full bg-gray-800 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter hero title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subtitle"}),e.jsx("input",{type:"text",value:l.subtitle,onChange:e=>c({...l,subtitle:e.target.value}),className:"w-full bg-gray-800 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter hero subtitle"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){h(t);const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(t)}},className:"hidden",id:"hero-image-upload"}),e.jsxs("label",{htmlFor:"hero-image-upload",className:"flex items-center justify-center gap-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 px-4 py-3 rounded-lg cursor-pointer transition-all",children:[e.jsx(qe,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-purple-300",children:p?p.name:"Choose Image"})]}),e.jsx("input",{type:"url",value:l.imageUrl,onChange:e=>{c({...l,imageUrl:e.target.value}),d(e.target.value)},className:"w-full bg-gray-800 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Or paste image URL"})]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsxs("button",{onClick:async()=>{if(t)if(t.id){o(!0);try{let r=l.imageUrl;if(p){const e=await(async()=>{if(!p)return null;y(!0);const e=new FormData;e.append("file",p);try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/upload-wallpaper`,{method:"POST",headers:{Authorization:`Bearer ${st}`},body:e});if(t.ok){const e=await t.json();return c({...l,imageUrl:e.imageUrl}),e.imageUrl}{const e=await t.text();alert(`Image upload failed: Status ${t.status} - ${e||"Unknown error"}`)}}catch(t){alert(`Error uploading image: ${t instanceof Error?t.message:"Unknown error"}`)}finally{y(!1)}return null})();e&&(r=e)}if(t.id.startsWith("default_wallpaper_")){const a={...t,title:l.title,subtitle:l.subtitle,imageUrl:r};n(a);try{const e=localStorage.getItem("cached_wallpapers");if(e){const r=JSON.parse(e).map(e=>e.id===t.id?a:e);localStorage.setItem("cached_wallpapers",JSON.stringify(r))}}catch(e){}try{const e=new BroadcastChannel("wallpapers"),r=localStorage.getItem("cached_wallpapers"),n=r?JSON.parse(r):[];e.postMessage({type:"wallpaper_updated",wallpapers:n,id:t.id,timestamp:Date.now()}),setTimeout(()=>e.close(),100)}catch(e){}return i(!1),h(null),b("‚úÖ Hero wallpaper updated locally!"),void setTimeout(()=>b(""),3e3)}const a=`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers/${t.id}`,s=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({title:l.title,subtitle:l.subtitle,imageUrl:r})});if(s.ok){n({...t,title:l.title,subtitle:l.subtitle,imageUrl:r});try{const e=new BroadcastChannel("wallpapers");e.postMessage({type:"wallpaper_updated",id:t.id,timestamp:Date.now()}),e.close()}catch(e){}i(!1),h(null),b("‚úÖ Hero wallpaper updated successfully!"),setTimeout(()=>b(""),3e3)}else{const e=await s.text();alert(`Error: Status ${s.status} - ${e||"Failed to update wallpaper"}`)}}catch(e){alert(`Error saving wallpaper: ${e instanceof Error?e.message:"Unknown error"}`)}finally{o(!1)}}else alert("Error: Wallpaper ID is missing. Please refresh the page.");else alert("No wallpaper selected. Please load the page again.")},disabled:s||x,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 px-4 py-2 rounded-lg text-white flex items-center justify-center gap-2 transition-all",children:[e.jsx(Se,{className:"w-5 h-5"}),s||x?"Saving...":"Save Changes"]})})]})}),!a&&e.jsxs(f.div,{className:"text-gray-300 space-y-2",initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-purple-400 font-medium",children:"Title:"})," ",t.title]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-purple-400 font-medium",children:"Subtitle:"})," ",t.subtitle]})]})]}):e.jsx("div",{className:"text-center py-12 bg-gray-900 border border-gray-700 rounded-xl",children:e.jsx("p",{className:"text-gray-400",children:"No wallpaper found. Add one in the Wallpaper Management section."})})]})}function Lt(){const[t,n]=r.useState(!1),[a,i]=r.useState(""),[s,o]=r.useState(!0);return e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/90 to-black border-2 border-purple-500 rounded-lg max-w-2xl w-full p-6 shadow-2xl",children:[e.jsx("h2",{className:"text-2xl mb-4 text-purple-300",children:"üîß Storage RLS Fix"}),s&&e.jsxs("div",{className:"bg-black/50 border border-purple-500/30 rounded p-4 mb-4 text-sm",children:[e.jsxs("p",{className:"text-purple-200 mb-3",children:[e.jsx("strong",{children:"Issue:"})," Supabase Storage has Row-Level Security (RLS) enabled without proper policies."]}),e.jsx("p",{className:"text-purple-200 mb-3",children:e.jsx("strong",{children:"Quick Fix Option 1 - Automatic (Try this first):"})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Click the button below to attempt an automatic fix."}),e.jsx("p",{className:"text-purple-200 mb-3",children:e.jsx("strong",{children:"Manual Fix Option 2 - If automatic fails:"})}),e.jsxs("ol",{className:"text-gray-300 space-y-2 mb-4 ml-4 list-decimal",children:[e.jsx("li",{children:"Go to your Supabase Dashboard"}),e.jsx("li",{children:"Navigate to Storage ‚Üí product-images bucket"}),e.jsx("li",{children:'Click "Policies" tab'}),e.jsx("li",{children:'Click "New Policy"'}),e.jsx("li",{children:'Choose "For full customization"'}),e.jsx("li",{children:'Policy name: "Allow all operations"'}),e.jsx("li",{children:'Target roles: Check "public"'}),e.jsx("li",{children:'Policy command: "All"'}),e.jsxs("li",{children:["USING expression: ",e.jsx("code",{className:"bg-purple-900/50 px-2 py-1 rounded",children:"true"})]}),e.jsxs("li",{children:["WITH CHECK expression: ",e.jsx("code",{className:"bg-purple-900/50 px-2 py-1 rounded",children:"true"})]}),e.jsx("li",{children:'Click "Review" then "Save policy"'})]}),e.jsx("p",{className:"text-purple-200 mb-2",children:e.jsx("strong",{children:"Or run this SQL in Supabase SQL Editor:"})}),e.jsx("pre",{className:"bg-black/70 p-3 rounded text-xs text-green-400 overflow-x-auto border border-purple-500/30",children:"CREATE POLICY \"Allow all operations on product-images\"\nON storage.objects FOR ALL\nUSING (bucket_id = 'product-images')\nWITH CHECK (bucket_id = 'product-images');"})]}),e.jsx("button",{onClick:async()=>{n(!0),i("");try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/admin/fix-storage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${st}`}}),t=await e.json();t.success?(i(`‚úÖ ${t.message}`),o(!1)):i(`‚ùå ${t.error||"Failed to fix storage"}`)}catch(e){i(`‚ùå Error: ${e}`)}finally{n(!1)}},disabled:t,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 rounded-lg transition-all",children:t?"Fixing...":"üîß Try Automatic Fix"}),a&&e.jsx("div",{className:"mt-4 p-4 rounded border "+(a.includes("‚úÖ")?"bg-green-900/30 border-green-500 text-green-300":"bg-red-900/30 border-red-500 text-red-300"),children:a}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-all",children:"Close & Reload"})]})})}function zt(){const[t,n]=r.useState(!1),[a,i]=r.useState(null),[s,o]=r.useState(!1),[l,c]=r.useState(null),u=async()=>{n(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/email-config`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();i(t)}catch(e){i({error:"Failed to check email configuration"})}finally{n(!1)}};r.useEffect(()=>{u()},[]);const d=a?.hostingerSmtpConfigured||a?.mailersendApiKeySet;return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-500/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ue,{className:"w-6 h-6 text-purple-400"}),e.jsx("h3",{className:"text-white text-xl",children:"Email Configuration"})]}),a?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg p-4 "+(d?"bg-green-900/20 border-green-500/30":"bg-yellow-900/20 border-yellow-500/30"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[d?e.jsx(U,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}):e.jsx(F,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:d?"text-green-400":"text-yellow-400",children:a.message||"Checking configuration..."}),a?.provider?e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Provider: ",a.provider.toUpperCase()]}):null]})]})}),e.jsx("button",{onClick:u,disabled:t,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-5 h-5"}),"Check Status"]})}),d?e.jsx("button",{onClick:async()=>{o(!0),c(null);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({})}),t=await e.json();c(t)}catch(e){c({success:!1,error:"Failed to send test email"})}finally{o(!1)}},disabled:s,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-800 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 mt-3",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-5 h-5"}),"Send Test Email"]})}):null,l?e.jsx("div",{className:"border rounded-lg p-4 "+(l.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[l.success?e.jsx(U,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}):e.jsx(F,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:l.success?"text-green-400":"text-red-400",children:l.message||"Test email sent"}),l.error?e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Error: ",l.error]}):null]})]})}):null]}):e.jsx("p",{className:"text-gray-400",children:"Loading email configuration..."})]})})}function $t(){const[t,n]=r.useState([]),[a,i]=r.useState(!0);r.useEffect(()=>{s()},[]);const s=async()=>{i(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/admin/users`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({userId:"admin",password:"admin123"})}),t=await e.json();t.success&&n(t.users)}catch(e){}finally{i(!1)}};return a?e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"w-12 h-12 text-purple-400 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Loading users..."})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-white mb-2 flex items-center gap-3",children:[e.jsx(We,{className:"w-8 h-8 text-purple-400"}),"User Management"]}),e.jsxs("p",{className:"text-gray-400",children:["Total Registered Users: ",e.jsx("span",{className:"text-purple-400",children:t.length})]})]})}),0===t.length?e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:[e.jsx(He,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"No users registered yet."})]}):e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-purple-900/40 border-b border-purple-500/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"#"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Email"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Phone"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Joined"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-300",children:"Last Sign In"})]})}),e.jsx("tbody",{children:t.map((t,r)=>e.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/20 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-gray-400",children:r+1}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-white",children:t.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-purple-300",children:t.email})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-gray-300",children:t.phone||"N/A"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-gray-400 text-sm",children:new Date(t.createdAt).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:t.lastSignIn?new Date(t.lastSignIn).toLocaleDateString():e.jsx("span",{className:"text-gray-600",children:"Never"})})]},t.id))})]})})})]})}function Bt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Bt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Bt(e))&&(n&&(n+=" "),n+=t);return n}var Ft,Ut,qt,Ht,Wt,Gt,Vt,Xt,Yt,Kt,Jt,Zt,Qt,er,tr,rr,nr,ar,ir,sr,or,lr,cr,ur,dr,pr,hr,mr,fr,xr,yr,gr,br,vr,jr,wr,Nr,kr,Sr,Cr,Or,Er,Pr,Ar,Tr,Mr,Ir,Dr,_r,Lr,zr,$r,Br,Rr,Fr,Ur,qr,Hr,Wr,Gr,Vr,Xr,Yr,Kr,Jr,Zr,Qr,en,tn,rn,nn,an,sn,on,ln,cn,un,dn,pn,hn,mn,fn,xn,yn,gn,bn,vn,jn,wn,Nn,kn,Sn,Cn,On,En,Pn,An,Tn,Mn,In,Dn,_n,Ln,zn;function $n(){if(Ut)return Ft;Ut=1;var e=Array.isArray;return Ft=e}function Bn(){if(Ht)return qt;Ht=1;var e="object"==typeof s&&s&&s.Object===Object&&s;return qt=e}function Rn(){if(Gt)return Wt;Gt=1;var e=Bn(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Wt=r}function Fn(){if(Xt)return Vt;Xt=1;var e=Rn().Symbol;return Vt=e}function Un(){if(er)return Qt;er=1;var e=Fn(),t=function(){if(Kt)return Yt;Kt=1;var e=Fn(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;return Yt=function(e){var t=r.call(e,a),i=e[a];try{e[a]=void 0;var s=!0}catch(l){}var o=n.call(e);return s&&(t?e[a]=i:delete e[a]),o}}(),r=function(){if(Zt)return Jt;Zt=1;var e=Object.prototype.toString;return Jt=function(t){return e.call(t)}}(),n=e?e.toStringTag:void 0;return Qt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):r(e)}}function qn(){if(rr)return tr;return rr=1,tr=function(e){return null!=e&&"object"==typeof e}}function Hn(){if(ar)return nr;ar=1;var e=Un(),t=qn();return nr=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}function Wn(){if(sr)return ir;sr=1;var e=$n(),t=Hn(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;return ir=function(a,i){if(e(a))return!1;var s=typeof a;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=a&&!t(a))||(n.test(a)||!r.test(a)||null!=i&&a in Object(i))},ir}function Gn(){if(lr)return or;return lr=1,or=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Vn(){if(ur)return cr;ur=1;var e=Un(),t=Gn();return cr=function(r){if(!t(r))return!1;var n=e(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}function Xn(){if(mr)return hr;mr=1;var e,t=function(){if(pr)return dr;pr=1;var e=Rn()["__core-js_shared__"];return dr=e}(),r=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return hr=function(e){return!!r&&r in e}}function Yn(){if(xr)return fr;xr=1;var e=Function.prototype.toString;return fr=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}}function Kn(){if(wr)return jr;wr=1;var e=function(){if(gr)return yr;gr=1;var e=Vn(),t=Xn(),r=Gn(),n=Yn(),a=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return yr=function(i){return!(!r(i)||t(i))&&(e(i)?c:a).test(n(i))}}(),t=(vr||(vr=1,br=function(e,t){return null==e?void 0:e[t]}),br);return jr=function(r,n){var a=t(r,n);return e(a)?a:void 0},jr}function Jn(){if(kr)return Nr;kr=1;var e=Kn()(Object,"create");return Nr=e}function Zn(){if(Lr)return _r;Lr=1;var e=function(){if(Cr)return Sr;Cr=1;var e=Jn();return Sr=function(){this.__data__=e?e(null):{},this.size=0}}(),t=Er?Or:(Er=1,Or=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),r=function(){if(Ar)return Pr;Ar=1;var e=Jn(),t=Object.prototype.hasOwnProperty;return Pr=function(r){var n=this.__data__;if(e){var a=n[r];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(n,r)?n[r]:void 0}}(),n=function(){if(Mr)return Tr;Mr=1;var e=Jn(),t=Object.prototype.hasOwnProperty;return Tr=function(r){var n=this.__data__;return e?void 0!==n[r]:t.call(n,r)}}(),a=function(){if(Dr)return Ir;Dr=1;var e=Jn();return Ir=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this}}();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,_r=i}function Qn(){if(Rr)return Br;return Rr=1,Br=function(e,t){return e===t||e!=e&&t!=t}}function ea(){if(Ur)return Fr;Ur=1;var e=Qn();return Fr=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1},Fr}function ta(){if(Zr)return Jr;Zr=1;var e=$r?zr:($r=1,zr=function(){this.__data__=[],this.size=0}),t=function(){if(Hr)return qr;Hr=1;var e=ea(),t=Array.prototype.splice;return qr=function(r){var n=this.__data__,a=e(n,r);return!(a<0||(a==n.length-1?n.pop():t.call(n,a,1),--this.size,0))}}(),r=function(){if(Gr)return Wr;Gr=1;var e=ea();return Wr=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]}}(),n=function(){if(Xr)return Vr;Xr=1;var e=ea();return Vr=function(t){return e(this.__data__,t)>-1}}(),a=function(){if(Kr)return Yr;Kr=1;var e=ea();return Yr=function(t,r){var n=this.__data__,a=e(n,t);return a<0?(++this.size,n.push([t,r])):n[a][1]=r,this}}();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Jr=i}function ra(){if(en)return Qr;en=1;var e=Kn()(Rn(),"Map");return Qr=e}function na(){if(on)return sn;on=1;var e=an?nn:(an=1,nn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return sn=function(t,r){var n=t.__data__;return e(r)?n["string"==typeof r?"string":"hash"]:n.map},sn}function aa(){if(yn)return xn;yn=1;var e=function(){if(rn)return tn;rn=1;var e=Zn(),t=ta(),r=ra();return tn=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}(),t=function(){if(cn)return ln;cn=1;var e=na();return ln=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}(),r=function(){if(dn)return un;dn=1;var e=na();return un=function(t){return e(this,t).get(t)}}(),n=function(){if(hn)return pn;hn=1;var e=na();return pn=function(t){return e(this,t).has(t)}}(),a=function(){if(fn)return mn;fn=1;var e=na();return mn=function(t,r){var n=e(this,t),a=n.size;return n.set(t,r),this.size+=n.size==a?0:1,this}}();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,xn=i}function ia(){if(bn)return gn;bn=1;var e=aa();function t(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=n?n.apply(this,e):e[0],i=a.cache;if(i.has(t))return i.get(t);var s=r.apply(this,e);return a.cache=i.set(t,s)||i,s};return a.cache=new(t.Cache||e),a}return t.Cache=e,gn=t}function sa(){if(Nn)return wn;Nn=1;var e=function(){if(jn)return vn;jn=1;var e=ia();return vn=function(t){var r=e(t,function(e){return 500===n.size&&n.clear(),e}),n=r.cache;return r}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,function(e,t,a,i){n.push(a?i.replace(r,"$1"):t||e)}),n});return wn=n}function oa(){if(Sn)return kn;return Sn=1,kn=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},kn}function la(){if(Pn)return En;Pn=1;var e=function(){if(On)return Cn;On=1;var e=Fn(),t=oa(),r=$n(),n=Hn(),a=e?e.prototype:void 0,i=a?a.toString:void 0;return Cn=function e(a){if("string"==typeof a)return a;if(r(a))return t(a,e)+"";if(n(a))return i?i.call(a):"";var s=a+"";return"0"==s&&1/a==-1/0?"-0":s},Cn}();return En=function(t){return null==t?"":e(t)}}function ca(){if(Tn)return An;Tn=1;var e=$n(),t=Wn(),r=sa(),n=la();return An=function(a,i){return e(a)?a:t(a,i)?[a]:r(n(a))},An}function ua(){if(In)return Mn;In=1;var e=Hn();return Mn=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}function da(){if(_n)return Dn;_n=1;var e=ca(),t=ua();return Dn=function(r,n){for(var a=0,i=(n=e(n,r)).length;null!=r&&a<i;)r=r[t(n[a++])];return a&&a==i?r:void 0},Dn}function pa(){if(zn)return Ln;zn=1;var e=da();return Ln=function(t,r,n){var a=null==t?void 0:e(t,r);return void 0===a?n:a},Ln}const ha=o(pa());var ma,fa;const xa=o(fa?ma:(fa=1,ma=function(e){return null==e}));var ya,ga;var ba=function(){if(ga)return ya;ga=1;var e=Un(),t=$n(),r=qn();return ya=function(n){return"string"==typeof n||!t(n)&&r(n)&&"[object String]"==e(n)}}();const va=o(ba);const ja=o(Vn());const wa=o(Gn());var Na,ka,Sa={exports:{}},Ca={};var Oa,Ea,Pa,Aa,Ta=(ka||(ka=1,Sa.exports=function(){if(Na)return Ca;Na=1;var e,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function f(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:switch(e=e.type){case n:case i:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case o:case c:case h:case p:case s:return e;default:return m}}case r:return m}}}return e=Symbol.for("react.module.reference"),Ca.ContextConsumer=o,Ca.ContextProvider=s,Ca.Element=t,Ca.ForwardRef=c,Ca.Fragment=n,Ca.Lazy=h,Ca.Memo=p,Ca.Portal=r,Ca.Profiler=i,Ca.StrictMode=a,Ca.Suspense=u,Ca.SuspenseList=d,Ca.isAsyncMode=function(){return!1},Ca.isConcurrentMode=function(){return!1},Ca.isContextConsumer=function(e){return f(e)===o},Ca.isContextProvider=function(e){return f(e)===s},Ca.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Ca.isForwardRef=function(e){return f(e)===c},Ca.isFragment=function(e){return f(e)===n},Ca.isLazy=function(e){return f(e)===h},Ca.isMemo=function(e){return f(e)===p},Ca.isPortal=function(e){return f(e)===r},Ca.isProfiler=function(e){return f(e)===i},Ca.isStrictMode=function(e){return f(e)===a},Ca.isSuspense=function(e){return f(e)===u},Ca.isSuspenseList=function(e){return f(e)===d},Ca.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===n||t===i||t===a||t===u||t===d||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===h||t.$$typeof===p||t.$$typeof===s||t.$$typeof===o||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},Ca.typeOf=f,Ca}()),Sa.exports);function Ma(){if(Ea)return Oa;Ea=1;var e=Un(),t=qn();return Oa=function(r){return"number"==typeof r||t(r)&&"[object Number]"==e(r)}}var Ia=function(){if(Aa)return Pa;Aa=1;var e=Ma();return Pa=function(t){return e(t)&&t!=+t}}();const Da=o(Ia);const _a=o(Ma());var La=function(e){return 0===e?0:e>0?1:-1},za=function(e){return va(e)&&e.indexOf("%")===e.length-1},$a=function(e){return _a(e)&&!Da(e)},Ba=function(e){return $a(e)||va(e)},Ra=0,Fa=function(e){var t=++Ra;return"".concat(e||"").concat(t)},Ua=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!$a(e)&&!va(e))return n;if(za(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Da(r)&&(r=n),a&&r>t&&(r=t),r},qa=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Ha=function(e,t){return $a(e)&&$a(t)?function(r){return e+r*(t-e)}:function(){return t}};function Wa(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):ha(e,t))===r}):null}var Ga=function(e,t){return $a(e)&&$a(t)?e-t:va(e)&&va(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function Va(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Xa(e){return Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(e)}var Ya=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ka=["points","pathLength"],Ja={svg:["viewBox","children"],polygon:Ka,polyline:Ka},Za=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qa=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(r.isValidElement(e)&&(n=e.props),!wa(n))return null;var a={};return Object.keys(n).forEach(function(e){Za.includes(e)&&(a[e]=t||function(t){return n[e](n,t)})}),a},ei=function(e,t,r){if(!wa(e)||"object"!==Xa(e))return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];Za.includes(a)&&"function"==typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))}),n},ti=["children"],ri=["children"];function ni(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}var ii={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},si=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},oi=null,li=null,ci=function e(t){if(t===oi&&Array.isArray(li))return li;var n=[];return r.Children.forEach(t,function(t){xa(t)||(Ta.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),li=n,oi=t,n};function ui(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return si(e)}):[si(t)],ci(e).forEach(function(e){var t=ha(e,"type.displayName")||ha(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function di(e,t){var r=ui(e,t);return r&&r[0]}var pi=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!$a(r)||r<=0||!$a(n)||n<=0)},hi=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mi=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(r.isValidElement(e)&&(a=e.props),!wa(a))return null;var i={};return Object.keys(a).forEach(function(e){var r;(function(e,t,r,n){var a,i=null!==(a=null==Ja?void 0:Ja[n])&&void 0!==a?a:[];return t.startsWith("data-")||!ja(e)&&(n&&i.includes(t)||Ya.includes(t))||r&&Za.includes(t)})(null===(r=a)||void 0===r?void 0:r[e],e,t,n)&&(i[e]=a[e])}),i},fi=function e(t,n){if(t===n)return!0;var a=r.Children.count(t);if(a!==r.Children.count(n))return!1;if(0===a)return!0;if(1===a)return xi(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var s=t[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!xi(s,o))return!1}return!0},xi=function(e,t){if(xa(e)&&xa(t))return!0;if(!xa(e)&&!xa(t)){var r=e.props||{},n=r.children,a=ni(r,ti),i=t.props||{},s=i.children,o=ni(i,ri);return n&&s?Va(a,o)&&fi(n,s):!n&&!s&&Va(a,o)}return!1},yi=function(e,t){var r=[],n={};return ci(e).forEach(function(e,a){if(function(e){return e&&e.type&&va(e.type)&&hi.indexOf(e.type)>=0}(e))r.push(e);else if(e){var i=si(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!n[i])){var c=o(e,i,a);r.push(c),n[i]=!0}}}),r},gi=["children","width","height","viewBox","className","style","title","desc"];function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function vi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ji(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,c=e.desc,u=vi(e,gi),d=a||{width:r,height:n,x:0,y:0},p=Rt("recharts-surface",i);return l.createElement("svg",bi({},mi(u,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),l.createElement("title",null,o),l.createElement("desc",null,c),t)}var wi=["children","className"];function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function ki(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Si,Ci,Oi,Ei,Pi,Ai,Ti,Mi,Ii,Di,_i,Li,zi,$i,Bi,Ri,Fi=l.forwardRef(function(e,t){var r=e.children,n=e.className,a=ki(e,wi),i=Rt("recharts-layer",n);return l.createElement("g",Ni({className:i},mi(a,!0),{ref:t}),r)}),Ui=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function qi(){if(Ei)return Oi;Ei=1;var e=(Ci||(Ci=1,Si=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}),Si);return Oi=function(t,r,n){var a=t.length;return n=void 0===n?a:n,!r&&n>=a?t:e(t,r,n)},Oi}function Hi(){if(Ai)return Pi;Ai=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return Pi=function(t){return e.test(t)},Pi}function Wi(){if(Li)return _i;Li=1;var e=(Mi||(Mi=1,Ti=function(e){return e.split("")}),Ti),t=Hi(),r=function(){if(Di)return Ii;Di=1;var e="\\ud800-\\udfff",t="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",a="[^"+e+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+r+"|"+n+")?",l="[\\ufe0e\\ufe0f]?",c=l+o+"(?:\\u200d(?:"+[a,i,s].join("|")+")"+l+o+")*",u="(?:"+[a+r+"?",r,i,s,t].join("|")+")",d=RegExp(n+"(?="+n+")|"+u+c,"g");return Ii=function(e){return e.match(d)||[]},Ii}();return _i=function(n){return t(n)?r(n):e(n)},_i}var Gi=function(){if(Ri)return Bi;Ri=1;var e=function(){if($i)return zi;$i=1;var e=qi(),t=Hi(),r=Wi(),n=la();return zi=function(a){return function(i){i=n(i);var s=t(i)?r(i):void 0,o=s?s[0]:i.charAt(0),l=s?e(s,1).join(""):i.slice(1);return o[a]()+l}},zi}(),t=e("toUpperCase");return Bi=t}();const Vi=o(Gi);function Xi(e){return function(){return e}}const Yi=Math.cos,Ki=Math.sin,Ji=Math.sqrt,Zi=Math.PI,Qi=2*Zi,es=Math.PI,ts=2*es,rs=1e-6,ns=ts-rs;function as(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class is{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?as:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return as;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=r-e,l=n-t,c=i-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>rs)if(Math.abs(u*o-l*c)>rs&&a){let p=r-i,h=n-s,m=o*o+l*l,f=p*p+h*h,x=Math.sqrt(m),y=Math.sqrt(d),g=a*Math.tan((es-Math.acos((m+d-f)/(2*x*y)))/2),b=g/y,v=g/x;Math.abs(b-1)>rs&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*p>c*h)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>rs||Math.abs(this._y1-c)>rs)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%ts+ts),d>ns?this._append`A${r},${r},0,1,${u},${e-s},${t-o}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>rs&&this._append`A${r},${r},0,${+(d>=es)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function ss(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new is(t)}function os(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function ls(e){this._context=e}function cs(e){return new ls(e)}function us(e){return e[0]}function ds(e){return e[1]}function ps(e,t){var r=Xi(!0),n=null,a=cs,i=null,s=ss(o);function o(o){var l,c,u,d=(o=os(o)).length,p=!1;for(null==n&&(i=a(u=s())),l=0;l<=d;++l)!(l<d&&r(c=o[l],l,o))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?us:Xi(e),t="function"==typeof t?t:void 0===t?ds:Xi(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Xi(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Xi(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:Xi(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),o):n},o}function hs(e,t,r){var n=null,a=Xi(!0),i=null,s=cs,o=null,l=ss(c);function c(c){var u,d,p,h,m,f=(c=os(c)).length,x=!1,y=new Array(f),g=new Array(f);for(null==i&&(o=s(m=l())),u=0;u<=f;++u){if(!(u<f&&a(h=c[u],u,c))===x)if(x=!x)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=u-1;p>=d;--p)o.point(y[p],g[p]);o.lineEnd(),o.areaEnd()}x&&(y[u]=+e(h,u,c),g[u]=+t(h,u,c),o.point(n?+n(h,u,c):y[u],r?+r(h,u,c):g[u]))}if(m)return o=null,m+""||null}function u(){return ps().defined(a).curve(s).context(i)}return e="function"==typeof e?e:void 0===e?us:Xi(+e),t="function"==typeof t?t:Xi(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?ds:Xi(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Xi(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Xi(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Xi(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Xi(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Xi(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Xi(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:Xi(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class ms{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const fs={draw(e,t){const r=Ji(t/Zi);e.moveTo(r,0),e.arc(0,0,r,0,Qi)}},xs={draw(e,t){const r=Ji(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ys=Ji(1/3),gs=2*ys,bs={draw(e,t){const r=Ji(t/gs),n=r*ys;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vs={draw(e,t){const r=Ji(t),n=-r/2;e.rect(n,n,r,r)}},js=Ki(Zi/10)/Ki(7*Zi/10),ws=Ki(Qi/10)*js,Ns=-Yi(Qi/10)*js,ks={draw(e,t){const r=Ji(.8908130915292852*t),n=ws*r,a=Ns*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=Qi*i/5,s=Yi(t),o=Ki(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*a,o*n+s*a)}e.closePath()}},Ss=Ji(3),Cs={draw(e,t){const r=-Ji(t/(3*Ss));e.moveTo(0,2*r),e.lineTo(-Ss*r,-r),e.lineTo(Ss*r,-r),e.closePath()}},Os=-.5,Es=Ji(3)/2,Ps=1/Ji(12),As=3*(Ps/2+1),Ts={draw(e,t){const r=Ji(t/As),n=r/2,a=r*Ps,i=n,s=r*Ps+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Os*n-Es*a,Es*n+Os*a),e.lineTo(Os*i-Es*s,Es*i+Os*s),e.lineTo(Os*o-Es*l,Es*o+Os*l),e.lineTo(Os*n+Es*a,Os*a-Es*n),e.lineTo(Os*i+Es*s,Os*s-Es*i),e.lineTo(Os*o+Es*l,Os*l-Es*o),e.closePath()}};function Ms(){}function Is(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ds(e){this._context=e}function _s(e){this._context=e}function Ls(e){this._context=e}function zs(e){this._context=e}function $s(e){return e<0?-1:1}function Bs(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return($s(i)+$s(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Rs(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Fs(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Us(e){this._context=e}function qs(e){this._context=new Hs(e)}function Hs(e){this._context=e}function Ws(e){this._context=e}function Gs(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Vs(e,t){this._context=e,this._t=t}function Xs(e,t){if((a=e.length)>1)for(var r,n,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(n=s,s=e[t[i]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function Ys(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ks(e,t){return e[t]}function Js(e){const t=[];return t.key=e,t}function Zs(e){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(e)}Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Is(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Is(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},_s.prototype={areaStart:Ms,areaEnd:Ms,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Is(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Is(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},zs.prototype={areaStart:Ms,areaEnd:Ms,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fs(this,this._t0,Rs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fs(this,Rs(this,r=Bs(this,e,t)),r);break;default:Fs(this,this._t0,r=Bs(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(qs.prototype=Object.create(Us.prototype)).point=function(e,t){Us.prototype.point.call(this,t,e)},Hs.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},Ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Gs(e),a=Gs(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Qs=["type","size","sizeType"];function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(this,arguments)}function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach(function(t){no(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function no(e,t,r){var n;return n=function(e,t){if("object"!=Zs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Zs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zs(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ao(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var io={symbolCircle:fs,symbolCross:xs,symbolDiamond:bs,symbolSquare:vs,symbolStar:ks,symbolTriangle:Cs,symbolWye:Ts},so=Math.PI/180,oo=function(e){var t,r,n=e.type,a=void 0===n?"circle":n,i=e.size,s=void 0===i?64:i,o=e.sizeType,c=void 0===o?"area":o,u=ro(ro({},ao(e,Qs)),{},{type:a,size:s,sizeType:c}),d=u.className,p=u.cx,h=u.cy,m=mi(u,!0);return p===+p&&h===+h&&s===+s?l.createElement("path",eo({},m,{className:Rt("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat(Vi(e));return io[t]||fs}(a),r=function(e,t){let r=null,n=ss(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:Xi(e||fs),t="function"==typeof t?t:Xi(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:Xi(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:Xi(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(t).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*so;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,c,a)),r())})):null};function lo(e){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function po(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,go(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ho(e,t,r){return t=fo(t),function(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mo()?Reflect.construct(t,r||[],fo(e).constructor):t.apply(e,r))}function mo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mo=function(){return!!e})()}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}function xo(e,t){return xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xo(e,t)}function yo(e,t,r){return(t=go(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function go(e){var t=function(e,t){if("object"!=lo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==lo(t)?t:t+""}oo.registerSymbol=function(e,t){io["symbol".concat(Vi(e))]=t};var bo,vo,jo,wo,No,ko,So,Co,Oo,Eo,Po,Ao,To,Mo,Io,Do,_o,Lo,zo,$o,Bo,Ro,Fo,Uo,qo,Ho,Wo,Go,Vo,Xo,Yo,Ko,Jo,Zo,Qo,el,tl,rl,nl,al,il,sl,ol,ll,cl,ul,dl,pl,hl=32,ml=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ho(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xo(e,t)}(e,r.PureComponent),po(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=hl/6,a=hl/3,i=e.inactive?t:e.color;if("plainline"===e.type)return l.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:hl,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return l.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(hl,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return l.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(hl,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(l.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach(function(t){yo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete s.legendIcon,l.cloneElement(e.legendIcon,s)}return l.createElement(oo,{fill:i,cx:r,cy:r,size:hl,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,o={x:0,y:0,width:hl,height:hl},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var a=t.formatter||i,d=Rt(yo(yo({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var p=ja(t.value)?null:t.value;Ui(!ja(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return l.createElement("li",co({className:d,style:c,key:"legend-item-".concat(r)},ei(e.props,t,r)),l.createElement(ji,{width:n,height:n,viewBox:o,style:u},e.renderIcon(t)),l.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},a?a(p,t,r):p))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return l.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();function fl(){if(Ao)return Po;Ao=1;var e=ta(),t=function(){if(vo)return bo;vo=1;var e=ta();return bo=function(){this.__data__=new e,this.size=0}}(),r=wo?jo:(wo=1,jo=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}),n=ko?No:(ko=1,No=function(e){return this.__data__.get(e)}),a=Co?So:(Co=1,So=function(e){return this.__data__.has(e)}),i=function(){if(Eo)return Oo;Eo=1;var e=ta(),t=ra(),r=aa();return Oo=function(n,a){var i=this.__data__;if(i instanceof e){var s=i.__data__;if(!t||s.length<199)return s.push([n,a]),this.size=++i.size,this;i=this.__data__=new r(s)}return i.set(n,a),this.size=i.size,this}}();function s(t){var r=this.__data__=new e(t);this.size=r.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Po=s}function xl(){if(Lo)return _o;Lo=1;var e=aa(),t=Mo?To:(Mo=1,To=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),r=Do?Io:(Do=1,Io=function(e){return this.__data__.has(e)});function n(t){var r=-1,n=null==t?0:t.length;for(this.__data__=new e;++r<n;)this.add(t[r])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,_o=n}function yl(){if($o)return zo;return $o=1,zo=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},zo}function gl(){if(Ro)return Bo;return Ro=1,Bo=function(e,t){return e.has(t)}}function bl(){if(Uo)return Fo;Uo=1;var e=xl(),t=yl(),r=gl();return Fo=function(n,a,i,s,o,l){var c=1&i,u=n.length,d=a.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(n),h=l.get(a);if(p&&h)return p==a&&h==n;var m=-1,f=!0,x=2&i?new e:void 0;for(l.set(n,a),l.set(a,n);++m<u;){var y=n[m],g=a[m];if(s)var b=c?s(g,y,m,a,n,l):s(y,g,m,n,a,l);if(void 0!==b){if(b)continue;f=!1;break}if(x){if(!t(a,function(e,t){if(!r(x,t)&&(y===e||o(y,e,i,s,l)))return x.push(t)})){f=!1;break}}else if(y!==g&&!o(y,g,i,s,l)){f=!1;break}}return l.delete(n),l.delete(a),f},Fo}function vl(){if(Xo)return Vo;return Xo=1,Vo=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}function jl(){if(Ko)return Yo;Ko=1;var e=Fn(),t=function(){if(Ho)return qo;Ho=1;var e=Rn().Uint8Array;return qo=e}(),r=Qn(),n=bl(),a=(Go||(Go=1,Wo=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}),Wo),i=vl(),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return Yo=function(e,s,l,c,u,d,p){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!d(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var h=a;case"[object Set]":var m=1&c;if(h||(h=i),e.size!=s.size&&!m)return!1;var f=p.get(e);if(f)return f==s;c|=2,p.set(e,s);var x=n(h(e),h(s),c,u,d,p);return p.delete(e),x;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1},Yo}function wl(){if(Zo)return Jo;return Zo=1,Jo=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},Jo}function Nl(){if(sl)return il;sl=1;var e=(rl||(rl=1,tl=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}),tl),t=al?nl:(al=1,nl=function(){return[]}),r=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols,a=n?function(t){return null==t?[]:(t=Object(t),e(n(t),function(e){return r.call(t,e)}))}:t;return il=a}function kl(){if(pl)return dl;pl=1;var e=function(){if(ul)return cl;ul=1;var e=Un(),t=qn();return cl=function(r){return t(r)&&"[object Arguments]"==e(r)}}(),t=qn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(e){return t(e)&&n.call(e,"callee")&&!a.call(e,"callee")};return dl=i}yo(ml,"displayName","Legend"),yo(ml,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sl,Cl,Ol,El,Pl,Al,Tl,Ml,Il,Dl,_l,Ll={exports:{}};function zl(){return Ol||(Ol=1,function(e,t){var r=Rn(),n=Cl?Sl:(Cl=1,Sl=function(){return!1}),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a?r.Buffer:void 0,o=(s?s.isBuffer:void 0)||n;e.exports=o}(Ll,Ll.exports)),Ll.exports}function $l(){if(Pl)return El;Pl=1;var e=/^(?:0|[1-9]\d*)$/;return El=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}}function Bl(){if(Tl)return Al;Tl=1;return Al=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function Rl(){if(_l)return Dl;return _l=1,Dl=function(e){return function(t){return e(t)}}}var Fl,Ul,ql,Hl,Wl,Gl,Vl,Xl,Yl,Kl,Jl,Zl,Ql,ec,tc,rc,nc,ac,ic,sc,oc,lc,cc,uc,dc,pc,hc,mc,fc,xc,yc,gc,bc,vc,jc,wc,Nc,kc,Sc,Cc,Oc,Ec,Pc,Ac,Tc,Mc,Ic,Dc,_c,Lc,zc,$c,Bc,Rc,Fc,Uc,qc,Hc,Wc,Gc,Vc,Xc,Yc,Kc,Jc,Zc,Qc,eu,tu,ru,nu,au,iu,su,ou,lu,cu,uu,du,pu,hu,mu,fu,xu={exports:{}};function yu(){if(ql)return Ul;ql=1;var e=function(){if(Il)return Ml;Il=1;var e=Un(),t=Bl(),r=qn(),n={};return n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,Ml=function(a){return r(a)&&t(a.length)&&!!n[e(a)]}}(),t=Rl(),r=function(){return Fl||(Fl=1,e=xu,t=xu.exports,r=Bn(),n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&r.process,s=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}(),e.exports=s),xu.exports;var e,t,r,n,a,i,s}(),n=r&&r.isTypedArray,a=n?t(n):e;return Ul=a}function gu(){if(Wl)return Hl;Wl=1;var e=ll?ol:(ll=1,ol=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}),t=kl(),r=$n(),n=zl(),a=$l(),i=yu(),s=Object.prototype.hasOwnProperty;return Hl=function(o,l){var c=r(o),u=!c&&t(o),d=!c&&!u&&n(o),p=!c&&!u&&!d&&i(o),h=c||u||d||p,m=h?e(o.length,String):[],f=m.length;for(var x in o)!l&&!s.call(o,x)||h&&("length"==x||d&&("offset"==x||"parent"==x)||p&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||a(x,f))||m.push(x);return m}}function bu(){if(Yl)return Xl;return Yl=1,Xl=function(e,t){return function(r){return e(t(r))}}}function vu(){if(Ql)return Zl;Ql=1;var e=function(){if(Vl)return Gl;Vl=1;var e=Object.prototype;return Gl=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}}(),t=function(){if(Jl)return Kl;Jl=1;var e=bu()(Object.keys,Object);return Kl=e}(),r=Object.prototype.hasOwnProperty;return Zl=function(n){if(!e(n))return t(n);var a=[];for(var i in Object(n))r.call(n,i)&&"constructor"!=i&&a.push(i);return a},Zl}function ju(){if(tc)return ec;tc=1;var e=Vn(),t=Bl();return ec=function(r){return null!=r&&t(r.length)&&!e(r)}}function wu(){if(nc)return rc;nc=1;var e=gu(),t=vu(),r=ju();return rc=function(n){return r(n)?e(n):t(n)},rc}function Nu(){if(ic)return ac;ic=1;var e=function(){if(el)return Qo;el=1;var e=wl(),t=$n();return Qo=function(r,n,a){var i=n(r);return t(r)?i:e(i,a(r))},Qo}(),t=Nl(),r=wu();return ac=function(n){return e(n,r,t)},ac}function ku(){if(hc)return pc;hc=1;var e=Kn()(Rn(),"Set");return pc=e}function Su(){if(yc)return xc;yc=1;var e=function(){if(cc)return lc;cc=1;var e=Kn()(Rn(),"DataView");return lc=e}(),t=ra(),r=function(){if(dc)return uc;dc=1;var e=Kn()(Rn(),"Promise");return uc=e}(),n=ku(),a=function(){if(fc)return mc;fc=1;var e=Kn()(Rn(),"WeakMap");return mc=e}(),i=Un(),s=Yn(),o="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",d="[object DataView]",p=s(e),h=s(t),m=s(r),f=s(n),x=s(a),y=i;return(e&&y(new e(new ArrayBuffer(1)))!=d||t&&y(new t)!=o||r&&y(r.resolve())!=l||n&&y(new n)!=c||a&&y(new a)!=u)&&(y=function(e){var t=i(e),r="[object Object]"==t?e.constructor:void 0,n=r?s(r):"";if(n)switch(n){case p:return d;case h:return o;case m:return l;case f:return c;case x:return u}return t}),xc=y}function Cu(){if(bc)return gc;bc=1;var e=fl(),t=bl(),r=jl(),n=function(){if(oc)return sc;oc=1;var e=Nu(),t=Object.prototype.hasOwnProperty;return sc=function(r,n,a,i,s,o){var l=1&a,c=e(r),u=c.length;if(u!=e(n).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in n:t.call(n,p)))return!1}var h=o.get(r),m=o.get(n);if(h&&m)return h==n&&m==r;var f=!0;o.set(r,n),o.set(n,r);for(var x=l;++d<u;){var y=r[p=c[d]],g=n[p];if(i)var b=l?i(g,y,p,n,r,o):i(y,g,p,r,n,o);if(!(void 0===b?y===g||s(y,g,a,i,o):b)){f=!1;break}x||(x="constructor"==p)}if(f&&!x){var v=r.constructor,j=n.constructor;v==j||!("constructor"in r)||!("constructor"in n)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(f=!1)}return o.delete(r),o.delete(n),f},sc}(),a=Su(),i=$n(),s=zl(),o=yu(),l="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype.hasOwnProperty;return gc=function(p,h,m,f,x,y){var g=i(p),b=i(h),v=g?c:a(p),j=b?c:a(h),w=(v=v==l?u:v)==u,N=(j=j==l?u:j)==u,k=v==j;if(k&&s(p)){if(!s(h))return!1;g=!0,w=!1}if(k&&!w)return y||(y=new e),g||o(p)?t(p,h,m,f,x,y):r(p,h,v,m,f,x,y);if(!(1&m)){var S=w&&d.call(p,"__wrapped__"),C=N&&d.call(h,"__wrapped__");if(S||C){var O=S?p.value():p,E=C?h.value():h;return y||(y=new e),x(O,E,m,f,y)}}return!!k&&(y||(y=new e),n(p,h,m,f,x,y))},gc}function Ou(){if(jc)return vc;jc=1;var e=Cu(),t=qn();return vc=function r(n,a,i,s,o){return n===a||(null==n||null==a||!t(n)&&!t(a)?n!=n&&a!=a:e(n,a,i,s,r,o))},vc}function Eu(){if(Sc)return kc;Sc=1;var e=Gn();return kc=function(t){return t==t&&!e(t)}}function Pu(){if(Pc)return Ec;return Pc=1,Ec=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},Ec}function Au(){if(Tc)return Ac;Tc=1;var e=function(){if(Nc)return wc;Nc=1;var e=fl(),t=Ou();return wc=function(r,n,a,i){var s=a.length,o=s,l=!i;if(null==r)return!o;for(r=Object(r);s--;){var c=a[s];if(l&&c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++s<o;){var u=(c=a[s])[0],d=r[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in r))return!1}else{var h=new e;if(i)var m=i(d,p,u,r,n,h);if(!(void 0===m?t(p,d,3,i,h):m))return!1}}return!0},wc}(),t=function(){if(Oc)return Cc;Oc=1;var e=Eu(),t=wu();return Cc=function(r){for(var n=t(r),a=n.length;a--;){var i=n[a],s=r[i];n[a]=[i,s,e(s)]}return n},Cc}(),r=Pu();return Ac=function(n){var a=t(n);return 1==a.length&&a[0][2]?r(a[0][0],a[0][1]):function(t){return t===n||e(t,n,a)}},Ac}function Tu(){if(zc)return Lc;zc=1;var e=(Ic||(Ic=1,Mc=function(e,t){return null!=e&&t in Object(e)}),Mc),t=function(){if(_c)return Dc;_c=1;var e=ca(),t=kl(),r=$n(),n=$l(),a=Bl(),i=ua();return Dc=function(s,o,l){for(var c=-1,u=(o=e(o,s)).length,d=!1;++c<u;){var p=i(o[c]);if(!(d=null!=s&&l(s,p)))break;s=s[p]}return d||++c!=u?d:!!(u=null==s?0:s.length)&&a(u)&&n(p,u)&&(r(s)||t(s))},Dc}();return Lc=function(r,n){return null!=r&&t(r,n,e)},Lc}function Mu(){if(Fc)return Rc;return Fc=1,Rc=function(e){return e}}function Iu(){if(Vc)return Gc;Vc=1;var e=(qc||(qc=1,Uc=function(e){return function(t){return null==t?void 0:t[e]}}),Uc),t=function(){if(Wc)return Hc;Wc=1;var e=da();return Hc=function(t){return function(r){return e(r,t)}},Hc}(),r=Wn(),n=ua();return Gc=function(a){return r(a)?e(n(a)):t(a)}}function Du(){if(Yc)return Xc;Yc=1;var e=Au(),t=function(){if(Bc)return $c;Bc=1;var e=Ou(),t=pa(),r=Tu(),n=Wn(),a=Eu(),i=Pu(),s=ua();return $c=function(o,l){return n(o)&&a(l)?i(s(o),l):function(n){var a=t(n,o);return void 0===a&&a===l?r(n,o):e(l,a,3)}},$c}(),r=Mu(),n=$n(),a=Iu();return Xc=function(i){return"function"==typeof i?i:null==i?r:"object"==typeof i?n(i)?t(i[0],i[1]):e(i):a(i)}}function _u(){if(Jc)return Kc;return Jc=1,Kc=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1},Kc}function Lu(){if(nu)return ru;nu=1;var e=_u(),t=Qc?Zc:(Qc=1,Zc=function(e){return e!=e}),r=(tu||(tu=1,eu=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}),eu);return ru=function(n,a,i){return a==a?r(n,a,i):e(n,t,i)},ru}function zu(){if(du)return uu;du=1;var e=ku(),t=cu?lu:(cu=1,lu=function(){}),r=vl(),n=e&&1/r(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return uu=n}function $u(){if(hu)return pu;hu=1;var e=xl(),t=function(){if(iu)return au;iu=1;var e=Lu();return au=function(t,r){return!(null==t||!t.length)&&e(t,r,0)>-1},au}(),r=(ou||(ou=1,su=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}),su),n=gl(),a=zu(),i=vl();return pu=function(s,o,l){var c=-1,u=t,d=s.length,p=!0,h=[],m=h;if(l)p=!1,u=r;else if(d>=200){var f=o?null:a(s);if(f)return i(f);p=!1,u=n,m=new e}else m=o?[]:h;e:for(;++c<d;){var x=s[c],y=o?o(x):x;if(x=l||0!==x?x:0,p&&y==y){for(var g=m.length;g--;)if(m[g]===y)continue e;o&&m.push(y),h.push(x)}else u(m,y,l)||(m!==h&&m.push(y),h.push(x))}return h},pu}var Bu=function(){if(fu)return mu;fu=1;var e=Du(),t=$u();return mu=function(r,n){return r&&r.length?t(r,e(n,2)):[]},mu}();const Ru=o(Bu);function Fu(e,t,r){return!0===t?Ru(e,r):ja(t)?Ru(e,t):e}function Uu(e){return Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(e)}var qu=["ref"];function Hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(r),!0).forEach(function(t){Ju(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zu(n.key),n)}}function Vu(e,t,r){return t=Yu(t),function(e,t){if(t&&("object"===Uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xu()?Reflect.construct(t,r||[],Yu(e).constructor):t.apply(e,r))}function Xu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xu=function(){return!!e})()}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yu(e)}function Ku(e,t){return Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ku(e,t)}function Ju(e,t,r){return(t=Zu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zu(e){var t=function(e,t){if("object"!=Uu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Uu(t)?t:t+""}function Qu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ed(e){return e.value}var td,rd,nd,ad,id,sd,od,ld,cd,ud,dd,pd,hd,md,fd,xd,yd,gd,bd,vd,jd,wd,Nd,kd,Sd,Cd,Od,Ed,Pd,Ad,Td,Md,Id,Dd,_d,Ld,zd,$d,Bd,Rd,Fd,Ud,qd,Hd,Wd=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ju(t=Vu(this,e,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ku(e,t)}(e,r.PureComponent),t=e,a=[{key:"getWithHeight",value:function(e,t){var r=Wu(Wu({},this.defaultProps),e.props).layout;return"vertical"===r&&$a(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,s=n.verticalAlign,o=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),Wu(Wu({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,o=t.payload,c=Wu(Wu({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return l.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(l.isValidElement(e))return l.cloneElement(e,t);if("function"==typeof e)return l.createElement(e,t);t.ref;var r=Qu(t,qu);return l.createElement(ml,r)}(r,Wu(Wu({},this.props),{},{payload:Fu(o,s,ed)})))}}])&&Gu(t.prototype,n),a&&Gu(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function Gd(){if(ad)return nd;ad=1;var e=wl(),t=function(){if(rd)return td;rd=1;var e=Fn(),t=kl(),r=$n(),n=e?e.isConcatSpreadable:void 0;return td=function(e){return r(e)||t(e)||!!(n&&e&&e[n])}}();return nd=function r(n,a,i,s,o){var l=-1,c=n.length;for(i||(i=t),o||(o=[]);++l<c;){var u=n[l];a>0&&i(u)?a>1?r(u,a-1,i,s,o):e(o,u):s||(o[o.length]=u)}return o},nd}function Vd(){if(ld)return od;ld=1;var e=(sd||(sd=1,id=function(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===r(i[l],l,i))break}return t}}),id),t=e();return od=t}function Xd(){if(ud)return cd;ud=1;var e=Vd(),t=wu();return cd=function(r,n){return r&&e(r,n,t)},cd}function Yd(){if(md)return hd;md=1;var e=Xd(),t=function(){if(pd)return dd;pd=1;var e=ju();return dd=function(t,r){return function(n,a){if(null==n)return n;if(!e(n))return t(n,a);for(var i=n.length,s=r?i:-1,o=Object(n);(r?s--:++s<i)&&!1!==a(o[s],s,o););return n}}}()(e);return hd=t}function Kd(){if(xd)return fd;xd=1;var e=Yd(),t=ju();return fd=function(r,n){var a=-1,i=t(r)?Array(r.length):[];return e(r,function(e,t,r){i[++a]=n(e,t,r)}),i}}function Jd(){if(wd)return jd;wd=1;var e=function(){if(vd)return bd;vd=1;var e=Hn();return bd=function(t,r){if(t!==r){var n=void 0!==t,a=null===t,i=t==t,s=e(t),o=void 0!==r,l=null===r,c=r==r,u=e(r);if(!l&&!u&&!s&&t>r||s&&o&&c&&!l&&!u||a&&o&&c||!n&&c||!i)return 1;if(!a&&!s&&!u&&t<r||u&&n&&i&&!a&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}}();return jd=function(t,r,n){for(var a=-1,i=t.criteria,s=r.criteria,o=i.length,l=n.length;++a<o;){var c=e(i[a],s[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return t.index-r.index},jd}function Zd(){if(kd)return Nd;kd=1;var e=oa(),t=da(),r=Du(),n=Kd(),a=(gd||(gd=1,yd=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}),yd),i=Rl(),s=Jd(),o=Mu(),l=$n();return Nd=function(c,u,d){u=u.length?e(u,function(e){return l(e)?function(r){return t(r,1===e.length?e[0]:e)}:e}):[o];var p=-1;u=e(u,i(r));var h=n(c,function(t,r,n){return{criteria:e(u,function(e){return e(t)}),index:++p,value:t}});return a(h,function(e,t){return s(e,t,d)})},Nd}function Qd(){if(Ed)return Od;Ed=1;var e=Cd?Sd:(Cd=1,Sd=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}),t=Math.max;return Od=function(r,n,a){return n=t(void 0===n?r.length-1:n,0),function(){for(var i=arguments,s=-1,o=t(i.length-n,0),l=Array(o);++s<o;)l[s]=i[n+s];s=-1;for(var c=Array(n+1);++s<n;)c[s]=i[s];return c[n]=a(l),e(r,this,c)}},Od}function ep(){if(Md)return Td;Md=1;var e=Kn(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(r){}}();return Td=t}function tp(){if(Dd)return Id;Dd=1;var e=Ad?Pd:(Ad=1,Pd=function(e){return function(){return e}}),t=ep(),r=Mu(),n=t?function(r,n){return t(r,"toString",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:r;return Id=n}function rp(){if($d)return zd;$d=1;var e=tp(),t=function(){if(Ld)return _d;Ld=1;var e=Date.now;return _d=function(t){var r=0,n=0;return function(){var a=e(),i=16-(a-n);if(n=a,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}},_d}(),r=t(e);return zd=r}function np(){if(Ud)return Fd;Ud=1;var e=Qn(),t=ju(),r=$l(),n=Gn();return Fd=function(a,i,s){if(!n(s))return!1;var o=typeof i;return!!("number"==o?t(s)&&r(i,s.length):"string"==o&&i in s)&&e(s[i],a)},Fd}Ju(Wd,"displayName","Legend"),Ju(Wd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ap=function(){if(Hd)return qd;Hd=1;var e=Gd(),t=Zd(),r=function(){if(Rd)return Bd;Rd=1;var e=Mu(),t=Qd(),r=rp();return Bd=function(n,a){return r(t(n,a,e),n+"")}}(),n=np(),a=r(function(r,a){if(null==r)return[];var i=a.length;return i>1&&n(r,a[0],a[1])?a=[]:i>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(r,e(a,1),[])});return qd=a}();const ip=o(ap);function sp(e){return sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(this,arguments)}function lp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?up(Object(r),!0).forEach(function(t){pp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pp(e,t,r){var n;return n=function(e,t){if("object"!=sp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=sp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hp(e){return Array.isArray(e)&&Ba(e[0])&&Ba(e[1])?e.join(" ~ "):e}var mp=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,i=e.itemStyle,s=void 0===i?{}:i,o=e.labelStyle,c=void 0===o?{}:o,u=e.payload,d=e.formatter,p=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,f=e.label,x=e.labelFormatter,y=e.accessibilityLayer,g=void 0!==y&&y,b=dp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=dp({margin:0},c),j=!xa(f),w=j?f:"",N=Rt("recharts-default-tooltip",h),k=Rt("recharts-tooltip-label",m);j&&x&&null!=u&&(w=x(f,u));var S=g?{role:"status","aria-live":"assertive"}:{};return l.createElement("div",op({className:N,style:b},S),l.createElement("p",{className:k,style:v},l.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(p?ip(u,p):u).map(function(e,t){if("none"===e.type)return null;var n=dp({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||d||hp,i=e.value,o=e.name,c=i,p=o;if(a&&null!=c&&null!=p){var h=a(i,o,e,t,u);if(Array.isArray(h)){var m=lp(h,2);c=m[0],p=m[1]}else c=h}return l.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},Ba(p)?l.createElement("span",{className:"recharts-tooltip-item-name"},p):null,Ba(p)?l.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,l.createElement("span",{className:"recharts-tooltip-item-value"},c),l.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return l.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function fp(e){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(e)}function xp(e,t,r){var n;return n=function(e,t){if("object"!=fp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=fp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yp="recharts-tooltip-wrapper",gp={visibility:"hidden"};function bp(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Rt(yp,xp(xp(xp(xp({},"".concat(yp,"-right"),$a(r)&&t&&$a(t.x)&&r>=t.x),"".concat(yp,"-left"),$a(r)&&t&&$a(t.x)&&r<t.x),"".concat(yp,"-bottom"),$a(n)&&t&&$a(t.y)&&n>=t.y),"".concat(yp,"-top"),$a(n)&&t&&$a(t.y)&&n<t.y))}function vp(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&$a(i[n]))return i[n];var u=r[n]-o-a,d=r[n]+a;return t[n]?s[n]?u:d:s[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+o>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}function wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Np(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(r),!0).forEach(function(t){Pp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kp(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ap(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sp(e,t,r){return t=Op(t),function(e,t){if(t&&("object"===jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cp()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function Cp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Cp=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Op(e)}function Ep(e,t){return Ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ep(e,t)}function Pp(e,t,r){return(t=Ap(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ap(e){var t=function(e,t){if("object"!=jp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jp(t)?t:t+""}var Tp=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Pp(t=Sp(this,e,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Pp(t,"handleKeyDown",function(e){var r,n,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=t.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ep(e,t)}(e,r.PureComponent),kp(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.children,o=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,p=t.position,h=t.reverseDirection,m=t.useTranslate3d,f=t.viewBox,x=t.wrapperStyle,y=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=vp({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=vp({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):gp,cssClasses:bp({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:p,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:f}),g=y.cssClasses,b=y.cssProperties,v=Np(Np({transition:u&&r?"transform ".concat(a,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},x);return l.createElement("div",{tabIndex:-1,className:g,style:v,ref:function(t){e.wrapperNode=t}},s)}}])}(),Mp=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function Ip(e){return Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(e)}function Dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(r),!0).forEach(function(t){Fp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lp(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Up(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zp(e,t,r){return t=Bp(t),function(e,t){if(t&&("object"===Ip(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$p()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function $p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($p=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(e)}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rp(e,t)}function Fp(e,t,r){return(t=Up(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Up(e){var t=function(e,t){if("object"!=Ip(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ip(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ip(t)?t:t+""}function qp(e){return e.dataKey}var Hp,Wp,Gp,Vp,Xp,Yp,Kp,Jp,Zp,Qp,eh,th,rh=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zp(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}(e,r.PureComponent),Lp(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.content,o=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,p=t.payload,h=t.payloadUniqBy,m=t.position,f=t.reverseDirection,x=t.useTranslate3d,y=t.viewBox,g=t.wrapperStyle,b=null!=p?p:[];c&&b.length&&(b=Fu(p.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,qp));var v=b.length>0;return l.createElement(Tp,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:r,coordinate:o,hasPayload:v,offset:d,position:m,reverseDirection:f,useTranslate3d:x,viewBox:y,wrapperStyle:g},function(e,t){return l.isValidElement(e)?l.cloneElement(e,t):"function"==typeof e?l.createElement(e,t):l.createElement(mp,t)}(s,_p(_p({},this.props),{},{payload:b})))}}])}();function nh(){if(Yp)return Xp;Yp=1;var e=function(){if(Vp)return Gp;Vp=1;var e=/\s/;return Gp=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r},Gp}(),t=/^\s+/;return Xp=function(r){return r?r.slice(0,e(r)+1).replace(t,""):r},Xp}function ah(){if(Jp)return Kp;Jp=1;var e=nh(),t=Gn(),r=Hn(),n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;return Kp=function(o){if("number"==typeof o)return o;if(r(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=a.test(o);return c||i.test(o)?s(o.slice(2),c?2:8):n.test(o)?NaN:+o}}function ih(){if(Qp)return Zp;Qp=1;var e=Gn(),t=function(){if(Wp)return Hp;Wp=1;var e=Rn();return Hp=function(){return e.Date.now()}}(),r=ah(),n=Math.max,a=Math.min;return Zp=function(i,s,o){var l,c,u,d,p,h,m=0,f=!1,x=!1,y=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function g(e){var t=l,r=c;return l=c=void 0,m=e,d=i.apply(r,t)}function b(e){var t=e-h;return void 0===h||t>=s||t<0||x&&e-m>=u}function v(){var e=t();if(b(e))return j(e);p=setTimeout(v,function(e){var t=s-(e-h);return x?a(t,u-(e-m)):t}(e))}function j(e){return p=void 0,y&&l?g(e):(l=c=void 0,d)}function w(){var e=t(),r=b(e);if(l=arguments,c=this,h=e,r){if(void 0===p)return function(e){return m=e,p=setTimeout(v,s),f?g(e):d}(h);if(x)return clearTimeout(p),p=setTimeout(v,s),g(h)}return void 0===p&&(p=setTimeout(v,s)),d}return s=r(s)||0,e(o)&&(f=!!o.leading,u=(x="maxWait"in o)?n(r(o.maxWait)||0,s):u,y="trailing"in o?!!o.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=c=p=void 0},w.flush=function(){return void 0===p?d:j(t())},w},Zp}Fp(rh,"displayName","Tooltip"),Fp(rh,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mp,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sh=function(){if(th)return eh;th=1;var e=ih(),t=Gn();return eh=function(r,n,a){var i=!0,s=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return t(a)&&(i="leading"in a?!!a.leading:i,s="trailing"in a?!!a.trailing:s),e(r,n,{leading:i,maxWait:n,trailing:s})}}();const oh=o(sh);function lh(e){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(e)}function ch(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(r),!0).forEach(function(t){dh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ch(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dh(e,t,r){var n;return n=function(e,t){if("object"!=lh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=lh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lh(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ph(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mh=r.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,s=e.width,o=void 0===s?"100%":s,c=e.height,u=void 0===c?"100%":c,d=e.minWidth,p=void 0===d?0:d,h=e.minHeight,m=e.maxHeight,f=e.children,x=e.debounce,y=void 0===x?0:x,g=e.id,b=e.className,v=e.onResize,j=e.style,w=void 0===j?{}:j,N=r.useRef(null),k=r.useRef();k.current=v,r.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return N.current},configurable:!0})});var S=ph(r.useState({containerWidth:i.width,containerHeight:i.height}),2),C=S[0],O=S[1],E=r.useCallback(function(e,t){O(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);r.useEffect(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;E(n,a),null===(t=k.current)||void 0===t||t.call(k,n,a)};y>0&&(e=oh(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=N.current.getBoundingClientRect(),n=r.width,a=r.height;return E(n,a),t.observe(N.current),function(){t.disconnect()}},[E,y]);var P=r.useMemo(function(){var e=C.containerWidth,t=C.containerHeight;if(e<0||t<0)return null;Ui(za(o)||za(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,u),Ui(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=za(o)?e:o,i=za(u)?t:u;n&&n>0&&(a?i=a/n:i&&(a=i*n),m&&i>m&&(i=m)),Ui(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,o,u,p,h,n);var s=!Array.isArray(f)&&si(f.type).endsWith("Chart");return l.Children.map(f,function(e){return l.isValidElement(e)?r.cloneElement(e,uh({width:a,height:i},s?{style:uh({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e})},[n,f,u,m,h,p,C,o]);return l.createElement("div",{id:g?"".concat(g):void 0,className:Rt("recharts-responsive-container",b),style:uh(uh({},w),{},{width:o,height:u,minWidth:p,minHeight:h,maxHeight:m}),ref:N},P)}),fh=function(e){return null};function xh(e){return xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(e)}function yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yh(Object(r),!0).forEach(function(t){bh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bh(e,t,r){var n;return n=function(e,t){if("object"!=xh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=xh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xh(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}fh.displayName="Cell";var vh={widthCache:{},cacheCount:0},jh={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wh="recharts_measurement_span";var Nh=function(e){if(null==e||Mp)return{width:0,height:0};var t,r=(t=gh({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),n=JSON.stringify({text:e,copyStyle:r});if(vh.widthCache[n])return vh.widthCache[n];try{var a=document.getElementById(wh);a||((a=document.createElement("span")).setAttribute("id",wh),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=gh(gh({},jh),r);Object.assign(a.style,i),a.textContent="".concat(e);var s=a.getBoundingClientRect(),o={width:s.width,height:s.height};return vh.widthCache[n]=o,++vh.cacheCount>2e3&&(vh.cacheCount=0,vh.widthCache={}),o}catch(l){return{width:0,height:0}}};function kh(e){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(e)}function Sh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ch(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ch(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eh(n.key),n)}}function Eh(e){var t=function(e,t){if("object"!=kh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==kh(t)?t:t+""}var Ph=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ah=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Th=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mh=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ih={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Dh=Object.keys(Ih),_h="NaN";var Lh=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Th.test(r)||(this.num=NaN,this.unit=""),Dh.includes(r)&&(this.num=function(e,t){return e*Ih[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Sh(null!==(r=Mh.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!=i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Oh(t.prototype,r),n&&Oh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function zh(e){if(e.includes(_h))return _h;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Sh(null!==(r=Ph.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],s=n[3],o=Lh.parse(null!=a?a:""),l=Lh.parse(null!=s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return _h;t=t.replace(Ph,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Sh(null!==(u=Ah.exec(t))&&void 0!==u?u:[],4),p=d[1],h=d[2],m=d[3],f=Lh.parse(null!=p?p:""),x=Lh.parse(null!=m?m:""),y="+"===h?f.add(x):f.subtract(x);if(y.isNaN())return _h;t=t.replace(Ah,y.toString())}return t}var $h=/\(([^()]*)\)/;function Bh(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Sh($h.exec(t),2)[1];t=t.replace($h,zh(r))}return t}(t),t=zh(t)}function Rh(e){var t=function(e){try{return Bh(e)}catch(t){return _h}}(e.slice(5,-1));return t===_h?"":t}var Fh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Uh=["dx","dy","angle","className","breakAll"];function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(this,arguments)}function Hh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vh=/[ \f\n\r\t\v\u2028\u2029]+/,Xh=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return xa(t)||(a=r?t.toString().split(""):t.toString().split(Vh)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Nh(e,n).width}}),spaceWidth:r?0:Nh("¬†",n).width}}catch(i){return null}},Yh=function(e){return[{words:xa(e)?[]:e.toString().split(Vh)}]},Kh=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,s=e.maxLines;if((t||r)&&!Mp){var o=Xh({breakAll:i,children:n,style:a});return o?function(e,t,r,n,a){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=$a(i),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==n||a||o.width+s+r<Number(n)))o.words.push(i),o.width+=s+r;else{var l={words:[i],width:s};e.push(l)}return e},[])},p=d(t);if(!c)return p;for(var h,m=function(e){var t=u.slice(0,e),r=Xh({breakAll:l,style:o,children:t+"‚Ä¶"}).wordsWithComputedWidth,a=d(r),s=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[s,a]},f=0,x=u.length-1,y=0;f<=x&&y<=u.length-1;){var g=Math.floor((f+x)/2),b=Wh(m(g-1),2),v=b[0],j=b[1],w=Wh(m(g),1)[0];if(v||w||(f=g+1),v&&w&&(x=g-1),!v&&w){h=j;break}y++}return h||p}({breakAll:i,children:n,maxLines:s,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,r):Yh(n)}return Yh(n)},Jh="#808080",Zh=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,i=void 0===a?0:a,s=e.lineHeight,o=void 0===s?"1em":s,c=e.capHeight,u=void 0===c?"0.71em":c,d=e.scaleToFit,p=void 0!==d&&d,h=e.textAnchor,m=void 0===h?"start":h,f=e.verticalAnchor,x=void 0===f?"end":f,y=e.fill,g=void 0===y?Jh:y,b=Hh(e,Fh),v=r.useMemo(function(){return Kh({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:p,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,p,b.style,b.width]),j=b.dx,w=b.dy,N=b.angle,k=b.className,S=b.breakAll,C=Hh(b,Uh);if(!Ba(n)||!Ba(i))return null;var O,E=n+($a(j)?j:0),P=i+($a(w)?w:0);switch(x){case"start":O=Rh("calc(".concat(u,")"));break;case"middle":O=Rh("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=Rh("calc(".concat(v.length-1," * -").concat(o,")"))}var A=[];if(p){var T=v[0].width,M=b.width;A.push("scale(".concat(($a(M)?M/T:1)/T,")"))}return N&&A.push("rotate(".concat(N,", ").concat(E,", ").concat(P,")")),A.length&&(C.transform=A.join(" ")),l.createElement("text",qh({},mi(C,!0),{x:E,y:P,className:Rt("recharts-text",k),textAnchor:m,fill:g.includes("url")?Jh:g}),v.map(function(e,t){var r=e.words.join(S?"":" ");return l.createElement("tspan",{x:E,dy:0===t?O:o,key:"".concat(r,"-").concat(t)},r)}))};function Qh(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function em(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tm(e){let t,r,n;function a(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Qh,r=(t,r)=>Qh(e(t),r),n=(t,r)=>e(t)-r):(t=e===Qh||e===em?e:rm,r=e,n=e),{left:a,center:function(e,t,r=0,i=e.length){const s=a(e,t,r,i-1);return s>r&&n(e[s-1],t)>-n(e[s],t)?s-1:s},right:function(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function rm(){return 0}function nm(e){return null===e?NaN:+e}const am=tm(Qh).right;tm(nm).center;class im extends Map{constructor(e,t=om){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(sm(this,e))}has(e){return super.has(sm(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function sm({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function om(e){return null!==e&&"object"==typeof e?e.valueOf():e}function lm(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const cm=Math.sqrt(50),um=Math.sqrt(10),dm=Math.sqrt(2);function pm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=cm?10:i>=um?5:i>=dm?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?pm(e,t,2*r):[o,l,c]}function hm(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,s]=n?pm(t,e,r):pm(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function mm(e,t,r){return pm(e=+e,t=+t,r=+r)[2]}function fm(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?mm(t,e,r):mm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function xm(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function ym(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function gm(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?lm:function(e=Qh){if(e===Qh)return lm;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);n>r;){if(n-r>600){const i=n-r+1,s=t-r+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);gm(e,t,Math.max(r,Math.floor(t-s*l/i+c)),Math.min(n,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=r,o=n;for(bm(e,r,t),a(e[n],i)>0&&bm(e,r,n);s<o;){for(bm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[r],i)?bm(e,r,o):(++o,bm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function bm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vm(e,t,r=nm){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e);return s+(+r(e[i+1],i+1,e)-s)*(a-i)}}function jm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function wm(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Nm=Symbol("implicit");function km(){var e=new im,t=[],r=[],n=Nm;function a(a){let i=e.get(a);if(void 0===i){if(n!==Nm)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new im;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return km(t,r).unknown(n)},jm.apply(a,arguments),a}function Sm(){var e,t,r=km().unknown(void 0),n=r.domain,a=r.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=s<i,p=d?s:i,h=d?i:s;e=(h-p)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),p+=(h-p-e*(r-l))*u,t=e*(1-l),o&&(p=Math.round(p),t=Math.round(t));var m=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return p+e*t});return a(d?m.reverse():m)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,d()):[i,s]},r.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,d()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Sm(n(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},jm.apply(d(),arguments)}function Cm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Cm(t())},e}function Om(){return Cm(Sm.apply(null,arguments).paddingInner(1))}function Em(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Pm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Am(){}var Tm=.7,Mm=1/Tm,Im="\\s*([+-]?\\d+)\\s*",Dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lm=/^#([0-9a-f]{3,8})$/,zm=new RegExp(`^rgb\\(${Im},${Im},${Im}\\)$`),$m=new RegExp(`^rgb\\(${_m},${_m},${_m}\\)$`),Bm=new RegExp(`^rgba\\(${Im},${Im},${Im},${Dm}\\)$`),Rm=new RegExp(`^rgba\\(${_m},${_m},${_m},${Dm}\\)$`),Fm=new RegExp(`^hsl\\(${Dm},${_m},${_m}\\)$`),Um=new RegExp(`^hsla\\(${Dm},${_m},${_m},${Dm}\\)$`),qm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hm(){return this.rgb().formatHex()}function Wm(){return this.rgb().formatRgb()}function Gm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Lm.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Vm(t):3===r?new Km(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Xm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Xm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zm.exec(e))?new Km(t[1],t[2],t[3],1):(t=$m.exec(e))?new Km(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Bm.exec(e))?Xm(t[1],t[2],t[3],t[4]):(t=Rm.exec(e))?Xm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Fm.exec(e))?rf(t[1],t[2]/100,t[3]/100,1):(t=Um.exec(e))?rf(t[1],t[2]/100,t[3]/100,t[4]):qm.hasOwnProperty(e)?Vm(qm[e]):"transparent"===e?new Km(NaN,NaN,NaN,0):null}function Vm(e){return new Km(e>>16&255,e>>8&255,255&e,1)}function Xm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Km(e,t,r,n)}function Ym(e,t,r,n){return 1===arguments.length?((a=e)instanceof Am||(a=Gm(a)),a?new Km((a=a.rgb()).r,a.g,a.b,a.opacity):new Km):new Km(e,t,r,null==n?1:n);var a}function Km(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Jm(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function Zm(){const e=Qm(this.opacity);return`${1===e?"rgb(":"rgba("}${ef(this.r)}, ${ef(this.g)}, ${ef(this.b)}${1===e?")":`, ${e})`}`}function Qm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ef(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return((e=ef(e))<16?"0":"")+e.toString(16)}function rf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new af(e,t,r,n)}function nf(e){if(e instanceof af)return new af(e.h,e.s,e.l,e.opacity);if(e instanceof Am||(e=Gm(e)),!e)return new af;if(e instanceof af)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(r-n)/o+6*(r<n):r===i?(n-t)/o+2:(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new af(s,o,l,e.opacity)}function af(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function sf(e){return(e=(e||0)%360)<0?e+360:e}function of(e){return Math.max(0,Math.min(1,e||0))}function lf(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Em(Am,Gm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hm,formatHex:Hm,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nf(this).formatHsl()},formatRgb:Wm,toString:Wm}),Em(Km,Ym,Pm(Am,{brighter(e){return e=null==e?Mm:Math.pow(Mm,e),new Km(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Tm:Math.pow(Tm,e),new Km(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Km(ef(this.r),ef(this.g),ef(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jm,formatHex:Jm,formatHex8:function(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Zm,toString:Zm})),Em(af,function(e,t,r,n){return 1===arguments.length?nf(e):new af(e,t,r,null==n?1:n)},Pm(Am,{brighter(e){return e=null==e?Mm:Math.pow(Mm,e),new af(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Tm:Math.pow(Tm,e),new af(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Km(lf(e>=240?e-240:e+120,a,n),lf(e,a,n),lf(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new af(sf(this.h),of(this.s),of(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qm(this.opacity);return`${1===e?"hsl(":"hsla("}${sf(this.h)}, ${100*of(this.s)}%, ${100*of(this.l)}%${1===e?")":`, ${e})`}`}}));const cf=e=>()=>e;function uf(e){return 1===(e=+e)?df:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):cf(isNaN(t)?r:t)}}function df(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):cf(isNaN(e)?t:e)}const pf=function e(t){var r=uf(t);function n(e,t){var n=r((e=Ym(e)).r,(t=Ym(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),s=df(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function hf(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function mf(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),s=new Array(n);for(r=0;r<a;++r)i[r]=jf(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<a;++r)s[r]=i[r](e);return s}}function ff(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yf(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=jf(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var gf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bf=new RegExp(gf.source,"g");function vf(e,t){var r,n,a,i=gf.lastIndex=bf.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=gf.exec(e))&&(n=bf.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:xf(r,n)})),i=bf.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function jf(e,t){var r,n=typeof t;return null==t||"boolean"===n?cf(t):("number"===n?xf:"string"===n?(r=Gm(t))?(t=r,pf):vf:t instanceof Gm?pf:t instanceof Date?ff:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?hf:Array.isArray(t)?mf:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?yf:xf)(e,t)}function wf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Nf(e,t){void 0===t&&(t=e,e=jf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}function kf(e){return+e}var Sf=[0,1];function Cf(e){return e}function Of(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Ef(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Of(a,n),i=r(s,i)):(n=Of(n,a),i=r(i,s)),function(e){return i(n(e))}}function Pf(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Of(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(t){var r=am(e,t,1,n)-1;return i[r](a[r](t))}}function Af(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tf(){var e,t,r,n,a,i,s=Sf,o=Sf,l=jf,c=Cf;function u(){var e=Math.min(s.length,o.length);return c!==Cf&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?Pf:Ef,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(s.map(e),o,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(o,s.map(e),xf)))(r)))},d.domain=function(e){return arguments.length?(s=Array.from(e,kf),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=wf,u()},d.clamp=function(e){return arguments.length?(c=!!e||Cf,u()):c!==Cf},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Mf(){return Tf()(Cf,Cf)}function If(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Df(e){return(e=If(Math.abs(e)))?e[1]:NaN}var _f,Lf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zf(e){if(!(t=Lf.exec(e)))throw new Error("invalid format: "+e);var t;return new $f({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $f(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Bf(e,t){var r=If(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}zf.prototype=$f.prototype,$f.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Rf={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Bf(100*e,t),r:Bf,s:function(e,t){var r=If(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(_f=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+If(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ff(e){return e}var Uf,qf,Hf,Wf=Array.prototype.map,Gf=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function Vf(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Ff:(t=Wf.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Ff:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Wf.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"‚àí":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=zf(e)).fill,r=e.align,d=e.sign,p=e.symbol,h=e.zero,m=e.width,f=e.comma,x=e.precision,y=e.trim,g=e.type;"n"===g?(f=!0,g="g"):Rf[g]||(void 0===x&&(x=12),y=!0,g="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var b="$"===p?a:"#"===p&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===p?i:/[%p]/.test(g)?l:"",j=Rf[g],w=/[defgprs%]/.test(g);function N(e){var a,i,l,p=b,N=v;if("c"===g)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),x),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),p=(k?"("===d?d:c:"-"===d||"("===d?"":d)+p,N=("s"===g?Gf[8+_f/3]:"")+N+(k&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?s+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!h&&(e=n(e,1/0));var S=p.length+e.length+N.length,C=S<m?new Array(m-S+1).join(t):"";switch(f&&h&&(e=n(C+e,C.length?m-N.length:1/0),C=""),r){case"<":e=p+e+N+C;break;case"=":e=p+C+e+N;break;case"^":e=C.slice(0,S=C.length>>1)+p+e+N+C.slice(S);break;default:e=C+p+e+N}return o(e)}return x=void 0===x?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=zf(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Df(t)/3))),a=Math.pow(10,-n),i=Gf[8+n/3];return function(e){return r(a*e)+i}}}}function Xf(e,t,r,n){var a,i=fm(e,t,r);switch((n=zf(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Df(t)/3)))-Df(Math.abs(e)))}(i,s))||(n.precision=a),Hf(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Df(t)-Df(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Df(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return qf(n)}function Yf(e){var t=e.domain;return e.ticks=function(e){var r=t();return hm(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Xf(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=mm(l,c,r))===n)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Kf(){var e=Mf();return e.copy=function(){return Af(e,Kf())},jm.apply(e,arguments),Yf(e)}function Jf(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],s=e[a];return s<i&&(r=n,n=a,a=r,r=i,i=s,s=r),e[n]=t.floor(i),e[a]=t.ceil(s),e}function Zf(e){return Math.log(e)}function Qf(e){return Math.exp(e)}function ex(e){return-Math.log(-e)}function tx(e){return-Math.exp(-e)}function rx(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nx(e){return(t,r)=>-e(-t,r)}function ax(e){const t=e(Zf,Qf),r=t.domain;let n,a,i=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?rx:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=nx(n),a=nx(a),e(ex,tx)):e(Zf,Qf),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=n(s),p=n(o);const h=null==e?10:+e;let m=[];if(!(i%1)&&p-d<h){if(d=Math.floor(d),p=Math.ceil(p),s>0){for(;d<=p;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;m.push(u)}}else for(;d<=p;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;m.push(u)}2*m.length<h&&(m=hm(s,o,h))}else m=hm(d,p,Math.min(p-d,h)).map(a);return l?m.reverse():m},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!=typeof r&&(i%1||null!=(r=zf(r)).precision||(r.trim=!0),r=qf(r)),e===1/0)return r;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=s?r(e):""}},t.nice=()=>r(Jf(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function ix(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ox(e){var t=1,r=e(ix(t),sx(t));return r.constant=function(r){return arguments.length?e(ix(t=+r),sx(t)):t},Yf(r)}function lx(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cx(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ux(e){return e<0?-e*e:e*e}function dx(e){var t=e(Cf,Cf),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Cf,Cf):.5===r?e(cx,ux):e(lx(r),lx(1/r)):r},Yf(t)}function px(){var e=dx(Tf());return e.copy=function(){return Af(e,px()).exponent(e.exponent())},jm.apply(e,arguments),e}function hx(e){return Math.sign(e)*e*e}Uf=Vf({thousands:",",grouping:[3],currency:["$",""]}),qf=Uf.format,Hf=Uf.formatPrefix;const mx=new Date,fx=new Date;function xx(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const s=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return s;let o;do{s.push(o=new Date(+r)),t(r,i),e(r)}while(o<r&&r<n);return s},a.filter=r=>xx(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(mx.setTime(+t),fx.setTime(+n),e(mx),e(fx),Math.floor(r(mx,fx))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const yx=xx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yx.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?xx(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yx:null),yx.range;const gx=1e3,bx=6e4,vx=36e5,jx=864e5,wx=6048e5,Nx=2592e6,kx=31536e6,Sx=xx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gx)},(e,t)=>(t-e)/gx,e=>e.getUTCSeconds());Sx.range;const Cx=xx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gx)},(e,t)=>{e.setTime(+e+t*bx)},(e,t)=>(t-e)/bx,e=>e.getMinutes());Cx.range;const Ox=xx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bx)},(e,t)=>(t-e)/bx,e=>e.getUTCMinutes());Ox.range;const Ex=xx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gx-e.getMinutes()*bx)},(e,t)=>{e.setTime(+e+t*vx)},(e,t)=>(t-e)/vx,e=>e.getHours());Ex.range;const Px=xx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vx)},(e,t)=>(t-e)/vx,e=>e.getUTCHours());Px.range;const Ax=xx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bx)/jx,e=>e.getDate()-1);Ax.range;const Tx=xx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jx,e=>e.getUTCDate()-1);Tx.range;const Mx=xx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jx,e=>Math.floor(e/jx));function Ix(e){return xx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bx)/wx)}Mx.range;const Dx=Ix(0),_x=Ix(1),Lx=Ix(2),zx=Ix(3),$x=Ix(4),Bx=Ix(5),Rx=Ix(6);function Fx(e){return xx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/wx)}Dx.range,_x.range,Lx.range,zx.range,$x.range,Bx.range,Rx.range;const Ux=Fx(0),qx=Fx(1),Hx=Fx(2),Wx=Fx(3),Gx=Fx(4),Vx=Fx(5),Xx=Fx(6);Ux.range,qx.range,Hx.range,Wx.range,Gx.range,Vx.range,Xx.range;const Yx=xx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());Yx.range;const Kx=xx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Kx.range;const Jx=xx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jx.every=e=>isFinite(e=Math.floor(e))&&e>0?xx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,Jx.range;const Zx=xx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Qx(e,t,r,n,a,i){const s=[[Sx,1,gx],[Sx,5,5e3],[Sx,15,15e3],[Sx,30,3e4],[i,1,bx],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,vx],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,jx],[n,2,1728e5],[r,1,wx],[t,1,Nx],[t,3,7776e6],[e,1,kx]];function o(t,r,n){const a=Math.abs(r-t)/n,i=tm(([,,e])=>e).right(s,a);if(i===s.length)return e.every(fm(t/kx,r/kx,n));if(0===i)return yx.every(Math.max(fm(t,r,n),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:o(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},o]}Zx.every=e=>isFinite(e=Math.floor(e))&&e>0?xx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,Zx.range;const[ey,ty]=Qx(Zx,Kx,Ux,Mx,Px,Ox),[ry,ny]=Qx(Jx,Yx,Dx,Ax,Ex,Cx);function ay(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var oy,ly,cy,uy={"-":"",_:" ",0:"0"},dy=/^\s*\d+/,py=/^%/,hy=/[\\^$*+?|[\]().{}]/g;function my(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function fy(e){return e.replace(hy,"\\$&")}function xy(e){return new RegExp("^(?:"+e.map(fy).join("|")+")","i")}function yy(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function gy(e,t,r){var n=dy.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function by(e,t,r){var n=dy.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vy(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jy(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wy(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ny(e,t,r){var n=dy.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ky(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Sy(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Cy(e,t,r){var n=dy.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Oy(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ey(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Py(e,t,r){var n=dy.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ay(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ty(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function My(e,t,r){var n=dy.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Iy(e,t,r){var n=dy.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Dy(e,t,r){var n=dy.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _y(e,t,r){var n=py.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ly(e,t,r){var n=dy.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zy(e,t,r){var n=dy.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $y(e,t){return my(e.getDate(),t,2)}function By(e,t){return my(e.getHours(),t,2)}function Ry(e,t){return my(e.getHours()%12||12,t,2)}function Fy(e,t){return my(1+Ax.count(Jx(e),e),t,3)}function Uy(e,t){return my(e.getMilliseconds(),t,3)}function qy(e,t){return Uy(e,t)+"000"}function Hy(e,t){return my(e.getMonth()+1,t,2)}function Wy(e,t){return my(e.getMinutes(),t,2)}function Gy(e,t){return my(e.getSeconds(),t,2)}function Vy(e){var t=e.getDay();return 0===t?7:t}function Xy(e,t){return my(Dx.count(Jx(e)-1,e),t,2)}function Yy(e){var t=e.getDay();return t>=4||0===t?$x(e):$x.ceil(e)}function Ky(e,t){return e=Yy(e),my($x.count(Jx(e),e)+(4===Jx(e).getDay()),t,2)}function Jy(e){return e.getDay()}function Zy(e,t){return my(_x.count(Jx(e)-1,e),t,2)}function Qy(e,t){return my(e.getFullYear()%100,t,2)}function eg(e,t){return my((e=Yy(e)).getFullYear()%100,t,2)}function tg(e,t){return my(e.getFullYear()%1e4,t,4)}function rg(e,t){var r=e.getDay();return my((e=r>=4||0===r?$x(e):$x.ceil(e)).getFullYear()%1e4,t,4)}function ng(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+my(t/60|0,"0",2)+my(t%60,"0",2)}function ag(e,t){return my(e.getUTCDate(),t,2)}function ig(e,t){return my(e.getUTCHours(),t,2)}function sg(e,t){return my(e.getUTCHours()%12||12,t,2)}function og(e,t){return my(1+Tx.count(Zx(e),e),t,3)}function lg(e,t){return my(e.getUTCMilliseconds(),t,3)}function cg(e,t){return lg(e,t)+"000"}function ug(e,t){return my(e.getUTCMonth()+1,t,2)}function dg(e,t){return my(e.getUTCMinutes(),t,2)}function pg(e,t){return my(e.getUTCSeconds(),t,2)}function hg(e){var t=e.getUTCDay();return 0===t?7:t}function mg(e,t){return my(Ux.count(Zx(e)-1,e),t,2)}function fg(e){var t=e.getUTCDay();return t>=4||0===t?Gx(e):Gx.ceil(e)}function xg(e,t){return e=fg(e),my(Gx.count(Zx(e),e)+(4===Zx(e).getUTCDay()),t,2)}function yg(e){return e.getUTCDay()}function gg(e,t){return my(qx.count(Zx(e)-1,e),t,2)}function bg(e,t){return my(e.getUTCFullYear()%100,t,2)}function vg(e,t){return my((e=fg(e)).getUTCFullYear()%100,t,2)}function jg(e,t){return my(e.getUTCFullYear()%1e4,t,4)}function wg(e,t){var r=e.getUTCDay();return my((e=r>=4||0===r?Gx(e):Gx.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ng(){return"+0000"}function kg(){return"%"}function Sg(e){return+e}function Cg(e){return Math.floor(+e/1e3)}function Og(e){return new Date(e)}function Eg(e){return e instanceof Date?+e:+new Date(+e)}function Pg(e,t,r,n,a,i,s,o,l,c){var u=Mf(),d=u.invert,p=u.domain,h=c(".%L"),m=c(":%S"),f=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),v=c("%Y");function j(e){return(l(e)<e?h:o(e)<e?m:s(e)<e?f:i(e)<e?x:n(e)<e?a(e)<e?y:g:r(e)<e?b:v)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(Array.from(e,Eg)):p().map(Og)},u.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var r=p();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(Jf(r,e)):u},u.copy=function(){return Af(u,Pg(e,t,r,n,a,i,s,o,l,c))},u}function Ag(){var e,t,r,n,a,i=0,s=1,o=Cf,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=n(i=+i),t=n(s=+s),r=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(jf),c.rangeRound=u(wf),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(s),r=e===t?0:1/(t-e),c}}function Tg(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Mg(){var e=dx(Ag());return e.copy=function(){return Tg(e,Mg()).exponent(e.exponent())},wm.apply(e,arguments)}function Ig(){var e,t,r,n,a,i,s,o=0,l=.5,c=1,u=1,d=Cf,p=!1;function h(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(p?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=Nf(e,[r,n,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h):[o,l,c]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=m(jf),h.rangeRound=m(wf),h.unknown=function(e){return arguments.length?(s=e,h):s},function(s){return i=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h}}function Dg(){var e=dx(Ig());return e.copy=function(){return Tg(e,Dg()).exponent(e.exponent())},wm.apply(e,arguments)}!function(e){oy=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=xy(a),u=yy(a),d=xy(i),p=yy(i),h=xy(s),m=yy(s),f=xy(o),x=yy(o),y=xy(l),g=yy(l),b={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:$y,e:$y,f:qy,g:eg,G:rg,H:By,I:Ry,j:Fy,L:Uy,m:Hy,M:Wy,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Sg,s:Cg,S:Gy,u:Vy,U:Xy,V:Ky,w:Jy,W:Zy,x:null,X:null,y:Qy,Y:tg,Z:ng,"%":kg},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:ag,e:ag,f:cg,g:vg,G:wg,H:ig,I:sg,j:og,L:lg,m:ug,M:dg,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Sg,s:Cg,S:pg,u:hg,U:mg,V:xg,w:yg,W:gg,x:null,X:null,y:bg,Y:jg,Z:Ng,"%":kg},j={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=m.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:Ey,e:Ey,f:Dy,g:ky,G:Ny,H:Ay,I:Ay,j:Py,L:Iy,m:Oy,M:Ty,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Cy,Q:Ly,s:zy,S:My,u:by,U:vy,V:jy,w:gy,W:wy,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:ky,Y:Ny,Z:Sy,"%":_y};function w(e,t){return function(r){var n,a,i,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=uy[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(r){var n,a,i=sy(1900,void 0,1);if(k(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=iy(sy(i.y,0,1))).getUTCDay(),n=a>4||0===a?qx.ceil(n):qx(n),n=Tx.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=ay(sy(i.y,0,1))).getDay(),n=a>4||0===a?_x.ceil(n):_x(n),n=Ax.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?iy(sy(i.y,0,1)).getUTCDay():ay(sy(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,iy(i)):ay(i)}}function k(e,t,r,n){for(var a,i,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=j[a in uy?t.charAt(s++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),ly=oy.format,oy.parse,cy=oy.utcFormat,oy.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const _g=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sm,scaleDiverging:function e(){var t=Yf(Ig()(Cf));return t.copy=function(){return Tg(t,e())},wm.apply(t,arguments)},scaleDivergingLog:function e(){var t=ax(Ig()).domain([.1,1,10]);return t.copy=function(){return Tg(t,e()).base(t.base())},wm.apply(t,arguments)},scaleDivergingPow:Dg,scaleDivergingSqrt:function(){return Dg.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=ox(Ig());return t.copy=function(){return Tg(t,e()).constant(t.constant())},wm.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,kf),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,kf):[0,1],Yf(n)},scaleImplicit:Nm,scaleLinear:Kf,scaleLog:function e(){const t=ax(Tf()).domain([1,10]);return t.copy=()=>Af(t,e()).base(t.base()),jm.apply(t,arguments),t},scaleOrdinal:km,scalePoint:Om,scalePow:px,scaleQuantile:function e(){var t,r=[],n=[],a=[];function i(){var e=0,t=Math.max(1,n.length);for(a=new Array(t-1);++e<t;)a[e-1]=vm(r,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:n[am(a,e)]}return s.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},s.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(Qh),i()},s.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return a.slice()},s.copy=function(){return e().domain(r).range(n).unknown(t)},jm.apply(s,arguments)},scaleQuantize:function e(){var t,r=0,n=1,a=1,i=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[am(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*n-(e-a)*r)/(a+1);return o}return o.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},o.range=function(e){return arguments.length?(a=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,i[0]]:t>=a?[i[a-1],n]:[i[t-1],i[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return e().domain([r,n]).range(s).unknown(t)},jm.apply(Yf(o),arguments)},scaleRadial:function e(){var t,r=Mf(),n=[0,1],a=!1;function i(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:a?Math.round(n):n}return i.invert=function(e){return r.invert(hx(e))},i.domain=function(e){return arguments.length?(r.domain(e),i):r.domain()},i.range=function(e){return arguments.length?(r.range((n=Array.from(e,kf)).map(hx)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(r.clamp(e),i):r.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(r.domain(),n).round(a).clamp(r.clamp()).unknown(t)},jm.apply(i,arguments),Yf(i)},scaleSequential:function e(){var t=Yf(Ag()(Cf));return t.copy=function(){return Tg(t,e())},wm.apply(t,arguments)},scaleSequentialLog:function e(){var t=ax(Ag()).domain([1,10]);return t.copy=function(){return Tg(t,e()).base(t.base())},wm.apply(t,arguments)},scaleSequentialPow:Mg,scaleSequentialQuantile:function e(){var t=[],r=Cf;function n(e){if(null!=e&&!isNaN(e=+e))return r((am(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Qh),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return ym(e);if(t>=1)return xm(e);var r,n=(r-1)*t,a=Math.floor(n),i=xm(gm(e,a).subarray(0,a+1));return i+(ym(e.subarray(a+1))-i)*(n-a)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},wm.apply(n,arguments)},scaleSequentialSqrt:function(){return Mg.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=ox(Ag());return t.copy=function(){return Tg(t,e()).constant(t.constant())},wm.apply(t,arguments)},scaleSqrt:function(){return px.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=ox(Tf());return t.copy=function(){return Af(t,e()).constant(t.constant())},jm.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],a=1;function i(e){return null!=e&&e<=e?n[am(r,e,0,a)]:t}return i.domain=function(e){return arguments.length?(r=Array.from(e),a=Math.min(r.length,n.length-1),i):r.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),a=Math.min(r.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(r).range(n).unknown(t)},jm.apply(i,arguments)},scaleTime:function(){return jm.apply(Pg(ry,ny,Jx,Yx,Dx,Ax,Ex,Cx,Sx,ly).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return jm.apply(Pg(ey,ty,Zx,Kx,Ux,Tx,Px,Ox,Sx,cy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Xf},Symbol.toStringTag,{value:"Module"}));var Lg,zg,$g,Bg,Rg,Fg;function Ug(){if(zg)return Lg;zg=1;var e=Hn();return Lg=function(t,r,n){for(var a=-1,i=t.length;++a<i;){var s=t[a],o=r(s);if(null!=o&&(void 0===l?o==o&&!e(o):n(o,l)))var l=o,c=s}return c},Lg}function qg(){if(Bg)return $g;return Bg=1,$g=function(e,t){return e>t}}var Hg=function(){if(Fg)return Rg;Fg=1;var e=Ug(),t=qg(),r=Mu();return Rg=function(n){return n&&n.length?e(n,r,t):void 0},Rg}();const Wg=o(Hg);var Gg,Vg,Xg,Yg;function Kg(){if(Vg)return Gg;return Vg=1,Gg=function(e,t){return e<t}}var Jg=function(){if(Yg)return Xg;Yg=1;var e=Ug(),t=Kg(),r=Mu();return Xg=function(n){return n&&n.length?e(n,r,t):void 0},Xg}();const Zg=o(Jg);var Qg,eb,tb,rb;var nb=function(){if(rb)return tb;rb=1;var e=Gd(),t=function(){if(eb)return Qg;eb=1;var e=oa(),t=Du(),r=Kd(),n=$n();return Qg=function(a,i){return(n(a)?e:r)(a,t(i,3))}}();return tb=function(r,n){return e(t(r,n),1)}}();const ab=o(nb);var ib,sb;const ob=o(function(){if(sb)return ib;sb=1;var e=Ou();return ib=function(t,r){return e(t,r)}}());var lb,cb=1e9,ub=!0,db="[DecimalError] ",pb=db+"Invalid argument: ",hb=db+"Exponent out of range: ",mb=Math.floor,fb=Math.pow,xb=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yb=1e7,gb=9007199254740991,bb=mb(1286742750677284.5),vb={};function jb(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ub?Tb(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),i>(o=(s=Math.ceil(d/7))>o?s+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/yb|0,l[i]%=yb;for(r&&(l.unshift(r),++a),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=a,ub?Tb(t,d):t}function wb(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pb+e)}function Nb(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=Eb(r)),i+=n;(r=7-(n=(s=e[t])+"").length)&&(i+=Eb(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}vb.absoluteValue=vb.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},vb.comparedTo=vb.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},vb.decimalPlaces=vb.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},vb.dividedBy=vb.div=function(e){return kb(this,new this.constructor(e))},vb.dividedToIntegerBy=vb.idiv=function(e){var t=this.constructor;return Tb(kb(this,new t(e),0,1),t.precision)},vb.equals=vb.eq=function(e){return!this.cmp(e)},vb.exponent=function(){return Cb(this)},vb.greaterThan=vb.gt=function(e){return this.cmp(e)>0},vb.greaterThanOrEqualTo=vb.gte=function(e){return this.cmp(e)>=0},vb.isInteger=vb.isint=function(){return this.e>this.d.length-2},vb.isNegative=vb.isneg=function(){return this.s<0},vb.isPositive=vb.ispos=function(){return this.s>0},vb.isZero=function(){return 0===this.s},vb.lessThan=vb.lt=function(e){return this.cmp(e)<0},vb.lessThanOrEqualTo=vb.lte=function(e){return this.cmp(e)<1},vb.logarithm=vb.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(lb))throw Error(db+"NaN");if(r.s<1)throw Error(db+(r.s?"NaN":"-Infinity"));return r.eq(lb)?new n(0):(ub=!1,t=kb(Pb(r,i),Pb(e,i),i),ub=!0,Tb(t,a))},vb.minus=vb.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Mb(t,e):jb(t,(e.s=-e.s,e))},vb.modulo=vb.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(db+"NaN");return r.s?(ub=!1,t=kb(r,e,0,1).times(e),ub=!0,r.minus(t)):Tb(new n(r),a)},vb.naturalExponential=vb.exp=function(){return Sb(this)},vb.naturalLogarithm=vb.ln=function(){return Pb(this)},vb.negated=vb.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},vb.plus=vb.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jb(t,e):Mb(t,(e.s=-e.s,e))},vb.precision=vb.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(pb+e);if(t=Cb(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},vb.squareRoot=vb.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(db+"NaN")}for(e=Cb(o),ub=!1,0==(a=Math.sqrt(+o))||a==1/0?(((t=Nb(o.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=mb((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=s=(r=l.precision)+3;;)if(n=(i=n).plus(kb(o,i,s+2)).times(.5),Nb(i.d).slice(0,s)===(t=Nb(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(Tb(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if("9999"!=t)break;s+=4}return ub=!0,Tb(n,r)},vb.times=vb.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,d=u.constructor,p=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,(l=p.length)<(c=h.length)&&(i=p,p=h,h=i,s=l,l=c,c=s),i=[],n=s=l+c;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+h[n]*p[a-n-1]+t,i[a--]=o%yb|0,t=o/yb|0;i[a]=(i[a]+t)%yb|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ub?Tb(e,d.precision):e},vb.toDecimalPlaces=vb.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(wb(e,0,cb),void 0===t?t=n.rounding:wb(t,0,8),Tb(r,e+Cb(r)+1,t))},vb.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=Ib(n,!0):(wb(e,0,cb),void 0===t?t=a.rounding:wb(t,0,8),r=Ib(n=Tb(new a(n),e+1,t),!0,e+1)),r},vb.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?Ib(a):(wb(e,0,cb),void 0===t?t=i.rounding:wb(t,0,8),r=Ib((n=Tb(new i(a),e+Cb(a)+1,t)).abs(),!1,e+Cb(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},vb.toInteger=vb.toint=function(){var e=this,t=e.constructor;return Tb(new t(e),Cb(e)+1,t.rounding)},vb.toNumber=function(){return+this},vb.toPower=vb.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(lb);if(!(o=new l(o)).s){if(e.s<1)throw Error(db+"Infinity");return o}if(o.eq(lb))return o;if(n=l.precision,e.eq(lb))return Tb(o,n);if(s=(t=e.e)>=(r=e.d.length-1),i=o.s,s){if((r=c<0?-c:c)<=gb){for(a=new l(lb),t=Math.ceil(n/7+4),ub=!1;r%2&&Db((a=a.times(o)).d,t),0!==(r=mb(r/2));)Db((o=o.times(o)).d,t);return ub=!0,e.s<0?new l(lb).div(a):Tb(a,n)}}else if(i<0)throw Error(db+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,o.s=1,ub=!1,a=e.times(Pb(o,n+12)),ub=!0,(a=Sb(a)).s=i,a},vb.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=Ib(a,(r=Cb(a))<=i.toExpNeg||r>=i.toExpPos):(wb(e,1,cb),void 0===t?t=i.rounding:wb(t,0,8),n=Ib(a=Tb(new i(a),e,t),e<=(r=Cb(a))||r<=i.toExpNeg,e)),n},vb.toSignificantDigits=vb.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(wb(e,1,cb),void 0===t?t=r.rounding:wb(t,0,8)),Tb(new r(this),e,t)},vb.toString=vb.valueOf=vb.val=vb.toJSON=vb[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cb(e),r=e.constructor;return Ib(e,t<=r.toExpNeg||t>=r.toExpPos)};var kb=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%yb|0,n=r/yb|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*yb+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,s){var o,l,c,u,d,p,h,m,f,x,y,g,b,v,j,w,N,k,S=n.constructor,C=n.s==a.s?1:-1,O=n.d,E=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(db+"Division by zero");for(l=n.e-a.e,N=E.length,j=O.length,m=(h=new S(C)).d=[],c=0;E[c]==(O[c]||0);)++c;if(E[c]>(O[c]||0)&&--l,(g=null==i?i=S.precision:s?i+(Cb(n)-Cb(a))+1:i)<0)return new S(0);if(g=g/7+2|0,c=0,1==N)for(u=0,E=E[0],g++;(c<j||u)&&g--;c++)b=u*yb+(O[c]||0),m[c]=b/E|0,u=b%E|0;else{for((u=yb/(E[0]+1)|0)>1&&(E=e(E,u),O=e(O,u),N=E.length,j=O.length),v=N,x=(f=O.slice(0,N)).length;x<N;)f[x++]=0;(k=E.slice()).unshift(0),w=E[0],E[1]>=yb/2&&++w;do{u=0,(o=t(E,f,N,x))<0?(y=f[0],N!=x&&(y=y*yb+(f[1]||0)),(u=y/w|0)>1?(u>=yb&&(u=yb-1),1==(o=t(d=e(E,u),f,p=d.length,x=f.length))&&(u--,r(d,N<p?k:E,p))):(0==u&&(o=u=1),d=E.slice()),(p=d.length)<x&&d.unshift(0),r(f,d,x),-1==o&&(o=t(E,f,N,x=f.length))<1&&(u++,r(f,N<x?k:E,x)),x=f.length):0===o&&(u++,f=[0]),m[c++]=u,o&&f[0]?f[x++]=O[v]||0:(f=[O[v]],x=1)}while((v++<j||void 0!==f[0])&&g--)}return m[0]||m.shift(),h.e=l,Tb(h,s?i+Cb(h)+1:i)}}();function Sb(e,t){var r,n,a,i,s,o=0,l=0,c=e.constructor,u=c.precision;if(Cb(e)>16)throw Error(hb+Cb(e));if(!e.s)return new c(lb);for(ub=!1,s=u,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(s+=Math.log(fb(2,l))/Math.LN10*2+5|0,r=n=a=new c(lb),c.precision=s;;){if(n=Tb(n.times(e),s),r=r.times(++o),Nb((i=a.plus(kb(n,r,s))).d).slice(0,s)===Nb(a.d).slice(0,s)){for(;l--;)a=Tb(a.times(a),s);return c.precision=u,null==t?(ub=!0,Tb(a,u)):a}a=i}}function Cb(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function Ob(e,t,r){if(t>e.LN10.sd())throw ub=!0,r&&(e.precision=r),Error(db+"LN10 precision limit exceeded");return Tb(new e(e.LN10),t)}function Eb(e){for(var t="";e--;)t+="0";return t}function Pb(e,t){var r,n,a,i,s,o,l,c,u,d=1,p=e,h=p.d,m=p.constructor,f=m.precision;if(p.s<1)throw Error(db+(p.s?"NaN":"-Infinity"));if(p.eq(lb))return new m(0);if(null==t?(ub=!1,c=f):c=t,p.eq(10))return null==t&&(ub=!0),Ob(m,c);if(c+=10,m.precision=c,n=(r=Nb(h)).charAt(0),i=Cb(p),!(Math.abs(i)<15e14))return l=Ob(m,c+2,f).times(i+""),p=Pb(new m(n+"."+r.slice(1)),c-10).plus(l),m.precision=f,null==t?(ub=!0,Tb(p,f)):p;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Nb((p=p.times(e)).d)).charAt(0),d++;for(i=Cb(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1)),o=s=p=kb(p.minus(lb),p.plus(lb),c),u=Tb(p.times(p),c),a=3;;){if(s=Tb(s.times(u),c),Nb((l=o.plus(kb(s,new m(a),c))).d).slice(0,c)===Nb(o.d).slice(0,c))return o=o.times(2),0!==i&&(o=o.plus(Ob(m,c+2,f).times(i+""))),o=kb(o,new m(d),c),m.precision=f,null==t?(ub=!0,Tb(o,f)):o;o=l,a+=2}}function Ab(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=mb(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ub&&(e.e>bb||e.e<-bb))throw Error(hb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tb(e,t,r){var n,a,i,s,o,l,c,u,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if((n=t-s)<0)n+=7,a=t,c=d[u=0];else{if((u=Math.ceil((n+1)/7))>=(i=d.length))return e;for(c=i=d[u],s=1;i>=10;i/=10)s++;a=(n%=7)-7+s}if(void 0!==r&&(o=c/(i=fb(10,s-a-1))%10|0,l=t<0||void 0!==d[u+1]||c%i,l=r<4?(o||l)&&(0==r||r==(e.s<0?3:2)):o>5||5==o&&(4==r||l||6==r&&(n>0?a>0?c/fb(10,s-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Cb(e),d.length=1,t=t-i-1,d[0]=fb(10,(7-t%7)%7),e.e=mb(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,i=1,u--):(d.length=u+1,i=fb(10,7-n),d[u]=a>0?(c/fb(10,s-a)%fb(10,a)|0)*i:0),l)for(;;){if(0==u){(d[0]+=i)==yb&&(d[0]=1,++e.e);break}if(d[u]+=i,d[u]!=yb)break;d[u--]=0,i=1}for(n=d.length;0===d[--n];)d.pop();if(ub&&(e.e>bb||e.e<-bb))throw Error(hb+Cb(e));return e}function Mb(e,t){var r,n,a,i,s,o,l,c,u,d,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ub?Tb(t,h):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n){for((u=s<0)?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),s>(a=Math.max(Math.ceil(h/7),o)+2)&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for((u=(a=l.length)<(o=d.length))&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}s=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&0===l[--i];)l[i]=yb-1;--l[i],l[a]+=yb}l[a]-=d[a]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,ub?Tb(t,h):t):new p(0)}function Ib(e,t,r){var n,a=Cb(e),i=Nb(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Eb(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Eb(-a-1)+i,r&&(n=r-s)>0&&(i+=Eb(n))):a>=s?(i+=Eb(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Eb(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Eb(n))),e.s<0?"-"+i:i}function Db(e,t){if(e.length>t)return e.length=t,!0}function _b(e){if(!e||"object"!=typeof e)throw Error(db+"Object expected");var t,r,n,a=["precision",1,cb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(mb(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(pb+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(pb+r+": "+n);this[r]=new this(n)}return this}var Lb=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(pb+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Ab(t,e.toString())}if("string"!=typeof e)throw Error(pb+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!xb.test(e))throw Error(pb+e);Ab(t,e)}if(i.prototype=vb,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=_b,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});lb=new Lb(1);const zb=Lb;function $b(e){return function(e){if(Array.isArray(e))return Bb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rb=function(e){return e},Fb={},Ub=function(e){return e===Fb},qb=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Ub(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Hb=function e(t,r){return 1===t?r:qb(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(e){return e!==Fb}).length;return s>=t?r.apply(void 0,a):e(t-s,qb(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map(function(e){return Ub(e)?t.shift():e});return r.apply(void 0,$b(i).concat(t))}))})},Wb=function(e){return Hb(e.length,e)},Gb=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Vb=Wb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Xb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Yb=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};var Kb=Wb(function(e,t,r){var n=+e;return n+r*(+t-n)}),Jb=Wb(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),Zb=Wb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Qb={rangeStep:function(e,t,r){for(var n=new zb(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new zb(e).abs().log(10).toNumber())+1},interpolateNumber:Kb,uninterpolateNumber:Jb,uninterpolateTruncation:Zb};function ev(e){return function(e){if(Array.isArray(e))return nv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||rv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}(e,t)||rv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){if(e){if("string"==typeof e)return nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nv(e,t):void 0}}function nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function av(e){var t=tv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function iv(e,t,r){if(e.lte(0))return new zb(0);var n=Qb.getDigitCount(e.toNumber()),a=new zb(10).pow(n),i=e.div(a),s=1!==n?.05:.1,o=new zb(Math.ceil(i.div(s).toNumber())).add(r).mul(s).mul(a);return t?o:new zb(Math.ceil(o))}function sv(e,t,r){var n=1,a=new zb(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new zb(10).pow(Qb.getDigitCount(e)-1),a=new zb(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new zb(Math.floor(e)))}else 0===e?a=new zb(Math.floor((t-1)/2)):r||(a=new zb(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Rb;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(Vb(function(e){return a.add(new zb(e-s).mul(n)).toNumber()}),Gb);return o(0,t)}function ov(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new zb(0),tickMin:new zb(0),tickMax:new zb(0)};var i,s=iv(new zb(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new zb(0):(i=new zb(e).add(t).div(2)).sub(new zb(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new zb(t).sub(i).div(s).toNumber()),c=o+l+1;return c>r?ov(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:i.sub(new zb(o).mul(s)),tickMax:i.add(new zb(l).mul(s))})}var lv=Yb(function(e){var t=tv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=tv(av([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(ev(Gb(0,a-1).map(function(){return 1/0}))):[].concat(ev(Gb(0,a-1).map(function(){return-1/0})),[c]);return r>n?Xb(u):u}if(l===c)return sv(l,a,i);var d=ov(l,c,s,i),p=d.step,h=d.tickMin,m=d.tickMax,f=Qb.rangeStep(h,m.add(new zb(.1).mul(p)),p);return r>n?Xb(f):f}),cv=Yb(function(e,t){var r=tv(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=tv(av([n,a]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(t,2),u=iv(new zb(l).sub(o).div(c-1),i,0),d=[].concat(ev(Qb.rangeStep(new zb(o),new zb(l).sub(new zb(.99).mul(u)),u)),[l]);return n>a?Xb(d):d});function uv(e,t){throw new Error("Invariant failed")}var dv=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pv(e){return(pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}function mv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yv(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nv(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gv(e,t,r){return t=vv(t),function(e,t){if(t&&("object"===pv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bv()?Reflect.construct(t,r||[],vv(e).constructor):t.apply(e,r))}function bv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bv=function(){return!!e})()}function vv(e){return(vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jv(e,t){return(jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wv(e,t,r){return(t=Nv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nv(e){var t=function(e,t){if("object"!=pv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==pv(t)?t:t+""}var kv=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gv(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}(e,l.Component),yv(e,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,o=e.xAxis,c=e.yAxis,u=xv(e,dv),d=mi(u,!1);"x"===this.props.direction&&"number"!==o.type&&uv();var p=i.map(function(e){var i=s(e,a),u=i.x,p=i.y,h=i.value,m=i.errorVal;if(!m)return null;var f,x,y=[];if(Array.isArray(m)){var g=mv(m,2);f=g[0],x=g[1]}else f=x=m;if("vertical"===r){var b=o.scale,v=p+t,j=v+n,w=v-n,N=b(h-f),k=b(h+x);y.push({x1:k,y1:j,x2:k,y2:w}),y.push({x1:N,y1:v,x2:k,y2:v}),y.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var S=c.scale,C=u+t,O=C-n,E=C+n,P=S(h-f),A=S(h+x);y.push({x1:O,y1:A,x2:E,y2:A}),y.push({x1:C,y1:P,x2:C,y2:A}),y.push({x1:O,y1:P,x2:E,y2:P})}return l.createElement(Fi,hv({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return l.createElement("line",hv({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return l.createElement(Fi,{className:"recharts-errorBars"},p)}}])}();function Sv(e){return Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(e)}function Cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(r),!0).forEach(function(t){Ev(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ev(e,t,r){var n;return n=function(e,t){if("object"!=Sv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Sv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}wv(kv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),wv(kv,"displayName","ErrorBar");var Pv=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=di(t,Wd);if(!i)return null;var s,o=Wd.defaultProps,l=void 0!==o?Ov(Ov({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?Ov(Ov({},r),t.props):{},a=n.dataKey,i=n.name,s=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||s||"square",color:$v(t),value:i||a,payload:n}}),Ov(Ov(Ov({},l),Wd.getWithHeight(i,n)),{},{payload:s,item:i})};function Av(e){return Av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(e)}function Tv(e){return function(e){if(Array.isArray(e))return Mv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iv(Object(r),!0).forEach(function(t){_v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _v(e,t,r){var n;return n=function(e,t){if("object"!=Av(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Av(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Av(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lv(e,t,r){return xa(e)||xa(t)?r:Ba(t)?ha(e,t,r):ja(t)?t(e):r}function zv(e,t,r,n){var a=ab(e,function(e){return Lv(e,t)});if("number"===r){var i=a.filter(function(e){return $a(e)||parseFloat(e)});return i.length?[Zg(i),Wg(i)]:[1/0,-1/0]}return(n?a.filter(function(e){return!xa(e)}):a).map(function(e){return Ba(e)||e instanceof Date?e:""})}var $v=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Dv(Dv({},e.type.defaultProps),e.props):e.props,i=a.stroke,s=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:s;break;default:r=s}return r},Bv=function(e,t,r,n,a){var i=ui(t.props.children,kv).filter(function(e){return function(e,t,r){return!!xa(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(i&&i.length){var s=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=Lv(t,r);if(xa(n))return e;var a=Array.isArray(n)?[Zg(n),Wg(n)]:[n,n],i=s.reduce(function(e,r){var n=Lv(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),s=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(s,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},Rv=function(e,t,r,n,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===r&&i&&Bv(e,t,i,n)||zv(e,i,r,a)});if("number"===r)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var s={};return i.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)s[t[r]]||(s[t[r]]=!0,e.push(t[r]));return e},[])},Fv=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Uv=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,i,s=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate});return a||s.push(t),i||s.push(r),s},qv=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*La(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Da(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},Hv=new WeakMap,Wv=function(e,t){if("function"!=typeof t)return e;Hv.has(e)||Hv.set(e,new WeakMap);var r=Hv.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Gv=function(e,t,r){var n=e.scale,a=e.type,i=e.layout,s=e.axisType;if("auto"===n)return"radial"===i&&"radiusAxis"===s?{scale:Sm(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:Kf(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Om(),realScaleType:"point"}:"category"===a?{scale:Sm(),realScaleType:"band"}:{scale:Kf(),realScaleType:"linear"};if(va(n)){var o="scale".concat(Vi(n));return{scale:(_g[o]||Om)(),realScaleType:_g[o]?o:"point"}}return ja(n)?{scale:n}:{scale:Om(),realScaleType:"point"}},Vv=1e-4,Xv=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Vv,i=Math.max(n[0],n[1])+Vv,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Yv={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Da(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,s=e[0].length;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Xs(e,t)}},none:Xs,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;a[n][1]+=a[n][0]=-o/2}Xs(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[s][1]||0,p=(d-(u[s-1][1]||0))/2,h=0;h<o;++h){var m=e[t[h]];p+=(m[s][1]||0)-(m[s-1][1]||0)}l+=d,c+=p*d}r[s-1][1]+=r[s-1][0]=i,l&&(i-=c/l)}r[s-1][1]+=r[s-1][0]=i,Xs(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Da(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},Kv=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=Yv[r],i=function(){var e=Xi([]),t=Ys,r=Xs,n=Ks;function a(a){var i,s,o=Array.from(e.apply(this,arguments),Js),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+n(e,o[i].key,c,a)]).data=e;for(i=0,s=os(t(o));i<l;++i)o[s[i]].index=i;return r(o,s),o}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:Xi(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:Xi(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?Ys:"function"==typeof e?e:Xi(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?Xs:e,a):r},a}().keys(n).value(function(e,t){return+Lv(e,t,0)}).order(Ys).offset(a);return i(e)},Jv=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=lv(l,a,s);return e.domain([Zg(c),Wg(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:cv(u,a,s)}}return null};function Zv(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!xa(a[t.dataKey])){var o=Wa(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Lv(a,xa(s)?t.dataKey:s);return xa(l)?null:t.scale(l)}var Qv=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=Lv(i,t.dataKey,t.domain[s]);return xa(o)?null:t.scale(o)-a/2+n},ej=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a].stackedData.reduce(function(e,n){var a=n.slice(t,r+1).reduce(function(e,t){return[Zg(t.concat([e[0]]).filter($a)),Wg(t.concat([e[1]]).filter($a))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},tj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nj=function(e,t,r){if(ja(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if($a(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(tj.test(e[0])){var a=+tj.exec(e[0])[1];n[0]=t[0]-a}else ja(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if($a(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(rj.test(e[1])){var i=+rj.exec(e[1])[1];n[1]=t[1]+i}else ja(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},aj=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ip(t,function(e){return e.coordinate}),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},ij=function(e,t,r){return e&&e.length?ob(e,ha(r,"type.defaultProps.domain"))?t:e:t},sj=function(e,t){var r=e.type.defaultProps?Dv(Dv({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,s=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return Dv(Dv({},mi(e,!1)),{},{dataKey:n,unit:i,formatter:s,name:a||n,color:$v(e),value:Lv(t,n),type:o,payload:t,chartType:l,hide:c})};function oj(e){return oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oj(e)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(t){uj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uj(e,t,r){var n;return n=function(e,t){if("object"!=oj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=oj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hj=Math.PI/180,mj=function(e){return 180*e/Math.PI},fj=function(e,t,r,n){return{x:e+Math.cos(-hj*n)*r,y:t+Math.sin(-hj*n)*r}},xj=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},yj=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,s=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:mj(l),angleInRadian:l}},gj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},bj=function(e,t){var r=e.x,n=e.y,a=yj({x:r,y:n},t),i=a.radius,s=a.angle,o=t.innerRadius,l=t.outerRadius;if(i<o||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,p=u.endAngle,h=s;if(d<=p){for(;h>p;)h-=360;for(;h<d;)h+=360;c=h>=d&&h<=p}else{for(;h>d;)h-=360;for(;h<p;)h+=360;c=h>=p&&h<=d}return c?cj(cj({},t),{},{radius:i,angle:gj(h,t)}):null},vj=function(e){return r.isValidElement(e)||ja(e)||"boolean"==typeof e?"":e.className};function jj(e){return jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jj(e)}var wj=["offset"];function Nj(e){return function(e){if(Array.isArray(e))return kj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(t){Ej(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ej(e,t,r){var n;return n=function(e,t){if("object"!=jj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pj.apply(this,arguments)}var Aj=function(e,t,r){var n,a,i=e.position,s=e.viewBox,o=e.offset,c=e.className,u=s,d=u.cx,p=u.cy,h=u.innerRadius,m=u.outerRadius,f=u.startAngle,x=u.endAngle,y=u.clockWise,g=(h+m)/2,b=function(e,t){return La(t-e)*Math.min(Math.abs(t-e),360)}(f,x),v=b>=0?1:-1;"insideStart"===i?(n=f+v*o,a=y):"insideEnd"===i?(n=x-v*o,a=!y):"end"===i&&(n=x+v*o,a=y),a=b<=0?a:!a;var j=fj(d,p,g,n),w=fj(d,p,g,n+359*(a?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(a?0:1,",\n    ").concat(w.x,",").concat(w.y),k=xa(e.id)?Fa("recharts-radial-line-"):e.id;return l.createElement("text",Pj({},r,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",c)}),l.createElement("defs",null,l.createElement("path",{id:k,d:N})),l.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function Tj(e){var t,n=e.offset,a=Oj({offset:void 0===n?5:n},Sj(e,wj)),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,d=a.className,p=void 0===d?"":d,h=a.textBreakAll;if(!i||xa(o)&&xa(c)&&!r.isValidElement(u)&&!ja(u))return null;if(r.isValidElement(u))return r.cloneElement(u,a);if(ja(u)){if(t=r.createElement(u,a),r.isValidElement(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=xa(e.children)?t:e.children;return ja(r)?r(n):n}(a);var m=function(e){return"cx"in e&&$a(e.cx)}(i),f=mi(a,!0);if(m&&("insideStart"===s||"insideEnd"===s||"end"===s))return Aj(a,t,f);var x=m?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,s=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=fj(i,s,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=fj(i,s,(o+l)/2,c);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,p=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,f=m*n,x=m>0?"end":"start",y=m>0?"start":"end";if("top"===a)return Oj(Oj({},{x:s+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===a)return Oj(Oj({},{x:s+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===a){var g={x:s-f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return Oj(Oj({},g),r?{width:Math.max(g.x-r.x,0),height:c}:{})}if("right"===a){var b={x:s+l+f,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return Oj(Oj({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var v=r?{width:l,height:c}:{};return"insideLeft"===a?Oj({x:s+f,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},v):"insideRight"===a?Oj({x:s+l-f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideTop"===a?Oj({x:s+l/2,y:o+d,textAnchor:"middle",verticalAnchor:h},v):"insideBottom"===a?Oj({x:s+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:p},v):"insideTopLeft"===a?Oj({x:s+f,y:o+d,textAnchor:y,verticalAnchor:h},v):"insideTopRight"===a?Oj({x:s+l-f,y:o+d,textAnchor:x,verticalAnchor:h},v):"insideBottomLeft"===a?Oj({x:s+f,y:o+c-d,textAnchor:y,verticalAnchor:p},v):"insideBottomRight"===a?Oj({x:s+l-f,y:o+c-d,textAnchor:x,verticalAnchor:p},v):wa(a)&&($a(a.x)||za(a.x))&&($a(a.y)||za(a.y))?Oj({x:s+Ua(a.x,l),y:o+Ua(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):Oj({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(a);return l.createElement(Zh,Pj({className:Rt("recharts-label",p)},f,x,{breakAll:h}),t)}Tj.displayName="Label";var Mj,Ij,Dj=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,p=e.top,h=e.left,m=e.width,f=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if($a(m)&&$a(f)){if($a(u)&&$a(d))return{x:u,y:d,width:m,height:f};if($a(p)&&$a(h))return{x:p,y:h,width:m,height:f}}return $a(u)&&$a(d)?{x:u,y:d,width:0,height:0}:$a(t)&&$a(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:x}:e.viewBox?e.viewBox:{}};Tj.parseViewBox=Dj,Tj.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=Dj(e),s=ui(a,Tj).map(function(e,n){return r.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})});if(!n)return s;var o=function(e,t){return e?!0===e?l.createElement(Tj,{key:"label-implicit",viewBox:t}):Ba(e)?l.createElement(Tj,{key:"label-implicit",viewBox:t,value:e}):r.isValidElement(e)?e.type===Tj?r.cloneElement(e,{key:"label-implicit",viewBox:t}):l.createElement(Tj,{key:"label-implicit",content:e,viewBox:t}):ja(e)?l.createElement(Tj,{key:"label-implicit",content:e,viewBox:t}):wa(e)?l.createElement(Tj,Pj({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[o].concat(Nj(s))};var _j=(Ij||(Ij=1,Mj=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}),Mj);const Lj=o(_j);function zj(e){return zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zj(e)}var $j=["valueAccessor"],Bj=["data","dataKey","clockWise","id","textBreakAll"];function Rj(e){return function(e){if(Array.isArray(e))return Fj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(t){Wj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wj(e,t,r){var n;return n=function(e,t){if("object"!=zj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Vj=function(e){return Array.isArray(e.value)?Lj(e.value):e.value};function Xj(e){var t=e.valueAccessor,r=void 0===t?Vj:t,n=Gj(e,$j),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=Gj(n,Bj);return a&&a.length?l.createElement(Fi,{className:"recharts-label-list"},a.map(function(e,t){var n=xa(i)?r(e,t):Lv(e&&e.payload,i),a=xa(o)?{}:{id:"".concat(o,"-").concat(t)};return l.createElement(Tj,Uj({},mi(e,!0),u,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:c,viewBox:Tj.parseViewBox(xa(s)?e:Hj(Hj({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}function Yj(e){return Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yj(e)}function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kj.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(t){Qj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Qj(e,t,r){var n;return n=function(e,t){if("object"!=Yj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Yj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Xj.displayName="LabelList",Xj.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=ui(e.children,Xj).map(function(e,n){return r.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?l.createElement(Xj,{key:"labelList-implicit",data:t}):l.isValidElement(e)||ja(e)?l.createElement(Xj,{key:"labelList-implicit",data:t,content:e}):wa(e)?l.createElement(Xj,Uj({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Rj(a)):a};var ew=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+n,u=Math.asin(o/c)/hj,d=l?a:a+i*u,p=l?a-i*u:a;return{center:fj(t,r,c,d),circleTangency:fj(t,r,n,d),lineTangency:fj(t,r,c*Math.cos(u*hj),p),theta:u}},tw=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,s=function(e,t){return La(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=fj(t,r,a,i),c=fj(t,r,a,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=fj(t,r,n,i),p=fj(t,r,n,o);u+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},rw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nw=function(e){var t=Zj(Zj({},rw),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,p=t.className;if(i<a||u===d)return null;var h,m=Rt("recharts-sector",p),f=i-a,x=Ua(s,f,0,!0);return h=x>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=La(c-l),d=ew({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),p=d.circleTangency,h=d.lineTangency,m=d.theta,f=ew({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),x=f.circleTangency,y=f.lineTangency,g=f.theta,b=o?Math.abs(l-c):Math.abs(l-c)-m-g;if(b<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):tw({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(n>0){var j=ew({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),w=j.circleTangency,N=j.lineTangency,k=j.theta,S=ew({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=S.circleTangency,O=S.lineTangency,E=S.theta,P=o?Math.abs(l-c):Math.abs(l-c)-k-E;if(P<0&&0===i)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v}({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,f/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):tw({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),l.createElement("path",Kj({},mi(t,!0),{className:m,d:h,role:"img"}))};function aw(e){return aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(e)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(this,arguments)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(t){lw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lw(e,t,r){var n;return n=function(e,t){if("object"!=aw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cw,uw,dw,pw,hw,mw={curveBasisClosed:function(e){return new _s(e)},curveBasisOpen:function(e){return new Ls(e)},curveBasis:function(e){return new Ds(e)},curveBumpX:function(e){return new ms(e,!0)},curveBumpY:function(e){return new ms(e,!1)},curveLinearClosed:function(e){return new zs(e)},curveLinear:cs,curveMonotoneX:function(e){return new Us(e)},curveMonotoneY:function(e){return new qs(e)},curveNatural:function(e){return new Ws(e)},curveStep:function(e){return new Vs(e,.5)},curveStepAfter:function(e){return new Vs(e,1)},curveStepBefore:function(e){return new Vs(e,0)}},fw=function(e){return e.x===+e.x&&e.y===+e.y},xw=function(e){return e.x},yw=function(e){return e.y},gw=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(ja(e))return e;var r="curve".concat(Vi(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?mw[r]||cs:mw["".concat(r).concat("vertical"===t?"Y":"X")]}(n,o),d=c?i.filter(function(e){return fw(e)}):i;if(Array.isArray(s)){var p=c?s.filter(function(e){return fw(e)}):s,h=d.map(function(e,t){return ow(ow({},e),{},{base:p[t]})});return(t="vertical"===o?hs().y(yw).x1(xw).x0(function(e){return e.base.x}):hs().x(xw).y1(yw).y0(function(e){return e.base.y})).defined(fw).curve(u),t(h)}return(t="vertical"===o&&$a(s)?hs().y(yw).x1(xw).x0(s):$a(s)?hs().x(xw).y1(yw).y0(s):ps().x(xw).y(yw)).defined(fw).curve(u),t(d)},bw=function(e){var t=e.className,n=e.points,a=e.path,i=e.pathRef;if(!(n&&n.length||a))return null;var s=n&&n.length?gw(e):a;return r.createElement("path",iw({},mi(e,!1),Qa(e),{className:Rt("recharts-curve",t),d:s,ref:i}))},vw={exports:{}};function jw(){if(uw)return cw;uw=1;return cw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function ww(){if(pw)return dw;pw=1;var e=jw();function t(){}function r(){}return r.resetWarningCache=t,dw=function(){function n(t,r,n,a,i,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return n}n.isRequired=n;var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i}}function Nw(){return hw||(hw=1,vw.exports=ww()()),vw.exports}const kw=o(Nw()),{getOwnPropertyNames:Sw,getOwnPropertySymbols:Cw}=Object,{hasOwnProperty:Ow}=Object.prototype;function Ew(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Pw(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);const{cache:a}=n,i=a.get(t),s=a.get(r);if(i&&s)return i===r&&s===t;a.set(t,r),a.set(r,t);const o=e(t,r,n);return a.delete(t),a.delete(r),o}}function Aw(e){return Sw(e).concat(Cw(e))}const Tw=Object.hasOwn||((e,t)=>Ow.call(e,t));function Mw(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:Iw,keys:Dw}=Object;function _w(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Lw(e,t){return Mw(e.getTime(),t.getTime())}function zw(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function $w(e,t){return e===t}function Bw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,o,l=0;for(;(s=i.next())&&!s.done;){const n=t.entries();let i=!1,c=0;for(;(o=n.next())&&!o.done;){if(a[c]){c++;continue}const n=s.value,u=o.value;if(r.equals(n[0],u[0],l,c,e,t,r)&&r.equals(n[1],u[1],n[0],u[0],e,t,r)){i=a[c]=!0;break}c++}if(!i)return!1;l++}return!0}const Rw=Mw;function Fw(e,t,r){const n=Dw(e);let a=n.length;if(Dw(t).length!==a)return!1;for(;a-- >0;)if(!Xw(e,t,r,n[a]))return!1;return!0}function Uw(e,t,r){const n=Aw(e);let a,i,s,o=n.length;if(Aw(t).length!==o)return!1;for(;o-- >0;){if(a=n[o],!Xw(e,t,r,a))return!1;if(i=Iw(e,a),s=Iw(t,a),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable))return!1}return!0}function qw(e,t){return Mw(e.valueOf(),t.valueOf())}function Hw(e,t){return e.source===t.source&&e.flags===t.flags}function Ww(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,o;for(;(s=i.next())&&!s.done;){const n=t.values();let i=!1,l=0;for(;(o=n.next())&&!o.done;){if(!a[l]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){i=a[l]=!0;break}l++}if(!i)return!1}return!0}function Gw(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Vw(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Xw(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Tw(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const{isArray:Yw}=Array,Kw="undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView:null,{assign:Jw}=Object,Zw=Object.prototype.toString.call.bind(Object.prototype.toString);function Qw({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:a,areNumbersEqual:i,areObjectsEqual:s,arePrimitiveWrappersEqual:o,areRegExpsEqual:l,areSetsEqual:c,areTypedArraysEqual:u,areUrlsEqual:d,unknownTagComparators:p}){return function(h,m,f){if(h===m)return!0;if(null==h||null==m)return!1;const x=typeof h;if(x!==typeof m)return!1;if("object"!==x)return"number"===x?i(h,m,f):"function"===x&&n(h,m,f);const y=h.constructor;if(y!==m.constructor)return!1;if(y===Object)return s(h,m,f);if(Yw(h))return e(h,m,f);if(null!=Kw&&Kw(h))return u(h,m,f);if(y===Date)return t(h,m,f);if(y===RegExp)return l(h,m,f);if(y===Map)return a(h,m,f);if(y===Set)return c(h,m,f);const g=Zw(h);if("[object Date]"===g)return t(h,m,f);if("[object RegExp]"===g)return l(h,m,f);if("[object Map]"===g)return a(h,m,f);if("[object Set]"===g)return c(h,m,f);if("[object Object]"===g)return"function"!=typeof h.then&&"function"!=typeof m.then&&s(h,m,f);if("[object URL]"===g)return d(h,m,f);if("[object Error]"===g)return r(h,m,f);if("[object Arguments]"===g)return s(h,m,f);if("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)return o(h,m,f);if(p){let e=p[g];if(!e){const t=null!=(b=h)?b[Symbol.toStringTag]:void 0;t&&(e=p[t])}if(e)return e(h,m,f)}var b;return!1}}const eN=tN();function tN(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=function({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?Uw:_w,areDatesEqual:Lw,areErrorsEqual:zw,areFunctionsEqual:$w,areMapsEqual:r?Ew(Bw,Uw):Bw,areNumbersEqual:Rw,areObjectsEqual:r?Uw:Fw,arePrimitiveWrappersEqual:qw,areRegExpsEqual:Hw,areSetsEqual:r?Ew(Ww,Uw):Ww,areTypedArraysEqual:r?Uw:Gw,areUrlsEqual:Vw,unknownTagComparators:void 0};if(t&&(n=Jw({},n,t(n))),e){const e=Pw(n.areArraysEqual),t=Pw(n.areMapsEqual),r=Pw(n.areObjectsEqual),a=Pw(n.areSetsEqual);n=Jw({},n,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:r,areSetsEqual:a})}return n}(e),s=Qw(i),o=r?r(s):(l=s,function(e,t,r,n,a,i,s){return l(e,t,s)});var l;return function({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(i,s){const{cache:o=(e?new WeakMap:void 0),meta:l}=r();return t(i,s,{cache:o,equals:n,meta:l,strict:a})};if(e)return function(e,r){return t(e,r,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(e,r){return t(e,r,i)}}({circular:t,comparator:s,createState:n,equals:o,strict:a})}function rN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function nN(e){return nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nN(e)}function aN(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sN(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=aN(n),i=a[0],s=a.slice(1);return"number"==typeof i?void rN(r.bind(null,s),i):(r(i),void rN(r.bind(null,s)))}"object"===nN(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function oN(e){return(oN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(t){uN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==oN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==oN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}tN({strict:!0}),tN({circular:!0}),tN({circular:!0,strict:!0}),tN({createInternalComparator:()=>Mw}),tN({strict:!0,createInternalComparator:()=>Mw}),tN({circular:!0,createInternalComparator:()=>Mw}),tN({circular:!0,createInternalComparator:()=>Mw,strict:!0});var dN=function(e){return e},pN=function(e,t){return Object.keys(t).reduce(function(r,n){return cN(cN({},r),{},uN({},n,e(n,t[n])))},{})},hN=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function mN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||xN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fN(e){return function(e){if(Array.isArray(e))return yN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xN(e,t){if(e){if("string"==typeof e)return yN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yN(e,t):void 0}}function yN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gN=1e-4,bN=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},vN=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},jN=function(e,t){return function(r){var n=bN(e,t);return vN(n,r)}},wN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,s=1;break;case"ease":n=.25,a=.1,i=.25,s=1;break;case"ease-in":n=.42,a=0,i=1,s=1;break;case"ease-out":n=.42,a=0,i=.58,s=1;break;case"ease-in-out":n=0,a=0,i=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=mN(l,4);n=c[0],a=c[1],i=c[2],s=c[3]}}var u,d,p=jN(n,i),h=jN(a,s),m=(u=n,d=i,function(e){var t=bN(u,d),r=[].concat(fN(t.map(function(e,t){return e*t}).slice(1)),[0]);return vN(r,e)}),f=function(e){return e>1?1:e<0?0:e},x=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=p(r)-t,i=m(r);if(Math.abs(a-t)<gN||i<gN)return h(r);r=f(r-a/i)}return h(r)};return x.isStepper=!1,x},NN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wN(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,s=void 0===i?17:i,o=function(e,t,n){var i=n+(-(e-t)*r-n*a)*s/1e3,o=n*s/1e3+e;return Math.abs(o-t)<gN&&Math.abs(i)<gN?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===n.split("(")[0])return wN(n)}return"function"==typeof n?n:null};function kN(e){return kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kN(e)}function SN(e){return function(e){if(Array.isArray(e))return TN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||AN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(t){EN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==kN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||AN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AN(e,t){if(e){if("string"==typeof e)return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TN(e,t):void 0}}function TN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MN=function(e,t,r){return e+(t-e)*r},IN=function(e){return e.from!==e.to},DN=function e(t,r,n){var a=pN(function(e,r){if(IN(r)){var n=PN(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return ON(ON({},r),{},{from:a,velocity:i})}return r},r);return n<1?pN(function(e,t){return IN(t)?ON(ON({},t),{},{velocity:MN(t.velocity,a[e].velocity,n),from:MN(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const _N=function(e,t,r,n,a){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(r,n){return ON(ON({},r),{},EN({},n,[e[n],t[n]]))},{}),d=c.reduce(function(r,n){return ON(ON({},r),{},EN({},n,{from:e[n],velocity:0,to:t[n]}))},{}),p=-1,h=function(){return null};return h=r.isStepper?function(n){o||(o=n);var i=(n-o)/r.dt;d=DN(r,d,i),a(ON(ON(ON({},e),t),pN(function(e,t){return t.from},d))),o=n,Object.values(d).filter(IN).length&&(p=requestAnimationFrame(h))}:function(i){l||(l=i);var s=(i-l)/n,o=pN(function(e,t){return MN.apply(void 0,SN(t).concat([r(s)]))},u);if(a(ON(ON(ON({},e),t),o)),s<1)p=requestAnimationFrame(h);else{var c=pN(function(e,t){return MN.apply(void 0,SN(t).concat([r(1)]))},u);a(ON(ON(ON({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(p)}}};function LN(e){return LN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LN(e)}var zN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BN(e){return function(e){if(Array.isArray(e))return RN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return RN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(t){qN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qN(e,t,r){return(t=WN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WN(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WN(e){var t=function(e,t){if("object"!==LN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==LN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===LN(t)?t:String(t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GN(e,t)}function VN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=KN(e);if(t){var a=KN(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return XN(this,r)}}function XN(e,t){if(t&&("object"===LN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YN(e)}function YN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KN(e){return KN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KN(e)}var JN=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}(t,r.PureComponent);var e=VN(t);function t(r,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=e.call(this,r,n)).props,s=i.isActive,o=i.attributeName,l=i.from,c=i.to,u=i.steps,d=i.children,p=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(YN(a)),a.changeStyle=a.changeStyle.bind(YN(a)),!s||p<=0)return a.state={style:{}},"function"==typeof d&&(a.state={style:c}),XN(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof d)return a.state={style:l},XN(a);a.state={style:o?qN({},o,l):l}}else a.state={style:{}};return a}return HN(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(n)if(r){if(!(eN(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?o:e.to;if(this.state&&l){var d={style:a?qN({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(UN(UN({},this.props),{},{from:u,begin:0}))}}else{var p={style:a?qN({},a,s):s};this.state&&l&&(a&&l[a]!==s||!a&&l!==s)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=_N(r,n,NN(i),a,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([a].concat(BN(r.reduce(function(e,n,a){if(0===a)return e;var i=n.duration,s=n.easing,o=void 0===s?"ease":s,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,p=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(BN(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:o}),i]);var h=hN(p,i,o),m=UN(UN(UN({},d.style),l),{},{transition:h});return[].concat(BN(e),[m,i,u]).filter(dN)},[s,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=sN());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?qN({},n,a):a,p=hN(Object.keys(d),r,i);u.start([s,t,UN(UN({},d),{},{transition:p}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var a=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=$N(e,zN),s=r.Children.count(t),o=this.state.style;if("function"==typeof t)return t(o);if(!a||0===s||n<=0)return t;var c=function(e){var t=e.props,n=t.style,a=void 0===n?{}:n,s=t.className;return r.cloneElement(e,UN(UN({},i),{},{style:UN(UN({},a),o),className:s}))};return 1===s?c(r.Children.only(t)):l.createElement("div",null,r.Children.map(t,function(e){return c(e)}))}}]),t}();function ZN(e){return ZN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZN(e)}function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(this,arguments)}function ek(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(t){ak(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ak(e,t,r){var n;return n=function(e,t){if("object"!=ZN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ZN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ZN(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}JN.displayName="Animate",JN.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},JN.propTypes={from:kw.oneOfType([kw.object,kw.string]),to:kw.oneOfType([kw.object,kw.string]),attributeName:kw.string,duration:kw.number,begin:kw.number,easing:kw.oneOfType([kw.string,kw.func]),steps:kw.arrayOf(kw.shape({duration:kw.number.isRequired,style:kw.object.isRequired,easing:kw.oneOfType([kw.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kw.func]),properties:kw.arrayOf("string"),onAnimationEnd:kw.func})),children:kw.oneOfType([kw.node,kw.func]),isActive:kw.bool,canBegin:kw.bool,onAnimationEnd:kw.func,shouldReAnimate:kw.bool,onAnimationStart:kw.func,onAnimationReStart:kw.func};var ik=function(e,t,r,n,a){var i,s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>s?s:a[d];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*u[1])),i+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);i="M ".concat(e,",").concat(t+o*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+r-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,"\n            L ").concat(e+r,",").concat(t+n-o*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,"\n            L ").concat(e+l*p,",").concat(t+n,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},sk=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),u=Math.min(i,i+o),d=Math.max(i,i+o);return r>=l&&r<=c&&n>=u&&n<=d}return!1},ok={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lk=function(e){var t=nk(nk({},ok),e),n=r.useRef(),a=ek(r.useState(-1),2),i=a[0],s=a[1];r.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&s(e)}catch(t){}},[]);var o=t.x,c=t.y,u=t.width,d=t.height,p=t.radius,h=t.className,m=t.animationEasing,f=t.animationDuration,x=t.animationBegin,y=t.isAnimationActive,g=t.isUpdateAnimationActive;if(o!==+o||c!==+c||u!==+u||d!==+d||0===u||0===d)return null;var b=Rt("recharts-rectangle",h);return g?l.createElement(JN,{canBegin:i>0,from:{width:u,height:d,x:o,y:c},to:{width:u,height:d,x:o,y:c},duration:f,animationEasing:m,isActive:g},function(e){var r=e.width,a=e.height,s=e.x,o=e.y;return l.createElement(JN,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:f,isActive:y,easing:m},l.createElement("path",QN({},mi(t,!0),{className:b,d:ik(s,o,r,a,p),ref:n})))}):l.createElement("path",QN({},mi(t,!0),{className:b,d:ik(o,c,u,d,p)}))},ck=["points","className","baseLinePoints","connectNulls"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function dk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pk(e){return function(e){if(Array.isArray(e))return hk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mk=function(e){return e&&e.x===+e.x&&e.y===+e.y},fk=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){mk(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),mk(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(pk(e),pk(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},xk=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=dk(e,ck);if(!t||!t.length)return null;var s=Rt("recharts-polygon",r);if(n&&n.length){var o=i.stroke&&"none"!==i.stroke,c=function(e,t,r){var n=fk(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(fk(t.reverse(),r).slice(1))}(t,n,a);return l.createElement("g",{className:s},l.createElement("path",uk({},mi(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",stroke:"none",d:c})),o?l.createElement("path",uk({},mi(i,!0),{fill:"none",d:fk(t,a)})):null,o?l.createElement("path",uk({},mi(i,!0),{fill:"none",d:fk(n,a)})):null)}var u=fk(t,a);return l.createElement("path",uk({},mi(i,!0),{fill:"Z"===u.slice(-1)?i.fill:"none",className:s,d:u}))};function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}var gk=function(e){var t=e.cx,n=e.cy,a=e.r,i=Rt("recharts-dot",e.className);return t===+t&&n===+n&&a===+a?r.createElement("circle",yk({},mi(e,!1),Qa(e),{className:i,cx:t,cy:n,r:a})):null};function bk(e){return bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bk(e)}var vk=["x","y","top","left","width","height","className"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nk(e,t,r){var n;return n=function(e,t){if("object"!=bk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=bk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bk(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Sk,Ck,Ok=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},Ek=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.top,s=void 0===i?0:i,o=e.left,c=void 0===o?0:o,u=e.width,d=void 0===u?0:u,p=e.height,h=void 0===p?0:p,m=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(t){Nk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:s,left:c,width:d,height:h},kk(e,vk));return $a(r)&&$a(a)&&$a(d)&&$a(h)&&$a(s)&&$a(c)?l.createElement("path",jk({},mi(f,!0),{className:Rt("recharts-cross",m),d:Ok(r,a,d,h,s,c)})):null};var Pk=function(){if(Ck)return Sk;Ck=1;var e=Ug(),t=qg(),r=Du();return Sk=function(n,a){return n&&n.length?e(n,r(a,2),t):void 0},Sk}();const Ak=o(Pk);var Tk,Mk;var Ik=function(){if(Mk)return Tk;Mk=1;var e=Ug(),t=Du(),r=Kg();return Tk=function(n,a){return n&&n.length?e(n,t(a,2),r):void 0},Tk}();const Dk=o(Ik);var _k=["cx","cy","angle","ticks","axisLine"],Lk=["ticks","tick","angle","tickFormatter","stroke"];function zk(e){return zk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zk(e)}function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(t){Vk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xk(n.key),n)}}function qk(e,t,r){return t=Wk(t),function(e,t){if(t&&("object"===zk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hk()?Reflect.construct(t,r||[],Wk(e).constructor):t.apply(e,r))}function Hk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hk=function(){return!!e})()}function Wk(e){return Wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wk(e)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gk(e,t)}function Vk(e,t,r){return(t=Xk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e){var t=function(e,t){if("object"!=zk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zk(t)?t:t+""}var Yk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}(e,r.PureComponent),t=e,n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return fj(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=Ak(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:Dk(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,s=Fk(e,_k),o=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=fj(t,r,o[0],n),u=fj(t,r,o[1],n),d=Rk(Rk(Rk({},mi(s,!1)),{},{fill:"none"},mi(i,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return l.createElement("line",$k({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.angle,s=r.tickFormatter,o=r.stroke,c=Fk(r,Lk),u=this.getTickTextAnchor(),d=mi(c,!1),p=mi(a,!1),h=n.map(function(r,n){var c=t.getTickValueCoord(r),h=Rk(Rk(Rk(Rk({textAnchor:u,transform:"rotate(".concat(90-i,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:o},p),{},{index:n},c),{},{payload:r});return l.createElement(Fi,$k({className:Rt("recharts-polar-radius-axis-tick",vj(a)),key:"tick-".concat(r.coordinate)},ei(t.props,r,n)),e.renderTickItem(a,h,s?s(r.value,n):r.value))});return l.createElement(Fi,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?l.createElement(Fi,{className:Rt("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Tj.renderCallByParent(this.props,this.getViewBox())):null}}],a=[{key:"renderTickItem",value:function(e,t,r){return l.isValidElement(e)?l.cloneElement(e,t):ja(e)?e(t):l.createElement(Zh,$k({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],n&&Uk(t.prototype,n),a&&Uk(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function Kk(e){return Kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kk(e)}function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(t){iS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sS(n.key),n)}}function tS(e,t,r){return t=nS(t),function(e,t){if(t&&("object"===Kk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rS()?Reflect.construct(t,r||[],nS(e).constructor):t.apply(e,r))}function rS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rS=function(){return!!e})()}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nS(e)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aS(e,t)}function iS(e,t,r){return(t=sS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sS(e){var t=function(e,t){if("object"!=Kk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Kk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Kk(t)?t:t+""}Vk(Yk,"displayName","PolarRadiusAxis"),Vk(Yk,"axisType","radiusAxis"),Vk(Yk,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var oS,lS,cS,uS,dS=Math.PI/180,pS=1e-5,hS=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tS(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}(e,r.PureComponent),t=e,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=fj(r,n,a,e.coordinate),l=fj(r,n,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*dS);return r>pS?"outer"===t?"start":"end":r<-pS?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,s=Qk(Qk({},mi(this.props,!1)),{},{fill:"none"},mi(a,!1));if("circle"===i)return l.createElement(gk,Jk({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var o=this.props.ticks.map(function(e){return fj(t,r,n,e.coordinate)});return l.createElement(xk,Jk({className:"recharts-polar-angle-axis-line"},s,{points:o}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.tickLine,s=r.tickFormatter,o=r.stroke,c=mi(this.props,!1),u=mi(a,!1),d=Qk(Qk({},c),{},{fill:"none"},mi(i,!1)),p=n.map(function(r,n){var p=t.getTickLineCoord(r),h=Qk(Qk(Qk({textAnchor:t.getTickTextAnchor(r)},c),{},{stroke:"none",fill:o},u),{},{index:n,payload:r,x:p.x2,y:p.y2});return l.createElement(Fi,Jk({className:Rt("recharts-polar-angle-axis-tick",vj(a)),key:"tick-".concat(r.coordinate)},ei(t.props,r,n)),i&&l.createElement("line",Jk({className:"recharts-polar-angle-axis-tick-line"},d,p)),a&&e.renderTickItem(a,h,s?s(r.value,n):r.value))});return l.createElement(Fi,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:l.createElement(Fi,{className:Rt("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}],a=[{key:"renderTickItem",value:function(e,t,r){return l.isValidElement(e)?l.cloneElement(e,t):ja(e)?e(t):l.createElement(Zh,Jk({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],n&&eS(t.prototype,n),a&&eS(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();iS(hS,"displayName","PolarAngleAxis"),iS(hS,"axisType","angleAxis"),iS(hS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mS=function(){if(uS)return cS;uS=1;var e=Un(),t=function(){if(lS)return oS;lS=1;var e=bu()(Object.getPrototypeOf,Object);return oS=e}(),r=qn(),n=Function.prototype,a=Object.prototype,i=n.toString,s=a.hasOwnProperty,o=i.call(Object);return cS=function(n){if(!r(n)||"[object Object]"!=e(n))return!1;var a=t(n);if(null===a)return!0;var l=s.call(a,"constructor")&&a.constructor;return"function"==typeof l&&l instanceof l&&i.call(l)==o}}();const fS=o(mS);var xS,yS;const gS=o(function(){if(yS)return xS;yS=1;var e=Un(),t=qn();return xS=function(r){return!0===r||!1===r||t(r)&&"[object Boolean]"==e(r)}}());function bS(e){return bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}function jS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(t){SS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SS(e,t,r){var n;return n=function(e,t){if("object"!=bS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=bS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CS,OS=function(e,t,r,n,a){var i,s=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},ES={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PS=function(e){var t=kS(kS({},ES),e),n=r.useRef(),a=jS(r.useState(-1),2),i=a[0],s=a[1];r.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&s(e)}catch(t){}},[]);var o=t.x,c=t.y,u=t.upperWidth,d=t.lowerWidth,p=t.height,h=t.className,m=t.animationEasing,f=t.animationDuration,x=t.animationBegin,y=t.isUpdateAnimationActive;if(o!==+o||c!==+c||u!==+u||d!==+d||p!==+p||0===u&&0===d||0===p)return null;var g=Rt("recharts-trapezoid",h);return y?l.createElement(JN,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:p,x:o,y:c},to:{upperWidth:u,lowerWidth:d,height:p,x:o,y:c},duration:f,animationEasing:m,isActive:y},function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,o=e.x,c=e.y;return l.createElement(JN,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:f,easing:m},l.createElement("path",vS({},mi(t,!0),{className:g,d:OS(o,c,r,a,s),ref:n})))}):l.createElement("g",null,l.createElement("path",vS({},mi(t,!0),{className:g,d:OS(o,c,u,d,p)})))},AS=["option","shapeType","propTransformer","activeClassName","isActive"];function TS(e){return TS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TS(e)}function MS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(t){_S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _S(e,t,r){var n;return n=function(e,t){if("object"!=TS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=TS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==TS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LS(e,t){return DS(DS({},t),e)}function zS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return l.createElement(lk,r);case"trapezoid":return l.createElement(PS,r);case"sector":return l.createElement(nw,r);case"symbols":if(function(e){return"symbols"===e}(t))return l.createElement(oo,r);break;default:return null}}function $S(e){var t,n=e.option,a=e.shapeType,i=e.propTransformer,s=void 0===i?LS:i,o=e.activeClassName,c=void 0===o?"recharts-active-shape":o,u=e.isActive,d=MS(e,AS);if(r.isValidElement(n))t=r.cloneElement(n,DS(DS({},d),function(e){return r.isValidElement(e)?e.props:e}(n)));else if(ja(n))t=n(d);else if(fS(n)&&!gS(n)){var p=s(n,d);t=l.createElement(zS,{shapeType:a,elementProps:p})}else{var h=d;t=l.createElement(zS,{shapeType:a,elementProps:h})}return u?l.createElement(Fi,{className:c},t):t}function BS(e,t){return null!=t&&"trapezoids"in e.props}function RS(e,t){return null!=t&&"sectors"in e.props}function FS(e,t){return null!=t&&"points"in e.props}function US(e,t){var r,n,a=e.x===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function qS(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function HS(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function WS(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return BS(e,t)?r="trapezoids":RS(e,t)?r="sectors":FS(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return BS(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:RS(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:FS(e,t)?t.payload:{}}(r,t),s=n.filter(function(e,n){var s=ob(i,e),o=r.props[a].filter(function(e){var n=function(e,t){var r;return BS(e,t)?r=US:RS(e,t)?r=qS:FS(e,t)&&(r=HS),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(o[o.length-1]);return s&&n===l});return n.indexOf(s[s.length-1])}function GS(e){return GS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GS(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(this,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(t){tC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rC(n.key),n)}}function JS(e,t,r){return t=QS(t),function(e,t){if(t&&("object"===GS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZS()?Reflect.construct(t,r||[],QS(e).constructor):t.apply(e,r))}function ZS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZS=function(){return!!e})()}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QS(e)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eC(e,t)}function tC(e,t,r){return(t=rC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rC(e){var t=function(e,t){if("object"!=GS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=GS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==GS(t)?t:t+""}var nC,aC,iC,sC,oC,lC,cC,uC,dC=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tC(r=JS(this,e,[t]),"pieRef",null),tC(r,"sectorRefs",[]),tC(r,"id",Fa("recharts-pie-")),tC(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ja(e)&&e()}),tC(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ja(e)&&e()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}(e,r.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(l.isValidElement(e))return l.cloneElement(e,t);if(ja(e))return e(t);var n=Rt("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return l.createElement(bw,VS({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(l.isValidElement(e))return l.cloneElement(e,t);var n=r;if(ja(e)&&(n=e(t),l.isValidElement(n)))return n;var a=Rt("recharts-pie-label-text","boolean"==typeof e||ja(e)?"":e.className);return l.createElement(Zh,VS({},t,{alignmentBaseline:"middle",className:a}),n)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,i=r.dataKey,s=r.valueKey,o=mi(this.props,!1),c=mi(n,!1),u=mi(a,!1),d=n&&n.offsetRadius||20,p=t.map(function(t,r){var p=(t.startAngle+t.endAngle)/2,h=fj(t.cx,t.cy,t.outerRadius+d,p),m=YS(YS(YS(YS({},o),t),{},{stroke:"none"},c),{},{index:r,textAnchor:e.getTextAnchor(h.x,t.cx)},h),f=YS(YS(YS(YS({},o),t),{},{fill:"none",stroke:t.fill},u),{},{index:r,points:[fj(t.cx,t.cy,t.outerRadius,p),h]}),x=i;return xa(i)&&xa(s)?x="value":xa(i)&&(x=s),l.createElement(Fi,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(r)},a&&e.renderLabelLineItem(a,f,"line"),e.renderLabelItem(n,m,Lv(t,x)))});return l.createElement(Fi,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,i=r.inactiveShape;return e.map(function(r,s){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(s),c=i&&t.hasActiveIndex()?i:null,u=o?n:c,d=YS(YS({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return l.createElement(Fi,VS({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ei(t.props,r,s),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(s)}),l.createElement($S,VS({option:u,isActive:o,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,o=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return l.createElement(JN,{begin:a,duration:i,isActive:n,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,a=[],i=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=u&&u[t],s=t>0?ha(e,"paddingAngle",0):0;if(r){var o=Ha(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=YS(YS({},e),{},{startAngle:i+s,endAngle:i+o(n)+s});a.push(l),i=l.endAngle}else{var c=e.endAngle,d=e.startAngle,p=Ha(0,c-d)(n),h=YS(YS({},e),{},{startAngle:i+s,endAngle:i+p+s});a.push(h),i=h.endAngle}}),l.createElement(Fi,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&ob(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,i=t.label,s=t.cx,o=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,p=this.state.isAnimationFinished;if(r||!n||!n.length||!$a(s)||!$a(o)||!$a(c)||!$a(u))return null;var h=Rt("recharts-pie",a);return l.createElement(Fi,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),Tj.renderCallByParent(this.props,null,!1),(!d||p)&&Xj.renderCallByParent(this.props,n,!1))}}])&&KS(t.prototype,n),a&&KS(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function pC(){if(sC)return iC;sC=1;var e=ah(),t=1/0;return iC=function(r){return r?(r=e(r))===t||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function hC(){if(lC)return oC;lC=1;var e=function(){if(aC)return nC;aC=1;var e=Math.ceil,t=Math.max;return nC=function(r,n,a,i){for(var s=-1,o=t(e((n-r)/(a||1)),0),l=Array(o);o--;)l[i?o:++s]=r,r+=a;return l}}(),t=np(),r=pC();return oC=function(n){return function(a,i,s){return s&&"number"!=typeof s&&t(a,i,s)&&(i=s=void 0),a=r(a),void 0===i?(i=a,a=0):i=r(i),s=void 0===s?a<i?1:-1:r(s),e(a,i,s,n)}}}CS=dC,tC(dC,"displayName","Pie"),tC(dC,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mp,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),tC(dC,"parseDeltaAngle",function(e,t){return La(t-e)*Math.min(Math.abs(t-e),360)}),tC(dC,"getRealPieData",function(e){var t=e.data,r=e.children,n=mi(e,!1),a=ui(r,fh);return t&&t.length?t.map(function(e,t){return YS(YS(YS({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return YS(YS({},n),e.props)}):[]}),tC(dC,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=xj(a,i);return{cx:n+Ua(e.cx,a,a/2),cy:r+Ua(e.cy,i,i/2),innerRadius:Ua(e.innerRadius,s,0),outerRadius:Ua(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),tC(dC,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?YS(YS({},t.type.defaultProps),t.props):t.props,a=CS.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),m=CS.parseCoordinateOfPie(n,r),f=CS.parseDeltaAngle(s,o),x=Math.abs(f),y=c;xa(c)&&xa(d)?(Ui(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):xa(c)&&(Ui(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var g,b,v=a.filter(function(e){return 0!==Lv(e,y,0)}).length,j=x-v*h-(x>=360?v:v-1)*l,w=a.reduce(function(e,t){var r=Lv(t,y,0);return e+($a(r)?r:0)},0);w>0&&(g=a.map(function(e,t){var r,n=Lv(e,y,0),a=Lv(e,u,t),o=($a(n)?n:0)/w,c=(r=t?b.endAngle+La(f)*l*(0!==n?1:0):s)+La(f)*((0!==n?h:0)+o*j),d=(r+c)/2,x=(m.innerRadius+m.outerRadius)/2,g=[{name:a,value:n,payload:e,dataKey:y,type:p}],v=fj(m.cx,m.cy,x,d);return b=YS(YS(YS({percent:o,cornerRadius:i,name:a,tooltipPayload:g,midAngle:d,middleRadius:x,tooltipPosition:v},e),m),{},{value:Lv(e,y),startAngle:r,endAngle:c,payload:e,paddingAngle:La(f)*l})}));return YS(YS({},m),{},{sectors:g,data:a})});var mC=function(){if(uC)return cC;uC=1;var e=hC()();return cC=e}();const fC=o(mC);function xC(e){return xC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xC(e)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(t){bC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bC(e,t,r){var n;return n=function(e,t){if("object"!=xC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=xC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xC(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vC=["Webkit","Moz","O","ms"];function jC(e){return jC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jC(e)}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(t){AC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TC(n.key),n)}}function CC(e,t,r){return t=EC(t),function(e,t){if(t&&("object"===jC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OC()?Reflect.construct(t,r||[],EC(e).constructor):t.apply(e,r))}function OC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(OC=function(){return!!e})()}function EC(e){return EC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EC(e)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PC(e,t)}function AC(e,t,r){return(t=TC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e){var t=function(e,t){if("object"!=jC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jC(t)?t:t+""}var MC,IC,DC,_C,LC=function(e){return e.changedTouches&&!!e.changedTouches.length},zC=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),AC(r=CC(this,e,[t]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),AC(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),AC(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null==n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),AC(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),AC(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),AC(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),AC(r,"handleSlideDragStart",function(e){var t=LC(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}(e,r.PureComponent),t=e,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var r=t.startX,n=t.endX,a=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=e.getIndexInRange(a,l),d=e.getIndexInRange(a,c);return{startIndex:u-u%s,endIndex:d===o?o:d-d%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=Lv(r[e],a,e);return ja(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,p=e.pageX-r;p>0?p=Math.min(p,s+o-l-a,s+o-l-n):p<0&&(p=Math.max(p,s-n,s-a));var h=this.getIndex({startX:n+p,endX:a+p});h.startIndex===c&&h.endIndex===u||!d||d(h),this.setState({startX:n+p,endX:a+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=LC(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,s=this.state[n],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,d=o.onChange,p=o.gap,h=o.data,m={startX:this.state.startX,endX:this.state.endX},f=e.pageX-r;f>0?f=Math.min(f,l+c-u-s):f<0&&(f=Math.max(f,l-s)),m[n]=s+f;var x=this.getIndex(m),y=x.startIndex,g=x.endIndex;this.setState(AC(AC({},n,s+f),"brushMoveStartX",e.pageX),function(){var e;d&&(e=h.length-1,("startX"===n&&(a>i?y%p===0:g%p===0)||a<i&&g===e||"endX"===n&&(a>i?g%p===0:y%p===0)||a>i&&g===e)&&d(x))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,s=n.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=s||"endX"===t&&u<=i||this.setState(AC({},t,u),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,s=e.stroke;return l.createElement("rect",{stroke:s,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,s=e.data,o=e.children,c=e.padding,u=r.Children.only(o);return u?l.cloneElement(u,{x:t,y:n,width:a,height:i,margin:c,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(t,r){var n,a,i=this,s=this.props,o=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,p=s.ariaLabel,h=s.data,m=s.startIndex,f=s.endIndex,x=Math.max(t,this.props.x),y=kC(kC({},mi(this.props,!1)),{},{x:x,y:o,width:c,height:u}),g=p||"Min value: ".concat(null===(n=h[m])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=h[f])||void 0===a?void 0:a.name);return l.createElement(Fi,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,s=r.travellerWidth,o=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return l.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:o,y:n,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,o=this.state,c=o.startX,u=o.endX,d={pointerEvents:"none",fill:s};return l.createElement(Fi,{className:"recharts-brush-texts"},l.createElement(Zh,wC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:n+a/2},d),this.getTextOfTick(t)),l.createElement(Zh,wC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+i+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,s=e.width,o=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,p=u.endX,h=u.isTextActive,m=u.isSlideMoving,f=u.isTravellerMoving,x=u.isTravellerFocused;if(!t||!t.length||!$a(a)||!$a(i)||!$a(s)||!$a(o)||s<=0||o<=0)return null;var y,g,b,v,j=Rt("recharts-brush",r),w=1===l.Children.count(n),N=(g="none",b=(y="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(v=vC.reduce(function(e,t){return gC(gC({},e),{},bC({},t+b,g))},{}))[y]=g,v);return l.createElement(Fi,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(d,p),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(p,"endX"),(h||m||f||x||c)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,s=Math.floor(r+a/2)-1;return l.createElement(l.Fragment,null,l.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),l.createElement("line",{x1:t+1,y1:s,x2:t+n-1,y2:s,fill:"none",stroke:"#fff"}),l.createElement("line",{x1:t+1,y1:s+2,x2:t+n-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,r){return l.isValidElement(t)?l.cloneElement(t,r):ja(t)?t(r):e.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||s!==t.prevUpdateId)return kC({prevData:r,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=Om().domain(fC(0,o)).range([a,a+i-s]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],n&&SC(t.prototype,n),a&&SC(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();AC(zC,"displayName","Brush"),AC(zC,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $C=function(){if(_C)return DC;_C=1;var e=yl(),t=Du(),r=function(){if(IC)return MC;IC=1;var e=Yd();return MC=function(t,r){var n;return e(t,function(e,t,a){return!(n=r(e,t,a))}),!!n}}(),n=$n(),a=np();return DC=function(i,s,o){var l=n(i)?e:r;return o&&a(i,s,o)&&(s=void 0),l(i,t(s,3))}}();const BC=o($C);var RC,FC,UC,qC,HC=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t};var WC=function(){if(qC)return UC;qC=1;var e=function(){if(FC)return RC;FC=1;var e=ep();return RC=function(t,r,n){"__proto__"==r&&e?e(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n},RC}(),t=Xd(),r=Du();return UC=function(n,a){var i={};return a=r(a,3),t(n,function(t,r,n){e(i,r,a(t,r,n))}),i},UC}();const GC=o(WC);var VC,XC,YC,KC,JC,ZC;var QC=function(){if(ZC)return JC;ZC=1;var e=(XC||(XC=1,VC=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}),VC),t=function(){if(KC)return YC;KC=1;var e=Yd();return YC=function(t,r){var n=!0;return e(t,function(e,t,a){return n=!!r(e,t,a)}),n}}(),r=Du(),n=$n(),a=np();return JC=function(i,s,o){var l=n(i)?e:t;return o&&a(i,s,o)&&(s=void 0),l(i,r(s,3))}}();const eO=o(QC);var tO=["x","y"];function rO(e){return(rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(t){sO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sO(e,t,r){var n;return n=function(e,t){if("object"!=rO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=rO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lO(e,t){var r=e.x,n=e.y,a=oO(e,tO),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),p=parseInt(d,10);return iO(iO(iO(iO(iO({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function cO(e){return l.createElement($S,nO({shapeType:"rectangle",propTransformer:lO,activeClassName:"recharts-active-bar"},e))}var uO,dO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"==typeof e)return e;var a=$a(r)||function(e){return xa(e)}(r);return a?e(r,n):(a||uv(),t)}},pO=["value","background"];function hO(e){return hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hO(e)}function mO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(t){NO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function bO(e,t,r){return t=jO(t),function(e,t){if(t&&("object"===hO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vO()?Reflect.construct(t,r||[],jO(e).constructor):t.apply(e,r))}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vO=function(){return!!e})()}function jO(e){return jO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jO(e)}function wO(e,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wO(e,t)}function NO(e,t,r){return(t=kO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=function(e,t){if("object"!=hO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=hO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==hO(t)?t:t+""}var SO=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return NO(t=bO(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),NO(t,"id",Fa("recharts-bar-")),NO(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),NO(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wO(e,t)}(e,r.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,i=r.activeIndex,s=r.activeBar,o=mi(this.props,!1);return e&&e.map(function(e,r){var c=r===i,u=c?s:n,d=yO(yO(yO({},o),e),{},{isActive:c,option:u,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return l.createElement(Fi,fO({className:"recharts-bar-rectangle"},ei(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),l.createElement(cO,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,o=t.animationEasing,c=t.animationId,u=this.state.prevData;return l.createElement(JN,{begin:i,duration:s,isActive:a,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=r.map(function(e,t){var r=u&&u[t];if(r){var i=Ha(r.x,e.x),s=Ha(r.y,e.y),o=Ha(r.width,e.width),l=Ha(r.height,e.height);return yO(yO({},e),{},{x:i(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===n){var c=Ha(0,e.height)(a);return yO(yO({},e),{},{y:e.y+e.height-c,height:c})}var d=Ha(0,e.width)(a);return yO(yO({},e),{},{width:d})});return l.createElement(Fi,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&ob(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,i=mi(this.props.background,!1);return r.map(function(t,r){t.value;var s=t.background,o=mO(t,pO);if(!s)return null;var c=yO(yO(yO(yO(yO({},o),{},{fill:"#eee"},s),i),ei(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return l.createElement(cO,fO({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,s=r.layout,o=ui(r.children,kv);if(!o)return null;var c="vertical"===s?n[0].height/2:n[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Lv(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return l.createElement(Fi,d,o.map(function(e){return l.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,s=e.left,o=e.top,c=e.width,u=e.height,d=e.isAnimationActive,p=e.background,h=e.id;if(t||!r||!r.length)return null;var m=this.state.isAnimationFinished,f=Rt("recharts-bar",n),x=a&&a.allowDataOverflow,y=i&&i.allowDataOverflow,g=x||y,b=xa(h)?this.id:h;return l.createElement(Fi,{className:f},x||y?l.createElement("defs",null,l.createElement("clipPath",{id:"clipPath-".concat(b)},l.createElement("rect",{x:x?s:s-c/2,y:y?o:o-u/2,width:x?c:2*c,height:y?u:2*u}))):null,l.createElement(Fi,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(b,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,b),(!d||m)&&Xj.renderCallByParent(this.props,r))}}])&&gO(t.prototype,n),a&&gO(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function CO(e){return CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CO(e)}function OO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(t){AO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AO(e,t,r){return(t=TO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=function(e,t){if("object"!=CO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=CO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CO(t)?t:t+""}uO=SO,NO(SO,"displayName","Bar"),NO(SO,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mp,animationBegin:0,animationDuration:400,animationEasing:"ease"}),NO(SO,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var m=t.layout,f=r.type.defaultProps,x=void 0!==f?yO(yO({},f),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,v="horizontal"===m?s:i,j=c?v.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:v}),N=ui(g,fh),k=d.map(function(e,t){var n,d,p,f,x,g;c?n=function(e,t){if(!t||2!==t.length||!$a(t[0])||!$a(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!$a(e[0])||e[0]<r)&&(a[0]=r),(!$a(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],j):(n=Lv(e,y),Array.isArray(n)||(n=[w,n]));var v=dO(b,uO.defaultProps.minPointSize)(n[1],t);if("horizontal"===m){var k,S=[s.scale(n[0]),s.scale(n[1])],C=S[0],O=S[1];d=Qv({axis:i,ticks:o,bandSize:a,offset:h.offset,entry:e,index:t}),p=null!==(k=null!=O?O:C)&&void 0!==k?k:void 0,f=h.size;var E=C-O;if(x=Number.isNaN(E)?0:E,g={x:d,y:s.y,width:f,height:s.height},Math.abs(v)>0&&Math.abs(x)<Math.abs(v)){var P=La(x||v)*(Math.abs(v)-Math.abs(x));p-=P,x+=P}}else{var A=[i.scale(n[0]),i.scale(n[1])],T=A[0],M=A[1];if(d=T,p=Qv({axis:s,ticks:l,bandSize:a,offset:h.offset,entry:e,index:t}),f=M-T,x=h.size,g={x:i.x,y:p,width:i.width,height:x},Math.abs(v)>0&&Math.abs(f)<Math.abs(v))f+=La(f||v)*(Math.abs(v)-Math.abs(f))}return yO(yO(yO({},e),{},{x:d,y:p,width:f,height:x,value:c?n:n[1],payload:e,background:g},N&&N[t]&&N[t].props),{},{tooltipPayload:[sj(r,e)],tooltipPosition:{x:d+f/2,y:p+x/2}})});return yO({data:k,layout:m},p)});var MO=function(e,t,r,n,a){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!di(l,SO);return c.reduce(function(i,s){var l,c,p,h,m,f=t[s],x=f.orientation,y=f.domain,g=f.padding,b=void 0===g?{}:g,v=f.mirror,j=f.reversed,w="".concat(x).concat(v?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=y[1]-y[0],k=1/0,S=f.categoricalDomain.sort(Ga);if(S.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))}),Number.isFinite(k)){var C=k/N,O="vertical"===f.layout?r.height:r.width;if("gap"===f.padding&&(l=C*O/2),"no-gap"===f.padding){var E=Ua(e.barCategoryGap,C*O),P=C*O/2;l=P-E-(P-E)/O*E}}}c="xAxis"===n?[r.left+(b.left||0)+(l||0),r.left+r.width-(b.right||0)-(l||0)]:"yAxis"===n?"horizontal"===o?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(l||0),r.top+r.height-(b.bottom||0)-(l||0)]:f.range,j&&(c=[c[1],c[0]]);var A=Gv(f,a,d),T=A.scale,M=A.realScaleType;T.domain(y).range(c),Xv(T);var I=Jv(T,PO(PO({},f),{},{realScaleType:M}));"xAxis"===n?(m="top"===x&&!v||"bottom"===x&&v,p=r.left,h=u[w]-m*f.height):"yAxis"===n&&(m="left"===x&&!v||"right"===x&&v,p=u[w]-m*f.width,h=r.top);var D=PO(PO(PO({},f),I),{},{realScaleType:M,x:p,y:h,scale:T,width:"xAxis"===n?r.width:f.width,height:"yAxis"===n?r.height:f.height});return D.bandSize=aj(D,I),f.hide||"xAxis"!==n?f.hide||(u[w]+=(m?-1:1)*D.width):u[w]+=(m?-1:1)*D.height,PO(PO({},i),{},AO({},s,D))},{})},IO=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},DO=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&OO(t.prototype,r),n&&OO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();AO(DO,"EPS",1e-4);var _O=function(e){var t=Object.keys(e).reduce(function(t,r){return PO(PO({},t),{},AO({},r,DO.create(e[r])))},{});return PO(PO({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return GC(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return eO(e,function(e,r){return t[r].isInRange(e)})}})};var LO,zO,$O,BO,RO,FO,UO,qO;function HO(){if(FO)return RO;FO=1;var e=_u(),t=Du(),r=function(){if(BO)return $O;BO=1;var e=pC();return $O=function(t){var r=e(t),n=r%1;return r==r?n?r-n:r:0}}(),n=Math.max;return RO=function(a,i,s){var o=null==a?0:a.length;if(!o)return-1;var l=null==s?0:r(s);return l<0&&(l=n(o+l,0)),e(a,t(i,3),l)},RO}var WO=function(){if(qO)return UO;qO=1;var e=function(){if(zO)return LO;zO=1;var e=Du(),t=ju(),r=wu();return LO=function(n){return function(a,i,s){var o=Object(a);if(!t(a)){var l=e(i,3);a=r(a),i=function(e){return l(o[e],e,o)}}var c=n(a,i,s);return c>-1?o[l?a[c]:c]:void 0}}}(),t=e(HO());return UO=t}();const GO=o(WO);var VO=o(ia())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),XO=r.createContext(void 0),YO=r.createContext(void 0),KO=r.createContext(void 0),JO=r.createContext({}),ZO=r.createContext(void 0),QO=r.createContext(0),eE=r.createContext(0),tE=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,s=e.children,o=e.width,c=e.height,u=VO(a);return l.createElement(XO.Provider,{value:r},l.createElement(YO.Provider,{value:n},l.createElement(JO.Provider,{value:a},l.createElement(KO.Provider,{value:u},l.createElement(ZO.Provider,{value:i},l.createElement(QO.Provider,{value:c},l.createElement(eE.Provider,{value:o},s)))))))},rE=function(e){var t=r.useContext(XO);null==t&&uv();var n=t[e];return null==n&&uv(),n},nE=function(e){var t=r.useContext(YO);null==t&&uv();var n=t[e];return null==n&&uv(),n},aE=function(){return r.useContext(eE)},iE=function(){return r.useContext(QO)};function sE(e){return sE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sE(e)}function oE(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fE(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lE(e,t,r){return t=uE(t),function(e,t){if(t&&("object"===sE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cE()?Reflect.construct(t,r||[],uE(e).constructor):t.apply(e,r))}function cE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cE=function(){return!!e})()}function uE(e){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uE(e)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dE(e,t)}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(t){mE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mE(e,t,r){return(t=fE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fE(e){var t=function(e,t){if("object"!=sE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=sE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==sE(t)?t:t+""}function xE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gE.apply(this,arguments)}function bE(e){var t=e.x,n=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,c=e.className,u=e.alwaysShow,d=r.useContext(ZO),p=rE(i),h=nE(s),m=r.useContext(KO);if(!d||!m)return null;Ui(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,r,n,a,i,s,o,l){var c=a.x,u=a.y,d=a.width,p=a.height;if(r){var h=l.y,m=e.y.apply(h,{position:i});if(HC(l,"discard")&&!e.y.isInRange(m))return null;var f=[{x:c+d,y:m},{x:c,y:m}];return"left"===o?f.reverse():f}if(t){var x=l.x,y=e.x.apply(x,{position:i});if(HC(l,"discard")&&!e.x.isInRange(y))return null;var g=[{x:y,y:u+p},{x:y,y:u}];return"top"===s?g.reverse():g}if(n){var b=l.segment.map(function(t){return e.apply(t,{position:i})});return HC(l,"discard")&&BC(b,function(t){return!e.isInRange(t)})?null:b}return null}(_O({x:p.scale,y:h.scale}),Ba(t),Ba(n),a&&2===a.length,m,e.position,p.orientation,h.orientation,e);if(!f)return null;var x=xE(f,2),y=x[0],g=y.x,b=y.y,v=x[1],j=v.x,w=v.y,N=hE(hE({clipPath:HC(e,"hidden")?"url(#".concat(d,")"):void 0},mi(e,!0)),{},{x1:g,y1:b,x2:j,y2:w});return l.createElement(Fi,{className:Rt("recharts-reference-line",c)},function(e,t){return l.isValidElement(e)?l.cloneElement(e,t):ja(e)?e(t):l.createElement("line",gE({},t,{className:"recharts-reference-line-line"}))}(o,N),Tj.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return IO({x:t,y:r},{x:n,y:a})}({x1:g,y1:b,x2:j,y2:w})))}var vE=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lE(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}(e,l.Component),oE(e,[{key:"render",value:function(){return l.createElement(bE,this.props)}}])}();function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jE.apply(this,arguments)}function wE(e){return wE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wE(e)}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(t){AE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SE(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TE(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CE(e,t,r){return t=EE(t),function(e,t){if(t&&("object"===wE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OE()?Reflect.construct(t,r||[],EE(e).constructor):t.apply(e,r))}function OE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(OE=function(){return!!e})()}function EE(e){return EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EE(e)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PE(e,t)}function AE(e,t,r){return(t=TE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TE(e){var t=function(e,t){if("object"!=wE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=wE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==wE(t)?t:t+""}mE(vE,"displayName","ReferenceLine"),mE(vE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var ME=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CE(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}(e,l.Component),SE(e,[{key:"render",value:function(){var t=this.props,r=t.x,n=t.y,a=t.r,i=t.alwaysShow,s=t.clipPathId,o=Ba(r),c=Ba(n);if(Ui(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!c)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=_O({x:n.scale,y:a.scale}),s=i.apply({x:t,y:r},{bandAware:!0});return HC(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!u)return null;var d=u.x,p=u.y,h=this.props,m=h.shape,f=h.className,x=kE(kE({clipPath:HC(this.props,"hidden")?"url(#".concat(s,")"):void 0},mi(this.props,!0)),{},{cx:d,cy:p});return l.createElement(Fi,{className:Rt("recharts-reference-dot",f)},e.renderDot(m,x),Tj.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}();function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IE.apply(this,arguments)}function DE(e){return DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(e)}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(t){UE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zE(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qE(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $E(e,t,r){return t=RE(t),function(e,t){if(t&&("object"===DE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BE()?Reflect.construct(t,r||[],RE(e).constructor):t.apply(e,r))}function BE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(BE=function(){return!!e})()}function RE(e){return RE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RE(e)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FE(e,t)}function UE(e,t,r){return(t=qE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qE(e){var t=function(e,t){if("object"!=DE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=DE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==DE(t)?t:t+""}AE(ME,"displayName","ReferenceDot"),AE(ME,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),AE(ME,"renderDot",function(e,t){return l.isValidElement(e)?l.cloneElement(e,t):ja(e)?e(t):l.createElement(gk,jE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var HE=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$E(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}(e,l.Component),zE(e,[{key:"render",value:function(){var t=this.props,r=t.x1,n=t.x2,a=t.y1,i=t.y2,s=t.className,o=t.alwaysShow,c=t.clipPathId;Ui(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ba(r),d=Ba(n),p=Ba(a),h=Ba(i),m=this.props.shape;if(!(u||d||p||h||m))return null;var f=function(e,t,r,n,a){var i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=_O({x:c.scale,y:u.scale}),p={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(o,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!HC(a,"discard")||d.isInRange(p)&&d.isInRange(h)?IO(p,h):null}(u,d,p,h,this.props);if(!f&&!m)return null;var x=HC(this.props,"hidden")?"url(#".concat(c,")"):void 0;return l.createElement(Fi,{className:Rt("recharts-reference-area",s)},e.renderRect(m,LE(LE({clipPath:x},mi(this.props,!0)),f)),Tj.renderCallByParent(this.props,f))}}])}();function WE(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function GE(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),s=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function VE(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function XE(e){return XE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XE(e)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(t){JE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JE(e,t,r){var n;return n=function(e,t){if("object"!=XE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=XE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==XE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if($a(l)||Mp)return function(e,t){return WE(e,t+1)}(a,"number"==typeof l&&$a(l)?l:0);var p=[],h="top"===o||"bottom"===o?"width":"height",m=u&&"width"===h?Nh(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},f=function(e,n){var a=ja(c)?c(e.value,n):e.value;return"width"===h?GE(Nh(a,{fontSize:t,letterSpacing:r}),m,d):Nh(a,{fontSize:t,letterSpacing:r})[h]},x=a.length>=2?La(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,a=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}(i,x,h);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,p=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:WE(n,u)};var i,s=c,p=function(){return void 0===i&&(i=r(t,s)),i},h=t.coordinate,m=0===c||VE(e,h,p,d,l);m||(c=0,d=o,u+=1),m&&(d=h+e*(p()/2+a),c+=u)};u<=s.length;)if(i=p())return i.v;return[]}(x,y,f,a,s):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],d=r(u,o-1),p=e*(u.coordinate+e*d/2-c);s[o-1]=u=KE(KE({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),VE(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),s[o-1]=KE(KE({},u),{},{isShow:!0}))}for(var h=i?o-1:o,m=function(t){var n,i=s[t],o=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=KE(KE({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=KE(KE({},i),{},{tickCoord:i.coordinate});VE(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=KE(KE({},i),{},{isShow:!0}))},f=0;f<h;f++)m(f);return s}(x,y,f,a,s,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=KE(KE({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=KE(KE({},c),{},{tickCoord:c.coordinate});VE(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=KE(KE({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(x,y,f,a,s),p.filter(function(e){return e.isShow}))}UE(HE,"displayName","ReferenceArea"),UE(HE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),UE(HE,"renderRect",function(e,t){return l.isValidElement(e)?l.cloneElement(e,t):ja(e)?e(t):l.createElement(lk,IE({},t,{className:"recharts-reference-area-rect"}))});var QE=["viewBox"],eP=["viewBox"],tP=["ticks"];function rP(e){return rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rP(e)}function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nP.apply(this,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(t){pP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hP(n.key),n)}}function lP(e,t,r){return t=uP(t),function(e,t){if(t&&("object"===rP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cP()?Reflect.construct(t,r||[],uP(e).constructor):t.apply(e,r))}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cP=function(){return!!e})()}function uP(e){return uP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uP(e)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dP(e,t)}function pP(e,t,r){return(t=hP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=function(e,t){if("object"!=rP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=rP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==rP(t)?t:t+""}var mP=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=lP(this,e,[t])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}(e,r.Component),t=e,n=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=sP(e,QE),a=this.props,i=a.viewBox,s=sP(a,eP);return!Va(r,i)||!Va(n,s)||!Va(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,s,o=this.props,l=o.x,c=o.y,u=o.width,d=o.height,p=o.orientation,h=o.tickSize,m=o.mirror,f=o.tickMargin,x=m?-1:1,y=e.tickSize||h,g=$a(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=r=e.coordinate,s=(n=(a=c+ +!m*d)-x*y)-x*f,i=g;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!m*u)-x*y)-x*f,s=g;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +m*u)+x*y)+x*f,s=g;break;default:t=r=e.coordinate,s=(n=(a=c+ +m*d)+x*y)+x*f,i=g}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,s=e.mirror,o=e.axisLine,c=iP(iP(iP({},mi(this.props,!1)),mi(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!s||"bottom"===i&&s);c=iP(iP({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+("left"===i&&!s||"right"===i&&s);c=iP(iP({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return l.createElement("line",nP({},c,{className:Rt("recharts-cartesian-axis-line",ha(o,"className"))}))}},{key:"renderTicks",value:function(t,r,n){var a=this,i=this.props,s=i.tickLine,o=i.stroke,c=i.tick,u=i.tickFormatter,d=i.unit,p=ZE(iP(iP({},this.props),{},{ticks:t}),r,n),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),f=mi(this.props,!1),x=mi(c,!1),y=iP(iP({},f),{},{fill:"none"},mi(s,!1)),g=p.map(function(t,r){var n=a.getTickLineCoord(t),i=n.line,g=n.tick,b=iP(iP(iP(iP({textAnchor:h,verticalAnchor:m},f),{},{stroke:"none",fill:o},x),g),{},{index:r,payload:t,visibleTicksCount:p.length,tickFormatter:u});return l.createElement(Fi,nP({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},ei(a.props,t,r)),s&&l.createElement("line",nP({},y,i,{className:Rt("recharts-cartesian-axis-tick-line",ha(s,"className"))})),c&&e.renderTickItem(c,b,"".concat(ja(u)?u(t.value,r):t.value).concat(d||"")))});return l.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var o=this.props,c=o.ticks,u=sP(o,tP),d=c;return ja(i)&&(d=c&&c.length>0?i(this.props):i(u)),n<=0||a<=0||!d||!d.length?null:l.createElement(Fi,{className:Rt("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Tj.renderCallByParent(this.props))}}],a=[{key:"renderTickItem",value:function(e,t,r){var n=Rt(t.className,"recharts-cartesian-axis-tick-value");return l.isValidElement(e)?l.cloneElement(e,iP(iP({},t),{},{className:n})):ja(e)?e(iP(iP({},t),{},{className:n})):l.createElement(Zh,nP({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],n&&oP(t.prototype,n),a&&oP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();pP(mP,"displayName","CartesianAxis"),pP(mP,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fP=["x1","y1","x2","y2","key"],xP=["offset"];function yP(e){return yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yP(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(t){vP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vP(e,t,r){var n;return n=function(e,t){if("object"!=yP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=yP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yP(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(this,arguments)}function wP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var NP=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.ry;return l.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kP(e,t){var r;if(l.isValidElement(e))r=l.cloneElement(e,t);else if(ja(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,c=wP(t,fP),u=mi(c,!1);u.offset;var d=wP(u,xP);r=l.createElement("line",jP({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function SP(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(n,i){var s=bP(bP({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i});return kP(a,s)});return l.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function CP(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(n,i){var s=bP(bP({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i});return kP(a,s)});return l.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function OP(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=o.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==u[0]&&u.unshift(0);var d=u.map(function(e,o){var c=!u[o+1]?a+s-e:u[o+1]-e;if(c<=0)return null;var d=o%t.length;return l.createElement("rect",{key:"react-".concat(o),y:e,x:n,height:c,width:i,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return l.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function EP(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var p=d.map(function(e,t){var r=!d[t+1]?i+o-e:d[t+1]-e;if(r<=0)return null;var u=t%n.length;return l.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:r,height:c,stroke:"none",fill:n[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return l.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var PP=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return Uv(ZE(bP(bP(bP({},mP.defaultProps),r),{},{ticks:qv(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},AP=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return Uv(ZE(bP(bP(bP({},mP.defaultProps),r),{},{ticks:qv(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},TP={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function MP(e){var t,n,a,i,s,o,c,u,d=aE(),p=iE(),h=r.useContext(JO),m=bP(bP({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:TP.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:TP.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:TP.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:TP.horizontalFill,vertical:null!==(s=e.vertical)&&void 0!==s?s:TP.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:TP.verticalFill,x:$a(e.x)?e.x:h.left,y:$a(e.y)?e.y:h.top,width:$a(e.width)?e.width:h.width,height:$a(e.height)?e.height:h.height}),f=m.x,x=m.y,y=m.width,g=m.height,b=m.syncWithTicks,v=m.horizontalValues,j=m.verticalValues,w=(c=r.useContext(XO),qa(c)),N=(u=r.useContext(YO),GO(u,function(e){return eO(e.domain,Number.isFinite)})||qa(u));if(!$a(y)||y<=0||!$a(g)||g<=0||!$a(f)||f!==+f||!$a(x)||x!==+x)return null;var k=m.verticalCoordinatesGenerator||PP,S=m.horizontalCoordinatesGenerator||AP,C=m.horizontalPoints,O=m.verticalPoints;if((!C||!C.length)&&ja(S)){var E=v&&v.length,P=S({yAxis:N?bP(bP({},N),{},{ticks:E?v:N.ticks}):void 0,width:d,height:p,offset:h},!!E||b);Ui(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yP(P),"]")),Array.isArray(P)&&(C=P)}if((!O||!O.length)&&ja(k)){var A=j&&j.length,T=k({xAxis:w?bP(bP({},w),{},{ticks:A?j:w.ticks}):void 0,width:d,height:p,offset:h},!!A||b);Ui(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yP(T),"]")),Array.isArray(T)&&(O=T)}return l.createElement("g",{className:"recharts-cartesian-grid"},l.createElement(NP,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),l.createElement(SP,jP({},m,{offset:h,horizontalPoints:C,xAxis:w,yAxis:N})),l.createElement(CP,jP({},m,{offset:h,verticalPoints:O,xAxis:w,yAxis:N})),l.createElement(OP,jP({},m,{horizontalPoints:C})),l.createElement(EP,jP({},m,{verticalPoints:O})))}MP.displayName="CartesianGrid";var IP=["type","layout","connectNulls","ref"],DP=["key"];function _P(e){return _P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_P(e)}function LP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zP.apply(this,arguments)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(t){VP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RP(e){return function(e){if(Array.isArray(e))return FP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return FP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XP(n.key),n)}}function qP(e,t,r){return t=WP(t),function(e,t){if(t&&("object"===_P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HP()?Reflect.construct(t,r||[],WP(e).constructor):t.apply(e,r))}function HP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(HP=function(){return!!e})()}function WP(e){return WP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WP(e)}function GP(e,t){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GP(e,t)}function VP(e,t,r){return(t=XP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XP(e){var t=function(e,t){if("object"!=_P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=_P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_P(t)?t:t+""}var YP=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return VP(t=qP(this,e,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),VP(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),VP(t,"getStrokeDasharray",function(r,n,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(n,r);for(var s=Math.floor(r/i),o=r%i,l=n-r,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>o){c=[].concat(RP(a.slice(0,u)),[o-d]);break}var p=c.length%2==0?[0,l]:[l];return[].concat(RP(e.repeat(a,s)),RP(c),p).map(function(e){return"".concat(e,"px")}).join(", ")}),VP(t,"id",Fa("recharts-line-")),VP(t,"pathRef",function(e){t.mainCurve=e}),VP(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),VP(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GP(e,t)}(e,r.PureComponent),t=e,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,i=r.yAxis,s=r.layout,o=ui(r.children,kv);if(!o)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Lv(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return l.createElement(Fi,u,o.map(function(e){return l.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,s=a.points,o=a.dataKey,c=mi(this.props,!1),u=mi(i,!0),d=s.map(function(t,r){var n=BP(BP(BP({key:"dot-".concat(r),r:3},c),u),{},{index:r,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:s});return e.renderDotItem(i,n)}),p={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return l.createElement(Fi,zP({className:"recharts-line-dots",key:"dots"},p),d)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,i=a.type,s=a.layout,o=a.connectNulls;a.ref;var c=LP(a,IP),u=BP(BP(BP({},mi(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:s,connectNulls:o});return l.createElement(bw,zP({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.strokeDasharray,s=n.isAnimationActive,o=n.animationBegin,c=n.animationDuration,u=n.animationEasing,d=n.animationId,p=n.animateNewValues,h=n.width,m=n.height,f=this.state,x=f.prevPoints,y=f.totalLength;return l.createElement(JN,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var s=n.t;if(x){var o=x.length/a.length,l=a.map(function(e,t){var r=Math.floor(t*o);if(x[r]){var n=x[r],a=Ha(n.x,e.x),i=Ha(n.y,e.y);return BP(BP({},e),{},{x:a(s),y:i(s)})}if(p){var l=Ha(2*h,e.x),c=Ha(m/2,e.y);return BP(BP({},e),{},{x:l(s),y:c(s)})}return BP(BP({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,u=Ha(0,y)(s);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&n&&n.length&&(!s&&o>0||!ob(s,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,s=t.xAxis,o=t.yAxis,c=t.top,u=t.left,d=t.width,p=t.height,h=t.isAnimationActive,m=t.id;if(r||!a||!a.length)return null;var f=this.state.isAnimationFinished,x=1===a.length,y=Rt("recharts-line",i),g=s&&s.allowDataOverflow,b=o&&o.allowDataOverflow,v=g||b,j=xa(m)?this.id:m,w=null!==(e=mi(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,k=void 0===N?3:N,S=w.strokeWidth,C=void 0===S?2:S,O=(function(e){return e&&"object"===ai(e)&&"clipDot"in e}(n)?n:{}).clipDot,E=void 0===O||O,P=2*k+C;return l.createElement(Fi,{className:y},g||b?l.createElement("defs",null,l.createElement("clipPath",{id:"clipPath-".concat(j)},l.createElement("rect",{x:g?u:u-d/2,y:b?c:c-p/2,width:g?d:2*d,height:b?p:2*p})),!E&&l.createElement("clipPath",{id:"clipPath-dots-".concat(j)},l.createElement("rect",{x:u-P/2,y:c-P/2,width:d+P,height:p+P}))):null,!x&&this.renderCurve(v,j),this.renderErrorBar(v,j),(x||n)&&this.renderDots(v,E,j),(!h||f)&&Xj.renderCallByParent(this.props,a))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(RP(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(RP(n),RP(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(l.isValidElement(e))r=l.cloneElement(e,t);else if(ja(e))r=e(t);else{var n=t.key,a=LP(t,DP),i=Rt("recharts-line-dot","boolean"!=typeof e?e.className:"");r=l.createElement(gk,zP({key:n},a,{className:i}))}return r}}],n&&UP(t.prototype,n),a&&UP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function KP(e){return KP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KP(e)}function JP(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nA(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZP(e,t,r){return t=eA(t),function(e,t){if(t&&("object"===KP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QP()?Reflect.construct(t,r||[],eA(e).constructor):t.apply(e,r))}function QP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(QP=function(){return!!e})()}function eA(e){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eA(e)}function tA(e,t){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tA(e,t)}function rA(e,t,r){return(t=nA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nA(e){var t=function(e,t){if("object"!=KP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=KP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==KP(t)?t:t+""}function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aA.apply(this,arguments)}function iA(e){var t=e.xAxisId,n=aE(),a=iE(),i=rE(t);return null==i?null:r.createElement(mP,aA({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return qv(e,!0)}}))}VP(YP,"displayName","Line"),VP(YP,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mp,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),VP(YP,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return BP({points:l.map(function(e,t){var l=Lv(e,s);return"horizontal"===u?{x:Zv({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:xa(l)?null:n.scale(l),value:l,payload:e}:{x:xa(l)?null:r.scale(l),y:Zv({axis:n,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var sA=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ZP(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tA(e,t)}(e,r.Component),JP(e,[{key:"render",value:function(){return r.createElement(iA,this.props)}}])}();function oA(e){return oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oA(e)}function lA(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mA(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cA(e,t,r){return t=dA(t),function(e,t){if(t&&("object"===oA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uA()?Reflect.construct(t,r||[],dA(e).constructor):t.apply(e,r))}function uA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uA=function(){return!!e})()}function dA(e){return dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dA(e)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pA(e,t)}function hA(e,t,r){return(t=mA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mA(e){var t=function(e,t){if("object"!=oA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=oA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==oA(t)?t:t+""}function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fA.apply(this,arguments)}rA(sA,"displayName","XAxis"),rA(sA,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var xA=function(e){var t=e.yAxisId,n=aE(),a=iE(),i=nE(t);return null==i?null:r.createElement(mP,fA({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return qv(e,!0)}}))},yA=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cA(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}(e,r.Component),lA(e,[{key:"render",value:function(){return r.createElement(xA,this.props)}}])}();function gA(e){return function(e){if(Array.isArray(e))return bA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}hA(yA,"displayName","YAxis"),hA(yA,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var vA,jA=function(e,t,r,n,a){var i=ui(e,vE),s=ui(e,ME),o=[].concat(gA(i),gA(s)),l=ui(e,HE),c="".concat(n,"Id"),u=n[0],d=t;if(o.length&&(d=o.reduce(function(e,t){if(t.props[c]===r&&HC(t.props,"extendDomain")&&$a(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},d)),l.length){var p="".concat(u,"1"),h="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===r&&HC(t.props,"extendDomain")&&$a(t.props[p])&&$a(t.props[h])){var n=t.props[p],a=t.props[h];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return $a(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},wA={exports:{}};var NA=(vA||(vA=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new a(n,i||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=new Array(i);a<i;a++)s[a]=n[a].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,i,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(wA)),wA.exports);var kA=new(o(NA)),SA="recharts.syncMouseEvents";function CA(e){return CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CA(e)}function OA(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PA(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EA(e,t,r){return(t=PA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PA(e){var t=function(e,t){if("object"!=CA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=CA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==CA(t)?t:t+""}var AA=function(){return OA(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),EA(this,"activeIndex",0),EA(this,"coordinateList",[]),EA(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+s+o,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function TA(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[fj(t,r,n,a),fj(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function MA(e,t,r){var n,a,i,s;if("horizontal"===e)i=n=t.x,a=r.top,s=r.top+r.height;else if("vertical"===e)s=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return TA(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=fj(o,l,c,d),h=fj(o,l,u,d);n=p.x,a=p.y,i=h.x,s=h.y}return[{x:n,y:a},{x:i,y:s}]}function IA(e){return IA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IA(e)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(t){LA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LA(e,t,r){var n;return n=function(e,t){if("object"!=IA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=IA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==IA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zA(e){var t,n,a,i=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,f=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!f||!o||!l||"ScatterChart"!==m&&"axis"!==s)return null;var x=bw;if("ScatterChart"===m)a=l,x=Ek;else if("BarChart"===m)a=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(h,l,u,p),x=lk;else if("radial"===h){var y=TA(l),g=y.cx,b=y.cy,v=y.radius;a={cx:g,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:v,outerRadius:v},x=nw}else a={points:MA(h,l,u)},x=bw;var j=_A(_A(_A(_A({stroke:"#ccc",pointerEvents:"none"},u),a),mi(f,!1)),{},{payload:c,payloadIndex:d,className:Rt("recharts-tooltip-cursor",f.className)});return r.isValidElement(f)?r.cloneElement(f,j):r.createElement(x,j)}var $A=["item"],BA=["children","className","width","height","style","compact","title","desc"];function RA(e){return(RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FA(){return FA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FA.apply(this,arguments)}function UA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||KA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qA(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HA(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WA(e,t,r){return t=VA(t),function(e,t){if(t&&("object"===RA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GA()?Reflect.construct(t,r||[],VA(e).constructor):t.apply(e,r))}function GA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GA=function(){return!!e})()}function VA(e){return(VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XA(e,t){return(XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YA(e){return function(e){if(Array.isArray(e))return JA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||KA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KA(e,t){if(e){if("string"==typeof e)return JA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JA(e,t):void 0}}function JA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(t){eT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eT(e,t,r){return(t=tT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tT(e){var t=function(e,t){if("object"!=RA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=RA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RA(t)?t:t+""}var rT={xAxis:["bottom","top"],yAxis:["left","right"]},nT={width:"100%",height:"100%"},aT={x:0,y:0};function iT(e){return e}var sT=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!=r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(YA(e),YA(r)):e},[]);return i.length>0?i:e&&e.length&&$a(n)&&$a(a)?e.slice(n,a+1):[]};function oT(e){return"number"===e?[0,"auto"]:void 0}var lT=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,s=sT(t,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(a,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=Wa(void 0===u?s:u,i.dataKey,n):c=u&&u[r]||s[r];return c?[].concat(YA(a),[sj(o,c)]):a},[])},cT=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(s<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(La(u-c)!==La(d-u)){var h=[];if(La(d-u)===La(o[1]-o[0])){p=d;var m=u+o[1]-o[0];h[0]=Math.min(m,(m+c)/2),h[1]=Math.max(m,(m+c)/2)}else{p=c;var f=d+o[1]-o[0];h[0]=Math.min(u,(f+u)/2),h[1]=Math.max(u,(f+u)/2)}var x=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){i=n[l].index;break}}else{var y=Math.min(c,d),g=Math.max(c,d);if(e>(y+u)/2&&e<=(g+u)/2){i=n[l].index;break}}}else for(var b=0;b<s;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){i=r[b].index;break}return i}(i,s,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,d=lT(e,t,c,u),p=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,s=n.radius;return QA(QA(QA({},n),fj(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,l=n.angle;return QA(QA(QA({},n),fj(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return aT}(r,s,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},uT=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,p=Fv(c,a);return r.reduce(function(t,r){var h,m=void 0!==r.type.defaultProps?QA(QA({},r.type.defaultProps),r.props):r.props,f=m.type,x=m.dataKey,y=m.allowDataOverflow,g=m.allowDuplicatedCategory,b=m.scale,v=m.ticks,j=m.includeHidden,w=m[i];if(t[w])return t;var N,k,S,C=sT(e.data,{graphicalItems:n.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w}),dataStartIndex:o,dataEndIndex:l}),O=C.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&$a(n)&&$a(a))return!0}return!1})(m.domain,y,f)&&(N=nj(m.domain,null,y),!p||"number"!==f&&"auto"===b||(S=zv(C,x,"category")));var E=oT(f);if(!N||0===N.length){var P,A=null!==(P=m.domain)&&void 0!==P?P:E;if(x){if(N=zv(C,x,f),"category"===f&&p){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);g&&T?(k=N,N=fC(0,O)):g||(N=ij(A,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(YA(e),[t])},[]))}else if("category"===f)N=g?N.filter(function(e){return""!==e&&!xa(e)}):ij(A,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||xa(t)?e:[].concat(YA(e),[t])},[]);else if("number"===f){var M=function(e,t,r,n,a){var i=t.map(function(t){return Bv(e,t,r,a,n)}).filter(function(e){return!xa(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,n.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),x,a,c);M&&(N=M)}!p||"number"!==f&&"auto"===b||(S=zv(C,x,"category"))}else N=p?fC(0,O):s&&s[w]&&s[w].hasStack&&"number"===f?"expand"===d?[0,1]:ej(s[w].stackGroups,o,l):Rv(C,n.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),f,c,!0);if("number"===f)N=jA(u,N,w,a,v),A&&(N=nj(A,N,y));else if("category"===f&&A){var I=A;N.every(function(e){return I.indexOf(e)>=0})&&(N=I)}}return QA(QA({},t),{},eT({},w,QA(QA({},m),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(h=m.domain)&&void 0!==h?h:E,isCategorical:p,layout:c})))},{})},dT=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=ui(c,a),p={};return d&&d.length?p=uT(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(p=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=sT(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),p=d.length,h=Fv(c,a),m=-1;return r.reduce(function(e,t){var f,x=(void 0!==t.type.defaultProps?QA(QA({},t.type.defaultProps),t.props):t.props)[i],y=oT("number");return e[x]?e:(m++,h?f=fC(0,p):s&&s[x]&&s[x].hasStack?(f=ej(s[x].stackGroups,o,l),f=jA(u,f,x,a)):(f=nj(y,Rv(d,r.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===x&&!a}),"number",c),n.defaultProps.allowDataOverflow),f=jA(u,f,x,a)),QA(QA({},e),{},eT({},x,QA(QA({axisType:a},n.defaultProps),{},{hide:!0,orientation:ha(rT,"".concat(a,".").concat(m%2),null),domain:f,originalDomain:y,isCategorical:h,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),p},pT=function(e){var t=e.children,r=e.defaultShowTooltip,n=di(t,zC),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},hT=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mT=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,s=void 0===i?{}:i,o=r.width,l=r.height,c=r.children,u=r.margin||{},d=di(c,zC),p=di(c,Wd),h=Object.keys(s).reduce(function(e,t){var r=s[t],n=r.orientation;return r.mirror||r.hide?e:QA(QA({},e),{},eT({},n,e[n]+r.width))},{left:u.left||0,right:u.right||0}),m=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:QA(QA({},e),{},eT({},n,ha(e,"".concat(n))+r.height))},{top:u.top||0,bottom:u.bottom||0}),f=QA(QA({},m),h),x=f.bottom;d&&(f.bottom+=d.props.height||zC.defaultProps.height),p&&t&&(f=function(e,t,r,n){var a=r.children,i=r.width,s=r.margin,o=i-(s.left||0)-(s.right||0),l=Pv({children:a,legendWidth:o});if(l){var c=n||{},u=c.width,d=c.height,p=l.align,h=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===h)&&"center"!==p&&$a(e[p]))return Dv(Dv({},e),{},_v({},p,e[p]+(u||0)));if(("horizontal"===m||"vertical"===m&&"center"===p)&&"middle"!==h&&$a(e[h]))return Dv(Dv({},e),{},_v({},h,e[h]+(d||0)))}return e}(f,0,r,t));var y=o-f.left-f.right,g=l-f.top-f.bottom;return QA(QA({brushBottom:x},f),{},{width:Math.max(y,0),height:Math.max(g,0)})},fT=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},xT=function(e){var t=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,s=e.validateTooltipEventTypes,o=void 0===s?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,s=t.dataStartIndex,o=t.dataEndIndex,l=e.barSize,u=e.layout,d=e.barGap,p=e.barCategoryGap,h=e.maxBarSize,m=hT(u),f=m.numericAxisName,x=m.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=si(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),g=[];return r.forEach(function(r,m){var b=sT(e.data,{graphicalItems:[r],dataStartIndex:s,dataEndIndex:o}),v=void 0!==r.type.defaultProps?QA(QA({},r.type.defaultProps),r.props):r.props,j=v.dataKey,w=v.maxBarSize,N=v["".concat(f,"Id")],k=v["".concat(x,"Id")],S=c.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=v["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||uv();var i=n[a];return QA(QA({},e),{},eT(eT({},r.axisType,i),"".concat(r.axisType,"Ticks"),qv(i)))},{}),C=S[x],O=S["".concat(x,"Ticks")],E=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?Dv(Dv({},e.type.defaultProps),e.props):e.props).stackId;if(Ba(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[N].stackGroups),P=si(r.type).indexOf("Bar")>=0,A=aj(C,O),T=[],M=y&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},s=Object.keys(a),o=0,l=s.length;o<l;o++)for(var c=a[s[o]].stackGroups,u=Object.keys(c),d=0,p=u.length;d<p;d++){var h=c[u[d]],m=h.items,f=h.cateAxisId,x=m.filter(function(e){return si(e.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,g=void 0!==y?Dv(Dv({},y),x[0].props):x[0].props,b=g.barSize,v=g[f];i[v]||(i[v]=[]);var j=xa(b)?t:b;i[v].push({item:x[0],stackList:x.slice(1),barSize:xa(j)?void 0:Ua(j,r,0)})}}return i}({barSize:l,stackGroups:n,totalSize:fT(S,x)});if(P){var I,D,_=xa(w)?h:w,L=null!==(I=null!==(D=aj(C,O,!0))&&void 0!==D?D:_)&&void 0!==I?I:0;T=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=Ua(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,p=n/o,h=i.reduce(function(e,t){return e+t.barSize||0},0);(h+=(o-1)*c)>=n&&(h-=(o-1)*c,c=0),h>=n&&p>0&&(d=!0,h=o*(p*=.9));var m={offset:((n-h)/2|0)-c,size:0};l=i.reduce(function(e,t){var r={item:t.item,position:{offset:m.offset+m.size+c,size:d?p:t.barSize}},n=[].concat(Tv(e),[r]);return m=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:m})}),n},u)}else{var f=Ua(r,n,0,!0);n-2*f-(o-1)*c<=0&&(c=0);var x=(n-2*f-(o-1)*c)/o;x>1&&(x>>=0);var y=s===+s?Math.min(x,s):x;l=i.reduce(function(e,t,r){var n=[].concat(Tv(e),[{item:t.item,position:{offset:f+(x+c)*r+(x-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},u)}return l}({barGap:d,barCategoryGap:p,bandSize:L!==A?L:A,sizeList:M[k],maxBarSize:_}),L!==A&&(T=T.map(function(e){return QA(QA({},e),{},{position:QA(QA({},e.position),{},{offset:e.position.offset-L/2})})}))}var z,$,B=r&&r.type&&r.type.getComposedData;B&&g.push({props:QA(QA({},B(QA(QA({},S),{},{displayedData:b,props:e,dataKey:j,item:r,bandSize:A,barPosition:T,offset:a,stackedData:E,layout:u,dataStartIndex:s,dataEndIndex:o}))),{},eT(eT(eT({key:r.key||"item-".concat(m)},f,S[f]),x,S[x]),"animationId",i)),childIndex:(z=r,$=e.children,ci($).indexOf(z)),item:r})}),g},m=function(e,r){var a=e.props,i=e.dataStartIndex,s=e.dataEndIndex,o=e.updateId;if(!pi({props:a}))return null;var l=a.children,u=a.layout,p=a.stackOffset,m=a.data,f=a.reverseStackOrder,x=hT(u),y=x.numericAxisName,g=x.cateAxisName,b=ui(l,n),v=function(e,t,r,n,a,i){if(!e)return null;var s=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Dv(Dv({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(Ba(s)){var c=l.stackGroups[s]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[Fa("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return Dv(Dv({},e),{},_v({},o,l))},{});return Object.keys(s).reduce(function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,i){var s=o.stackGroups[i];return Dv(Dv({},t),{},_v({},i,{numericAxisId:r,cateAxisId:n,items:s.items,stackedData:Kv(e,s.items,a)}))},{})),Dv(Dv({},t),{},_v({},i,o))},{})}(m,b,"".concat(y,"Id"),"".concat(g,"Id"),p,f),j=c.reduce(function(e,t){var r="".concat(t.axisType,"Map");return QA(QA({},e),{},eT({},r,dT(a,QA(QA({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&v,dataStartIndex:i,dataEndIndex:s}))))},{}),w=mT(QA(QA({},j),{},{props:a,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(j).forEach(function(e){j[e]=d(a,j[e],w,e.replace("Map",""),t)});var N,k,S=j["".concat(g,"Map")],C=(N=qa(S),{tooltipTicks:k=qv(N,!1,!0),orderedTooltipTicks:ip(k,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:aj(N,k)}),O=h(a,QA(QA({},j),{},{dataStartIndex:i,dataEndIndex:s,updateId:o,graphicalItems:b,stackGroups:v,offset:w}));return QA(QA({formattedGraphicalItems:O,graphicalItems:b,offset:w,stackGroups:v},C),j)},f=function(){function e(n){var a,i,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eT(s=WA(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),eT(s,"accessibilityManager",new AA),eT(s,"handleLegendBBoxUpdate",function(e){if(e){var t=s.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;s.setState(QA({legendBBox:e},m({props:s.props,dataStartIndex:r,dataEndIndex:n,updateId:a},QA(QA({},s.state),{},{legendBBox:e}))))}}),eT(s,"handleReceiveSyncEvent",function(e,t,r){if(s.props.syncId===e){if(r===s.eventEmitterSymbol&&"function"!=typeof s.props.syncMethod)return;s.applySyncEvent(t)}}),eT(s,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==s.state.dataStartIndex||r!==s.state.dataEndIndex){var n=s.state.updateId;s.setState(function(){return QA({dataStartIndex:t,dataEndIndex:r},m({props:s.props,dataStartIndex:t,dataEndIndex:r,updateId:n},s.state))}),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),eT(s,"handleMouseEnter",function(e){var t=s.getMouseInfo(e);if(t){var r=QA(QA({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseEnter;ja(n)&&n(r,e)}}),eT(s,"triggeredAfterMouseMove",function(e){var t=s.getMouseInfo(e),r=t?QA(QA({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseMove;ja(n)&&n(r,e)}),eT(s,"handleItemMouseEnter",function(e){s.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),eT(s,"handleItemMouseLeave",function(){s.setState(function(){return{isTooltipActive:!1}})}),eT(s,"handleMouseMove",function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)}),eT(s,"handleMouseLeave",function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var r=s.props.onMouseLeave;ja(r)&&r(t,e)}),eT(s,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&ii[t]?ii[t]:null}(e),n=ha(s.props,"".concat(r));r&&ja(n)&&n(null!==(t=/.*touch.*/i.test(r)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)}),eT(s,"handleClick",function(e){var t=s.getMouseInfo(e);if(t){var r=QA(QA({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onClick;ja(n)&&n(r,e)}}),eT(s,"handleMouseDown",function(e){var t=s.props.onMouseDown;ja(t)&&t(s.getMouseInfo(e),e)}),eT(s,"handleMouseUp",function(e){var t=s.props.onMouseUp;ja(t)&&t(s.getMouseInfo(e),e)}),eT(s,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),eT(s,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])}),eT(s,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])}),eT(s,"handleDoubleClick",function(e){var t=s.props.onDoubleClick;ja(t)&&t(s.getMouseInfo(e),e)}),eT(s,"handleContextMenu",function(e){var t=s.props.onContextMenu;ja(t)&&t(s.getMouseInfo(e),e)}),eT(s,"triggerSyncEvent",function(e){void 0!==s.props.syncId&&kA.emit(SA,s.props.syncId,e,s.eventEmitterSymbol)}),eT(s,"applySyncEvent",function(e){var t=s.props,r=t.layout,n=t.syncMethod,a=s.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(QA({dataStartIndex:i,dataEndIndex:o},m({props:s.props,dataStartIndex:i,dataEndIndex:o,updateId:a},s.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=s.state,p=d.offset,h=d.tooltipTicks;if(!p)return;if("function"==typeof n)u=n(h,e);else if("value"===n){u=-1;for(var f=0;f<h.length;f++)if(h[f].value===e.activeLabel){u=f;break}}var x=QA(QA({},p),{},{x:p.left,y:p.top}),y=Math.min(l,x.x+x.width),g=Math.min(c,x.y+x.height),b=h[u]&&h[u].value,v=lT(s.state,s.props.data,u),j=h[u]?{x:"horizontal"===r?h[u].coordinate:y,y:"horizontal"===r?g:h[u].coordinate}:aT;s.setState(QA(QA({},e),{},{activeLabel:b,activeCoordinate:j,activePayload:v,activeTooltipIndex:u}))}else s.setState(e)}),eT(s,"renderCursor",function(e){var r,n=s.state,a=n.isTooltipActive,i=n.activeCoordinate,o=n.activePayload,c=n.offset,u=n.activeTooltipIndex,d=n.tooltipAxisBandSize,p=s.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:a,m=s.props.layout,f=e.key||"_recharts-cursor";return l.createElement(zA,{key:f,activeCoordinate:i,activePayload:o,activeTooltipIndex:u,chartName:t,element:e,isActive:h,layout:m,offset:c,tooltipAxisBandSize:d,tooltipEventType:p})}),eT(s,"renderPolarAxis",function(e,t,n){var a=ha(e,"type.axisType"),i=ha(s.state,"".concat(a,"Map")),o=e.type.defaultProps,l=void 0!==o?QA(QA({},o),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return r.cloneElement(e,QA(QA({},c),{},{className:Rt(a,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:qv(c,!0)}))}),eT(s,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,a=t.polarAngles,i=t.polarRadius,o=s.state,l=o.radiusAxisMap,c=o.angleAxisMap,u=qa(l),d=qa(c),p=d.cx,h=d.cy,m=d.innerRadius,f=d.outerRadius;return r.cloneElement(e,{polarAngles:Array.isArray(a)?a:qv(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:qv(u,!0).map(function(e){return e.coordinate}),cx:p,cy:h,innerRadius:m,outerRadius:f,key:e.key||"polar-grid",radialLines:n})}),eT(s,"renderLegend",function(){var e=s.state.formattedGraphicalItems,t=s.props,n=t.children,a=t.width,i=t.height,o=s.props.margin||{},l=a-(o.left||0)-(o.right||0),c=Pv({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var d=c.item,p=qA(c,$A);return r.cloneElement(d,QA(QA({},p),{},{chartWidth:a,chartHeight:i,margin:o,onBBoxUpdate:s.handleLegendBBoxUpdate}))}),eT(s,"renderTooltip",function(){var e,t=s.props,n=t.children,a=t.accessibilityLayer,i=di(n,rh);if(!i)return null;var o=s.state,l=o.isTooltipActive,c=o.activeCoordinate,u=o.activePayload,d=o.activeLabel,p=o.offset,h=null!==(e=i.props.active)&&void 0!==e?e:l;return r.cloneElement(i,{viewBox:QA(QA({},p),{},{x:p.left,y:p.top}),active:h,label:d,payload:h?u:[],coordinate:c,accessibilityLayer:a})}),eT(s,"renderBrush",function(e){var t=s.props,n=t.margin,a=t.data,i=s.state,o=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return r.cloneElement(e,{key:e.key||"_recharts-brush",onChange:Wv(s.handleBrushChange,e.props.onChange),data:a,x:$a(e.props.x)?e.props.x:o.left,y:$a(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(n.bottom||0),width:$a(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),eT(s,"renderReferenceElement",function(e,t,n){if(!e)return null;var a=s.clipPathId,i=s.state,o=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,p=d.xAxisId,h=void 0===p?u.xAxisId:p,m=d.yAxisId,f=void 0===m?u.yAxisId:m;return r.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:o[h],yAxis:l[f],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),eT(s,"renderActivePoints",function(t){var r=t.item,n=t.activePoint,a=t.basePoint,i=t.childIndex,s=t.isRange,o=[],l=r.props.key,c=void 0!==r.item.type.defaultProps?QA(QA({},r.item.type.defaultProps),r.item.props):r.item.props,u=c.activeDot,d=QA(QA({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:$v(r.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},mi(u,!1)),Qa(u));return o.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?o.push(e.renderActiveDot(u,QA(QA({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o}),eT(s,"renderGraphicChild",function(e,t,n){var a=s.filterFormatItem(e,t,n);if(!a)return null;var i=s.getTooltipEventType(),o=s.state,l=o.isTooltipActive,c=o.tooltipAxis,u=o.activeTooltipIndex,d=o.activeLabel,p=di(s.props.children,rh),h=a.props,m=h.points,f=h.isRange,x=h.baseLine,y=void 0!==a.item.type.defaultProps?QA(QA({},a.item.type.defaultProps),a.item.props):a.item.props,g=y.activeDot,b=y.hide,v=y.activeBar,j=y.activeShape,w=Boolean(!b&&l&&p&&(g||v||j)),N={};"axis"!==i&&p&&"click"===p.props.trigger?N={onClick:Wv(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:Wv(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Wv(s.handleItemMouseEnter,e.props.onMouseEnter)});var k=r.cloneElement(e,QA(QA({},a.props),N));if(w){if(!(u>=0)){var S,C=(null!==(S=s.getItemByXY(s.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,O=C.item,E=void 0===O?e:O,P=C.childIndex,A=QA(QA(QA({},a.props),N),{},{activeIndex:P});return[r.cloneElement(E,A),null,null]}var T,M;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());T=Wa(m,I,d),M=f&&x&&Wa(x,I,d)}else T=null==m?void 0:m[u],M=f&&x&&x[u];if(j||v){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[r.cloneElement(e,QA(QA(QA({},a.props),N),{},{activeIndex:D})),null,null]}if(!xa(T))return[k].concat(YA(s.renderActivePoints({item:a,activePoint:T,basePoint:M,childIndex:u,isRange:f})))}return f?[k,null,null]:[k,null]}),eT(s,"renderCustomized",function(e,t,n){return r.cloneElement(e,QA(QA({key:"recharts-customized-".concat(n)},s.props),s.state))}),eT(s,"renderMap",{CartesianGrid:{handler:iT,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:iT},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:iT},YAxis:{handler:iT},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(a=n.id)&&void 0!==a?a:Fa("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=oh(s.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),s.state={},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XA(e,t)}(e,r.Component),HA(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=di(t,rh);if(i){var s=i.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=lT(this.state,r,s,o),c=this.state.tooltipTicks[s].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},p=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});p&&(d=QA(QA({},d),p.props.points[s].tooltipPosition),l=p.props.points[s].tooltipPayload);var h={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:d};this.setState(h),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var r,n;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}});return null}},{key:"componentDidUpdate",value:function(e){fi([di(e.children,rh)],[di(this.props.children,rh)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=di(this.props.children,rh);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},s=n.width/r.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),p=cT(this.state,this.props.data,this.props.layout,o);if("axis"!==d&&c&&u){var h=qa(c).scale,m=qa(u).scale,f=h&&h.invert?h.invert(i.chartX):null,x=m&&m.invert?m.invert(i.chartY):null;return QA(QA({},i),{},{xValue:f,yValue:x},p)}return p?QA(QA({},i),p):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var s=this.state.offset;return a>=s.left&&a<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:a,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=qa(l);return bj({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=di(e,rh),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),QA(QA({},Qa(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){kA.on(SA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kA.removeListener(SA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var s=n[a];if(s.item===e||s.props.key===e.key||t===si(s.item.type)&&r===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return l.createElement("defs",null,l.createElement("clipPath",{id:e},l.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=UA(t,2),n=r[0],a=r[1];return QA(QA({},e),{},eT({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=UA(t,2),n=r[0],a=r[1];return QA(QA({},e),{},eT({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var s=r[a],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?QA(QA({},l.type.defaultProps),l.props):l.props,u=si(l.type);if("Bar"===u){var d=(o.data||[]).find(function(t){return sk(e,t)});if(d)return{graphicalItem:s,payload:d}}else if("RadialBar"===u){var p=(o.data||[]).find(function(t){return bj(e,t)});if(p)return{graphicalItem:s,payload:p}}else if(BS(s,n)||RS(s,n)||FS(s,n)){var h=WS({graphicalItem:s,activeTooltipItem:n,itemData:c.data}),m=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:QA(QA({},s),{},{childIndex:m}),payload:FS(s,n)?c.data[h]:s.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!pi(this))return null;var t,r,n=this.props,a=n.children,i=n.className,s=n.width,o=n.height,c=n.style,u=n.compact,d=n.title,p=n.desc,h=qA(n,BA),m=mi(h,!1);if(u)return l.createElement(tE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},l.createElement(ji,FA({},m,{width:s,height:o,title:d,desc:p}),this.renderClipPath(),yi(a,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,m.role=null!==(r=this.props.role)&&void 0!==r?r:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return l.createElement(tE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},l.createElement("div",FA({className:Rt("recharts-wrapper",i),style:QA({position:"relative",cursor:"default",width:s,height:o},c)},f,{ref:function(t){e.container=t}}),l.createElement(ji,FA({},m,{width:s,height:o,title:d,desc:p,style:nT}),this.renderClipPath(),yi(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();eT(f,"displayName",t),eT(f,"defaultProps",QA({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),eT(f,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var p=pT(e);return QA(QA(QA({},p),{},{updateId:0},m(QA(QA({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!Va(c,t.prevMargin)){var h=pT(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},x=QA(QA({},cT(t,n,o)),{},{updateId:t.updateId+1}),y=QA(QA(QA({},h),f),x);return QA(QA(QA({},y),m(QA({props:e},y),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!fi(a,t.prevChildren)){var g,b,v,j,w=di(a,zC),N=w&&null!==(g=null===(b=w.props)||void 0===b?void 0:b.startIndex)&&void 0!==g?g:u,k=w&&null!==(v=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==v?v:d,S=N!==u||k!==d,C=!xa(n)&&!S?t.updateId:t.updateId+1;return QA(QA({updateId:C},m(QA(QA({props:e},t),{},{updateId:C,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:k})}return null}),eT(f,"renderActiveDot",function(e,t,n){var a;return a=r.isValidElement(e)?r.cloneElement(e,t):ja(e)?e(t):l.createElement(gk,t),l.createElement(Fi,{className:"recharts-active-dot",key:n},a)});var x=r.forwardRef(function(e,t){return l.createElement(f,FA({},e,{ref:t}))});return x.displayName=f.displayName,x},yT=xT({chartName:"LineChart",GraphicalChild:YP,axisComponents:[{axisType:"xAxis",AxisComp:sA},{axisType:"yAxis",AxisComp:yA}],formatAxisMap:MO}),gT=xT({chartName:"BarChart",GraphicalChild:SO,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sA},{axisType:"yAxis",AxisComp:yA}],formatAxisMap:MO}),bT=xT({chartName:"PieChart",GraphicalChild:dC,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hS},{axisType:"radiusAxis",AxisComp:Yk}],formatAxisMap:function(e,t,r,n,a){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=Ua(e.cx,i,i/2),u=Ua(e.cy,s,s/2),d=xj(i,s,r),p=Ua(e.innerRadius,d,0),h=Ua(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,r){var i,s=t[r],d=s.domain,m=s.reversed;if(xa(s.range))"angleAxis"===n?i=[o,l]:"radiusAxis"===n&&(i=[p,h]),m&&(i=[i[1],i[0]]);else{var f=dj(i=s.range,2);o=f[0],l=f[1]}var x=Gv(s,a),y=x.realScaleType,g=x.scale;g.domain(d).range(i),Xv(g);var b=Jv(g,cj(cj({},s),{},{realScaleType:y})),v=cj(cj(cj({},s),b),{},{range:i,radius:h,realScaleType:y,scale:g,cx:c,cy:u,innerRadius:p,outerRadius:h,startAngle:o,endAngle:l});return cj(cj({},e),{},uj({},r,v))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const vT=["#9333ea","#ec4899","#8b5cf6","#d946ef","#a855f7","#c026d3"];function jT(){const[t,n]=r.useState(null),[a,i]=r.useState(!0),[s,o]=r.useState("30d");r.useEffect(()=>{l()},[s]);const l=async()=>{try{i(!0);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/analytics?range=${s}`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&n(t.analytics)}catch(e){}finally{i(!1)}};return a?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-400",children:"Track your store's performance and insights"})]}),e.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(wT,{title:"Total Revenue",value:`‚Çπ${t.totalRevenue.toLocaleString()}`,icon:V,growth:t.revenueGrowth,color:"purple"}),e.jsx(wT,{title:"Total Orders",value:t.totalOrders.toString(),icon:Ie,growth:t.ordersGrowth,color:"pink"}),e.jsx(wT,{title:"Total Customers",value:t.totalCustomers.toString(),icon:We,color:"purple"}),e.jsx(wT,{title:"Avg Order Value",value:`‚Çπ${t.averageOrderValue.toLocaleString()}`,icon:ye,color:"pink"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Revenue & Orders Trend"}),e.jsx(mh,{width:"100%",height:300,children:e.jsxs(yT,{data:t.revenueByMonth,children:[e.jsx(MP,{strokeDasharray:"3 3",stroke:"#444"}),e.jsx(sA,{dataKey:"month",stroke:"#888"}),e.jsx(yA,{yAxisId:"left",stroke:"#888"}),e.jsx(yA,{yAxisId:"right",orientation:"right",stroke:"#888"}),e.jsx(rh,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #9333ea"},labelStyle:{color:"#fff"}}),e.jsx(Wd,{}),e.jsx(YP,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#9333ea",strokeWidth:2,name:"Revenue (‚Çπ)"}),e.jsx(YP,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"#ec4899",strokeWidth:2,name:"Orders"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Sales by Category"}),e.jsx(mh,{width:"100%",height:300,children:e.jsxs(bT,{children:[e.jsx(dC,{data:t.salesByCategory,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.salesByCategory.map((t,r)=>e.jsx(fh,{fill:vT[r%vT.length]},`cell-${r}`))}),e.jsx(rh,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #9333ea"}})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Orders by Status"}),e.jsx(mh,{width:"100%",height:300,children:e.jsxs(gT,{data:t.ordersByStatus,children:[e.jsx(MP,{strokeDasharray:"3 3",stroke:"#444"}),e.jsx(sA,{dataKey:"status",stroke:"#888"}),e.jsx(yA,{stroke:"#888"}),e.jsx(rh,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #9333ea"}}),e.jsx(SO,{dataKey:"count",fill:"#9333ea"})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Top Selling Products"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-purple-500/30",children:[e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Product"}),e.jsx("th",{className:"text-right text-gray-400 py-3 px-4",children:"Sales"}),e.jsx("th",{className:"text-right text-gray-400 py-3 px-4",children:"Revenue"})]})}),e.jsx("tbody",{children:t.topProducts.map((t,r)=>e.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[e.jsx("td",{className:"text-white py-3 px-4",children:t.name}),e.jsx("td",{className:"text-gray-300 py-3 px-4 text-right",children:t.sales}),e.jsxs("td",{className:"text-gray-300 py-3 px-4 text-right",children:["‚Çπ",t.revenue.toLocaleString()]})]},r))})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Customer Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"New Customers"}),e.jsx("p",{className:"text-white text-2xl",children:t.customerInsights.newCustomers})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"Returning Customers"}),e.jsx("p",{className:"text-white text-2xl",children:t.customerInsights.returningCustomers})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"Avg Lifetime Value"}),e.jsxs("p",{className:"text-white text-2xl",children:["‚Çπ",t.customerInsights.averageLifetimeValue.toLocaleString()]})]})]})]})]}):e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-400",children:"Failed to load analytics data"})})}function wT({title:t,value:r,icon:n,growth:a,color:i}){const s="purple"===i?"from-purple-600 to-purple-700":"from-pink-600 to-pink-700";return e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${s} rounded-lg flex items-center justify-center`,children:e.jsx(n,{className:"w-6 h-6 text-white"})}),void 0!==a&&e.jsxs("div",{className:"flex items-center gap-1 text-sm "+(a>=0?"text-green-400":"text-red-400"),children:[a>=0?e.jsx(T,{className:"w-4 h-4"}):e.jsx(E,{className:"w-4 h-4"}),Math.abs(a),"%"]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:t}),e.jsx("p",{className:"text-white text-2xl",children:r})]})}function NT(){const[t,n]=r.useState([]),[a,i]=r.useState(!0),[s,o]=r.useState({criticalThreshold:5,warningThreshold:10,emailNotifications:!0});r.useEffect(()=>{l(),c()},[]);const l=async()=>{try{i(!0);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/inventory-alerts`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&n(t.alerts)}catch(e){}finally{i(!1)}},c=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/inventory-settings`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&t.settings&&o(t.settings)}catch(e){}},u=e=>{switch(e){case"critical":return"border-red-500 bg-red-900/20";case"warning":return"border-yellow-500 bg-yellow-900/20";default:return"border-purple-500 bg-purple-900/20"}},d=t=>{switch(t){case"critical":return e.jsx(Fe,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(Be,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(ye,{className:"w-5 h-5 text-purple-500"})}};if(a)return e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})});const p=t.filter(e=>"critical"===e.severity),h=t.filter(e=>"warning"===e.severity);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Inventory Alerts"}),e.jsx("p",{className:"text-gray-400",children:"Monitor low stock products and set restock reminders"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-white mb-4 flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Alert Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Critical Threshold"}),e.jsx("input",{type:"number",value:s.criticalThreshold,onChange:e=>o({...s,criticalThreshold:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"1"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Alert when stock ‚â§ this value"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Warning Threshold"}),e.jsx("input",{type:"number",value:s.warningThreshold,onChange:e=>o({...s,warningThreshold:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"1"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Warning when stock ‚â§ this value"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/inventory-settings`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify(s)});(await e.json()).success&&(alert("Settings updated successfully!"),l())}catch(e){alert("Failed to update settings")}},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-2 rounded-lg transition-all",children:"Save Settings"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-900/20 to-black border border-red-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Fe,{className:"w-6 h-6 text-red-500"}),e.jsx("h3",{className:"text-white",children:"Critical"})]}),e.jsx("p",{className:"text-3xl text-white",children:p.length}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Products out of stock or very low"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-black border border-yellow-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Be,{className:"w-6 h-6 text-yellow-500"}),e.jsx("h3",{className:"text-white",children:"Warning"})]}),e.jsx("p",{className:"text-3xl text-white",children:h.length}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Products running low"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ye,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-white",children:"Total Alerts"})]}),e.jsx("p",{className:"text-3xl text-white",children:t.length}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Active inventory alerts"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Low Stock Products"}),0===t.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"All products are well stocked! üéâ"})]}):e.jsx("div",{className:"space-y-4",children:t.map((t,r)=>e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},className:`border rounded-xl p-4 ${u(t.severity)}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:t.image,alt:t.productName,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(t.severity),e.jsx("h3",{className:"text-white",children:t.productName})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-white text-2xl mb-1",children:t.currentStock}),e.jsx("p",{className:"text-gray-400 text-sm",children:"units left"})]}),e.jsxs("div",{className:"ml-4",children:["critical"===t.severity&&e.jsx("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm",children:"Restock Now"}),"warning"===t.severity&&e.jsx("span",{className:"bg-yellow-600 text-white px-3 py-1 rounded-full text-sm",children:"Low Stock"})]})]})},t.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>{const e=p.map(e=>e.productName).join(", ");navigator.clipboard.writeText(e),alert("Critical products copied to clipboard!")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors",disabled:0===p.length,children:"Copy Critical Products"}),e.jsx("button",{onClick:()=>{const e=t.map(e=>`${e.productName}: ${e.currentStock} units (${e.severity})`).join("\n");navigator.clipboard.writeText(e),alert("Full report copied to clipboard!")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors",disabled:0===t.length,children:"Export Alert Report"})]})]})]})}function kT(){const[t,n]=r.useState(!1),[a,i]=r.useState(null),[s,o]=r.useState("add");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Bulk Operations"}),e.jsx("p",{className:"text-gray-400",children:"Import or export products in bulk using CSV files"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white",children:"CSV Template"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Download sample format"})]})]}),e.jsxs("button",{onClick:()=>{const e=new Blob(["name,description,price,category,subcategory,image,stock\nExample Figure,Premium anime figure,2499,figures,Naruto,https://example.com/image.jpg,50\nExample Katana,Authentic replica sword,4999,katana,Demon Slayer,https://example.com/image2.jpg,25"],{type:"text/csv"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="products_template.csv",r.click(),window.URL.revokeObjectURL(t)},className:"w-full bg-purple-600 hover:bg-purple-700 px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),"Download Template"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-600 to-pink-700 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white",children:"Export Products"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Download current products"})]})]}),e.jsxs("button",{onClick:async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products/export-csv`,{headers:{Authorization:`Bearer ${st}`}});if(e.ok){const t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`products_export_${(new Date).toISOString().split("T")[0]}.csv`,n.click(),window.URL.revokeObjectURL(r)}else alert("Failed to export products")}catch(e){alert("Failed to export products")}},className:"w-full bg-pink-600 hover:bg-pink-700 px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),"Export to CSV"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Import Products"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-300 mb-3",children:"Operation Type"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"add",checked:"add"===s,onChange:e=>o(e.target.value),className:"text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-white",children:"Add New Products"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"update",checked:"update"===s,onChange:e=>o(e.target.value),className:"text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-white",children:"Update Existing Products"})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"add"===s?"All products in the CSV will be added as new products":"Products will be matched by name and updated. New products will be skipped."})]}),e.jsxs("div",{className:"border-2 border-dashed border-purple-500/30 rounded-xl p-8 text-center hover:border-purple-500/50 transition-colors",children:[e.jsx("input",{type:"file",accept:".csv",onChange:async e=>{const t=e.target.files?.[0];if(t)if(t.name.endsWith(".csv")){n(!0),i(null);try{const e=new FormData;e.append("file",t),e.append("operation",s);const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products/bulk-import`,{method:"POST",headers:{Authorization:`Bearer ${st}`},body:e}),n=await r.json();n.success?i(n.result):alert("Failed to process file: "+n.error)}catch(r){alert("Failed to upload file")}finally{n(!1)}}else alert("Please upload a CSV file")},className:"hidden",id:"csv-upload",disabled:t}),e.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t?e.jsx(oe,{className:"w-16 h-16 text-purple-500 mx-auto mb-4 animate-spin"}):e.jsx(qe,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-white mb-2",children:t?"Processing...":"Click to upload CSV file"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop your CSV file here"})]})]}),a&&e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.success?e.jsx(U,{className:"w-6 h-6 text-green-500"}):e.jsx(F,{className:"w-6 h-6 text-red-500"}),e.jsx("h3",{className:"text-white",children:"Import Results"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-green-400 text-sm mb-1",children:"Processed"}),e.jsx("p",{className:"text-white text-2xl",children:a.processed})]}),e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-400 text-sm mb-1",children:"Failed"}),e.jsx("p",{className:"text-white text-2xl",children:a.failed})]})]}),a.errors.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"Errors:"}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 max-h-60 overflow-y-auto",children:a.errors.map((t,r)=>e.jsxs("div",{className:"text-red-400 text-sm mb-2",children:["Row ",t.row,": ",t.error]},r))})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-4",children:"CSV Format Instructions"}),e.jsxs("div",{className:"space-y-3 text-gray-400",children:[e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"Required columns:"})," name, description, price, category, subcategory, image, stock"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"name:"})," Product name (required)"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"description:"})," Product description (required)"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"price:"})," Price in rupees (number only, e.g., 2499)"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"category:"})," figures, katana, accessories, posters, clothing, collectibles"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"subcategory:"})," Subcategory name (e.g., Naruto, One Piece)"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"image:"})," Full URL to product image"]}),e.jsxs("p",{children:["‚Ä¢ ",e.jsx("strong",{className:"text-white",children:"stock:"})," Number of units available"]}),e.jsx("p",{className:"text-purple-400",children:"üí° Tip: Download the template or export existing products to see the exact format"})]})]})]})}function ST(){const[t,n]=r.useState([]),[a,i]=r.useState([]),[s,o]=r.useState(!0),[l,c]=r.useState(!1),[u,d]=r.useState({subject:"",content:"",htmlContent:"",scheduledFor:""}),[p,h]=r.useState(null),[m,x]=r.useState("campaigns");r.useEffect(()=>{y(),g()},[]);const y=async()=>{try{o(!0);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/newsletters`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&n(t.newsletters)}catch(e){}finally{o(!1)}},g=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/newsletter-subscribers`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&i(t.subscribers)}catch(e){}},b=a.filter(e=>"active"===e.status);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Newsletter & Email Campaigns"}),e.jsx("p",{className:"text-gray-400",children:"Send promotional emails to your customers"})]}),!l&&"campaigns"===m&&e.jsxs("button",{onClick:()=>{c(!0),h(null),d({subject:"",content:"",htmlContent:"",scheduledFor:""})},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(we,{className:"w-5 h-5"}),"Create Campaign"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(We,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-white",children:"Subscribers"})]}),e.jsx("p",{className:"text-3xl text-white",children:b.length}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Active subscribers"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ue,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-white",children:"Campaigns"})]}),e.jsx("p",{className:"text-3xl text-white",children:t.filter(e=>"sent"===e.status).length}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Emails sent"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(L,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-white",children:"Scheduled"})]}),e.jsx("p",{className:"text-3xl text-white",children:t.filter(e=>"scheduled"===e.status).length}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Upcoming campaigns"})]})]}),e.jsxs("div",{className:"flex gap-4 border-b border-purple-900/30",children:[e.jsxs("button",{onClick:()=>x("campaigns"),className:"px-6 py-3 flex items-center gap-2 transition-all border-b-2 "+("campaigns"===m?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ue,{className:"w-5 h-5"}),"Campaigns"]}),e.jsxs("button",{onClick:()=>x("subscribers"),className:"px-6 py-3 flex items-center gap-2 transition-all border-b-2 "+("subscribers"===m?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(We,{className:"w-5 h-5"}),"Subscribers"]})]}),"campaigns"===m&&e.jsx(e.Fragment,{children:l?e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-white mb-6",children:[p?"Edit":"Create"," Campaign"]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=p?`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/newsletters/${p}`:`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/newsletters`,t=await fetch(e,{method:p?"PUT":"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify(u)});(await t.json()).success&&(d({subject:"",content:"",htmlContent:"",scheduledFor:""}),h(null),c(!1),y(),alert("Newsletter saved successfully!"))}catch(t){alert("Failed to save newsletter")}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaignSubject",className:"block text-gray-300 mb-2",children:"Subject Line"}),e.jsx("input",{id:"campaignSubject",name:"campaignSubject",type:"text",value:u.subject,onChange:e=>d({...u,subject:e.target.value}),required:!0,placeholder:"e.g., New arrivals this week!",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaignContent",className:"block text-gray-300 mb-2",children:"Plain Text Content"}),e.jsx("textarea",{id:"campaignContent",name:"campaignContent",value:u.content,onChange:e=>d({...u,content:e.target.value}),required:!0,rows:6,placeholder:"Plain text version of your email...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaignHtmlContent",className:"block text-gray-300 mb-2",children:"HTML Content (Optional)"}),e.jsx("textarea",{id:"campaignHtmlContent",name:"campaignHtmlContent",value:u.htmlContent,onChange:e=>d({...u,htmlContent:e.target.value}),rows:6,placeholder:"HTML version for rich formatting...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500 font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaignScheduledFor",className:"block text-gray-300 mb-2",children:"Schedule For (Optional)"}),e.jsx("input",{id:"campaignScheduledFor",name:"campaignScheduledFor",type:"datetime-local",value:u.scheduledFor,onChange:e=>d({...u,scheduledFor:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Leave empty to save as draft"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-2 rounded-lg transition-all",children:[p?"Update":"Save"," Campaign"]}),e.jsx("button",{type:"button",onClick:()=>{c(!1),h(null)},className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}):e.jsx("div",{className:"space-y-4",children:0===t.length?e.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl",children:[e.jsx(ue,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No campaigns yet. Create your first one!"})]}):t.map((t,r)=>e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-white text-lg",children:t.subject}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm "+("sent"===t.status?"bg-green-600":"scheduled"===t.status?"bg-blue-600":"bg-gray-600"),children:t.status})]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:[t.content.substring(0,100),"..."]}),t.sentAt&&e.jsxs("div",{className:"flex gap-6 text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:["Sent to ",t.recipientCount," subscribers"]}),e.jsx("span",{className:"text-gray-500",children:new Date(t.sentAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:["draft"===t.status&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{h(t.id),d({subject:t.subject,content:t.content,htmlContent:t.htmlContent,scheduledFor:t.scheduledFor||""}),c(!0)},className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",title:"Edit",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to send this newsletter to all subscribers?"))try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/newsletters/${e}/send`,{method:"POST",headers:{Authorization:`Bearer ${st}`}}),r=await t.json();r.success?(alert(`Newsletter sent to ${r.sentCount} subscribers!`),y()):alert("Failed to send newsletter: "+r.error)}catch(t){alert("Failed to send newsletter")}})(t.id),className:"p-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",title:"Send Now",children:e.jsx(Oe,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this newsletter?"))try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/newsletters/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}});(await t.json()).success&&y()}catch(t){alert("Failed to delete newsletter")}})(t.id),className:"p-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",title:"Delete",children:e.jsx($e,{className:"w-4 h-4"})})]})]})},t.id))})}),"subscribers"===m&&e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Subscriber List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-purple-500/30",children:[e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Email"}),e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Name"}),e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Subscribed"}),e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Status"})]})}),e.jsx("tbody",{children:a.map(t=>e.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[e.jsx("td",{className:"text-white py-3 px-4",children:t.email}),e.jsx("td",{className:"text-gray-300 py-3 px-4",children:t.name}),e.jsx("td",{className:"text-gray-300 py-3 px-4",children:new Date(t.subscribedAt).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm "+("active"===t.status?"bg-green-600":"bg-gray-600"),children:t.status})})]},t.id))})]})})]})]})}function CT(){const[t,n]=r.useState({pointsPerRupee:1,signupBonus:100,referralBonus:500,birthdayBonus:200,reviewBonus:50,minimumRedemption:500,redemptionValue:10}),[a,i]=r.useState(null),[s,o]=r.useState([{id:"1",name:"Bronze",minPoints:0,benefits:["Earn 1 point per ‚Çπ1 spent","Birthday bonus"],color:"from-amber-700 to-amber-900"},{id:"2",name:"Silver",minPoints:1e3,benefits:["Earn 1.5 points per ‚Çπ1 spent","Birthday bonus","Early access to sales"],color:"from-gray-400 to-gray-600"},{id:"3",name:"Gold",minPoints:5e3,benefits:["Earn 2 points per ‚Çπ1 spent","Birthday bonus","Early access","Free shipping"],color:"from-yellow-400 to-yellow-600"},{id:"4",name:"Platinum",minPoints:1e4,benefits:["Earn 3 points per ‚Çπ1 spent","All benefits","Exclusive products","Priority support"],color:"from-purple-400 to-purple-600"}]),[l,c]=r.useState(!0);r.useEffect(()=>{u(),d()},[]);const u=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/loyalty/settings`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&t.settings&&n(t.settings)}catch(e){}},d=async()=>{try{c(!0);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/loyalty/stats`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&i(t.stats)}catch(e){}finally{c(!1)}};return l?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Loyalty & Rewards Program"}),e.jsx("p",{className:"text-gray-400",children:"Manage your customer rewards and loyalty tiers"})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(We,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-white",children:"Members"})]}),e.jsx("p",{className:"text-3xl text-white",children:a.totalMembers}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[a.activeMembers," active"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_e,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-white",children:"Points Issued"})]}),e.jsx("p",{className:"text-3xl text-white",children:a.totalPointsIssued.toLocaleString()}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Total earned"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(te,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-white",children:"Points Redeemed"})]}),e.jsx("p",{className:"text-3xl text-white",children:a.totalPointsRedeemed.toLocaleString()}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Total used"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-pink-900/20 border border-pink-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Re,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-white",children:"Available"})]}),e.jsx("p",{className:"text-3xl text-white",children:(a.totalPointsIssued-a.totalPointsRedeemed).toLocaleString()}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Active points"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-white mb-6 flex items-center gap-2",children:[e.jsx(M,{className:"w-6 h-6"}),"Reward Tiers"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((t,r)=>e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${t.color} rounded-full flex items-center justify-center mx-auto mb-4`,children:e.jsx(M,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-white text-center text-xl mb-2",children:t.name}),e.jsxs("p",{className:"text-center text-gray-400 text-sm mb-4",children:[t.minPoints.toLocaleString(),"+ points"]}),e.jsx("ul",{className:"space-y-2",children:t.benefits.map((t,r)=>e.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-500 mt-1",children:"‚Ä¢"}),t]},r))})]},t.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-white mb-6 flex items-center gap-2",children:[e.jsx(Pe,{className:"w-6 h-6"}),"Points Configuration"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Points Per Rupee Spent"}),e.jsx("input",{type:"number",value:t.pointsPerRupee,onChange:e=>n({...t,pointsPerRupee:parseFloat(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",step:"0.1",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Signup Bonus"}),e.jsx("input",{type:"number",value:t.signupBonus,onChange:e=>n({...t,signupBonus:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Referral Bonus"}),e.jsx("input",{type:"number",value:t.referralBonus,onChange:e=>n({...t,referralBonus:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Birthday Bonus"}),e.jsx("input",{type:"number",value:t.birthdayBonus,onChange:e=>n({...t,birthdayBonus:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Review Bonus"}),e.jsx("input",{type:"number",value:t.reviewBonus,onChange:e=>n({...t,reviewBonus:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Minimum Redemption Points"}),e.jsx("input",{type:"number",value:t.minimumRedemption,onChange:e=>n({...t,minimumRedemption:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Points Value (points per ‚Çπ1)"}),e.jsx("input",{type:"number",value:t.redemptionValue,onChange:e=>n({...t,redemptionValue:parseInt(e.target.value)}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",min:"1"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t.redemptionValue," points = ‚Çπ1 discount"]})]})]}),e.jsx("button",{onClick:async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/loyalty/settings`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify(t)});(await e.json()).success&&alert("Settings saved successfully!")}catch(e){alert("Failed to save settings")}},className:"mt-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Save Settings"})]}),a&&a.topMembers.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-white mb-6",children:"Top Loyalty Members"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-purple-500/30",children:[e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Rank"}),e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Name"}),e.jsx("th",{className:"text-left text-gray-400 py-3 px-4",children:"Email"}),e.jsx("th",{className:"text-right text-gray-400 py-3 px-4",children:"Points"}),e.jsx("th",{className:"text-center text-gray-400 py-3 px-4",children:"Tier"})]})}),e.jsx("tbody",{children:a.topMembers.map((t,r)=>e.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[0===r&&e.jsx("span",{className:"text-2xl",children:"ü•á"}),1===r&&e.jsx("span",{className:"text-2xl",children:"ü•à"}),2===r&&e.jsx("span",{className:"text-2xl",children:"ü•â"}),r>2&&e.jsxs("span",{className:"text-gray-400",children:["#",r+1]})]})}),e.jsx("td",{className:"text-white py-3 px-4",children:t.name}),e.jsx("td",{className:"text-gray-300 py-3 px-4",children:t.email}),e.jsx("td",{className:"text-white py-3 px-4 text-right",children:t.points.toLocaleString()}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm "+("Platinum"===t.tier?"bg-purple-600":"Gold"===t.tier?"bg-yellow-600":"Silver"===t.tier?"bg-gray-600":"bg-amber-700"),children:t.tier})})]},t.email))})]})})]})]})}function OT(){const[t,n]=r.useState([]),[a,i]=r.useState(!0),[s,o]=r.useState(""),[l,c]=r.useState("all"),[u,d]=r.useState(null),[p,h]=r.useState(!1),[m,x]=r.useState(""),[y,g]=r.useState(!1);r.useEffect(()=>{b()},[]);const b=async()=>{i(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/returns`,{headers:{Authorization:`Bearer ${st}`}});if(e.ok){const t=await e.json();n(t.returns||[])}}catch(e){}finally{i(!1)}},v=t.filter(e=>{const t=e.orderId.toLowerCase().includes(s.toLowerCase())||e.customerName.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()),r="all"===l||e.status===l;return t&&r}),j=t=>{switch(t){case"pending":return e.jsxs("span",{className:"px-3 py-1 bg-yellow-600/20 border border-yellow-500/50 rounded-full text-yellow-400 text-sm flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"}),"Pending"]});case"approved":return e.jsxs("span",{className:"px-3 py-1 bg-green-600/20 border border-green-500/50 rounded-full text-green-400 text-sm flex items-center gap-1",children:[e.jsx(U,{className:"w-4 h-4"}),"Approved"]});case"rejected":return e.jsxs("span",{className:"px-3 py-1 bg-red-600/20 border border-red-500/50 rounded-full text-red-400 text-sm flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4"}),"Rejected"]});default:return null}},w=t.filter(e=>"pending"===e.status).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-white mb-2",children:"Return Requests"}),e.jsx("p",{className:"text-gray-400",children:"Manage customer return requests"})]}),w>0&&e.jsx("div",{className:"bg-yellow-600/20 border border-yellow-500/50 px-4 py-2 rounded-lg",children:e.jsxs("p",{className:"text-yellow-400",children:[e.jsx("span",{className:"font-bold",children:w})," pending ",1===w?"request":"requests"]})})]}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[300px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order ID, customer name, or email...",value:s,onChange:e=>o(e.target.value),className:"w-full bg-black/50 border border-purple-500/30 pl-10 pr-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500"})]})}),e.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(t=>e.jsx("button",{onClick:()=>c(t),className:"px-4 py-3 rounded-lg transition-all "+(l===t?"bg-purple-600 text-white":"bg-purple-600/20 text-purple-300 hover:bg-purple-600/30"),children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Loading returns..."})]}):0===v.length?e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl",children:[e.jsx(ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:s||"all"!==l?"No returns match your filters":"No return requests yet"})]}):e.jsx("div",{className:"space-y-4",children:v.map((t,r)=>e.jsxs(f.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-white text-lg",children:["Order #",t.orderId]}),j(t.status)]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-400",children:["Customer: ",e.jsx("span",{className:"text-white",children:t.customerName})]}),e.jsxs("p",{className:"text-gray-400",children:["Email: ",e.jsx("span",{className:"text-white",children:t.email})]}),e.jsxs("p",{className:"text-gray-400",children:["Requested: ",e.jsx("span",{className:"text-white",children:new Date(t.requestedAt).toLocaleString()})]})]})]})}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-purple-300 text-sm mb-1",children:"Reason:"}),e.jsx("p",{className:"text-white mb-3",children:t.reason}),e.jsx("p",{className:"text-purple-300 text-sm mb-1",children:"Description:"}),e.jsx("p",{className:"text-gray-300 text-sm",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400 mb-4",children:[e.jsxs("span",{children:["Items: ",t.items.length]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["Total: ‚Çπ",t.orderTotal.toLocaleString()]})]}),t.returnTrackingId&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3 mb-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-green-300 text-sm",children:"Return Tracking ID:"}),e.jsx("p",{className:"text-white font-mono",children:t.returnTrackingId})]})]}),"pending"===t.status&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>(async e=>{const t=prompt("Enter return tracking ID:");if(t&&""!==t.trim()){g(!0);try{const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/returns/${e.orderId}/approve`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({returnTrackingId:t})}),n=await r.json();r.ok&&n.success?(alert("Return request approved! Customer will receive an email with tracking details."),await b()):alert(`Failed to approve return: ${n.error||"Unknown error"}`)}catch(r){alert("Error approving return. Please try again.")}finally{g(!1)}}else alert("Return tracking ID is required")})(t),disabled:y,className:"flex-1 bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50",children:[e.jsx(U,{className:"w-4 h-4"}),"Approve Return"]}),e.jsxs("button",{onClick:()=>(async e=>{const t=prompt("Enter reason for rejection:");if(t&&""!==t.trim()){if(confirm("Are you sure you want to reject this return request?")){g(!0);try{const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/returns/${e.orderId}/reject`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:t})}),n=await r.json();r.ok&&n.success?(alert("Return request rejected. Customer will receive an email notification."),await b()):alert(`Failed to reject return: ${n.error||"Unknown error"}`)}catch(r){alert("Error rejecting return. Please try again.")}finally{g(!1)}}}else alert("Rejection reason is required")})(t),disabled:y,className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50",children:[e.jsx(q,{className:"w-4 h-4"}),"Reject Return"]})]})]},t.orderId))})]})}function ET(){const[t,n]=r.useState("privacy"),[a,i]=r.useState(""),[s,o]=r.useState(""),[l,c]=r.useState(!1),[u,d]=r.useState(!1),[p,h]=r.useState(null),[m,f]=r.useState(!1);r.useEffect(()=>{x()},[]);const x=async()=>{c(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&(i(t.privacy||""),o(t.terms||""))}catch(e){y("error","Failed to load legal content")}finally{c(!1)}},y=(e,t)=>{h({type:e,text:t}),setTimeout(()=>h(null),5e3)},g="privacy"===t?a:s;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-white mb-2",children:"Legal Content Management"}),e.jsx("p",{className:"text-gray-400",children:"Manage Privacy Policy and Terms of Service content"})]})}),p&&e.jsxs("div",{className:`p-4 rounded-lg border ${"success"===p.type?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"} flex items-center gap-2`,children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:p.text})]}),e.jsxs("div",{className:"flex gap-4 border-b border-purple-900/30",children:[e.jsxs("button",{onClick:()=>n("privacy"),className:"px-6 py-3 flex items-center gap-2 transition-all border-b-2 "+("privacy"===t?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(Ae,{className:"w-5 h-5"}),"Privacy Policy"]}),e.jsxs("button",{onClick:()=>n("terms"),className:"px-6 py-3 flex items-center gap-2 transition-all border-b-2 "+("terms"===t?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(Q,{className:"w-5 h-5"}),"Terms of Service"]})]}),l?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading legal content..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/30 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg text-white mb-1",children:"privacy"===t?"Privacy Policy Content":"Terms of Service Content"}),e.jsx("p",{className:"text-sm text-gray-400",children:""===g?"Using default content. Add custom content to override the default.":"Custom content is active. Leave empty to use default content."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to reset to default content? This will discard all custom changes.")&&("privacy"===t?i(""):o(""),f(!0),y("success","Content reset to default. Click Save to apply changes."))},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",title:"Reset to default content",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Reset"]}),e.jsxs("button",{onClick:async()=>{d(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({type:t,content:"privacy"===t?a:s})}),r=await e.json();r.success?(y("success",("privacy"===t?"Privacy Policy":"Terms of Service")+" updated successfully!"),f(!1)):y("error",r.error||"Failed to save")}catch(e){y("error","Failed to save legal content")}finally{d(!1)}},disabled:u||!m,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]})]})]}),e.jsx("textarea",{value:g,onChange:e=>{return r=e.target.value,"privacy"===t?i(r):o(r),void f(!0);var r},placeholder:`Enter custom ${"privacy"===t?"Privacy Policy":"Terms of Service"} content here (supports plain text and HTML)...`,className:"w-full h-96 bg-black/50 border border-purple-500/30 rounded-lg p-4 text-gray-300 font-mono text-sm focus:outline-none focus:border-purple-500 resize-y",style:{minHeight:"400px"}}),m&&e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:'You have unsaved changes. Click "Save Changes" to apply them.'})]})]}),e.jsxs("div",{className:"bg-blue-900/10 border border-blue-500/30 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-white mb-3 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5"}),"Instructions"]}),e.jsxs("ul",{className:"text-gray-400 space-y-2 text-sm",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Custom Content:"})," Add your own content to override the default legal text"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"HTML Support:"})," You can use HTML tags for formatting (headings, paragraphs, lists, etc.)"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Default Content:"})," Leave empty to use the built-in default legal content"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Preview:"})," Visit the actual pages to see how your changes look:",e.jsxs("div",{className:"ml-6 mt-2 space-y-1",children:[e.jsx("a",{href:"/privacy-policy",target:"_blank",className:"text-purple-400 hover:text-purple-300 block",children:"‚Üí View Privacy Policy Page"}),e.jsx("a",{href:"/terms-of-service",target:"_blank",className:"text-purple-400 hover:text-purple-300 block",children:"‚Üí View Terms of Service Page"})]})]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Best Practice:"})," Include sections like Introduction, Contact Info, Last Updated date, etc."]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Legal Compliance:"})," Ensure your content complies with applicable laws and regulations"]})]})]})]})]})}function PT(){const t=n(),[a,i]=r.useState(!1),[s,o]=r.useState(""),[l,c]=r.useState(""),[u,d]=r.useState(""),[p,h]=r.useState(!1),[m,f]=r.useState([]),[x,y]=r.useState(!1),[g,b]=r.useState(null),[v,j]=r.useState({name:"",description:"",price:"",category:"figures",subcategory:"",image:"",images:[],stock:""}),[w,N]=r.useState([]),[k,S]=r.useState([]),[C,O]=r.useState(!1),[E,A]=r.useState(!1),[T,I]=r.useState("products"),[_,L]=r.useState([]),[$,B]=r.useState([]),[R,F]=r.useState(!1),[q,H]=r.useState(null),[W,V]=r.useState({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",expiryDate:"",usageLimit:"",isActive:!0}),[Y,K]=r.useState([]),[J,Q]=r.useState("all"),te=v.images||[],re=k||[];r.useEffect(()=>{"true"===localStorage.getItem("adminLoggedIn")&&i(!0)},[]),r.useEffect(()=>{a&&(se(),oe(),ce(),de())},[a]);const ne=async e=>{e.preventDefault(),d(""),h(!0);try{l==="admin123"?(i(!0),o(""),c(""),localStorage.setItem("adminLoggedIn","true")):d("Invalid password. Please try again.")}catch(t){d("An error occurred. Please try again.")}finally{h(!1)}},ie=()=>{i(!1),y(!1),b(null),localStorage.removeItem("adminLoggedIn")},se=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&f(t.products)}catch(e){}},oe=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&L(t.orders)}catch(e){}},ce=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&B(t.coupons)}catch(e){}},de=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&K(t.categories)}catch(e){}},pe=async e=>{e.preventDefault();try{const e=g?`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products/${g.id}`:`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products`,t=await fetch(e,{method:g?"PUT":"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({...v,image:v.image||v.images[0]||""})});(await t.json()).success&&(j({name:"",description:"",price:"",category:"figures",subcategory:"",image:"",images:[],stock:""}),N([]),S([]),b(null),y(!1),se())}catch(t){}},he=e=>{const t=Array.from(e.target.files||[]);t.length&&(N(t),S(t.map(e=>URL.createObjectURL(e))))},me=async()=>{if(w.length){O(!0);try{const e=[];for(const t of w||[]){const r=t.name.split(".").pop(),n=`${Date.now()}_${Math.random().toString(36).substring(7)}.${r}`,{data:a,error:i}=await pt.storage.from("product-images").upload(n,t,{cacheControl:"3600",upsert:!1});if(i){i.message&&i.message.includes("row-level security")?A(!0):alert(`Failed to upload image: ${i.message}`);continue}const{data:s}=pt.storage.from("product-images").getPublicUrl(a.path);s?.publicUrl&&e.push(s.publicUrl)}e.length&&j(t=>{const r=[...t.images,...e];return{...t,images:r,image:t.image||r[0]}})}catch(e){alert("Failed to upload image. Please try again.")}finally{O(!1),N([]),S([])}}};try{return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nt,{}),e.jsx("span",{className:"text-gray-400 text-xs sm:text-sm ml-1 sm:ml-2 hidden md:inline",children:"Admin Panel"})]})]}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>window.open("/email-test","_blank"),className:"bg-blue-600 hover:bg-blue-700 px-2 sm:px-4 py-2 rounded-lg transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base",title:"Test Email System",children:[e.jsx(ue,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden lg:inline",children:"Email Test"})]}),e.jsxs("button",{onClick:async()=>{if(confirm("Seed default categories and wallpapers? This will only add them if none exist."))try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/seed-defaults`,{method:"POST",headers:{Authorization:`Bearer ${st}`}}),t=await e.json();if(t.success){const e=[];t.categoriesSeeded?e.push("‚úÖ Categories seeded successfully!"):e.push("‚ÑπÔ∏è Categories already exist, skipped seeding."),t.wallpapersSeeded?e.push("‚úÖ Wallpapers seeded successfully!"):e.push("‚ÑπÔ∏è Wallpapers already exist, skipped seeding."),await Promise.all([de(),se(),oe(),ce()]),alert(e.join("\n")+"\n\n‚úÖ Data refreshed successfully!\n\nüí° Go to Home Page to see the new wallpapers in action!")}else alert("‚ùå Failed to seed defaults: "+t.error)}catch(e){alert("Failed to seed defaults")}},className:"bg-green-600 hover:bg-green-700 px-2 sm:px-4 py-2 rounded-lg transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[e.jsx(X,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Seed Defaults"}),e.jsx("span",{className:"sm:hidden",children:"Seed"})]}),e.jsx("button",{onClick:ie,className:"bg-red-600 hover:bg-red-700 px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm sm:text-base",children:"Logout"})]})})]})})}),e.jsx("main",{className:"py-12 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:a?e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-8 border-b border-purple-900/30 overflow-x-auto scrollbar-hide",children:[e.jsxs("button",{onClick:()=>I("products"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("products"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(Me,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Products"})]}),e.jsxs("button",{onClick:()=>I("orders"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("orders"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ye,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Orders"}),_.length>0&&e.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full",children:_.length})]}),e.jsxs("button",{onClick:()=>I("payments"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("payments"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Payments"})]}),e.jsxs("button",{onClick:()=>I("coupons"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("coupons"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ze,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Coupons"}),$.length>0&&e.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full",children:$.length})]}),e.jsxs("button",{onClick:()=>I("custom-clothing"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("custom-clothing"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Custom"})]}),e.jsxs("button",{onClick:()=>I("support"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("support"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(fe,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Support"})]}),e.jsxs("button",{onClick:()=>I("categories"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("categories"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ee,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Categories"})]}),e.jsxs("button",{onClick:()=>I("wallpapers"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("wallpapers"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Wallpapers"})]}),e.jsxs("button",{onClick:()=>I("email"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("email"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Email Setup"})]}),e.jsxs("button",{onClick:()=>I("users"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("users"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),e.jsxs("button",{onClick:()=>I("analytics"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("analytics"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),e.jsxs("button",{onClick:()=>I("inventory-alerts"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("inventory-alerts"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(D,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Inventory Alerts"})]}),e.jsxs("button",{onClick:()=>I("bulk-operations"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("bulk-operations"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Bulk Operations"})]}),e.jsxs("button",{onClick:()=>I("newsletter-management"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("newsletter-management"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Newsletter Management"})]}),e.jsxs("button",{onClick:()=>I("loyalty-program"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("loyalty-program"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(M,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Loyalty Program"})]}),e.jsxs("button",{onClick:()=>I("returns"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("returns"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(ke,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Returns"})]}),e.jsxs("button",{onClick:()=>I("legal-content"),className:"px-3 sm:px-6 py-3 flex items-center gap-1 sm:gap-2 transition-all border-b-2 whitespace-nowrap text-sm sm:text-base "+("legal-content"===T?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Legal"})]})]}),"products"===T?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white mb-2",children:"Product Management"}),e.jsx("p",{className:"text-gray-400",children:"Manage your store inventory and products"})]}),!x&&e.jsxs("button",{onClick:()=>{y(!0),b(null),j({name:"",description:"",price:"",category:"figures",subcategory:"",image:"",images:[],stock:""})},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(we,{className:"w-5 h-5"}),"Add New Product"]})]}),x?e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-white mb-6",children:g?"Edit Product":"Add New Product"}),e.jsxs("form",{onSubmit:pe,className:"space-y-4 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productName",className:"block text-gray-300 mb-2",children:"Product Name"}),e.jsx("input",{id:"productName",name:"productName",type:"text",value:v.name,onChange:e=>j({...v,name:e.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productDescription",className:"block text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{id:"productDescription",name:"productDescription",value:v.description,onChange:e=>j({...v,description:e.target.value}),rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productPrice",className:"block text-gray-300 mb-2",children:"Price (‚Çπ)"}),e.jsx("input",{id:"productPrice",name:"productPrice",type:"number",value:v.price,onChange:e=>j({...v,price:e.target.value}),required:!0,min:"0",step:"0.01",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productStock",className:"block text-gray-300 mb-2",children:"Stock"}),e.jsx("input",{id:"productStock",name:"productStock",type:"number",value:v.stock,onChange:e=>j({...v,stock:e.target.value}),required:!0,min:"0",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productCategory",className:"block text-gray-300 mb-2",children:"Category"}),e.jsx("select",{id:"productCategory",name:"productCategory",value:v.category,onChange:e=>j({...v,category:e.target.value,subcategory:""}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:Y.length>0?Y.map(t=>e.jsx("option",{value:t.slug,children:t.name},t.id)):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"figures",children:"Figures"}),e.jsx("option",{value:"katana",children:"Katana"}),e.jsx("option",{value:"accessories",children:"Accessories"}),e.jsx("option",{value:"posters",children:"Posters"}),e.jsx("option",{value:"clothing",children:"Clothing"}),e.jsx("option",{value:"collectibles",children:"Collectibles"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productSubcategory",className:"block text-gray-300 mb-2",children:"Subcategory (Optional)"}),(()=>{const t=Y.find(e=>e.slug===v.category);return t&&t.subcategories&&t.subcategories.length>0?e.jsxs("select",{id:"productSubcategory",name:"productSubcategory",value:v.subcategory,onChange:e=>j({...v,subcategory:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"",children:"-- Select Subcategory --"}),t.subcategories.map((t,r)=>e.jsx("option",{value:t.toLowerCase().replace(/\s+/g,"-"),children:t},r))]}):e.jsx("input",{type:"text",value:v.subcategory,onChange:e=>j({...v,subcategory:e.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., demon-slayer, naruto, etc."})})()]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Product Images"}),e.jsxs("div",{className:"space-y-4",children:[te.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:te.map((t,r)=>e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-purple-500/30 bg-purple-900/10",children:[e.jsx("img",{src:t,alt:`Product ${r+1}`,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute top-2 left-2 flex gap-2",children:0===r&&e.jsx("span",{className:"text-xs bg-black/70 text-purple-200 px-2 py-1 rounded-full border border-purple-500/50",children:"Primary"})}),e.jsx("button",{type:"button",onClick:()=>{return e=r,void j(t=>{const r=t.images[e],n=t.images.filter((t,r)=>r!==e),a=n[0]||"";return{...t,images:n,image:t.image===r?a:t.image}});var e},className:"absolute top-2 right-2 bg-black/60 hover:bg-black/80 p-1 rounded-full border border-purple-500/50 transition-colors",children:e.jsx(Ge,{className:"w-4 h-4 text-gray-200"})})]},t+r))}),re.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:re.map((t,r)=>e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-dashed border-purple-500/40 bg-purple-900/10",children:[e.jsx("img",{src:t,alt:`Preview ${r+1}`,className:"w-full h-32 object-cover opacity-80"}),e.jsx("span",{className:"absolute bottom-2 left-2 text-xs bg-black/70 text-gray-200 px-2 py-1 rounded-full border border-purple-500/50",children:"Ready to upload"})]},t+r))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("label",{className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 cursor-pointer hover:bg-purple-900/30 transition-colors flex items-center justify-center gap-2 text-center",children:[e.jsx(qe,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-gray-300",children:(w||[]).length?`${w.length} image(s) selected`:"Choose images (you can select multiple)"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:he,className:"hidden"})]}),(w||[]).length>0&&e.jsx("button",{type:"button",onClick:me,disabled:C,className:"sm:w-48 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4"}),"Upload"]})})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tip: The first image is used as the primary thumbnail. Re-upload to change the order."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all",children:g?"Update Product":"Add Product"}),e.jsx("button",{type:"button",onClick:()=>{y(!1),b(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg transition-all",children:"Cancel"})]})]})]}):e.jsx("div",{className:"space-y-4",children:0===m.length?e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No products yet. Add your first product!"})}):m.map(t=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-4 sm:p-6",children:[e.jsx("img",{src:t.images?.[0]||t.image||"https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",alt:t.name,className:"w-full sm:w-24 md:w-32 h-32 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white mb-2",children:t.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("span",{className:"text-purple-400",children:["‚Çπ",t.price.toLocaleString()]}),e.jsxs("span",{className:"text-gray-400",children:["Stock: ",t.stock]}),e.jsxs("span",{className:"text-gray-400 capitalize hidden sm:inline",children:["Category: ",t.category]}),t.subcategory&&e.jsxs("span",{className:"text-gray-400 capitalize hidden lg:inline",children:["Subcategory: ",t.subcategory]})]})]}),e.jsxs("div",{className:"flex sm:flex-col gap-2",children:[e.jsxs("button",{onClick:()=>(e=>{b(e),j({name:e.name,description:e.description,price:e.price.toString(),category:e.category,subcategory:e.subcategory||"",image:e.image||e.images?.[0]||"",images:e.images||(e.image?[e.image]:[]),stock:e.stock.toString()}),N([]),S([]),y(!0)})(t),className:"flex-1 sm:flex-none bg-blue-600 hover:bg-blue-700 px-3 sm:px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[e.jsx(be,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"sm:inline",children:"Edit"})]}),e.jsxs("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this product?"))try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}});(await t.json()).success&&se()}catch(t){}})(t.id),className:"flex-1 sm:flex-none bg-red-600 hover:bg-red-700 px-3 sm:px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[e.jsx($e,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"sm:inline",children:"Delete"})]})]})]},t.id))})]}):"orders"===T?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-2",children:[e.jsxs("button",{onClick:()=>Q("all"),className:"px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all "+("all"===J?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"),children:["All Orders (",_.length,")"]}),e.jsxs("button",{onClick:()=>Q("Order Pending"),className:"px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all "+("Order Pending"===J?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"),children:["Pending (",_.filter(e=>"Order Pending"===e.status).length,")"]}),e.jsxs("button",{onClick:()=>Q("In Transit"),className:"px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all "+("In Transit"===J?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"),children:["In Transit (",_.filter(e=>"In Transit"===e.status).length,")"]}),e.jsxs("button",{onClick:()=>Q("Out for Delivery"),className:"px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all "+("Out for Delivery"===J?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"),children:["Out for Delivery (",_.filter(e=>"Out for Delivery"===e.status).length,")"]}),e.jsxs("button",{onClick:()=>Q("Order Delivered"),className:"px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all "+("Order Delivered"===J?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"),children:["Delivered (",_.filter(e=>"Order Delivered"===e.status).length,")"]}),e.jsxs("button",{onClick:()=>Q("Cancelled"),className:"px-4 py-2 rounded-lg whitespace-nowrap text-sm transition-all "+("Cancelled"===J?"bg-purple-600 text-white":"bg-purple-900/20 text-gray-400 hover:text-gray-300 border border-purple-500/30"),children:["Cancelled (",_.filter(e=>"Cancelled"===e.status).length,")"]})]}),(()=>{const t="all"===J?_:_.filter(e=>e.status===J);return 0===t.length?e.jsx("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"all"===J?"No orders yet. Wait for customers to place orders!":`No orders with status "${J}"`})}):t.map(t=>e.jsx("div",{className:"flex gap-4 bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-white mb-2",children:["Order ID: ",t.id]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Tracking ID: ",t.trackingId]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mb-4",children:[e.jsxs("span",{className:"text-purple-400",children:["Total: ‚Çπ",t.total.toLocaleString()]}),e.jsxs("span",{className:"text-gray-400",children:["Created At: ",new Date(t.createdAt).toLocaleString()]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"adminOrderStatus",className:"block text-gray-300 mb-2",children:"Order Status (Admin Only)"}),e.jsxs("select",{id:"adminOrderStatus",name:"adminOrderStatus",value:t.status,onChange:async e=>{const r=e.target.value;if("Cancelled"!==t.status){if(confirm(`Update order status to "${r}"?`))try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/${t.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({status:r})}),n=await e.json();n.success?(alert("‚úÖ Order status updated successfully! Customer will be notified via Email and WhatsApp."),oe()):alert(`Failed to update status: ${n.message}`)}catch(n){alert("Failed to update order status. Please try again.")}}else alert("Cannot update status of cancelled orders")},disabled:"Cancelled"===t.status,className:"w-full max-w-xs bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"Order Pending",children:"Order Pending"}),e.jsx("option",{value:"In Transit",children:"In Transit"}),e.jsx("option",{value:"Out for Delivery",children:"Out for Delivery"}),e.jsx("option",{value:"Order Delivered",children:"Order Delivered"}),"Cancelled"===t.status&&e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-white mb-2",children:"Customer Information"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Name: ",t.customerInfo.name]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Email: ",t.customerInfo.email]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Phone: ",t.customerInfo.phone]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Address: ",t.customerInfo.address]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-white mb-2",children:"Payment Information"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Payment ID: ",t.paymentId]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Payment Method: ",t.paymentMethod]}),t.paymentType&&e.jsxs("p",{className:"text-gray-400 text-sm mb-1 flex items-center gap-2",children:["Payment Type:",e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs "+("Prepaid"===t.paymentType?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"),children:t.paymentType})]}),t.paymentStatus&&e.jsxs("p",{className:"text-gray-400 text-sm mb-1 flex items-center gap-2",children:["Payment Status:",e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium "+("Paid"===t.paymentStatus?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"),children:"Paid"===t.paymentStatus?"‚úì PAID":"PAYMENT PENDING"})]}),(t.paymentMethod.toLowerCase().includes("razorpay")||t.paymentMethod.toLowerCase().includes("paytm"))&&"Cancelled"!==t.status&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-br from-yellow-900/20 to-orange-900/20 border border-yellow-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ae,{className:"w-5 h-5 text-yellow-400"}),e.jsx("h6",{className:"text-yellow-400 font-medium",children:"Payment Verification Required"})]}),e.jsxs("p",{className:"text-gray-300 text-sm mb-3",children:["This order was placed using ",t.paymentMethod,". Please verify that payment was actually received before processing the order."]}),t.paymentVerified?e.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-medium",children:"Payment Verified ‚úì"})]}),e.jsxs("p",{className:"text-gray-300 text-xs mt-2",children:["Verified on: ",new Date(t.paymentVerifiedAt).toLocaleString()]}),t.verifiedBy&&e.jsxs("p",{className:"text-gray-400 text-xs",children:["By: ",t.verifiedBy]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-orange-300 text-xs mb-2",children:"‚ö†Ô∏è Payment Not Yet Verified"}),e.jsxs("p",{className:"text-gray-400 text-xs",children:["Check your ",t.paymentMethod," dashboard to confirm payment was received for Payment ID:"," ",e.jsx("span",{className:"text-purple-400 font-mono",children:t.paymentId})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{if(confirm(`Confirm that you have verified payment receipt in your ${t.paymentMethod} dashboard?\n\nPayment ID: ${t.paymentId}\nAmount: ‚Çπ${t.total.toLocaleString()}\n\nThis will mark the payment as verified and allow order processing.`))try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/${t.id}/verify-payment`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({verified:!0,verifiedBy:"Admin"})}),r=await e.json();r.success?(alert("‚úÖ Payment verified successfully!"),oe()):alert(`Failed to verify payment: ${r.message}`)}catch(e){alert("Failed to verify payment. Please try again.")}},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 text-sm",children:[e.jsx(U,{className:"w-4 h-4"}),"Verify Payment Received"]}),e.jsxs("button",{onClick:async()=>{const e=prompt(`‚ö†Ô∏è PAYMENT VERIFICATION FAILED\n\nYou are about to CANCEL this order because payment was not received.\n\nPayment ID: ${t.paymentId}\nAmount: ‚Çπ${t.total.toLocaleString()}\nMethod: ${t.paymentMethod}\n\nPlease enter the reason for cancellation:`);if(e&&e.trim()&&confirm(`Are you absolutely sure you want to CANCEL this order?\n\nReason: ${e}\n\nThe customer will be notified via email.`))try{const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/${t.id}/cancel-payment-failed`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({reason:e,cancelledBy:"Admin"})}),n=await r.json();n.success?(alert("‚úÖ Order cancelled successfully. Customer has been notified via email."),oe()):alert(`Failed to cancel order: ${n.message}`)}catch(r){alert("Failed to cancel order. Please try again.")}},className:"flex-1 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 text-sm",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Payment Not Received - Cancel Order"]})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 text-center",children:"üí° Tip: Check your payment gateway dashboard before taking action"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-white mb-2",children:"Items"}),e.jsx("ul",{className:"list-disc list-inside",children:t.items.map((t,r)=>e.jsxs("li",{className:"text-gray-400 text-sm",children:[t.name," - ‚Çπ",t.price.toLocaleString()," x ",t.quantity]},r))})]})]})},t.id))})()]}):"payments"===T?e.jsx(Tt,{orders:_,onRefresh:oe}):"custom-clothing"===T?e.jsx(At,{}):"support"===T?e.jsx(Mt,{}):"categories"===T?e.jsx(It,{}):"wallpapers"===T?e.jsxs("div",{className:"space-y-8",children:[e.jsx(_t,{}),e.jsx("div",{className:"border-t border-gray-700 pt-8",children:e.jsx(Dt,{})})]}):"email"===T?e.jsx(zt,{}):"users"===T?e.jsx($t,{}):"analytics"===T?e.jsx(jT,{}):"inventory-alerts"===T?e.jsx(NT,{}):"bulk-operations"===T?e.jsx(kT,{}):"newsletter-management"===T?e.jsx(ST,{}):"loyalty-program"===T?e.jsx(CT,{}):"returns"===T?e.jsx(OT,{}):"legal-content"===T?e.jsx(ET,{}):e.jsx(Pt,{coupons:$,onRefresh:ce})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md shadow-2xl shadow-purple-900/50 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(le,{className:"w-8 h-8"})}),e.jsx("h1",{className:"text-white mb-2",children:"Admin Access"}),e.jsx("p",{className:"text-gray-400",children:"Sign in to manage your store"})]}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userId",className:"block text-gray-300 mb-2",children:"User ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"userId",name:"userId",type:"text",value:s,onChange:e=>o(e.target.value),required:!0,placeholder:"Enter your user ID",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",name:"password",type:"password",value:l,onChange:e=>c(e.target.value),required:!0,placeholder:"Enter your password",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),u&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:u}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all text-lg",children:p?"Logging in...":"Login"})]})]})})})}),E&&e.jsx(Lt,{})]})}catch(xe){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-8 text-center max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Admin Panel Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"There was an error loading the admin panel. Please check the console for details."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors",children:"Reload Page"})]})})}}function AT(){const t=n();return e.jsx("footer",{className:"border-t border-purple-900/30 py-12 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(nt,{size:"md"}),e.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]}),e.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for premium anime merchandise and collectibles."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white mb-4",children:"Shop"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>t("/#shop"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"All Products"}),e.jsx("button",{onClick:()=>t("/#categories"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Categories"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white mb-4",children:"About"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>t("/#about"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"About Us"}),e.jsx("button",{onClick:()=>t("/#contact"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Contact Us"}),e.jsx("button",{onClick:()=>t("/track-order"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Track Order"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white mb-4",children:"Legal"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>t("/privacy-policy"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Privacy Policy"}),e.jsx("button",{onClick:()=>t("/terms-of-service"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Terms of Service"})]})]})]}),e.jsx("div",{className:"border-t border-purple-900/30 mt-8 pt-8 text-center text-gray-400",children:e.jsx("p",{children:"¬© 2025 animedropzone. All rights reserved."})})]})})}function TT(){const{error:t}=Ze(),[n,a]=r.useState(""),[i,s]=r.useState(null),[o,l]=r.useState(""),[c,u]=r.useState(!1),[d,p]=r.useState(!1),[h,m]=r.useState(""),[f,x]=r.useState(!1),[y,g]=r.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[e.jsx(at,{}),e.jsx("main",{className:"flex-1 py-20 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-white mb-4",children:"Track Your Order"}),e.jsx("p",{className:"text-gray-400",children:"Enter your Order ID or Tracking ID to check your order status"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 mb-8",children:[e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(""),s(null),u(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();if(t.success){const e=t.orders.find(e=>e.trackingId===n||e.id===n);e?s(e):l("Order not found. Please check your Order ID or Tracking ID.")}}catch(t){l("An error occurred. Please try again.")}finally{u(!1)}},className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("label",{htmlFor:"trackingInput",className:"sr-only",children:"Enter Order ID or Tracking ID"}),e.jsx(Ce,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"trackingInput",name:"trackingInput",type:"text",value:n,onChange:e=>a(e.target.value),required:!0,placeholder:"Enter Order ID or Tracking ID",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-12 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),e.jsx("button",{type:"submit",disabled:c,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-8 py-3 rounded-lg transition-all",children:c?"Searching...":"Track Order"})]}),o&&e.jsx("div",{className:"mt-4 bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:o})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:"Order Delivered"===i.status?e.jsx(U,{className:"w-16 h-16 text-white"}):"Out for Delivery"===i.status?e.jsx(ye,{className:"w-16 h-16 text-white"}):"In Transit"===i.status?e.jsx(de,{className:"w-16 h-16 text-white"}):"Cancelled"===i.status?e.jsx(q,{className:"w-16 h-16 text-white"}):e.jsx(ye,{className:"w-16 h-16 text-white"})}),e.jsx("h2",{className:"text-white mb-2",children:i.status}),e.jsxs("p",{className:"text-purple-100",children:["Tracking ID: ",i.trackingId]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-white mb-6",children:"Order Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Order ID"}),e.jsx("p",{className:"text-white",children:i.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Order Date"}),e.jsx("p",{className:"text-white",children:new Date(i.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Payment ID"}),e.jsx("p",{className:"text-white",children:i.paymentId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Payment Method"}),e.jsx("p",{className:"text-white capitalize",children:i.paymentMethod})]})]}),e.jsx("div",{className:"border-t border-purple-900/30 pt-6",children:e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(de,{className:"w-5 h-5 text-purple-400 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Delivery Address"}),e.jsx("p",{className:"text-white",children:i.customerInfo.name}),e.jsx("p",{className:"text-gray-300",children:i.customerInfo.fullAddress||i.customerInfo.address}),e.jsx("p",{className:"text-gray-300",children:i.customerInfo.phone}),e.jsx("p",{className:"text-gray-300",children:i.customerInfo.email})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-white mb-6 flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-purple-400"}),"Items Ordered"]}),e.jsx("div",{className:"space-y-4",children:i.items.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-purple-900/30 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-900/20 rounded-lg flex items-center justify-center",children:e.jsx(ye,{className:"w-8 h-8 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white",children:t.name}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Quantity: ",t.quantity]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-white",children:["‚Çπ",(t.price*t.quantity).toLocaleString()]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["‚Çπ",t.price.toLocaleString()," each"]})]})]},r))}),e.jsx("div",{className:"border-t border-purple-900/30 mt-6 pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-white",children:"Total Amount"}),e.jsxs("p",{className:"text-purple-400 text-2xl",children:["‚Çπ",i.total.toLocaleString()]})]})})]}),"Order Pending"===i.status&&e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-8 py-3 rounded-lg transition-all",children:"Cancel Order"})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-white text-xl",children:"Cancel Order"})]}),e.jsx("button",{onClick:()=>p(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-white mb-2",children:"Are you sure you want to cancel this order?"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Order ID: ",i?.id]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Tracking ID: ",i?.trackingId]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cancelReason",className:"block text-gray-300 mb-2",children:"Reason for Cancellation (Optional)"}),e.jsx("textarea",{id:"cancelReason",name:"cancelReason",value:h,onChange:e=>m(e.target.value),rows:4,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Changed my mind, found a better deal, ordered by mistake..."})]}),e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-yellow-400 text-sm",children:"‚ö†Ô∏è You will receive cancellation confirmation via Email and WhatsApp"}),"cod"!==i?.paymentMethod&&e.jsx("p",{className:"text-yellow-400 text-sm mt-2",children:"üí∞ Refund will be processed within 5-7 business days"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(!1),disabled:f,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Keep Order"}),e.jsx("button",{onClick:async()=>{x(!0),l("");try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/cancel`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:i?.id,reason:h})}),r=await e.json();r.success?(t("üò¢ Order cancelled successfully. "+("cod"!==i?.paymentMethod?"Refund will be processed in 5-7 days.":""),6e3),s(null),p(!1),m(""),a("")):l(r.message||"Failed to cancel order.")}catch(e){l("An error occurred. Please try again.")}finally{x(!1)}},disabled:f,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-5 h-5"}),"Confirm Cancellation"]})})]})]})]})})]})}),e.jsx(AT,{})]})}function MT(){const t=r.useMemo(()=>{const e="undefined"!=typeof window&&window.innerWidth<768?5:20;return Array.from({length:e},(e,t)=>({id:t,size:6*Math.random()+2,initialX:100*Math.random(),initialY:100*Math.random(),duration:10*Math.random()+10,delay:5*Math.random()}))},[]);return e.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:t.map(t=>e.jsx(f.div,{className:"absolute rounded-full bg-gradient-to-br from-purple-500/30 to-pink-500/30 blur-sm",style:{width:t.size,height:t.size,left:`${t.initialX}%`,top:`${t.initialY}%`},animate:{y:[0,-100,0],x:[0,50*Math.random()-25,0],opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id))})}function IT(){const{id:t}=c(),a=n(),[i,s]=r.useState(null),[o,l]=r.useState([]),{cartItems:u,addToCart:d,removeFromCart:p,updateQuantity:h,isCartOpen:m,setIsCartOpen:x}=rt(),{showToast:y}=Ze(),[g,b]=r.useState(!1),[v,j]=r.useState(!1),[w,N]=r.useState(null),[k,S]=r.useState(0),[C,O]=r.useState(1),[E,A]=r.useState(!1),[T,M]=r.useState(!1),[I,D]=r.useState(!1),[_,L]=r.useState(null),z=r.useRef(null),$="undefined"!=typeof window&&window.innerWidth<768;r.useEffect(()=>(R(),F(),B(),()=>{z.current&&(clearInterval(z.current),z.current=null),s(null),l([]),L(null)}),[t]),r.useEffect(()=>{S(0),z.current&&(clearInterval(z.current),z.current=null)},[i?.id]),r.useEffect(()=>{if(!i||$)return void(z.current&&(clearInterval(z.current),z.current=null));const e=(i.images&&i.images.length?i.images:[i.image]).filter(Boolean),t=e.length?e:["https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080"];if(!(t.length<=1))return z.current=window.setInterval(()=>{S(e=>(e+1)%t.length)},5e3),()=>{z.current&&(clearInterval(z.current),z.current=null)};z.current&&(clearInterval(z.current),z.current=null)},[i?.images,i?.image]);const B=async()=>{const{data:e}=await pt.auth.getSession();e.session&&N(e.session.user)},R=async()=>{try{if(!t)return L("Product ID not found"),void setTimeout(()=>a("/"),2e3);const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${st}`}});if(!e.ok)throw new Error(`API error: ${e.status}`);const r=await e.json();if(!r.success||!Array.isArray(r.products))throw new Error("Invalid API response");{const e=r.products.find(e=>e&&e.id===t);e?(s(e),L(null)):(L("Product not found"),setTimeout(()=>a("/"),2e3))}}catch(e){L(e instanceof Error?e.message:"Failed to load product"),setTimeout(()=>a("/"),2e3)}},F=async()=>{try{if(!t)return;const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/reviews/${t}`,{headers:{Authorization:`Bearer ${st}`}});if(!e.ok)return;const r=await e.json();r.success&&Array.isArray(r.reviews)&&l(r.reviews)}catch(e){l([])}},U=()=>{if(i){if(!w)return M(!0),void b(!0);d(i),j(!0)}};if(!i)return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center",children:[!$&&e.jsx(MT,{}),e.jsx("div",{className:"text-center",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-red-400 text-xl mb-4",children:_}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Redirecting to home..."})]}):e.jsx("div",{className:"text-white text-xl",children:"Loading product..."})})]});const q=o.length>0?o.reduce((e,t)=>e+t.rating,0)/o.length:4.8;E||o.slice(0,3);const H=u.reduce((e,t)=>e+t.price*t.quantity,0),W=(i.images&&i.images.length?i.images:[i.image]).filter(Boolean),V=$?W.slice(0,5):W,X=V.length?V:["https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080"],Y=X[Math.min(k,X.length-1)];return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),!$&&e.jsx(MT,{}),e.jsx(at,{cartCount:u.reduce((e,t)=>e+t.quantity,0),onCartClick:()=>x(!0),onLoginClick:()=>b(!0),user:w,onLogout:async()=>{await pt.auth.signOut(),N(null)}}),e.jsxs("main",{className:"relative z-10",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsx(f.button,{onClick:()=>{const e=`/product/${t}`;let r=null;try{r=sessionStorage.getItem("prevRoute")}catch{}r&&r!==e?a(r):window.history.length>2?a(-1):a("/")},className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",whileHover:{x:-5},children:e.jsx(P,{className:"w-5 h-5"})})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 py-4 md:py-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12",children:[e.jsxs(f.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},className:"w-full",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"relative rounded-2xl overflow-hidden border-2 border-purple-500/50 bg-black max-h-80 md:max-h-full",children:[e.jsx(f.img,{src:Y,alt:i.name,className:"w-full h-auto object-cover",layoutId:`product-${i.id}`}),0===i.stock&&e.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:e.jsx("span",{className:"text-red-400 border border-red-400 px-6 py-3 rounded-lg text-xl",children:"Out of Stock"})}),X.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-1 md:pl-2 z-20",children:e.jsx("button",{type:"button",onClick:()=>{X.length&&S(e=>(e-1+X.length)%X.length)},className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Previous image",children:e.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1 md:pr-2 z-20",children:e.jsx("button",{type:"button",onClick:()=>{X.length&&S(e=>(e+1)%X.length)},className:"bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white p-2 md:p-3 rounded-full border-2 border-purple-400 transition-all shadow-lg hover:shadow-purple-600/50 cursor-pointer","aria-label":"Next image",children:e.jsx("svg",{className:"w-4 h-4 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]})]}),e.jsxs("div",{className:"mt-2 md:mt-6 pt-2 md:pt-4 border-t border-purple-500/20",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:X.length>1&&`${X.length} photos`})}),e.jsx("div",{className:"flex gap-1.5 md:gap-3 overflow-x-auto pb-2 scrollbar-thin",children:X.map((t,r)=>e.jsx("button",{type:"button",onClick:()=>S(r),className:"shrink-0 w-14 h-14 md:w-24 md:h-24 rounded-lg overflow-hidden border-2 transition-all hover:scale-105 cursor-pointer "+(k===r?"border-purple-500 shadow-lg shadow-purple-900/50 ring-2 ring-purple-400":"border-purple-500/30 hover:border-purple-400"),"aria-label":`View image ${r+1}`,children:e.jsx("img",{src:t,alt:`Thumbnail ${r+1}`,className:"w-full h-full object-cover pointer-events-none"})},`${r}-${t.substring(0,20)}`))})]})]}),e.jsx(f.div,{className:"grid grid-cols-2 gap-2 md:gap-4 mt-4 md:mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[{icon:Ae,text:"100% Authentic"},{icon:Ue,text:"Fast Delivery"},{icon:ye,text:"Secure Packaging"},{icon:G,text:"Secure Payment"}].map((t,r)=>e.jsxs(f.div,{className:"flex items-center gap-2 md:gap-3 bg-purple-900/20 border border-purple-500/30 rounded-lg p-2 md:p-4 text-xs md:text-base",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.4+.1*r},whileHover:{scale:1.05},children:[e.jsx(t.icon,{className:"w-4 h-4 md:w-6 md:h-6 text-purple-400 shrink-0"}),e.jsx("span",{className:"text-gray-300 text-xs md:text-sm",children:t.text})]},t.text))})]}),e.jsxs(f.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"w-full",children:[e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx("span",{className:"inline-block px-3 py-1 bg-gradient-to-r from-purple-600/30 to-pink-600/30 border border-purple-500/50 rounded-full text-purple-300 text-xs md:text-sm mb-3 md:mb-4",children:i.category.charAt(0).toUpperCase()+i.category.slice(1)})}),e.jsx(f.h1,{className:"text-xl md:text-3xl lg:text-4xl text-white mb-3 md:mb-4 leading-tight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:i.name}),e.jsxs(f.div,{className:"flex items-center gap-2 md:gap-4 mb-4 md:mb-6 flex-wrap",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:[e.jsx("div",{className:"flex items-center gap-0.5 md:gap-1",children:[...Array(5)].map((t,r)=>e.jsx(_e,{className:"w-3 h-3 md:w-5 md:h-5 "+(r<Math.floor(q)?"fill-yellow-400 text-yellow-400":"text-gray-600")},r))}),e.jsxs("span",{className:"text-gray-400 text-xs md:text-base",children:[q.toFixed(1)," (",o.length," reviews)"]})]}),e.jsx(f.p,{className:"text-gray-300 text-sm md:text-lg mb-4 md:mb-6 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:i.description}),e.jsxs(f.div,{className:"mb-6 md:mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.7},children:[e.jsxs("span",{className:"text-3xl md:text-5xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent font-bold",children:["‚Çπ",i.price.toLocaleString()]}),e.jsxs("p",{className:"text-gray-400 text-xs md:text-base mt-1 md:mt-2",children:["Stock:"," ",e.jsxs("span",{className:i.stock>10?"text-green-400":"text-orange-400",children:[i.stock," available"]})]})]}),e.jsxs(f.div,{className:"mb-4 md:mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[e.jsx("label",{className:"text-white text-sm md:text-base mb-2 block",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx("button",{onClick:()=>O(Math.max(1,C-1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center transition-colors text-sm md:text-base",disabled:0===i.stock,children:"-"}),e.jsx("span",{className:"text-white text-lg md:text-xl w-8 md:w-12 text-center",children:C}),e.jsx("button",{onClick:()=>O(Math.min(i.stock,C+1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center transition-colors text-sm md:text-base",disabled:0===i.stock,children:"+"})]})]}),e.jsxs(f.div,{className:"flex flex-col gap-2 md:gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:[e.jsxs(f.button,{onClick:U,disabled:0===i.stock,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-6 md:px-8 py-3 md:py-4 rounded-lg flex items-center justify-center gap-2 transition-all text-sm md:text-lg shadow-lg shadow-purple-900/50 font-semibold",whileHover:{scale:i.stock>0?1.02:1},whileTap:{scale:i.stock>0?.98:1},children:[e.jsx(G,{className:"w-4 h-4 md:w-5 md:h-5"}),"Order Now"]}),e.jsxs(f.button,{onClick:()=>{i&&(d(i),y(`${i.name} added to cart!`,"success",3e3))},disabled:0===i.stock,className:"bg-white/10 hover:bg-white/20 border border-purple-500/50 hover:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 md:px-8 py-3 md:py-4 rounded-lg flex items-center justify-center gap-2 transition-all text-sm md:text-lg font-semibold",whileHover:{scale:i.stock>0?1.02:1},whileTap:{scale:i.stock>0?.98:1},children:[e.jsx(Ie,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add to Cart"]})]})]})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 py-16",children:e.jsx(f.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:e.jsx(yt,{productId:t,user:w,onLoginClick:()=>b(!0)})})})]}),e.jsx(ut,{isOpen:m,onClose:()=>x(!1),items:u,onUpdateQuantity:h,onRemoveItem:p,onCheckout:()=>{if(!w)return x(!1),M(!0),void b(!0);x(!1),j(!0)},onProductClick:e=>{x(!1),a(`/product/${e.id}`)}}),e.jsx(ht,{isOpen:g,onClose:()=>b(!1),onAuthSuccess:e=>{N(e),T&&(M(!1),U())},showCheckoutMessage:T}),e.jsx(ft,{isOpen:v,onClose:()=>j(!1),items:u,total:H,onSuccess:()=>{j(!1),a("/")},user:w})]})}const DT={"demon-slayer":ye,naruto:ye,"one-piece":ye,"attack-on-titan":ye,"my-hero-academia":ye,"dragon-ball":ye,katana:Le,accessories:De,posters:ae,clothing:Te,collectibles:_,custom_clothing:ge},_T={"demon-slayer":{title:"Demon Slayer Figures",description:"Tanjiro, Nezuko, and premium figures from Demon Slayer"},naruto:{title:"Naruto Figures",description:"Iconic ninja figures from the legendary Naruto series"},"one-piece":{title:"One Piece Figures",description:"Luffy and crew collectibles from One Piece"},"attack-on-titan":{title:"Attack on Titan Figures",description:"Survey Corps figures from Attack on Titan"},"my-hero-academia":{title:"My Hero Academia Figures",description:"Heroes and villains figures from My Hero Academia"},"dragon-ball":{title:"Dragon Ball Figures",description:"Super Saiyan warriors from Dragon Ball"},katana:{title:"Katana Collection",description:"Authentic Japanese swords and replicas inspired by legendary anime"},accessories:{title:"Accessories",description:"Keychains, pins, phone cases, and more anime collectibles"},posters:{title:"Posters & Art",description:"High-quality anime art prints and wall decorations"},clothing:{title:"Anime Clothing",description:"Anime-themed apparel, cosplay costumes, and fashion accessories"},collectibles:{title:"Collectibles",description:"Limited edition merchandise, trading cards, and rare items"},custom_clothing:{title:"Custom Clothing",description:"Create your own anime-themed clothing with our custom design service"}},LT={katana:[{name:"Demon Slayer Swords",value:"demon-slayer-katana",description:"Nichirin blades collection"},{name:"Samurai Katanas",value:"samurai-katana",description:"Traditional Japanese swords"},{name:"Replica Katanas",value:"replica-katana",description:"Display-worthy replicas"},{name:"Training Katanas",value:"training-katana",description:"Practice swords"}],accessories:[{name:"Keychains",value:"keychains",description:"Character keychains"},{name:"Pins & Badges",value:"pins",description:"Collectible pins"},{name:"Phone Cases",value:"phone-cases",description:"Anime-themed cases"},{name:"Jewelry",value:"jewelry",description:"Necklaces and rings"},{name:"Bags & Backpacks",value:"bags",description:"Character bags"}],posters:[{name:"Wall Scrolls",value:"wall-scrolls",description:"Hanging art scrolls"},{name:"Framed Prints",value:"framed-prints",description:"Premium framed art"},{name:"Mini Posters",value:"mini-posters",description:"Small format prints"},{name:"Canvas Art",value:"canvas-art",description:"Canvas wall art"}],clothing:[{name:"T-Shirts",value:"t-shirts",description:"Character t-shirts"},{name:"Hoodies",value:"hoodies",description:"Anime hoodies"},{name:"Cosplay",value:"cosplay",description:"Cosplay costumes"},{name:"Accessories",value:"clothing-accessories",description:"Hats, socks, etc."}],collectibles:[{name:"Limited Editions",value:"limited-editions",description:"Rare collectibles"},{name:"Trading Cards",value:"trading-cards",description:"Collectible cards"},{name:"Plushies",value:"plushies",description:"Soft character plushies"},{name:"Model Kits",value:"model-kits",description:"Build-your-own kits"}],custom_clothing:[{name:"Custom T-Shirts",value:"custom-t-shirts",description:"Design your own t-shirts"},{name:"Custom Hoodies",value:"custom-hoodies",description:"Design your own hoodies"},{name:"Custom Cosplay",value:"custom-cosplay",description:"Design your own cosplay costumes"},{name:"Custom Accessories",value:"custom-accessories",description:"Design your own accessories"}]};function zT(){const{category:t}=c(),a=n(),i="undefined"!=typeof window&&window.innerWidth<768,[s,o]=r.useState([]),[l,u]=r.useState([]),[d,p]=r.useState(null);r.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("subcat");e&&p(e)},[]);const{cartItems:h,addToCart:m,removeFromCart:x,updateQuantity:y,isCartOpen:g,setIsCartOpen:b}=rt(),{showToast:v}=Ze(),[j,w]=r.useState(!1),[N,k]=r.useState(!1),[S,C]=r.useState(!1),[O,E]=r.useState(!1),[A,T]=r.useState(null),[M,I]=r.useState(!1),[D,_]=r.useState(!0),[L,z]=r.useState(null),[$,B]=r.useState([]),[R,F]=r.useState(null),[U,q]=r.useState(!0);r.useEffect(()=>{if(!t)return void _(!1);let e=!0;return(async()=>{e&&(await H(),await G(),await W())})(),()=>{e=!1,o([]),u([]),F(null)}},[t]),r.useEffect(()=>{if(t){const e=t.toLowerCase().replace(/\s+/g,"-").replace(/-/g,"_");_T[e]||_T[t]?(q(!0),F(null)):q(!0)}else F("Category not specified"),q(!1)},[t,a]);const H=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{method:"GET",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"}});if(e.ok){const r=await e.json();if(r.success&&r.categories){const e=t?.toLowerCase().replace(/\s+/g,"-"),n=r.categories.find(r=>r.slug===e||r.slug===t);if(n&&(z(n),n.subcategories&&n.subcategories.length>0)){const e=n.subcategories.map(e=>"string"==typeof e?{name:e,value:e.toLowerCase().replace(/\s+/g,"-"),description:""}:{name:e.name||e,value:e.value||e.toLowerCase().replace(/\s+/g,"-"),description:e.description||""});B(e)}}}}catch(e){e instanceof Error&&e.message.includes("CORS")}};r.useEffect(()=>{if(!s||0===s.length)return void u([]);let e=s;if(d)try{e=s.filter(e=>e.subcategory===d)}catch(t){e=s}u(e)},[d,s]);const W=async()=>{const{data:e}=await pt.auth.getSession();e.session&&T(e.session.user)},G=async()=>{_(!0),F(null);try{if(!t)throw new Error("Category not specified");const e=t.toLowerCase().replace(/\s+/g,"-"),r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/products/category/${encodeURIComponent(e)}`,{method:"GET",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`API error: ${r.status}`);const n=await r.json();n.success&&Array.isArray(n.products)?o(n.products):n.success||(F("Failed to load products"),o([]))}catch(e){F(e instanceof Error?e.message:"Failed to load products"),o([])}finally{_(!1)}},V=e=>{m(e),v(`${e.name} added to cart!`,"success",3e3)},X=t?t.toLowerCase().replace(/\s+/g,"-").replace(/-/g,"_"):"",Y=t&&(DT[X]||DT[t])||ye,K=t&&(_T[X]||_T[t])?_T[X]||_T[t]:L?{title:L.name,description:L.description||"Browse our products"}:{title:"Category",description:"Browse our products"},J=h.reduce((e,t)=>e+t.price*t.quantity,0),Z=$.length>0?$:LT[X]||LT[t||""]||[],Q=Z.length>0;return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),"undefined"!=typeof window&&window.innerWidth>=768&&e.jsx(MT,{}),e.jsx(at,{cartCount:h.reduce((e,t)=>e+t.quantity,0),onCartClick:()=>b(!0),onLoginClick:()=>w(!0),user:A,onLogout:async()=>{await pt.auth.signOut(),T(null)}}),e.jsxs("main",{className:"relative z-10",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsx("button",{onClick:()=>a("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:e.jsx(P,{className:"w-5 h-5"})})}),!U&&e.jsx("section",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-12 max-w-md mx-auto",children:[e.jsx(ye,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-2xl mb-2 text-center",children:"Invalid Category"}),e.jsxs("p",{className:"text-gray-400 mb-6 text-center",children:['The category "',t,'" does not exist. Please select a valid category from the store.']}),e.jsx("button",{onClick:()=>a("/"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Return to Store"})]})}),U&&e.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-4 md:py-8",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[i?e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-4",children:e.jsx(Y,{className:"w-10 h-10 text-white"})}):e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-6",children:e.jsx(Y,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"mb-2 md:mb-4 text-2xl md:text-4xl bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:K.title}),e.jsx("p",{className:"text-gray-300 text-sm md:text-lg max-w-2xl mx-auto",children:K.description}),Q&&e.jsxs("div",{className:"mt-6",children:[e.jsx("button",{onClick:()=>C(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",children:"Browse by Subcategory"}),d&&e.jsx("button",{onClick:()=>{p(null);try{sessionStorage.removeItem("categorySubcategory")}catch{}window.history.replaceState({},"",window.location.pathname)},className:"ml-4 text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear filter"})]})]}),"clothing"===t&&e.jsx("div",{className:"mb-12 bg-gradient-to-br from-purple-900/40 to-pink-900/40 border-2 border-purple-500/50 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-pink-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(ge,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white text-2xl mb-2",children:"üé® Design Your Own Custom Clothing"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Want something unique? Upload your design and we'll create custom anime-themed clothing just for you!"}),e.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 mb-4",children:[e.jsx("li",{children:"‚úÖ Upload your own designs or photos"}),e.jsx("li",{children:"‚úÖ Choose clothing type, size, and color"}),e.jsx("li",{children:"‚úÖ Get a quote within 24-48 hours"}),e.jsx("li",{children:"‚úÖ Professional quality printing"})]}),e.jsxs("button",{onClick:()=>E(!0),className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 px-8 py-4 rounded-lg text-lg shadow-lg shadow-pink-900/50 flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Start Custom Design"]})]})]})}),D?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-block w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Loading products..."})]}):R?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-12 max-w-md mx-auto",children:[e.jsx(Y,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-2xl mb-2",children:"Error Loading Products"}),e.jsx("p",{className:"text-gray-400 mb-6",children:R}),e.jsx("button",{onClick:()=>G(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Try Again"})]})}):0===l.length?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-2xl p-12 max-w-md mx-auto",children:[e.jsx(Y,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-2xl mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-400",children:d?"No products available in this subcategory. Try selecting a different filter.":"No products available in this category yet. Check back soon!"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:l&&Array.isArray(l)?l.map(t=>{try{return t&&t.id?e.jsx("div",{children:e.jsx(ct,{product:t,onAddToCart:V})},t.id):null}catch(r){return null}}):null}),!D&&l.length>0&&e.jsx(f.div,{className:"text-center mt-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},children:e.jsxs("p",{className:"text-gray-400",children:["Showing ",l.length," ",1===l.length?"product":"products",d&&" in selected subcategory"]})})]})]}),e.jsx(ut,{isOpen:g,onClose:()=>b(!1),items:h,onUpdateQuantity:y,onRemoveItem:x,onCheckout:()=>{if(!A)return b(!1),I(!0),void w(!0);b(!1),k(!0)},onProductClick:e=>{b(!1),a(`/product/${e.id}`)}}),e.jsx(ht,{isOpen:j,onClose:()=>w(!1),onAuthSuccess:e=>{T(e),M&&(I(!1),k(!0))},showCheckoutMessage:M}),e.jsx(ft,{isOpen:N,onClose:()=>k(!1),items:h,total:J,onSuccess:()=>{k(!1)},user:A}),Q&&e.jsx(xt,{isOpen:S,onClose:()=>C(!1),category:t,subcategories:Z,onSelectSubcategory:e=>{p(e),C(!1);try{sessionStorage.setItem("categorySubcategory",e)}catch{}const t=`${window.location.pathname}?subcat=${encodeURIComponent(e)}`;window.history.replaceState({},"",t)}}),"custom_clothing"===t&&e.jsx(jt,{isOpen:O,onClose:()=>E(!1),onSuccess:()=>{alert("Custom clothing request submitted successfully!"),E(!1)}}),"clothing"===t&&e.jsx(jt,{isOpen:O,onClose:()=>E(!1),onSuccess:()=>{alert("Custom clothing request submitted successfully!"),E(!1)}})]})}function $T({isOpen:t,onClose:n,order:a,onSuccess:i}){const[s,o]=r.useState(""),[l,c]=r.useState(""),[u,d]=r.useState(!1);return e.jsx(m,{children:t&&e.jsx(f.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:e.jsxs(f.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-orange-600/20 p-3 rounded-lg",children:e.jsx(ye,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl text-white",children:"Request Return"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Order #",a.orderId]})]})]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6 flex gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-200",children:[e.jsx("p",{className:"mb-2",children:"Please note:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[e.jsx("li",{children:"Return requests are reviewed within 24-48 hours"}),e.jsx("li",{children:"You'll receive an email once your request is processed"}),e.jsx("li",{children:"Return shipping label will be provided upon approval"}),e.jsx("li",{children:"Refund will be processed after item inspection"})]})]})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s&&l.trim()){d(!0);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/${a.orderId}/return-request`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({reason:s,description:l,customerEmail:a.email,customerName:a.customerName})}),t=await e.json();e.ok&&t.success?(alert("Return request submitted successfully! You will receive an email confirmation."),i(),n(),o(""),c("")):alert(`Failed to submit return request: ${t.error||"Unknown error"}`)}catch(t){alert("Error submitting return request. Please try again.")}finally{d(!1)}}else alert("Please select a reason and provide details")},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"returnReason",className:"block text-white mb-2",children:["Return Reason ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{id:"returnReason",name:"returnReason",value:s,onChange:e=>o(e.target.value),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a reason"}),["Defective/Damaged Product","Wrong Item Received","Not as Described","Size Issue","Changed Mind","Quality Issues","Other"].map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"returnDescription",className:"block text-white mb-2",children:["Description ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{id:"returnDescription",name:"returnDescription",value:l,onChange:e=>c(e.target.value),placeholder:"Please provide details about why you're returning this item...",rows:5,className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500 resize-none",required:!0}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[l.length,"/500 characters"]})]}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-white mb-3",children:"Order Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Order Date:"}),e.jsx("span",{className:"text-white",children:new Date(a.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total Items:"}),e.jsx("span",{className:"text-white",children:a.items.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Order Total:"}),e.jsxs("span",{className:"text-white",children:["‚Çπ",a.total.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 px-6 py-3 rounded-lg disabled:opacity-50 transition-all",children:u?"Submitting...":"Submit Return Request"}),e.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all",children:"Cancel"})]})]})]})})})}function BT(){const[t,n]=r.useState(""),[a,s]=r.useState(""),[o,l]=r.useState([]),[c,u]=r.useState(!1),[d,p]=r.useState(!1),[h,x]=r.useState(null),[y,g]=r.useState(!1),[b,v]=r.useState(null),j=async()=>{if(t||a){u(!0);try{const e=new URLSearchParams;t&&e.append("email",t),a&&e.append("phone",a);const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/my-orders?${e}`,{headers:{Authorization:`Bearer ${st}`}}),n=await r.json();n.success?(l(n.orders),p(!0)):alert("Failed to fetch orders")}catch(e){alert("Error fetching orders. Please try again.")}finally{u(!1)}}else alert("Please enter either email or phone number")},w=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"shipped":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},N=t=>{switch(t.toLowerCase()){case"pending":return e.jsx(H,{className:"w-4 h-4"});case"processing":default:return e.jsx(ye,{className:"w-4 h-4"});case"shipped":return e.jsx(Ue,{className:"w-4 h-4"});case"delivered":return e.jsx(U,{className:"w-4 h-4"});case"cancelled":return e.jsx(q,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx(f.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"border-b border-purple-500/20 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(i,{to:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors group",children:e.jsx(P,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})}),e.jsxs(f.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-2xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(De,{className:"w-6 h-6 text-purple-400"}),"My Orders"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsx(m,{mode:"wait",children:!d&&e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-md mx-auto",children:e.jsxs(f.div,{initial:{scale:.95},animate:{scale:1},className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-8 backdrop-blur-sm shadow-2xl shadow-purple-500/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs(f.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl",children:e.jsx(Ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl",children:"Find Your Orders"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Track all your anime treasures"})]})]}),e.jsxs(f.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"orderEmail",className:"block text-sm text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4 text-purple-400"}),"Email Address"]}),e.jsx("input",{id:"orderEmail",name:"orderEmail",type:"email",value:t,onChange:e=>n(e.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-black/50 border border-purple-500/30 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent flex-1"}),e.jsx("span",{className:"text-sm text-gray-500 px-3",children:"OR"}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent flex-1"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"orderPhone",className:"block text-sm text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-purple-400"}),"Phone Number"]}),e.jsx("input",{id:"orderPhone",name:"orderPhone",type:"tel",value:a,onChange:e=>s(e.target.value),placeholder:"+91XXXXXXXXXX",onKeyDown:e=>"Enter"===e.key&&j(),className:"w-full px-4 py-3 bg-black/50 border border-purple-500/30 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:c,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 hover:from-purple-700 hover:via-pink-700 hover:to-purple-700 py-3.5 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/30 flex items-center justify-center gap-2 group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Searching..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"w-5 h-5"}),"View My Orders"]})]})]})]})]})})}),e.jsx(m,{mode:"wait",children:d&&e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsxs(f.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Me,{className:"w-8 h-8 text-purple-400"}),"Your Orders"]}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[o.length," ",1===o.length?"order":"orders"," found"]})]}),e.jsxs(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{p(!1),l([]),n(""),s(""),x(null)},className:"px-6 py-2.5 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 rounded-lg transition-all flex items-center gap-2 group",children:[e.jsx(Ce,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"}),"Search Again"]})]}),0===o.length?e.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-20",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(f.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(ye,{className:"w-20 h-20 text-gray-700 mx-auto mb-6"})}),e.jsx("div",{className:"absolute inset-0 bg-purple-500/20 blur-2xl rounded-full"})]}),e.jsx("p",{className:"text-gray-300 text-xl mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-500",children:"Try a different email or phone number"})]}):e.jsx("div",{className:"space-y-6",children:o.map((t,r)=>e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"bg-gradient-to-br from-purple-900/30 via-black to-pink-900/20 border border-purple-500/20 rounded-2xl p-6 hover:border-purple-500/40 transition-all hover:shadow-xl hover:shadow-purple-500/10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[e.jsxs("h3",{className:"text-xl bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:["Order #",t.trackingId]}),e.jsxs(f.span,{whileHover:{scale:1.05},className:`px-3 py-1.5 rounded-full text-xs border ${w(t.status)} flex items-center gap-1.5 font-medium`,children:[N(t.status),t.status.toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-purple-400"}),new Date(t.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-purple-400"}),t.paymentMethod.toUpperCase()]}),t.paymentType&&e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium "+("Prepaid"===t.paymentType?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"),children:t.paymentType}),t.paymentStatus&&e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium "+("Paid"===t.paymentStatus?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"),children:"Paid"===t.paymentStatus?"‚úì PAID":"PAYMENT PENDING"}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-purple-400"}),t.items.reduce((e,t)=>e+t.quantity,0)," item",1!==t.items.reduce((e,t)=>e+t.quantity,0)?"s":""]})]})]}),e.jsxs(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(h?.id===t.id?null:t),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 hover:from-purple-600/30 hover:to-pink-600/30 rounded-lg transition-all flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),h?.id===t.id?"Hide Details":"View Details"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 border border-purple-500/10",children:[e.jsxs("p",{className:"text-sm text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-purple-400"}),"Order Items"]}),e.jsx("div",{className:"space-y-2",children:t.items.map(t=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-300",children:t.name}),e.jsxs("span",{className:"text-gray-400",children:["x ",t.quantity]})]},t.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600/10 to-pink-600/10 rounded-xl p-4 border border-purple-500/20",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Amount"}),e.jsxs("p",{className:"text-3xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent mb-2",children:["‚Çπ",t.total.toLocaleString("en-IN")]}),t.discount&&t.discount>0&&e.jsxs(f.p,{initial:{scale:0},animate:{scale:1},className:"text-sm text-green-400 flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),"Saved ‚Çπ",t.discount.toLocaleString("en-IN")," with ",t.couponCode]})]})]}),e.jsx(m,{children:h?.id===t.id&&e.jsx(f.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsxs("div",{className:"border-t border-purple-500/20 pt-6 mt-4 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(f.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"bg-black/30 rounded-xl p-5 border border-purple-500/10",children:[e.jsxs("h4",{className:"text-sm text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-purple-400"}),"Delivery Address"]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[e.jsxs("p",{className:"text-white",children:[t.customerInfo.firstName," ",t.customerInfo.lastName]}),e.jsx("p",{children:t.customerInfo.address}),e.jsxs("p",{children:[t.customerInfo.city,", ",t.customerInfo.state," -"," ",t.customerInfo.pincode]})]})]}),e.jsxs(f.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"bg-black/30 rounded-xl p-5 border border-purple-500/10",children:[e.jsx("h4",{className:"text-sm text-gray-300 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("p",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(ue,{className:"w-4 h-4 text-purple-400"}),t.customerInfo.email]}),e.jsxs("p",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(je,{className:"w-4 h-4 text-purple-400"}),t.customerInfo.phone]})]})]})]}),e.jsxs(f.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 rounded-xl p-5 border border-purple-500/20",children:[e.jsxs("h4",{className:"text-sm text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-purple-400"}),"Price Breakdown"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["‚Çπ",t.subtotal.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between text-gray-400",children:[e.jsx("span",{children:"Shipping Charges"}),e.jsxs("span",{children:["‚Çπ",t.shippingCharges.toLocaleString("en-IN")]})]}),t.discount&&t.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-400",children:[e.jsxs("span",{children:["Discount (",t.couponCode,")"]}),e.jsxs("span",{children:["-‚Çπ",t.discount.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between text-lg border-t border-purple-500/30 pt-3",children:[e.jsx("span",{className:"text-white",children:"Total"}),e.jsxs("span",{className:"bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:["‚Çπ",t.total.toLocaleString("en-IN")]})]})]})]}),e.jsx(f.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"pt-2",children:e.jsxs(i,{to:`/track-order?id=${t.trackingId}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg transition-all shadow-lg shadow-purple-500/20 group",children:[e.jsx(Ue,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}),"Track this order"]})}),"delivered"===t.status.toLowerCase()&&e.jsx(f.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"pt-2",children:e.jsxs("button",{onClick:()=>{g(!0),v(t)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 rounded-lg transition-all shadow-lg shadow-red-500/20 group",children:[e.jsx(ke,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}),"Return this order"]})})]})})})]})]},t.id))})]})})]}),e.jsx($T,{isOpen:y,onClose:()=>{g(!1),v(null)},order:b?{orderId:b.id,trackingId:b.trackingId,email:b.customerInfo.email,customerName:`${b.customerInfo.firstName} ${b.customerInfo.lastName}`,total:b.total,items:b.items,createdAt:b.createdAt,deliveredAt:b.deliveredAt,updatedAt:b.updatedAt}:null,onSuccess:()=>{g(!1),v(null),j()}})]})}function RT(){const t=n(),{showToast:a,success:s,error:o}=Ze(),[l,c]=r.useState(null),[u,d]=r.useState(null),[p,h]=r.useState([]),[x,y]=r.useState([]),[g,b]=r.useState(!0),[v,j]=r.useState(!1),[w,N]=r.useState(!1),[k,S]=r.useState(null),[C,O]=r.useState(null),[E,A]=r.useState(!1),[T,I]=r.useState(null),[D,_]=r.useState(null),[L,z]=r.useState(null),[$,B]=r.useState(!1);r.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{session:e}}=await pt.auth.getSession();if(!e||!e.user)return void t("/",{replace:!0});c(e.user),await F(e.user.email,e.user.user_metadata),await W(e.user.email),await G()}catch(e){t("/",{replace:!0})}finally{b(!1)}},F=async(e,t)=>{try{const{data:{session:r}}=await pt.auth.getSession();if(!r)return;const n=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/user-profile`,{headers:{Authorization:`Bearer ${r.access_token}`}});if(n.ok){const e=await n.json();if(e.success)return d(e.profile),void O(e.profile)}const a={email:e,name:t?.name||"",phone:t?.phone||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",pincode:t?.pincode||"",loyaltyPoints:t?.loyaltyPoints||0,defaultAddress:t?.defaultAddress||null};d(a),O(a)}catch(r){const n={email:e,name:t?.name||"",phone:t?.phone||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",pincode:t?.pincode||"",loyaltyPoints:t?.loyaltyPoints||0,defaultAddress:t?.defaultAddress||null};d(n),O(n)}},W=async e=>{try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/my-orders?email=${e}`,{headers:{Authorization:`Bearer ${st}`}}),r=await t.json();if(r.success){const e=r.orders.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());h(e)}}catch(t){}},G=async()=>{try{const{data:{session:e}}=await pt.auth.getSession();if(!e)return;const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/addresses`,{headers:{Authorization:`Bearer ${e.access_token}`}}),r=await t.json();r.success&&y(r.addresses||[])}catch(e){}},V=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"shipped":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},X=t=>{switch(t.toLowerCase()){case"pending":return e.jsx(H,{className:"w-4 h-4"});case"processing":default:return e.jsx(ye,{className:"w-4 h-4"});case"shipped":return e.jsx(Ue,{className:"w-4 h-4"});case"delivered":return e.jsx(U,{className:"w-4 h-4"});case"cancelled":return e.jsx(q,{className:"w-4 h-4"})}},Y=e=>"pending"===e.toLowerCase();return g?e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[e.jsx(se,{className:"w-12 h-12 text-purple-400 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-400",children:"Loading your profile..."})]})}):e.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx(f.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"border-b border-purple-500/20 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(i,{to:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors group",children:[e.jsx(P,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{children:"Back to Home"})]}),e.jsxs(f.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-2xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(He,{className:"w-6 h-6 text-purple-400"}),"My Profile"]}),e.jsx("div",{className:"w-24"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsx(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-purple-600/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-3 rounded-full",children:e.jsx(M,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl text-white mb-1",children:"Loyalty Rewards"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Earn points on every purchase"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Your Points"}),e.jsxs("p",{className:"text-3xl bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:[u?.loyaltyPoints||0," pts"]})]})]})})}),x.length>0&&e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[e.jsxs("h2",{className:"text-xl flex items-center gap-2 mb-6",children:[e.jsx(pe,{className:"w-5 h-5 text-purple-400"}),"Saved Addresses (",x.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(t=>{const r=u?.defaultAddress?.id===t.id;return e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-black/50 border rounded-xl p-4 transition-all "+(r?"border-purple-500/50 shadow-lg shadow-purple-500/20":"border-purple-500/20"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),e.jsx("h3",{className:"text-white",children:t.label})]}),r&&e.jsx("span",{className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-full",children:"Default"})]}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[e.jsxs("p",{children:[t.firstName," ",t.lastName]}),e.jsx("p",{children:t.address}),e.jsxs("p",{children:[t.city,", ",t.state," - ",t.pincode]}),e.jsx("p",{children:t.phone})]}),!r&&e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>(async e=>{try{const{data:{session:t}}=await pt.auth.getSession();if(!t)return;const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/addresses/${e}/set-default`,{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`}}),n=await r.json();n.success?(s("Default address updated successfully!"),await F(l.email,l.user_metadata),await G()):o(n.message||"Failed to set default address")}catch(t){o("Error setting default address. Please try again.")}})(t.id),className:"mt-3 w-full bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 text-purple-300 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Set as Default"]})]},t.id)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5 text-purple-400"}),"Profile Details"]}),v?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(l&&C){N(!0);try{const{error:e}=await pt.auth.updateUser({data:{name:C.name,phone:C.phone,address:C.address,city:C.city,state:C.state,pincode:C.pincode}});if(e)throw e;d(C),j(!1),s("Profile updated successfully!")}catch(e){o("Failed to update profile. Please try again.")}finally{N(!1)}}},disabled:w,className:"p-2 bg-green-600/20 border border-green-500/30 hover:bg-green-600/30 rounded-lg transition-all disabled:opacity-50",children:w?e.jsx(se,{className:"w-4 h-4 text-green-400 animate-spin"}):e.jsx(Se,{className:"w-4 h-4 text-green-400"})}),e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{O(u),j(!1)},className:"p-2 bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 rounded-lg transition-all",children:e.jsx(Ge,{className:"w-4 h-4 text-red-400"})})]}):e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(!0),className:"p-2 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 rounded-lg transition-all",children:e.jsx(be,{className:"w-4 h-4 text-purple-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profileName",className:"block text-sm text-gray-400 mb-2",children:"Full Name"}),v?e.jsx("input",{id:"profileName",name:"profileName",type:"text",value:C?.name||"",onChange:e=>O({...C,name:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}):e.jsx("p",{className:"text-white",children:u?.name||"Not provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4 text-purple-400"}),"Email"]}),e.jsx("p",{className:"text-white",children:u?.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"profilePhone",className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-purple-400"}),"Phone Number"]}),v?e.jsx("input",{id:"profilePhone",name:"profilePhone",type:"tel",value:C?.phone||"",onChange:e=>O({...C,phone:e.target.value}),placeholder:"+91XXXXXXXXXX",className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}):e.jsx("p",{className:"text-white",children:u?.phone||"Not provided"})]}),e.jsx("div",{className:"pt-4 border-t border-purple-500/20",children:e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>A(!0),className:"w-full bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 text-red-400 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),"Delete Account"]})})]})]})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[e.jsxs("h2",{className:"text-xl flex items-center gap-2 mb-6",children:[e.jsx(Me,{className:"w-5 h-5 text-purple-400"}),"My Orders ",p.length>0&&`(${p.length})`]}),0===p.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No orders yet"})]}):e.jsx("div",{className:"space-y-4",children:p.map(t=>e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/50 border border-purple-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-400",children:["Order ID: ",t.trackingId]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-1 ${V(t.status)}`,children:[X(t.status),t.status]})})]}),e.jsxs("div",{className:"border-t border-purple-500/20 pt-3",children:[e.jsxs("p",{className:"text-white",children:["Total: ‚Çπ",t.total.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.items.length," item(s)"]})]}),Y(t.status)&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{_(t.id),z(t.customerInfo)},className:"flex-1 bg-blue-600/20 border border-blue-500/30 hover:bg-blue-600/30 text-blue-400 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),"Change Address"]}),e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>I(t.id),className:"flex-1 bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 text-red-400 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Cancel Order"]})]}),!Y(t.status)&&"cancelled"!==t.status.toLowerCase()&&e.jsxs("p",{className:"text-xs text-gray-500 mt-3 flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),"Order cannot be modified once processing has begun"]}),e.jsxs(f.button,{whileHover:{scale:1.01},onClick:()=>S(k?.id===t.id?null:t),className:"w-full mt-3 text-purple-400 hover:text-purple-300 text-sm flex items-center justify-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),k?.id===t.id?"Hide":"View"," Details"]}),e.jsx(m,{children:k?.id===t.id&&e.jsx(f.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"border-t border-purple-500/20 mt-3 pt-3 space-y-2",children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Items:"}),t.items.map(t=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[t.name," x ",t.quantity]}),e.jsxs("span",{children:["‚Çπ",(t.price*t.quantity).toLocaleString()]})]},t.id)),e.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["‚Çπ",t.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsx("span",{children:"Shipping:"}),e.jsxs("span",{children:["‚Çπ",t.shippingCharges.toLocaleString()]})]}),t.discount&&t.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-400",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-‚Çπ",t.discount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-white mt-2 pt-2 border-t border-purple-500/20",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["‚Çπ",t.total.toLocaleString()]})]})]}),e.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2",children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Delivery Address:"}),e.jsxs("p",{className:"text-sm text-white",children:[t.customerInfo.firstName," ",t.customerInfo.lastName]}),e.jsx("p",{className:"text-sm text-gray-300",children:t.customerInfo.address}),e.jsxs("p",{className:"text-sm text-gray-300",children:[t.customerInfo.city,", ",t.customerInfo.state," - ",t.customerInfo.pincode]}),e.jsx("p",{className:"text-sm text-gray-300",children:t.customerInfo.phone})]})]})})})]},t.id))})]})})]})]}),e.jsx(m,{children:E&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>A(!1)}),e.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-red-900/20 border border-red-500/30 rounded-2xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-xl text-white mb-2",children:"Delete Account?"}),e.jsx("p",{className:"text-gray-400",children:"This action cannot be undone. All your data will be permanently deleted."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Cancel"}),e.jsx("button",{onClick:()=>{(async()=>{if(l)try{const{data:{session:e}}=await pt.auth.getSession();if(!e)return;const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/account`,{method:"DELETE",headers:{Authorization:`Bearer ${e.access_token}`}}),n=await r.json();n.success?(await pt.auth.signOut(),s("Account deleted successfully"),t("/",{replace:!0})):o(n.message||"Failed to delete account")}catch(e){o("Error deleting account. Please try again.")}})(),A(!1)},className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-all",children:"Delete Account"})]})]})]})}),e.jsx(m,{children:T&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>I(null)}),e.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-red-900/20 border border-red-500/30 rounded-2xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(q,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-xl text-white mb-2",children:"Cancel Order?"}),e.jsx("p",{className:"text-gray-400",children:"Are you sure you want to cancel this order?"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>I(null),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Keep Order"}),e.jsx("button",{onClick:()=>(async e=>{try{const t=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/cancel`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:e,reason:"Customer requested cancellation"})}),r=await t.json();r.success?(s("Order cancelled successfully"),await W(l.email),I(null)):o(r.message||"Failed to cancel order")}catch(t){o("Error cancelling order. Please try again.")}})(T),className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-all",children:"Cancel Order"})]})]})]})}),e.jsx(m,{children:D&&L&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>_(null)}),e.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-purple-400"}),"Update Delivery Address"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm text-gray-400 mb-2",children:"First Name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",value:L.firstName||"",onChange:e=>z({...L,firstName:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm text-gray-400 mb-2",children:"Last Name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",value:L.lastName||"",onChange:e=>z({...L,lastName:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm text-gray-400 mb-2",children:"Phone"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",value:L.phone||"",onChange:e=>z({...L,phone:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm text-gray-400 mb-2",children:"Address"}),e.jsx("textarea",{id:"address",name:"address",value:L.address||"",onChange:e=>z({...L,address:e.target.value}),rows:3,className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm text-gray-400 mb-2",children:"City"}),e.jsx("input",{id:"city",name:"city",type:"text",value:L.city||"",onChange:e=>z({...L,city:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm text-gray-400 mb-2",children:"State"}),e.jsx("input",{id:"state",name:"state",type:"text",value:L.state||"",onChange:e=>z({...L,state:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"pincode",className:"block text-sm text-gray-400 mb-2",children:"Pincode"}),e.jsx("input",{id:"pincode",name:"pincode",type:"text",value:L.pincode||"",onChange:e=>z({...L,pincode:e.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>_(null),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Cancel"}),e.jsx("button",{onClick:()=>(async e=>{if(L)try{const{data:{session:t}}=await pt.auth.getSession();if(!t)return;const r=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/orders/${e}/address`,{method:"PUT",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(L)}),n=await r.json();n.success?(s("Order address updated successfully"),await W(l.email),_(null),z(null)):o(n.message||"Failed to update address")}catch(t){o("Error updating address. Please try again.")}})(D),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg transition-all",children:"Update Address"})]})]})]})}),e.jsx(m,{children:$&&e.jsx($T,{onClose:()=>B(!1)})})]})}function FT(){const{id:t}=c(),[a]=u(),i=n(),s=a.get("action"),[o,l]=r.useState("loading"),[d,p]=r.useState(""),[h,m]=r.useState(null);r.useEffect(()=>{x()},[t,s]);const x=async()=>{if(!t||!s||"approve"!==s&&"reject"!==s)return l("error"),void p("Invalid approval link. Please check your email and try again.");try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${t}/approve`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({action:s})}),r=await e.json();r.success?(l("success"),m(r.request),p("approve"===s?"Quote approved successfully! We will contact you shortly with payment details and production timeline.":"Quote rejected. Thank you for considering our service. Feel free to submit a new request anytime.")):(l("error"),p(r.error||"Failed to process your response. Please try again or contact support."))}catch(e){l("error"),p("An error occurred while processing your response. Please contact support.")}};return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(MT,{}),e.jsx("nav",{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-20",children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>i("/"),children:[e.jsx(nt,{size:"md"}),e.jsx("span",{className:"text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]})})})}),e.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-5rem)] py-12 px-4",children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl w-full",children:e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl p-8 md:p-12",children:["loading"===o&&e.jsxs("div",{className:"text-center",children:[e.jsx(f.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-6",children:e.jsx(oe,{className:"w-16 h-16 text-purple-400"})}),e.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"Processing Your Response..."}),e.jsx("p",{className:"text-gray-400",children:"Please wait while we update your custom clothing request."})]}),"success"===o&&e.jsxs("div",{className:"text-center",children:[e.jsx(f.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-6",children:"approve"===s?e.jsx(U,{className:"w-20 h-20 text-green-400"}):e.jsx(q,{className:"w-20 h-20 text-red-400"})}),e.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"approve"===s?"Quote Approved! üéâ":"Quote Declined"}),e.jsx("p",{className:"text-gray-300 text-lg mb-8",children:d}),h&&e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6 mb-8 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-purple-400",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:"Request Details"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"text-gray-300",children:[e.jsx("span",{className:"text-purple-400",children:"Request ID:"})," ",h.requestId]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("span",{className:"text-purple-400",children:"Type:"})," ",h.clothingDetails?.type]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("span",{className:"text-purple-400",children:"Size:"})," ",h.clothingDetails?.size]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("span",{className:"text-purple-400",children:"Quantity:"})," ",h.clothingDetails?.quantity]}),"approve"===s&&h.quotedPrice&&e.jsxs("p",{className:"text-gray-300 text-lg mt-4 pt-4 border-t border-purple-500/30",children:[e.jsx("span",{className:"text-purple-400",children:"Quoted Price:"})," ",e.jsxs("span",{className:"text-green-400 font-semibold",children:["‚Çπ",h.quotedPrice.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(f.button,{onClick:()=>i("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg transition-all flex items-center gap-2 justify-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(ye,{className:"w-5 h-5"}),"Continue Shopping"]}),"reject"===s&&e.jsx(f.button,{onClick:()=>i("/?custom-clothing=open"),className:"bg-purple-900/30 border border-purple-500/50 hover:bg-purple-900/50 px-8 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Submit New Request"})]})]}),"error"===o&&e.jsxs("div",{className:"text-center",children:[e.jsx(f.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-6",children:e.jsx(q,{className:"w-20 h-20 text-red-400"})}),e.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"Something Went Wrong"}),e.jsx("p",{className:"text-gray-300 text-lg mb-8",children:d}),e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-8",children:e.jsx("p",{className:"text-red-300 text-sm",children:"If you continue to experience issues, please contact our support team with your request ID."})}),e.jsx(f.button,{onClick:()=>i("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Return to Home"})]})]})})})]})}function UT(){const t=n(),[a,i]=r.useState("1499.00"),s="CCR-1234567890",o={name:"Test Customer"},l={type:"T-Shirt",size:"L",color:"Black",quantity:2},c=window.location.origin,u=`${c}/approve-quote/custom-clothing:1234567890?action=approve`,d=`${c}/approve-quote/custom-clothing:1234567890?action=reject`,p=`\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <style>\n          body { font-family: Arial, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 20px; }\n          .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a0a2e 0%, #7b2cbf 100%); border-radius: 16px; padding: 30px; }\n          .header { background: linear-gradient(to right, #7b2cbf, #e91e63); padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; }\n          .content { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border: 1px solid rgba(123,44,191,0.3); }\n          .label { color: #a855f7; font-weight: bold; }\n          .value { color: #e5e5e5; }\n          .price-box { background: linear-gradient(to right, #059669, #10b981); padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center; }\n          .button-container { display: flex; gap: 15px; justify-content: center; margin: 30px 0; }\n          .button { display: inline-block; padding: 15px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 16px; text-align: center; }\n          .approve-btn { background: linear-gradient(to right, #059669, #10b981); color: white; }\n          .reject-btn { background: linear-gradient(to right, #dc2626, #e91e63); color: white; }\n          .footer { text-align: center; margin-top: 20px; color: #9ca3af; font-size: 12px; }\n          @media only screen and (max-width: 600px) {\n            .button-container { flex-direction: column; }\n            .button { width: 100%; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1 style="margin: 0; color: white;">üí∞ Your Custom Clothing Quote</h1>\n          </div>\n          <div class="content">\n            <p style="font-size: 16px; margin-bottom: 20px;">Hi ${o.name},</p>\n            <p>Great news! We've reviewed your custom clothing design and prepared a quote for you.</p>\n            \n            <div style="margin: 20px 0; padding: 15px; background: rgba(123,44,191,0.2); border-left: 4px solid #7b2cbf; border-radius: 8px;">\n              <p style="margin: 0;"><strong>Request ID:</strong> ${s}</p>\n            </div>\n            \n            <div class="price-box">\n              <h2 style="margin: 0 0 10px 0; color: white; font-size: 36px;">‚Çπ${a}</h2>\n              <p style="margin: 0; color: white; opacity: 0.9;">Total Price (Including ‚Çπ100 shipping)</p>\n            </div>\n            \n            <h3 style="color: #e91e63;">Your Order Details</h3>\n            <p><span class="label">Clothing Type:</span> <span class="value">${l.type}</span></p>\n            <p><span class="label">Size:</span> <span class="value">${l.size}</span></p>\n            <p><span class="label">Color:</span> <span class="value">${l.color}</span></p>\n            <p><span class="label">Quantity:</span> <span class="value">${l.quantity}</span></p>\n            \n            <h3 style="color: #e91e63; margin-top: 30px;">Please Respond to This Quote</h3>\n            <p style="text-align: center; color: #e5e5e5; margin-bottom: 20px;">Click one of the buttons below to accept or decline this quote:</p>\n            \n            <div class="button-container">\n              <a href="${u}" class="button approve-btn">‚úÖ Accept Quote</a>\n              <a href="${d}" class="button reject-btn">‚ùå Decline Quote</a>\n            </div>\n            \n            <h3 style="color: #e91e63; margin-top: 20px;">What Happens Next?</h3>\n            <ol style="line-height: 1.8; color: #e5e5e5;">\n              <li>Click "Accept Quote" if you're happy with the price</li>\n              <li>We'll send you payment details within 24 hours</li>\n              <li>Production will begin after payment confirmation</li>\n              <li>Your custom clothing will be delivered to your address</li>\n              <li>Delivery typically takes 7-14 business days</li>\n            </ol>\n            \n            <div style="margin-top: 20px; padding: 15px; background: rgba(123,44,191,0.2); border-left: 4px solid #e91e63; border-radius: 8px;">\n              <p style="margin: 0;">‚è∞ <strong>Quote Valid For:</strong> 7 days from today</p>\n            </div>\n          </div>\n          <div class="footer">\n            <p>AnimeDropZone - Embrace Your Inner Demon</p>\n            <p>Questions? Reply to this email or contact us.</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;return e.jsx("div",{className:"min-h-screen bg-black p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/secret-admin-panel-7b2cbf"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 mb-6",children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Admin"]}),e.jsx("h1",{className:"text-white text-3xl mb-4",children:"Quote Email Preview"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"This is how the customer will see the quote email with approval buttons."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"testQuotePrice",className:"block text-gray-300 mb-2",children:"Adjust Quote Price (‚Çπ)"}),e.jsx("input",{id:"testQuotePrice",name:"testQuotePrice",type:"number",value:a,onChange:e=>i(e.target.value),className:"bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white",step:"0.01"})]}),e.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:e.jsx("iframe",{srcDoc:p,className:"w-full h-[800px] border-0",title:"Email Preview"})}),e.jsxs("div",{className:"mt-6 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white mb-2",children:"Testing Instructions:"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-2 list-disc list-inside",children:[e.jsx("li",{children:"This preview shows exactly how the quote email will appear to customers"}),e.jsx("li",{children:"The approval buttons will redirect to /approve-quote/:id page"}),e.jsx("li",{children:"Customers can approve or reject with one click"}),e.jsx("li",{children:"The status automatically updates in the database"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Note:"})," With Resend free plan, emails only work if sent to your verified email address"]})]})]})]})})}function qT(){const t=n(),[a,i]=r.useState(""),[s,o]=r.useState(!1),[l,c]=r.useState(!1),[u,d]=r.useState("");return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[e.jsx(MT,{}),e.jsxs(f.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs(f.button,{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors mb-6",whileHover:{x:-5},children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Home"]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(nt,{size:"lg"})}),l?e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($,{className:"w-8 h-8 text-green-400"})}),e.jsx("h3",{className:"text-white mb-2",children:"Check Your Email!"}),e.jsxs("p",{className:"text-gray-400 mb-6",children:["We've sent a password reset link to ",e.jsx("span",{className:"text-purple-400",children:a})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"The link will expire in 1 hour. If you don't see the email, check your spam folder."}),e.jsx(f.button,{onClick:()=>t("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",whileHover:{scale:1.05},children:"Return to Home"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-white text-center mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Enter your email and we'll send you a link to reset your password."}),u&&e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-red-400 text-sm text-center",children:u})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0),d("");try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/auth/forgot-password`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({email:a})}),t=await e.json();t.success?c(!0):d(t.message||"Failed to send reset email")}catch(t){d("An error occurred. Please try again.")}finally{o(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",name:"email",type:"email",value:a,onChange:e=>i(e.target.value),placeholder:"your@email.com",required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"})]})]}),e.jsx(f.button,{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:s?1:1.02},whileTap:{scale:s?1:.98},children:s?"Sending...":"Send Reset Link"})]})]})]})]})]})}function HT(){const t=n(),[a]=u(),i=a.get("token"),[s,o]=r.useState(""),[l,c]=r.useState(""),[d,p]=r.useState(!1),[h,m]=r.useState(!1),[x,y]=r.useState(!1),[g,b]=r.useState(!1),[v,j]=r.useState("");r.useEffect(()=>{i||j("Invalid reset link")},[i]);return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[e.jsx(MT,{}),e.jsxs(f.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs(f.button,{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors mb-6",whileHover:{x:-5},children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Home"]}),e.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(nt,{size:"lg"})}),g?e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($,{className:"w-8 h-8 text-green-400"})}),e.jsx("h3",{className:"text-white mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Your password has been updated successfully."}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"You can now log in with your new password. Redirecting to home page..."}),e.jsx(f.button,{onClick:()=>t("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",whileHover:{scale:1.05},children:"Go to Home Now"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-white text-center mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Enter your new password below."}),v&&e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-red-400 text-sm text-center",children:v})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.length<6)j("Password must be at least 6 characters long");else if(s===l){y(!0),j("");try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/auth/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({token:i,newPassword:s})}),r=await e.json();r.success?(b(!0),setTimeout(()=>t("/"),3e3)):j(r.message||"Failed to reset password")}catch(r){j("An error occurred. Please try again.")}finally{y(!1)}}else j("Passwords do not match")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resetPassword",className:"block text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"resetPassword",name:"resetPassword",type:d?"text":"password",value:s,onChange:e=>o(e.target.value),placeholder:"Enter new password",required:!0,minLength:6,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:d?e.jsx(K,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"At least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmResetPassword",className:"block text-gray-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"confirmResetPassword",name:"confirmResetPassword",type:h?"text":"password",value:l,onChange:e=>c(e.target.value),placeholder:"Confirm new password",required:!0,minLength:6,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:h?e.jsx(K,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})})]})]}),e.jsx(f.button,{type:"submit",disabled:x||!i,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:x?1:1.02},whileTap:{scale:x?1:.98},children:x?"Resetting...":"Reset Password"})]})]})]})]})]})}function WT(){const t=n(),[a,i]=r.useState(""),[s,o]=r.useState(null),[l,c]=r.useState(null),[u,d]=r.useState({health:!1,email:!1});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-8",children:e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Home"]})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl mb-4",children:"üîß Server Health Check"}),e.jsx("p",{className:"text-gray-400",children:"Test if the server and email service are working properly"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ee,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-2xl",children:"Server Status"})]}),e.jsx("button",{onClick:async()=>{d({...u,health:!0}),o(null);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/health`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();o({success:!0,data:t})}catch(e){o({success:!1,error:e instanceof Error?e.message:"Unknown error"})}finally{d({...u,health:!1})}},disabled:u.health,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2 mb-4",children:u.health?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-5 h-5 animate-spin"}),"Testing Server..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-5 h-5"}),"Check Server Health"]})}),s&&e.jsx("div",{className:"p-4 rounded-lg border "+(s.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"),children:s.success?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-3",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("strong",{children:"Server is Running!"})]}),e.jsxs("div",{className:"text-sm space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.data.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",s.data.message]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timestamp:"})," ",new Date(s.data.timestamp).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:e.jsx("strong",{children:"Services:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ Database: ",s.data.services.database]}),e.jsxs("li",{children:["‚Ä¢ Email Provider: ",s.data.services.emailProvider]}),e.jsxs("li",{children:["‚Ä¢ Admin Email: ",s.data.services.adminEmail]})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("strong",{children:"Server Error"})]}),e.jsx("p",{className:"text-sm text-gray-300",children:s.error})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ue,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-2xl",children:"Email Service Test"})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Send a test email to verify that the email service is working correctly. This will send a real email to the address you provide."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"serverTestEmail",className:"block text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{id:"serverTestEmail",name:"serverTestEmail",type:"email",value:a,onChange:e=>i(e.target.value),placeholder:"Enter your email address",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),e.jsx("button",{onClick:async()=>{if(a){d({...u,email:!0}),c(null);try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({email:a})}),t=await e.json();c(t)}catch(e){c({success:!1,error:e instanceof Error?e.message:"Unknown error"})}finally{d({...u,email:!1})}}else c({success:!1,error:"Please enter an email address"})},disabled:u.email||!a,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2 mb-4",children:u.email?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-5 h-5 animate-spin"}),"Sending Test Email..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-5 h-5"}),"Send Test Email"]})}),l&&e.jsx("div",{className:"p-4 rounded-lg border "+(l.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"),children:l.success?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("strong",{children:"Email Sent Successfully!"})]}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:l.message}),e.jsx("p",{className:"text-xs text-gray-400",children:"‚ö†Ô∏è Check your spam/junk folder if you don't see it in your inbox"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("strong",{children:"Email Send Failed"})]}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:l.error||"Unknown error"}),l.details&&e.jsx("div",{className:"mt-3 p-3 bg-black/30 rounded text-xs text-gray-400 overflow-auto",children:e.jsx("pre",{children:JSON.stringify(l.details,null,2)})})]})})]}),e.jsxs("div",{className:"mt-6 bg-purple-900/10 border border-purple-500/20 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg mb-3 text-purple-300",children:"üìã How to Use This Test"}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-400 list-decimal list-inside",children:[e.jsx("li",{children:'First, click "Check Server Health" to verify the server is running'}),e.jsx("li",{children:"If server is healthy, enter your email address in the field above"}),e.jsx("li",{children:'Click "Send Test Email" to test the email service'}),e.jsx("li",{children:"Check your inbox (and spam folder) for the test email"}),e.jsx("li",{children:"If you receive the email, your email service is working correctly!"})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:e.jsxs("p",{className:"text-yellow-400 text-sm",children:[e.jsx("strong",{children:"‚ö†Ô∏è Note:"})," If the test email fails, check the browser console (F12) and Supabase Edge Function logs for detailed error messages."]})})]})]})]})})}function GT(){const t=n(),[a,i]=r.useState({customerEmail:"",customerName:"",customerPassword:""}),[s,o]=r.useState({basicTest:null,signupTest:null,adminTest:null}),[l,c]=r.useState({basicTest:!1,signupTest:!1,adminTest:!1}),u=async()=>{if(a.customerEmail){c({...l,basicTest:!0}),o({...s,basicTest:null});try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({email:a.customerEmail})}),t=await e.json();o({...s,basicTest:t})}catch(e){o({...s,basicTest:{success:!1,error:e instanceof Error?e.message:"Unknown error"}})}finally{c({...l,basicTest:!1})}}else o({...s,basicTest:{success:!1,error:"Please enter an email address"}})},d=async()=>{if(a.customerEmail&&a.customerName&&a.customerPassword){c({...l,signupTest:!0}),o({...s,signupTest:null});try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/signup`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({email:a.customerEmail,name:a.customerName,password:a.customerPassword})}),t=await e.json();t.success?o({...s,signupTest:{success:!0,message:`Account created successfully! Check these inboxes:\n1. ${a.customerEmail} (Welcome email)\n2. anime.drop.zone.00@gmail.com (Admin notification)\n\n‚ö†Ô∏è Check spam folders if emails don't appear in inbox!`,data:t}}):o({...s,signupTest:{success:!1,error:t.message||t.error||"Signup failed",data:t}})}catch(e){o({...s,signupTest:{success:!1,error:e instanceof Error?e.message:"Unknown error"}})}finally{c({...l,signupTest:!1})}}else o({...s,signupTest:{success:!1,error:"Please fill in all signup fields (email, name, password)"}})},p=async()=>{c({...l,adminTest:!0}),o({...s,adminTest:null});try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({email:"anime.drop.zone.00@gmail.com"})}),t=await e.json();o({...s,adminTest:t})}catch(e){o({...s,adminTest:{success:!1,error:e instanceof Error?e.message:"Unknown error"}})}finally{c({...l,adminTest:!1})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-8",children:e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Home"]})}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl mb-4",children:"üìß Email System Test"}),e.jsx("p",{className:"text-gray-400",children:"Comprehensive testing for customer and admin email delivery"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"üîß Test Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"testCustomerEmail",className:"block text-gray-300 mb-2",children:"Customer Email (for testing)"}),e.jsx("input",{id:"testCustomerEmail",name:"testCustomerEmail",type:"email",value:a.customerEmail,onChange:e=>i({...a,customerEmail:e.target.value}),placeholder:"your-email@example.com",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This email will receive test emails"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"testCustomerName",className:"block text-gray-300 mb-2",children:"Customer Name"}),e.jsx("input",{id:"testCustomerName",name:"testCustomerName",type:"text",value:a.customerName,onChange:e=>i({...a,customerName:e.target.value}),placeholder:"Test User",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"testPassword",className:"block text-gray-300 mb-2",children:"Test Password"}),e.jsx("input",{id:"testPassword",name:"testPassword",type:"password",value:a.customerPassword,onChange:e=>i({...a,customerPassword:e.target.value}),placeholder:"test123456",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),e.jsxs("button",{onClick:async()=>{await u(),await new Promise(e=>setTimeout(e,2e3)),await d(),await new Promise(e=>setTimeout(e,2e3)),await p()},disabled:!a.customerEmail||!a.customerName||!a.customerPassword,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-600 disabled:to-gray-700 py-4 rounded-lg transition-all flex items-center justify-center gap-2 text-lg font-bold",children:[e.jsx(ue,{className:"w-6 h-6"}),"Run All Email Tests"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl",children:"Test 1: Basic Email Service"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tests if email service is configured correctly"})]})]}),e.jsx("button",{onClick:u,disabled:l.basicTest||!a.customerEmail,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:l.basicTest?e.jsx(oe,{className:"w-4 h-4 animate-spin"}):"Test"})]}),s.basicTest&&e.jsx("div",{className:"p-4 rounded-lg border "+(s.basicTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"),children:s.basicTest.success?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("strong",{children:"‚úÖ Email Service Working!"})]}),e.jsxs("p",{className:"text-sm text-gray-300",children:["Test email sent to: ",a.customerEmail]}),e.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:"‚ö†Ô∏è Check your inbox and spam folder"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("strong",{children:"‚ùå Email Service Failed"})]}),e.jsx("p",{className:"text-sm text-gray-300",children:s.basicTest.error})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(He,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl",children:"Test 2: Signup Email Flow"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tests customer welcome email + admin notification"})]})]}),e.jsx("button",{onClick:d,disabled:l.signupTest||!a.customerEmail||!a.customerName||!a.customerPassword,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:l.signupTest?e.jsx(oe,{className:"w-4 h-4 animate-spin"}):"Test"})]}),e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:[e.jsx("p",{className:"text-sm text-blue-300",children:e.jsx("strong",{children:"üìß This test will send 2 emails:"})}),e.jsxs("ul",{className:"text-sm text-gray-300 ml-4 mt-2 space-y-1",children:[e.jsxs("li",{children:["1. Welcome email ‚Üí ",a.customerEmail||"[Customer Email]"]}),e.jsx("li",{children:"2. Admin notification ‚Üí anime.drop.zone.00@gmail.com"})]})]}),s.signupTest&&e.jsx("div",{className:"p-4 rounded-lg border "+(s.signupTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"),children:s.signupTest.success?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("strong",{children:"‚úÖ Signup Flow Completed!"})]}),e.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line mb-3",children:s.signupTest.message}),e.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded p-3 mt-3",children:[e.jsx("p",{className:"text-xs text-purple-300 mb-2",children:e.jsx("strong",{children:"What to check:"})}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsxs("li",{children:["‚úâÔ∏è Customer inbox: ",a.customerEmail]}),e.jsx("li",{children:"‚úâÔ∏è Admin inbox: anime.drop.zone.00@gmail.com"}),e.jsx("li",{children:"üìÅ Check spam/junk folders in both inboxes"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("strong",{children:"‚ùå Signup Flow Failed"})]}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.signupTest.error}),s.signupTest.data&&e.jsx("div",{className:"mt-2 p-2 bg-black/30 rounded text-xs text-gray-400 overflow-auto max-h-40",children:e.jsx("pre",{children:JSON.stringify(s.signupTest.data,null,2)})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl",children:"Test 3: Admin Email Direct"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tests sending email directly to admin"})]})]}),e.jsx("button",{onClick:p,disabled:l.adminTest,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:l.adminTest?e.jsx(oe,{className:"w-4 h-4 animate-spin"}):"Test"})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"üìß Sends test email to:"})," anime.drop.zone.00@gmail.com"]})}),s.adminTest&&e.jsx("div",{className:"p-4 rounded-lg border "+(s.adminTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"),children:s.adminTest.success?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("strong",{children:"‚úÖ Admin Email Sent!"})]}),e.jsx("p",{className:"text-sm text-gray-300",children:"Test email sent to admin: anime.drop.zone.00@gmail.com"}),e.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:"‚ö†Ô∏è Check anime.drop.zone.00@gmail.com inbox and spam folder"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("strong",{children:"‚ùå Admin Email Failed"})]}),e.jsx("p",{className:"text-sm text-gray-300",children:s.adminTest.error})]})})]}),e.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/20 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg mb-3 text-purple-300",children:"üìã Testing Instructions"}),e.jsxs("ol",{className:"space-y-3 text-sm text-gray-400 list-decimal list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Fill in test data above"}),e.jsx("p",{className:"ml-6 mt-1",children:"Enter your email, a test name, and a password (min 6 chars)"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:'Click "Run All Email Tests"'}),e.jsx("p",{className:"ml-6 mt-1",children:"This will automatically run all 3 tests in sequence"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Check inboxes"}),e.jsxs("p",{className:"ml-6 mt-1",children:["‚Ä¢ Your email inbox (customer welcome email)",e.jsx("br",{}),"‚Ä¢ anime.drop.zone.00@gmail.com (admin notification)",e.jsx("br",{}),"‚Ä¢ Don't forget to check spam/junk folders!"]})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Check browser console and server logs"}),e.jsxs("p",{className:"ml-6 mt-1",children:["‚Ä¢ Open browser console (F12) for detailed logs",e.jsx("br",{}),"‚Ä¢ Check Supabase Edge Function logs if emails fail"]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:e.jsxs("p",{className:"text-yellow-400 text-sm",children:[e.jsx("strong",{children:"‚ö†Ô∏è Important:"}),' The signup test creates a real user account. If you run it multiple times with the same email, it will fail saying "user already exists". Use different email addresses for multiple tests.']})})]})]})]})})}function VT(){const t=n(),[a,i]=r.useState(null),[s,o]=r.useState(!0);r.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),l()},[]);const l=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&t.privacy&&i(t.privacy)}catch(e){}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:[e.jsx("nav",{className:"bg-black/50 backdrop-blur-md border-b border-purple-900/30 sticky top-0 z-40",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{onClick:()=>t("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Home"]})}),e.jsx(nt,{})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-8 md:p-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Privacy Policy"}),e.jsxs("p",{className:"text-gray-400 mb-8",children:["Last updated: ",(new Date).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),s?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):a?e.jsx("div",{className:"space-y-8 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:a}}):e.jsxs("div",{className:"space-y-8 text-gray-300",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"1. Introduction"}),e.jsx("p",{className:"leading-relaxed",children:'Welcome to animedropzone.com ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our services.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"2. Information We Collect"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"We collect information that you provide directly to us, including:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, shipping address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Payment Information:"})," Payment method details (processed securely through our payment partners)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Order Information:"})," Purchase history, product preferences, cart contents"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Account Information:"})," Username, password (encrypted), profile details"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication Data:"})," Support tickets, reviews, feedback, and correspondence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information, cookies"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"3. How We Use Your Information"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"We use the information we collect to:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Process and fulfill your orders"}),e.jsx("li",{children:"Send order confirmations, shipping updates, and delivery notifications"}),e.jsx("li",{children:"Provide customer support and respond to your inquiries"}),e.jsx("li",{children:"Send promotional emails about new products, special offers, and updates (with your consent)"}),e.jsx("li",{children:"Improve our website, products, and services"}),e.jsx("li",{children:"Prevent fraud and enhance security"}),e.jsx("li",{children:"Comply with legal obligations"}),e.jsx("li",{children:"Manage our loyalty program and rewards"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"4. Information Sharing"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"We may share your information with:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Payment Processors:"})," Razorpay, PayTM for secure payment processing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Shipping Partners:"})," Courier services for order delivery"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Email Service Providers:"})," For sending transactional and promotional emails"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"WhatsApp Business API:"})," For order notifications and updates (via Twilio)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics Providers:"})," To understand website usage and improve our services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Authorities:"})," When required by law or to protect our rights"]})]}),e.jsx("p",{className:"leading-relaxed mt-4",children:e.jsx("strong",{children:"We do NOT sell your personal information to third parties."})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"5. Data Security"}),e.jsx("p",{className:"leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"6. Cookies and Tracking Technologies"}),e.jsx("p",{className:"leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your browsing experience, analyze website traffic, and personalize content. You can control cookie preferences through your browser settings. However, disabling cookies may limit some website functionality."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"7. Your Privacy Rights"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"You have the right to:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Access:"})," Request a copy of your personal information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Opt-Out:"})," Unsubscribe from marketing communications"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Object:"})," Object to processing of your personal information"]})]}),e.jsxs("p",{className:"leading-relaxed mt-4",children:["To exercise these rights, please contact us at ",e.jsx("strong",{className:"text-purple-400",children:"anime.drop.zone.00@gmail.com"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"8. Data Retention"}),e.jsx("p",{className:"leading-relaxed",children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required by law. Order information is typically retained for 7 years for accounting and tax purposes."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"9. Children's Privacy"}),e.jsx("p",{className:"leading-relaxed",children:"Our services are not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"10. International Data Transfers"}),e.jsx("p",{className:"leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"11. Changes to This Policy"}),e.jsx("p",{className:"leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last updated" date. We encourage you to review this Privacy Policy periodically.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"12. Contact Us"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"animedropzone.com"})}),e.jsxs("p",{className:"mb-2",children:["Email: ",e.jsx("a",{href:"mailto:anime.drop.zone.00@gmail.com",className:"text-purple-400 hover:text-purple-300",children:"anime.drop.zone.00@gmail.com"})]}),e.jsxs("p",{children:["Website: ",e.jsx("a",{href:"/",className:"text-purple-400 hover:text-purple-300",children:"animedropzone.com"})]})]})]}),e.jsx("section",{className:"border-t border-purple-500/30 pt-8 mt-8",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"By using AnimeDropZone, you acknowledge that you have read and understood this Privacy Policy and agree to its terms. If you do not agree with this policy, please do not use our website or services."})})]})]})})]})}function XT(){const t=n(),[a,i]=r.useState(null),[s,o]=r.useState(!0);r.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),l()},[]);const l=async()=>{try{const e=await fetch(`https://${it}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${st}`}}),t=await e.json();t.success&&t.terms&&i(t.terms)}catch(e){}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:[e.jsx("nav",{className:"bg-black/50 backdrop-blur-md border-b border-purple-900/30 sticky top-0 z-40",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{onClick:()=>t("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Back to Home"]})}),e.jsx(nt,{})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-8 md:p-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Terms of Service"}),e.jsxs("p",{className:"text-gray-400 mb-8",children:["Last updated: ",(new Date).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),s?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):a?e.jsx("div",{className:"space-y-8 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:a}}):e.jsxs("div",{className:"space-y-8 text-gray-300",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"leading-relaxed",children:'Welcome to animedropzone.com! By accessing or using our website and services, you agree to be bound by these Terms of Service ("Terms"). If you do not agree with these Terms, please do not use our services. We reserve the right to modify these Terms at any time, and your continued use of the website constitutes acceptance of any changes.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"2. Description of Service"}),e.jsx("p",{className:"leading-relaxed",children:"animedropzone.com is an e-commerce platform specializing in anime figures, accessories, posters, clothing, collectibles, and katana. We provide an online marketplace where customers can browse, purchase, and receive anime-related merchandise. We reserve the right to modify, suspend, or discontinue any aspect of our services at any time."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"3. User Accounts"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"To make purchases, you must create an account. You agree to:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),e.jsx("li",{children:"Maintain and promptly update your account information"}),e.jsx("li",{children:"Keep your password confidential and secure"}),e.jsx("li",{children:"Notify us immediately of any unauthorized use of your account"}),e.jsx("li",{children:"Be responsible for all activities that occur under your account"}),e.jsx("li",{children:"Not share your account with others"})]}),e.jsx("p",{className:"leading-relaxed mt-4",children:"You must be at least 18 years old to create an account. We reserve the right to refuse service or terminate accounts at our discretion."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"4. Orders and Payments"}),e.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.1 Placing Orders"}),e.jsx("p",{className:"leading-relaxed",children:"When you place an order, you are making an offer to purchase products. We reserve the right to accept or decline your order for any reason, including product availability, pricing errors, or suspected fraudulent activity."}),e.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.2 Pricing"}),e.jsx("p",{className:"leading-relaxed",children:"All prices are listed in Indian Rupees (‚Çπ) and are subject to change without notice. We make every effort to ensure pricing accuracy, but errors may occur. If a product is listed at an incorrect price, we reserve the right to refuse or cancel orders placed at that price."}),e.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.3 Payment Methods"}),e.jsx("p",{className:"leading-relaxed mb-2",children:"We accept the following payment methods:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"UPI (Google Pay, PhonePe, Paytm, BHIM, etc.)"}),e.jsx("li",{children:"Razorpay (Credit/Debit Cards, Net Banking, Wallets)"}),e.jsx("li",{children:"PayTM"}),e.jsx("li",{children:"Cash on Delivery (COD) - subject to availability"})]}),e.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.4 Shipping Charges"}),e.jsx("p",{className:"leading-relaxed",children:"A flat shipping charge of ‚Çπ100 applies to all orders, regardless of order value or location within India."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"5. Shipping and Delivery"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"We ship products across India. Delivery times may vary based on your location and product availability. You will receive tracking information via email and WhatsApp once your order is shipped."}),e.jsxs("p",{className:"leading-relaxed",children:[e.jsx("strong",{children:"Important:"})," Please ensure your shipping address is accurate. We are not responsible for delays or non-delivery due to incorrect addresses provided by customers."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"6. Returns and Refunds"}),e.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"6.1 Return Policy"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"We want you to be completely satisfied with your purchase. Returns are accepted under the following conditions:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Products must be returned within 7 days of delivery"}),e.jsx("li",{children:"Items must be unused, in original packaging, and in resellable condition"}),e.jsx("li",{children:"Proof of purchase (order ID) must be provided"}),e.jsx("li",{children:"Custom clothing orders are non-returnable unless defective"}),e.jsx("li",{children:"Collectibles and limited edition items may have special return policies"})]}),e.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"6.2 Refund Process"}),e.jsx("p",{className:"leading-relaxed",children:"Refunds for online payments (UPI, Razorpay, PayTM) will be processed within 5-7 business days after we receive and inspect the returned item. COD orders are not eligible for cash refunds."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"7. Order Cancellation"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"You may cancel your order before it is shipped. To cancel an order:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:'Go to "Track Order" and enter your tracking ID'}),e.jsx("li",{children:'Click "Cancel Order" and provide a reason'}),e.jsx("li",{children:"You will receive a cancellation confirmation via email and WhatsApp"})]}),e.jsx("p",{className:"leading-relaxed mt-4",children:"Orders cannot be cancelled once they are shipped. In such cases, you must follow the return process after receiving the product."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"8. Product Descriptions and Images"}),e.jsx("p",{className:"leading-relaxed",children:"We strive to display product colors, images, and descriptions as accurately as possible. However, actual colors may vary slightly due to screen settings. Product images are for illustration purposes and may include accessories or components not included with the purchase."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"9. Intellectual Property"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"All content on AnimeDropZone, including but not limited to text, graphics, logos, images, and software, is our property or the property of our licensors and is protected by intellectual property laws. You may not:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Reproduce, distribute, or publicly display any content without permission"}),e.jsx("li",{children:"Use our brand name, logo, or trademarks without authorization"}),e.jsx("li",{children:"Copy or scrape product listings or images"}),e.jsx("li",{children:"Reverse engineer or modify any part of our website"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"10. User Conduct"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"You agree not to:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[e.jsx("li",{children:"Use our services for any illegal or unauthorized purpose"}),e.jsx("li",{children:"Violate any laws in your jurisdiction"}),e.jsx("li",{children:"Transmit any harmful code, viruses, or malware"}),e.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),e.jsx("li",{children:"Harass, abuse, or harm other users or our staff"}),e.jsx("li",{children:"Submit false or misleading information"}),e.jsx("li",{children:"Engage in fraudulent activities or payment disputes"}),e.jsx("li",{children:"Post inappropriate reviews or content"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"11. Reviews and User Content"}),e.jsx("p",{className:"leading-relaxed",children:"You may submit product reviews and ratings. By submitting content, you grant us a non-exclusive, royalty-free, perpetual license to use, reproduce, modify, and display your content. We reserve the right to remove any content that violates these Terms or is deemed inappropriate."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"12. Loyalty Program"}),e.jsx("p",{className:"leading-relaxed",children:"Our loyalty program rewards returning customers with points that can be redeemed for discounts. Program terms, point values, and redemption rules are subject to change. Points have no cash value and cannot be transferred."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"13. Coupons and Promotions"}),e.jsx("p",{className:"leading-relaxed",children:"Coupon codes and promotional offers are subject to specific terms and conditions. Coupons may have expiration dates, minimum order requirements, and usage limits. We reserve the right to cancel or modify promotions at any time."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"14. Limitation of Liability"}),e.jsx("p",{className:"leading-relaxed",children:"To the fullest extent permitted by law, AnimeDropZone shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of our services. Our total liability shall not exceed the amount you paid for the product in question."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"15. Disclaimer of Warranties"}),e.jsx("p",{className:"leading-relaxed",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied. We do not guarantee that our website will be uninterrupted, error-free, or secure.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"16. Indemnification"}),e.jsx("p",{className:"leading-relaxed",children:"You agree to indemnify and hold harmless AnimeDropZone, its officers, directors, employees, and affiliates from any claims, damages, losses, or expenses arising from your violation of these Terms or misuse of our services."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"17. Governing Law"}),e.jsx("p",{className:"leading-relaxed",children:"These Terms shall be governed by and construed in accordance with the laws of India. Any disputes shall be subject to the exclusive jurisdiction of the courts in [Your City], India."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"18. Contact Information"}),e.jsx("p",{className:"leading-relaxed mb-4",children:"For questions, concerns, or support regarding these Terms of Service, please contact us:"}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"animedropzone.com"})}),e.jsxs("p",{className:"mb-2",children:["Email: ",e.jsx("a",{href:"mailto:anime.drop.zone.00@gmail.com",className:"text-purple-400 hover:text-purple-300",children:"anime.drop.zone.00@gmail.com"})]}),e.jsxs("p",{children:["Website: ",e.jsx("a",{href:"/",className:"text-purple-400 hover:text-purple-300",children:"animedropzone.com"})]})]})]}),e.jsxs("section",{className:"border-t border-purple-500/30 pt-8 mt-8",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"By using AnimeDropZone, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service. If you do not agree with these Terms, please discontinue use of our website and services immediately."}),e.jsx("p",{className:"text-gray-400 text-sm mt-4",children:e.jsx("strong",{children:"Thank you for shopping with AnimeDropZone! üéåüíú"})})]})]})]})})]})}function YT(){return r.useEffect(()=>{const e=new Blob(['\n      <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n          <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">\n            <stop offset="0%" style="stop-color:#9333ea;stop-opacity:1" />\n            <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />\n          </linearGradient>\n          <linearGradient id="inner-gradient" x1="0%" y1="0%" x2="0%" y2="100%">\n            <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />\n            <stop offset="100%" style="stop-color:#9333ea;stop-opacity:1" />\n          </linearGradient>\n        </defs>\n        \n        \x3c!-- Background rounded square --\x3e\n        <rect width="32" height="32" rx="6" fill="url(#bg-gradient)"/>\n        \n        \x3c!-- Stylized "A" for Anime --\x3e\n        <path\n          d="M16 8L9 26H12L14 21H18L20 26H23L16 8Z"\n          fill="white"\n          stroke="white"\n          stroke-width="0.3"\n        />\n        <path\n          d="M15 18L16 14L17 18H15Z"\n          fill="url(#inner-gradient)"\n        />\n      </svg>\n    '],{type:"image/svg+xml"}),t=URL.createObjectURL(e);document.querySelectorAll('link[rel*="icon"]').forEach(e=>e.remove());const r=document.createElement("link");r.rel="icon",r.type="image/svg+xml",r.href=t,document.head.appendChild(r);const n=document.createElement("link");n.rel="apple-touch-icon",n.href=t,document.head.appendChild(n),""!==document.title&&"Vite + React + TS"!==document.title||(document.title="AnimeDropZone - Anime Figures & Accessories Store");if(!document.querySelector('meta[name="theme-color"]')){const e=document.createElement("meta");e.name="theme-color",e.content="#9333ea",document.head.appendChild(e)}return()=>{URL.revokeObjectURL(t)}},[]),null}class KT extends l.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-8 text-center max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Application Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Something went wrong. Please check the console for details and try reloading the page."}),e.jsxs("details",{className:"text-left mb-4",children:[e.jsx("summary",{className:"cursor-pointer text-purple-400 hover:text-purple-300",children:"Error Details"}),e.jsx("pre",{className:"text-xs text-gray-400 mt-2 whitespace-pre-wrap",children:this.state.error?.message})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors mr-4",children:"Reload Page"}),e.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg transition-colors",children:"Try Again"})]})}):this.props.children}}function JT(){const[t,n]=r.useState(!0),a="undefined"!=typeof window&&window.innerWidth<768;if(r.useEffect(()=>{const e=a?1500:2500,t=setTimeout(()=>{"complete"===document.readyState&&n(!1)},a?200:300),r=setTimeout(()=>{n(!1)},e),i=()=>{n(!1)};return window.addEventListener("load",i),()=>{clearTimeout(t),clearTimeout(r),window.removeEventListener("load",i)}},[]),!t)return null;const i=a?48:60,s=a?"0.3s":"0.5s",o=a?"14px":"16px",l=a?"20px":"30px";return e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #000 0%, #1a0033 50%, #000 100%)",zIndex:9999,animation:`fadeOut ${s} ease-out forwards`,animationDelay:"0.2s",willChange:"opacity"},children:[e.jsx("style",{children:"\n        @keyframes fadeOut {\n          from {\n            opacity: 1;\n            visibility: visible;\n          }\n          to {\n            opacity: 0;\n            visibility: hidden;\n          }\n        }\n\n        @keyframes spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.5;\n          }\n        }\n\n        .preloader-spinner {\n          will-change: transform;\n        }\n\n        @media (max-width: 767px) {\n          .preloader-spinner {\n            animation: spin 0.8s linear infinite;\n          }\n          .preloader-text {\n            animation: pulse 1.2s ease-in-out infinite;\n          }\n        }\n\n        @media (min-width: 768px) {\n          .preloader-spinner {\n            animation: spin 1s linear infinite;\n          }\n          .preloader-text {\n            animation: pulse 1.5s ease-in-out infinite;\n          }\n        }\n      "}),e.jsxs("div",{style:{textAlign:"center",userSelect:"none"},children:[e.jsx("div",{className:"preloader-spinner",style:{width:`${i}px`,height:`${i}px`,border:"4px solid rgba(168, 85, 247, 0.2)",borderTop:"4px solid #a855f7",borderRadius:"50%",margin:"0 auto 20px",backgroundColor:"transparent"}}),e.jsx("div",{className:"preloader-text",style:{color:"#a855f7",fontSize:o,fontWeight:"600",letterSpacing:"2px",marginBottom:"10px",pointerEvents:"none"},children:"LOADING"}),e.jsxs("div",{style:{color:"#a855f7",fontSize:a?"16px":"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[e.jsx("span",{style:{animation:"pulse 0.6s ease-in-out infinite"},children:"."}),e.jsx("span",{style:{animation:"pulse 0.6s ease-in-out infinite 0.2s"},children:"."}),e.jsx("span",{style:{animation:"pulse 0.6s ease-in-out infinite 0.4s"},children:"."})]}),e.jsx("div",{style:{marginTop:l,fontSize:"11px",color:"#999",letterSpacing:"1px",opacity:.8},children:"animedropzone"})]})]})}function ZT(){return e.jsx(Je,{children:e.jsxs(tt,{children:[e.jsx(JT,{}),e.jsx(d,{children:e.jsxs(KT,{children:[e.jsx(YT,{}),e.jsxs(p,{children:[e.jsx(h,{path:"/",element:e.jsx(Et,{})}),e.jsx(h,{path:"/secret-admin-panel-7b2cbf",element:e.jsx(PT,{})}),e.jsx(h,{path:"/admin",element:e.jsx(Et,{})}),e.jsx(h,{path:"/track-order",element:e.jsx(TT,{})}),e.jsx(h,{path:"/my-orders",element:e.jsx(BT,{})}),e.jsx(h,{path:"/my-profile",element:e.jsx(RT,{})}),e.jsx(h,{path:"/product/:id",element:e.jsx(IT,{})}),e.jsx(h,{path:"/category/:category",element:e.jsx(zT,{})}),e.jsx(h,{path:"/categories/:category",element:e.jsx(zT,{})}),e.jsx(h,{path:"/approve-quote/:id",element:e.jsx(FT,{})}),e.jsx(h,{path:"/test-quote-email",element:e.jsx(UT,{})}),e.jsx(h,{path:"/forgot-password",element:e.jsx(qT,{})}),e.jsx(h,{path:"/reset-password",element:e.jsx(HT,{})}),e.jsx(h,{path:"/server-test",element:e.jsx(WT,{})}),e.jsx(h,{path:"/email-test",element:e.jsx(GT,{})}),e.jsx(h,{path:"/privacy-policy",element:e.jsx(VT,{})}),e.jsx(h,{path:"/terms-of-service",element:e.jsx(XT,{})})]})]})})]})})}b.createRoot(document.getElementById("root")).render(e.jsx(ZT,{}));export{$ as C,re as H,ue as M,je as P,Ae as S,Ue as T,We as U,de as a,fe as b,st as c,De as d,Oe as e,it as p};
