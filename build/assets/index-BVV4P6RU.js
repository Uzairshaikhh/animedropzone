function pj(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oa(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var o=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return t[a]}})}),r}var ku={exports:{}},Ui={},Nu={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function fj(){if(Mm)return ke;Mm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function _(P,U,ee){this.props=P,this.context=U,this.refs=S,this.updater=ee||b}_.prototype.isReactComponent={},_.prototype.setState=function(P,U){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,U,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=_.prototype;function C(P,U,ee){this.props=P,this.context=U,this.refs=S,this.updater=ee||b}var N=C.prototype=new T;N.constructor=C,k(N,_.prototype),N.isPureReactComponent=!0;var I=Array.isArray,F=Object.prototype.hasOwnProperty,z={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function Y(P,U,ee){var me,we={},je=null,Ce=null;if(U!=null)for(me in U.ref!==void 0&&(Ce=U.ref),U.key!==void 0&&(je=""+U.key),U)F.call(U,me)&&!V.hasOwnProperty(me)&&(we[me]=U[me]);var Se=arguments.length-2;if(Se===1)we.children=ee;else if(1<Se){for(var B=Array(Se),G=0;G<Se;G++)B[G]=arguments[G+2];we.children=B}if(P&&P.defaultProps)for(me in Se=P.defaultProps,Se)we[me]===void 0&&(we[me]=Se[me]);return{$$typeof:t,type:P,key:je,ref:Ce,props:we,_owner:z.current}}function ne(P,U){return{$$typeof:t,type:P.type,key:U,ref:P.ref,props:P.props,_owner:P._owner}}function le(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Ne(P){var U={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ee){return U[ee]})}var ve=/\/+/g;function _e(P,U){return typeof P=="object"&&P!==null&&P.key!=null?Ne(""+P.key):U.toString(36)}function ze(P,U,ee,me,we){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var Ce=!1;if(P===null)Ce=!0;else switch(je){case"string":case"number":Ce=!0;break;case"object":switch(P.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=P,we=we(Ce),P=me===""?"."+_e(Ce,0):me,I(we)?(ee="",P!=null&&(ee=P.replace(ve,"$&/")+"/"),ze(we,U,ee,"",function(G){return G})):we!=null&&(le(we)&&(we=ne(we,ee+(!we.key||Ce&&Ce.key===we.key?"":(""+we.key).replace(ve,"$&/")+"/")+P)),U.push(we)),1;if(Ce=0,me=me===""?".":me+":",I(P))for(var Se=0;Se<P.length;Se++){je=P[Se];var B=me+_e(je,Se);Ce+=ze(je,U,ee,B,we)}else if(B=v(P),typeof B=="function")for(P=B.call(P),Se=0;!(je=P.next()).done;)je=je.value,B=me+_e(je,Se++),Ce+=ze(je,U,ee,B,we);else if(je==="object")throw U=String(P),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ce}function $e(P,U,ee){if(P==null)return P;var me=[],we=0;return ze(P,me,"","",function(je){return U.call(ee,je,we++)}),me}function Ue(P){if(P._status===-1){var U=P._result;U=U(),U.then(function(ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=ee)},function(ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=ee)}),P._status===-1&&(P._status=0,P._result=U)}if(P._status===1)return P._result.default;throw P._result}var he={current:null},M={transition:null},X={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:M,ReactCurrentOwner:z};function K(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:$e,forEach:function(P,U,ee){$e(P,function(){U.apply(this,arguments)},ee)},count:function(P){var U=0;return $e(P,function(){U++}),U},toArray:function(P){return $e(P,function(U){return U})||[]},only:function(P){if(!le(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ke.Component=_,ke.Fragment=r,ke.Profiler=o,ke.PureComponent=C,ke.StrictMode=a,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ke.act=K,ke.cloneElement=function(P,U,ee){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var me=k({},P.props),we=P.key,je=P.ref,Ce=P._owner;if(U!=null){if(U.ref!==void 0&&(je=U.ref,Ce=z.current),U.key!==void 0&&(we=""+U.key),P.type&&P.type.defaultProps)var Se=P.type.defaultProps;for(B in U)F.call(U,B)&&!V.hasOwnProperty(B)&&(me[B]=U[B]===void 0&&Se!==void 0?Se[B]:U[B])}var B=arguments.length-2;if(B===1)me.children=ee;else if(1<B){Se=Array(B);for(var G=0;G<B;G++)Se[G]=arguments[G+2];me.children=Se}return{$$typeof:t,type:P.type,key:we,ref:je,props:me,_owner:Ce}},ke.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},ke.createElement=Y,ke.createFactory=function(P){var U=Y.bind(null,P);return U.type=P,U},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:h,render:P}},ke.isValidElement=le,ke.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:Ue}},ke.memo=function(P,U){return{$$typeof:m,type:P,compare:U===void 0?null:U}},ke.startTransition=function(P){var U=M.transition;M.transition={};try{P()}finally{M.transition=U}},ke.unstable_act=K,ke.useCallback=function(P,U){return he.current.useCallback(P,U)},ke.useContext=function(P){return he.current.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P){return he.current.useDeferredValue(P)},ke.useEffect=function(P,U){return he.current.useEffect(P,U)},ke.useId=function(){return he.current.useId()},ke.useImperativeHandle=function(P,U,ee){return he.current.useImperativeHandle(P,U,ee)},ke.useInsertionEffect=function(P,U){return he.current.useInsertionEffect(P,U)},ke.useLayoutEffect=function(P,U){return he.current.useLayoutEffect(P,U)},ke.useMemo=function(P,U){return he.current.useMemo(P,U)},ke.useReducer=function(P,U,ee){return he.current.useReducer(P,U,ee)},ke.useRef=function(P){return he.current.useRef(P)},ke.useState=function(P){return he.current.useState(P)},ke.useSyncExternalStore=function(P,U,ee){return he.current.useSyncExternalStore(P,U,ee)},ke.useTransition=function(){return he.current.useTransition()},ke.version="18.3.1",ke}var $m;function Yd(){return $m||($m=1,Nu.exports=fj()),Nu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function mj(){if(Um)return Ui;Um=1;var t=Yd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,m){var g,x={},v=null,b=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(b=p.ref);for(g in p)a.call(p,g)&&!l.hasOwnProperty(g)&&(x[g]=p[g]);if(h&&h.defaultProps)for(g in p=h.defaultProps,p)x[g]===void 0&&(x[g]=p[g]);return{$$typeof:e,type:h,key:v,ref:b,props:x,_owner:o.current}}return Ui.Fragment=r,Ui.jsx=u,Ui.jsxs=u,Ui}var Fm;function gj(){return Fm||(Fm=1,ku.exports=mj()),ku.exports}var n=gj(),Po={},Su={exports:{}},Mt={},_u={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function yj(){return Bm||(Bm=1,(function(t){function e(M,X){var K=M.length;M.push(X);e:for(;0<K;){var P=K-1>>>1,U=M[P];if(0<o(U,X))M[P]=X,M[K]=U,K=P;else break e}}function r(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var X=M[0],K=M.pop();if(K!==X){M[0]=K;e:for(var P=0,U=M.length,ee=U>>>1;P<ee;){var me=2*(P+1)-1,we=M[me],je=me+1,Ce=M[je];if(0>o(we,K))je<U&&0>o(Ce,we)?(M[P]=Ce,M[je]=K,P=je):(M[P]=we,M[me]=K,P=me);else if(je<U&&0>o(Ce,K))M[P]=Ce,M[je]=K,P=je;else break e}}return X}function o(M,X){var K=M.sortIndex-X.sortIndex;return K!==0?K:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],m=[],g=1,x=null,v=3,b=!1,k=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(M){for(var X=r(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=M)a(m),X.sortIndex=X.expirationTime,e(p,X);else break;X=r(m)}}function I(M){if(S=!1,N(M),!k)if(r(p)!==null)k=!0,Ue(F);else{var X=r(m);X!==null&&he(I,X.startTime-M)}}function F(M,X){k=!1,S&&(S=!1,T(Y),Y=-1),b=!0;var K=v;try{for(N(X),x=r(p);x!==null&&(!(x.expirationTime>X)||M&&!Ne());){var P=x.callback;if(typeof P=="function"){x.callback=null,v=x.priorityLevel;var U=P(x.expirationTime<=X);X=t.unstable_now(),typeof U=="function"?x.callback=U:x===r(p)&&a(p),N(X)}else a(p);x=r(p)}if(x!==null)var ee=!0;else{var me=r(m);me!==null&&he(I,me.startTime-X),ee=!1}return ee}finally{x=null,v=K,b=!1}}var z=!1,V=null,Y=-1,ne=5,le=-1;function Ne(){return!(t.unstable_now()-le<ne)}function ve(){if(V!==null){var M=t.unstable_now();le=M;var X=!0;try{X=V(!0,M)}finally{X?_e():(z=!1,V=null)}}else z=!1}var _e;if(typeof C=="function")_e=function(){C(ve)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,$e=ze.port2;ze.port1.onmessage=ve,_e=function(){$e.postMessage(null)}}else _e=function(){_(ve,0)};function Ue(M){V=M,z||(z=!0,_e())}function he(M,X){Y=_(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,Ue(F))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(M){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var K=v;v=X;try{return M()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=v;v=M;try{return X()}finally{v=K}},t.unstable_scheduleCallback=function(M,X,K){var P=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?P+K:P):K=P,M){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=K+U,M={id:g++,callback:X,priorityLevel:M,startTime:K,expirationTime:U,sortIndex:-1},K>P?(M.sortIndex=K,e(m,M),r(p)===null&&M===r(m)&&(S?(T(Y),Y=-1):S=!0,he(I,K-P))):(M.sortIndex=U,e(p,M),k||b||(k=!0,Ue(F))),M},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(M){var X=v;return function(){var K=v;v=X;try{return M.apply(this,arguments)}finally{v=K}}}})(Eu)),Eu}var zm;function xj(){return zm||(zm=1,_u.exports=yj()),_u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function vj(){if(Vm)return Mt;Vm=1;var t=Yd(),e=xj();function r(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)a.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function v(s){return p.call(x,s)?!0:p.call(g,s)?!1:m.test(s)?x[s]=!0:(g[s]=!0,!1)}function b(s,i,c,d){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,i,c,d){if(i===null||typeof i>"u"||b(s,i,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(s,i,c,d,f,y,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=w}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];_[i]=new S(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(T,C);_[i]=new S(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(T,C);_[i]=new S(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(T,C);_[i]=new S(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,i,c,d){var f=_.hasOwnProperty(i)?_[i]:null;(f!==null?f.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,c,f,d)&&(c=null),d||f===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):f.mustUseProperty?s[f.propertyName]=c===null?f.type===3?!1:"":c:(i=f.attributeName,d=f.attributeNamespace,c===null?s.removeAttribute(i):(f=f.type,c=f===3||f===4&&c===!0?"":""+c,d?s.setAttributeNS(d,i,c):s.setAttribute(i,c))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),M=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var K=Object.assign,P;function U(s){if(P===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+s}var ee=!1;function me(s,i){if(!s||ee)return"";ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var d=$}Reflect.construct(s,[],i)}else{try{i.call()}catch($){d=$}s.call(i.prototype)}else{try{throw Error()}catch($){d=$}s()}}catch($){if($&&d&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),y=d.stack.split(`
`),w=f.length-1,E=y.length-1;1<=w&&0<=E&&f[w]!==y[E];)E--;for(;1<=w&&0<=E;w--,E--)if(f[w]!==y[E]){if(w!==1||E!==1)do if(w--,E--,0>E||f[w]!==y[E]){var A=`
`+f[w].replace(" at new "," at ");return s.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",s.displayName)),A}while(1<=w&&0<=E);break}}}finally{ee=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?U(s):""}function we(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case z:return"Portal";case ne:return"Profiler";case Y:return"StrictMode";case _e:return"Suspense";case ze:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ne:return(s.displayName||"Context")+".Consumer";case le:return(s._context.displayName||"Context")+".Provider";case ve:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $e:return i=s.displayName||null,i!==null?i:je(s.type)||"Memo";case Ue:i=s._payload,s=s._init;try{return je(s(i))}catch{}}return null}function Ce(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(i);case 8:return i===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function B(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function G(s){var i=B(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,y=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function pe(s){s._valueTracker||(s._valueTracker=G(s))}function Pe(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),d="";return s&&(d=B(s)?s.checked?"true":"false":s.value),s=d,s!==c?(i.setValue(s),!0):!1}function Ie(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ft(s,i){var c=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function ya(s,i){var c=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;c=Se(i.value!=null?i.value:c),s._wrapperState={initialChecked:d,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function xa(s,i){i=i.checked,i!=null&&N(s,"checked",i,!1)}function Zn(s,i){xa(s,i);var c=Se(i.value),d=i.type;if(c!=null)d==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ei(s,i.type,c):i.hasOwnProperty("defaultValue")&&ei(s,i.type,Se(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function va(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ei(s,i,c){(i!=="number"||Ie(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var bs=Array.isArray;function Q(s,i,c,d){if(s=s.options,i){i={};for(var f=0;f<c.length;f++)i["$"+c[f]]=!0;for(c=0;c<s.length;c++)f=i.hasOwnProperty("$"+s[c].value),s[c].selected!==f&&(s[c].selected=f),f&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Se(c),i=null,f=0;f<s.length;f++){if(s[f].value===c){s[f].selected=!0,d&&(s[f].defaultSelected=!0);return}i!==null||s[f].disabled||(i=s[f])}i!==null&&(i.selected=!0)}}function ge(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Oe(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(bs(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Se(c)}}function mt(s,i){var c=Se(i.value),d=Se(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),d!=null&&(s.defaultValue=""+d)}function ct(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function wa(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?wa(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ba,Jh=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,d,f){MSApp.execUnsafeLocalFunction(function(){return s(i,c,d,f)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ba.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ti(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yw=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(s){yw.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ri[i]=ri[s]})});function Xh(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ri.hasOwnProperty(s)&&ri[s]?(""+i).trim():i+"px"}function Qh(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var d=c.indexOf("--")===0,f=Xh(c,i[c],d);c==="float"&&(c="cssFloat"),d?s.setProperty(c,f):s[c]=f}}var xw=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(s,i){if(i){if(xw[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Ll(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=null;function $l(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ul=null,tn=null,rn=null;function Zh(s){if(s=Ni(s)){if(typeof Ul!="function")throw Error(r(280));var i=s.stateNode;i&&(i=Ha(i),Ul(s.stateNode,s.type,i))}}function ep(s){tn?rn?rn.push(s):rn=[s]:tn=s}function tp(){if(tn){var s=tn,i=rn;if(rn=tn=null,Zh(s),i)for(s=0;s<i.length;s++)Zh(i[s])}}function rp(s,i){return s(i)}function sp(){}var Fl=!1;function np(s,i,c){if(Fl)return s(i,c);Fl=!0;try{return rp(s,i,c)}finally{Fl=!1,(tn!==null||rn!==null)&&(sp(),tp())}}function si(s,i){var c=s.stateNode;if(c===null)return null;var d=Ha(c);if(d===null)return null;c=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var Bl=!1;if(h)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Bl=!1}function vw(s,i,c,d,f,y,w,E,A){var $=Array.prototype.slice.call(arguments,3);try{i.apply(c,$)}catch(W){this.onError(W)}}var ii=!1,ja=null,ka=!1,zl=null,ww={onError:function(s){ii=!0,ja=s}};function bw(s,i,c,d,f,y,w,E,A){ii=!1,ja=null,vw.apply(ww,arguments)}function jw(s,i,c,d,f,y,w,E,A){if(bw.apply(this,arguments),ii){if(ii){var $=ja;ii=!1,ja=null}else throw Error(r(198));ka||(ka=!0,zl=$)}}function js(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function ip(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function ap(s){if(js(s)!==s)throw Error(r(188))}function kw(s){var i=s.alternate;if(!i){if(i=js(s),i===null)throw Error(r(188));return i!==s?null:s}for(var c=s,d=i;;){var f=c.return;if(f===null)break;var y=f.alternate;if(y===null){if(d=f.return,d!==null){c=d;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===c)return ap(f),s;if(y===d)return ap(f),i;y=y.sibling}throw Error(r(188))}if(c.return!==d.return)c=f,d=y;else{for(var w=!1,E=f.child;E;){if(E===c){w=!0,c=f,d=y;break}if(E===d){w=!0,d=f,c=y;break}E=E.sibling}if(!w){for(E=y.child;E;){if(E===c){w=!0,c=y,d=f;break}if(E===d){w=!0,d=y,c=f;break}E=E.sibling}if(!w)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:i}function op(s){return s=kw(s),s!==null?lp(s):null}function lp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=lp(s);if(i!==null)return i;s=s.sibling}return null}var cp=e.unstable_scheduleCallback,up=e.unstable_cancelCallback,Nw=e.unstable_shouldYield,Sw=e.unstable_requestPaint,Ze=e.unstable_now,_w=e.unstable_getCurrentPriorityLevel,Vl=e.unstable_ImmediatePriority,dp=e.unstable_UserBlockingPriority,Na=e.unstable_NormalPriority,Ew=e.unstable_LowPriority,hp=e.unstable_IdlePriority,Sa=null,yr=null;function Cw(s){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Sa,s,void 0,(s.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Aw,Tw=Math.log,Pw=Math.LN2;function Aw(s){return s>>>=0,s===0?32:31-(Tw(s)/Pw|0)|0}var _a=64,Ea=4194304;function ai(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ca(s,i){var c=s.pendingLanes;if(c===0)return 0;var d=0,f=s.suspendedLanes,y=s.pingedLanes,w=c&268435455;if(w!==0){var E=w&~f;E!==0?d=ai(E):(y&=w,y!==0&&(d=ai(y)))}else w=c&~f,w!==0?d=ai(w):y!==0&&(d=ai(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&f)===0&&(f=d&-d,y=i&-i,f>=y||f===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)c=31-sr(i),f=1<<c,d|=s[c],i&=~f;return d}function Rw(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(s,i){for(var c=s.suspendedLanes,d=s.pingedLanes,f=s.expirationTimes,y=s.pendingLanes;0<y;){var w=31-sr(y),E=1<<w,A=f[w];A===-1?((E&c)===0||(E&d)!==0)&&(f[w]=Rw(E,i)):A<=i&&(s.expiredLanes|=E),y&=~E}}function Hl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pp(){var s=_a;return _a<<=1,(_a&4194240)===0&&(_a=64),s}function Wl(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function oi(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-sr(i),s[i]=c}function Iw(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<c;){var f=31-sr(c),y=1<<f;i[f]=0,d[f]=-1,s[f]=-1,c&=~y}}function ql(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var d=31-sr(c),f=1<<d;f&i|s[d]&i&&(s[d]|=i),c&=~f}}var Re=0;function fp(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var mp,Gl,gp,yp,xp,Kl=!1,Ta=[],Hr=null,Wr=null,qr=null,li=new Map,ci=new Map,Gr=[],Dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vp(s,i){switch(s){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":li.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(i.pointerId)}}function ui(s,i,c,d,f,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[f]},i!==null&&(i=Ni(i),i!==null&&Gl(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),s)}function Lw(s,i,c,d,f){switch(i){case"focusin":return Hr=ui(Hr,s,i,c,d,f),!0;case"dragenter":return Wr=ui(Wr,s,i,c,d,f),!0;case"mouseover":return qr=ui(qr,s,i,c,d,f),!0;case"pointerover":var y=f.pointerId;return li.set(y,ui(li.get(y)||null,s,i,c,d,f)),!0;case"gotpointercapture":return y=f.pointerId,ci.set(y,ui(ci.get(y)||null,s,i,c,d,f)),!0}return!1}function wp(s){var i=ks(s.target);if(i!==null){var c=js(i);if(c!==null){if(i=c.tag,i===13){if(i=ip(c),i!==null){s.blockedOn=i,xp(s.priority,function(){gp(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pa(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=Jl(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Ml=d,c.target.dispatchEvent(d),Ml=null}else return i=Ni(c),i!==null&&Gl(i),s.blockedOn=c,!1;i.shift()}return!0}function bp(s,i,c){Pa(s)&&c.delete(i)}function Mw(){Kl=!1,Hr!==null&&Pa(Hr)&&(Hr=null),Wr!==null&&Pa(Wr)&&(Wr=null),qr!==null&&Pa(qr)&&(qr=null),li.forEach(bp),ci.forEach(bp)}function di(s,i){s.blockedOn===i&&(s.blockedOn=null,Kl||(Kl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mw)))}function hi(s){function i(f){return di(f,s)}if(0<Ta.length){di(Ta[0],s);for(var c=1;c<Ta.length;c++){var d=Ta[c];d.blockedOn===s&&(d.blockedOn=null)}}for(Hr!==null&&di(Hr,s),Wr!==null&&di(Wr,s),qr!==null&&di(qr,s),li.forEach(i),ci.forEach(i),c=0;c<Gr.length;c++)d=Gr[c],d.blockedOn===s&&(d.blockedOn=null);for(;0<Gr.length&&(c=Gr[0],c.blockedOn===null);)wp(c),c.blockedOn===null&&Gr.shift()}var sn=I.ReactCurrentBatchConfig,Aa=!0;function $w(s,i,c,d){var f=Re,y=sn.transition;sn.transition=null;try{Re=1,Yl(s,i,c,d)}finally{Re=f,sn.transition=y}}function Uw(s,i,c,d){var f=Re,y=sn.transition;sn.transition=null;try{Re=4,Yl(s,i,c,d)}finally{Re=f,sn.transition=y}}function Yl(s,i,c,d){if(Aa){var f=Jl(s,i,c,d);if(f===null)pc(s,i,d,Ra,c),vp(s,d);else if(Lw(f,s,i,c,d))d.stopPropagation();else if(vp(s,d),i&4&&-1<Dw.indexOf(s)){for(;f!==null;){var y=Ni(f);if(y!==null&&mp(y),y=Jl(s,i,c,d),y===null&&pc(s,i,d,Ra,c),y===f)break;f=y}f!==null&&d.stopPropagation()}else pc(s,i,d,null,c)}}var Ra=null;function Jl(s,i,c,d){if(Ra=null,s=$l(d),s=ks(s),s!==null)if(i=js(s),i===null)s=null;else if(c=i.tag,c===13){if(s=ip(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Ra=s,null}function jp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_w()){case Vl:return 1;case dp:return 4;case Na:case Ew:return 16;case hp:return 536870912;default:return 16}default:return 16}}var Kr=null,Xl=null,Oa=null;function kp(){if(Oa)return Oa;var s,i=Xl,c=i.length,d,f="value"in Kr?Kr.value:Kr.textContent,y=f.length;for(s=0;s<c&&i[s]===f[s];s++);var w=c-s;for(d=1;d<=w&&i[c-d]===f[y-d];d++);return Oa=f.slice(s,1<d?1-d:void 0)}function Ia(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Da(){return!0}function Np(){return!1}function Bt(s){function i(c,d,f,y,w){this._reactName=c,this._targetInst=f,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(c=s[E],this[E]=c?c(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Da:Np,this.isPropagationStopped=Np,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),i}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Bt(nn),pi=K({},nn,{view:0,detail:0}),Fw=Bt(pi),Zl,ec,fi,La=K({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fi&&(fi&&s.type==="mousemove"?(Zl=s.screenX-fi.screenX,ec=s.screenY-fi.screenY):ec=Zl=0,fi=s),Zl)},movementY:function(s){return"movementY"in s?s.movementY:ec}}),Sp=Bt(La),Bw=K({},La,{dataTransfer:0}),zw=Bt(Bw),Vw=K({},pi,{relatedTarget:0}),tc=Bt(Vw),Hw=K({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ww=Bt(Hw),qw=K({},nn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gw=Bt(qw),Kw=K({},nn,{data:0}),_p=Bt(Kw),Yw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qw(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Xw[s])?!!i[s]:!1}function rc(){return Qw}var Zw=K({},pi,{key:function(s){if(s.key){var i=Yw[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Jw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(s){return s.type==="keypress"?Ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),eb=Bt(Zw),tb=K({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=Bt(tb),rb=K({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),sb=Bt(rb),nb=K({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ib=Bt(nb),ab=K({},La,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ob=Bt(ab),lb=[9,13,27,32],sc=h&&"CompositionEvent"in window,mi=null;h&&"documentMode"in document&&(mi=document.documentMode);var cb=h&&"TextEvent"in window&&!mi,Cp=h&&(!sc||mi&&8<mi&&11>=mi),Tp=" ",Pp=!1;function Ap(s,i){switch(s){case"keyup":return lb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var an=!1;function ub(s,i){switch(s){case"compositionend":return Rp(i);case"keypress":return i.which!==32?null:(Pp=!0,Tp);case"textInput":return s=i.data,s===Tp&&Pp?null:s;default:return null}}function db(s,i){if(an)return s==="compositionend"||!sc&&Ap(s,i)?(s=kp(),Oa=Xl=Kr=null,an=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Cp&&i.locale!=="ko"?null:i.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!hb[s.type]:i==="textarea"}function Ip(s,i,c,d){ep(d),i=Ba(i,"onChange"),0<i.length&&(c=new Ql("onChange","change",null,c,d),s.push({event:c,listeners:i}))}var gi=null,yi=null;function pb(s){Qp(s,0)}function Ma(s){var i=dn(s);if(Pe(i))return s}function fb(s,i){if(s==="change")return i}var Dp=!1;if(h){var nc;if(h){var ic="oninput"in document;if(!ic){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),ic=typeof Lp.oninput=="function"}nc=ic}else nc=!1;Dp=nc&&(!document.documentMode||9<document.documentMode)}function Mp(){gi&&(gi.detachEvent("onpropertychange",$p),yi=gi=null)}function $p(s){if(s.propertyName==="value"&&Ma(yi)){var i=[];Ip(i,yi,s,$l(s)),np(pb,i)}}function mb(s,i,c){s==="focusin"?(Mp(),gi=i,yi=c,gi.attachEvent("onpropertychange",$p)):s==="focusout"&&Mp()}function gb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ma(yi)}function yb(s,i){if(s==="click")return Ma(i)}function xb(s,i){if(s==="input"||s==="change")return Ma(i)}function vb(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var nr=typeof Object.is=="function"?Object.is:vb;function xi(s,i){if(nr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var f=c[d];if(!p.call(i,f)||!nr(s[f],i[f]))return!1}return!0}function Up(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Fp(s,i){var c=Up(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=i&&d>=i)return{node:c,offset:i-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Up(c)}}function Bp(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Bp(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function zp(){for(var s=window,i=Ie();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Ie(s.document)}return i}function ac(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function wb(s){var i=zp(),c=s.focusedElem,d=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&Bp(c.ownerDocument.documentElement,c)){if(d!==null&&ac(c)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var f=c.textContent.length,y=Math.min(d.start,f);d=d.end===void 0?y:Math.min(d.end,f),!s.extend&&y>d&&(f=d,d=y,y=f),f=Fp(c,y);var w=Fp(c,d);f&&w&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),s.removeAllRanges(),y>d?(s.addRange(i),s.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var bb=h&&"documentMode"in document&&11>=document.documentMode,on=null,oc=null,vi=null,lc=!1;function Vp(s,i,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lc||on==null||on!==Ie(d)||(d=on,"selectionStart"in d&&ac(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),vi&&xi(vi,d)||(vi=d,d=Ba(oc,"onSelect"),0<d.length&&(i=new Ql("onSelect","select",null,i,c),s.push({event:i,listeners:d}),i.target=on)))}function $a(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var ln={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},cc={},Hp={};h&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function Ua(s){if(cc[s])return cc[s];if(!ln[s])return s;var i=ln[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in Hp)return cc[s]=i[c];return s}var Wp=Ua("animationend"),qp=Ua("animationiteration"),Gp=Ua("animationstart"),Kp=Ua("transitionend"),Yp=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(s,i){Yp.set(s,i),l(i,[s])}for(var uc=0;uc<Jp.length;uc++){var dc=Jp[uc],jb=dc.toLowerCase(),kb=dc[0].toUpperCase()+dc.slice(1);Yr(jb,"on"+kb)}Yr(Wp,"onAnimationEnd"),Yr(qp,"onAnimationIteration"),Yr(Gp,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Kp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Xp(s,i,c){var d=s.type||"unknown-event";s.currentTarget=c,jw(d,i,void 0,s),s.currentTarget=null}function Qp(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],f=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var w=d.length-1;0<=w;w--){var E=d[w],A=E.instance,$=E.currentTarget;if(E=E.listener,A!==y&&f.isPropagationStopped())break e;Xp(f,E,$),y=A}else for(w=0;w<d.length;w++){if(E=d[w],A=E.instance,$=E.currentTarget,E=E.listener,A!==y&&f.isPropagationStopped())break e;Xp(f,E,$),y=A}}}if(ka)throw s=zl,ka=!1,zl=null,s}function Fe(s,i){var c=i[vc];c===void 0&&(c=i[vc]=new Set);var d=s+"__bubble";c.has(d)||(Zp(i,s,2,!1),c.add(d))}function hc(s,i,c){var d=0;i&&(d|=4),Zp(c,s,d,i)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function bi(s){if(!s[Fa]){s[Fa]=!0,a.forEach(function(c){c!=="selectionchange"&&(Nb.has(c)||hc(c,!1,s),hc(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Fa]||(i[Fa]=!0,hc("selectionchange",!1,i))}}function Zp(s,i,c,d){switch(jp(i)){case 1:var f=$w;break;case 4:f=Uw;break;default:f=Yl}c=f.bind(null,i,c,s),f=void 0,!Bl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),d?f!==void 0?s.addEventListener(i,c,{capture:!0,passive:f}):s.addEventListener(i,c,!0):f!==void 0?s.addEventListener(i,c,{passive:f}):s.addEventListener(i,c,!1)}function pc(s,i,c,d,f){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var E=d.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;w=w.return}for(;E!==null;){if(w=ks(E),w===null)return;if(A=w.tag,A===5||A===6){d=y=w;continue e}E=E.parentNode}}d=d.return}np(function(){var $=y,W=$l(c),q=[];e:{var H=Yp.get(s);if(H!==void 0){var Z=Ql,se=s;switch(s){case"keypress":if(Ia(c)===0)break e;case"keydown":case"keyup":Z=eb;break;case"focusin":se="focus",Z=tc;break;case"focusout":se="blur",Z=tc;break;case"beforeblur":case"afterblur":Z=tc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=sb;break;case Wp:case qp:case Gp:Z=Ww;break;case Kp:Z=ib;break;case"scroll":Z=Fw;break;case"wheel":Z=ob;break;case"copy":case"cut":case"paste":Z=Gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ep}var ie=(i&4)!==0,et=!ie&&s==="scroll",D=ie?H!==null?H+"Capture":null:H;ie=[];for(var O=$,L;O!==null;){L=O;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,D!==null&&(J=si(O,D),J!=null&&ie.push(ji(O,J,L)))),et)break;O=O.return}0<ie.length&&(H=new Z(H,se,null,c,W),q.push({event:H,listeners:ie}))}}if((i&7)===0){e:{if(H=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",H&&c!==Ml&&(se=c.relatedTarget||c.fromElement)&&(ks(se)||se[Er]))break e;if((Z||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(se=c.relatedTarget||c.toElement,Z=$,se=se?ks(se):null,se!==null&&(et=js(se),se!==et||se.tag!==5&&se.tag!==6)&&(se=null)):(Z=null,se=$),Z!==se)){if(ie=Sp,J="onMouseLeave",D="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(ie=Ep,J="onPointerLeave",D="onPointerEnter",O="pointer"),et=Z==null?H:dn(Z),L=se==null?H:dn(se),H=new ie(J,O+"leave",Z,c,W),H.target=et,H.relatedTarget=L,J=null,ks(W)===$&&(ie=new ie(D,O+"enter",se,c,W),ie.target=L,ie.relatedTarget=et,J=ie),et=J,Z&&se)t:{for(ie=Z,D=se,O=0,L=ie;L;L=cn(L))O++;for(L=0,J=D;J;J=cn(J))L++;for(;0<O-L;)ie=cn(ie),O--;for(;0<L-O;)D=cn(D),L--;for(;O--;){if(ie===D||D!==null&&ie===D.alternate)break t;ie=cn(ie),D=cn(D)}ie=null}else ie=null;Z!==null&&ef(q,H,Z,ie,!1),se!==null&&et!==null&&ef(q,et,se,ie,!0)}}e:{if(H=$?dn($):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var ae=fb;else if(Op(H))if(Dp)ae=xb;else{ae=gb;var ue=mb}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ae=yb);if(ae&&(ae=ae(s,$))){Ip(q,ae,c,W);break e}ue&&ue(s,H,$),s==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&ei(H,"number",H.value)}switch(ue=$?dn($):window,s){case"focusin":(Op(ue)||ue.contentEditable==="true")&&(on=ue,oc=$,vi=null);break;case"focusout":vi=oc=on=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,Vp(q,c,W);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":Vp(q,c,W)}var de;if(sc)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else an?Ap(s,c)&&(xe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(Cp&&c.locale!=="ko"&&(an||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&an&&(de=kp()):(Kr=W,Xl="value"in Kr?Kr.value:Kr.textContent,an=!0)),ue=Ba($,xe),0<ue.length&&(xe=new _p(xe,s,null,c,W),q.push({event:xe,listeners:ue}),de?xe.data=de:(de=Rp(c),de!==null&&(xe.data=de)))),(de=cb?ub(s,c):db(s,c))&&($=Ba($,"onBeforeInput"),0<$.length&&(W=new _p("onBeforeInput","beforeinput",null,c,W),q.push({event:W,listeners:$}),W.data=de))}Qp(q,i)})}function ji(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Ba(s,i){for(var c=i+"Capture",d=[];s!==null;){var f=s,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=si(s,c),y!=null&&d.unshift(ji(s,y,f)),y=si(s,i),y!=null&&d.push(ji(s,y,f))),s=s.return}return d}function cn(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ef(s,i,c,d,f){for(var y=i._reactName,w=[];c!==null&&c!==d;){var E=c,A=E.alternate,$=E.stateNode;if(A!==null&&A===d)break;E.tag===5&&$!==null&&(E=$,f?(A=si(c,y),A!=null&&w.unshift(ji(c,A,E))):f||(A=si(c,y),A!=null&&w.push(ji(c,A,E)))),c=c.return}w.length!==0&&s.push({event:i,listeners:w})}var Sb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function tf(s){return(typeof s=="string"?s:""+s).replace(Sb,`
`).replace(_b,"")}function za(s,i,c){if(i=tf(i),tf(s)!==i&&c)throw Error(r(425))}function Va(){}var fc=null,mc=null;function gc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(s){return rf.resolve(null).then(s).catch(Tb)}:yc;function Tb(s){setTimeout(function(){throw s})}function xc(s,i){var c=i,d=0;do{var f=c.nextSibling;if(s.removeChild(c),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(d===0){s.removeChild(f),hi(i);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=f}while(c);hi(i)}function Jr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function sf(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var un=Math.random().toString(36).slice(2),xr="__reactFiber$"+un,ki="__reactProps$"+un,Er="__reactContainer$"+un,vc="__reactEvents$"+un,Pb="__reactListeners$"+un,Ab="__reactHandles$"+un;function ks(s){var i=s[xr];if(i)return i;for(var c=s.parentNode;c;){if(i=c[Er]||c[xr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=sf(s);s!==null;){if(c=s[xr])return c;s=sf(s)}return i}s=c,c=s.parentNode}return null}function Ni(s){return s=s[xr]||s[Er],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function dn(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Ha(s){return s[ki]||null}var wc=[],hn=-1;function Xr(s){return{current:s}}function Be(s){0>hn||(s.current=wc[hn],wc[hn]=null,hn--)}function De(s,i){hn++,wc[hn]=s.current,s.current=i}var Qr={},kt=Xr(Qr),Rt=Xr(!1),Ns=Qr;function pn(s,i){var c=s.type.contextTypes;if(!c)return Qr;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in c)f[y]=i[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=f),f}function Ot(s){return s=s.childContextTypes,s!=null}function Wa(){Be(Rt),Be(kt)}function nf(s,i,c){if(kt.current!==Qr)throw Error(r(168));De(kt,i),De(Rt,c)}function af(s,i,c){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var f in d)if(!(f in i))throw Error(r(108,Ce(s)||"Unknown",f));return K({},c,d)}function qa(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Qr,Ns=kt.current,De(kt,s),De(Rt,Rt.current),!0}function of(s,i,c){var d=s.stateNode;if(!d)throw Error(r(169));c?(s=af(s,i,Ns),d.__reactInternalMemoizedMergedChildContext=s,Be(Rt),Be(kt),De(kt,s)):Be(Rt),De(Rt,c)}var Cr=null,Ga=!1,bc=!1;function lf(s){Cr===null?Cr=[s]:Cr.push(s)}function Rb(s){Ga=!0,lf(s)}function Zr(){if(!bc&&Cr!==null){bc=!0;var s=0,i=Re;try{var c=Cr;for(Re=1;s<c.length;s++){var d=c[s];do d=d(!0);while(d!==null)}Cr=null,Ga=!1}catch(f){throw Cr!==null&&(Cr=Cr.slice(s+1)),cp(Vl,Zr),f}finally{Re=i,bc=!1}}return null}var fn=[],mn=0,Ka=null,Ya=0,qt=[],Gt=0,Ss=null,Tr=1,Pr="";function _s(s,i){fn[mn++]=Ya,fn[mn++]=Ka,Ka=s,Ya=i}function cf(s,i,c){qt[Gt++]=Tr,qt[Gt++]=Pr,qt[Gt++]=Ss,Ss=s;var d=Tr;s=Pr;var f=32-sr(d)-1;d&=~(1<<f),c+=1;var y=32-sr(i)+f;if(30<y){var w=f-f%5;y=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Tr=1<<32-sr(i)+f|c<<f|d,Pr=y+s}else Tr=1<<y|c<<f|d,Pr=s}function jc(s){s.return!==null&&(_s(s,1),cf(s,1,0))}function kc(s){for(;s===Ka;)Ka=fn[--mn],fn[mn]=null,Ya=fn[--mn],fn[mn]=null;for(;s===Ss;)Ss=qt[--Gt],qt[Gt]=null,Pr=qt[--Gt],qt[Gt]=null,Tr=qt[--Gt],qt[Gt]=null}var zt=null,Vt=null,Ve=!1,ir=null;function uf(s,i){var c=Xt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function df(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,zt=s,Vt=Jr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,zt=s,Vt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Ss!==null?{id:Tr,overflow:Pr}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Xt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,zt=s,Vt=null,!0):!1;default:return!1}}function Nc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sc(s){if(Ve){var i=Vt;if(i){var c=i;if(!df(s,i)){if(Nc(s))throw Error(r(418));i=Jr(c.nextSibling);var d=zt;i&&df(s,i)?uf(d,c):(s.flags=s.flags&-4097|2,Ve=!1,zt=s)}}else{if(Nc(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ve=!1,zt=s}}}function hf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zt=s}function Ja(s){if(s!==zt)return!1;if(!Ve)return hf(s),Ve=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!gc(s.type,s.memoizedProps)),i&&(i=Vt)){if(Nc(s))throw pf(),Error(r(418));for(;i;)uf(s,i),i=Jr(i.nextSibling)}if(hf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Vt=Jr(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Vt=null}}else Vt=zt?Jr(s.stateNode.nextSibling):null;return!0}function pf(){for(var s=Vt;s;)s=Jr(s.nextSibling)}function gn(){Vt=zt=null,Ve=!1}function _c(s){ir===null?ir=[s]:ir.push(s)}var Ob=I.ReactCurrentBatchConfig;function Si(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var d=c.stateNode}if(!d)throw Error(r(147,s));var f=d,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(w){var E=f.refs;w===null?delete E[y]:E[y]=w},i._stringRef=y,i)}if(typeof s!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,s))}return s}function Xa(s,i){throw s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function ff(s){var i=s._init;return i(s._payload)}function mf(s){function i(D,O){if(s){var L=D.deletions;L===null?(D.deletions=[O],D.flags|=16):L.push(O)}}function c(D,O){if(!s)return null;for(;O!==null;)i(D,O),O=O.sibling;return null}function d(D,O){for(D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function f(D,O){return D=os(D,O),D.index=0,D.sibling=null,D}function y(D,O,L){return D.index=L,s?(L=D.alternate,L!==null?(L=L.index,L<O?(D.flags|=2,O):L):(D.flags|=2,O)):(D.flags|=1048576,O)}function w(D){return s&&D.alternate===null&&(D.flags|=2),D}function E(D,O,L,J){return O===null||O.tag!==6?(O=yu(L,D.mode,J),O.return=D,O):(O=f(O,L),O.return=D,O)}function A(D,O,L,J){var ae=L.type;return ae===V?W(D,O,L.props.children,J,L.key):O!==null&&(O.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ue&&ff(ae)===O.type)?(J=f(O,L.props),J.ref=Si(D,O,L),J.return=D,J):(J=jo(L.type,L.key,L.props,null,D.mode,J),J.ref=Si(D,O,L),J.return=D,J)}function $(D,O,L,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=xu(L,D.mode,J),O.return=D,O):(O=f(O,L.children||[]),O.return=D,O)}function W(D,O,L,J,ae){return O===null||O.tag!==7?(O=Is(L,D.mode,J,ae),O.return=D,O):(O=f(O,L),O.return=D,O)}function q(D,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return O=yu(""+O,D.mode,L),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return L=jo(O.type,O.key,O.props,null,D.mode,L),L.ref=Si(D,null,O),L.return=D,L;case z:return O=xu(O,D.mode,L),O.return=D,O;case Ue:var J=O._init;return q(D,J(O._payload),L)}if(bs(O)||X(O))return O=Is(O,D.mode,L,null),O.return=D,O;Xa(D,O)}return null}function H(D,O,L,J){var ae=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ae!==null?null:E(D,O,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ae?A(D,O,L,J):null;case z:return L.key===ae?$(D,O,L,J):null;case Ue:return ae=L._init,H(D,O,ae(L._payload),J)}if(bs(L)||X(L))return ae!==null?null:W(D,O,L,J,null);Xa(D,L)}return null}function Z(D,O,L,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number")return D=D.get(L)||null,E(O,D,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case F:return D=D.get(J.key===null?L:J.key)||null,A(O,D,J,ae);case z:return D=D.get(J.key===null?L:J.key)||null,$(O,D,J,ae);case Ue:var ue=J._init;return Z(D,O,L,ue(J._payload),ae)}if(bs(J)||X(J))return D=D.get(L)||null,W(O,D,J,ae,null);Xa(O,J)}return null}function se(D,O,L,J){for(var ae=null,ue=null,de=O,xe=O=0,ht=null;de!==null&&xe<L.length;xe++){de.index>xe?(ht=de,de=null):ht=de.sibling;var Ae=H(D,de,L[xe],J);if(Ae===null){de===null&&(de=ht);break}s&&de&&Ae.alternate===null&&i(D,de),O=y(Ae,O,xe),ue===null?ae=Ae:ue.sibling=Ae,ue=Ae,de=ht}if(xe===L.length)return c(D,de),Ve&&_s(D,xe),ae;if(de===null){for(;xe<L.length;xe++)de=q(D,L[xe],J),de!==null&&(O=y(de,O,xe),ue===null?ae=de:ue.sibling=de,ue=de);return Ve&&_s(D,xe),ae}for(de=d(D,de);xe<L.length;xe++)ht=Z(de,D,xe,L[xe],J),ht!==null&&(s&&ht.alternate!==null&&de.delete(ht.key===null?xe:ht.key),O=y(ht,O,xe),ue===null?ae=ht:ue.sibling=ht,ue=ht);return s&&de.forEach(function(ls){return i(D,ls)}),Ve&&_s(D,xe),ae}function ie(D,O,L,J){var ae=X(L);if(typeof ae!="function")throw Error(r(150));if(L=ae.call(L),L==null)throw Error(r(151));for(var ue=ae=null,de=O,xe=O=0,ht=null,Ae=L.next();de!==null&&!Ae.done;xe++,Ae=L.next()){de.index>xe?(ht=de,de=null):ht=de.sibling;var ls=H(D,de,Ae.value,J);if(ls===null){de===null&&(de=ht);break}s&&de&&ls.alternate===null&&i(D,de),O=y(ls,O,xe),ue===null?ae=ls:ue.sibling=ls,ue=ls,de=ht}if(Ae.done)return c(D,de),Ve&&_s(D,xe),ae;if(de===null){for(;!Ae.done;xe++,Ae=L.next())Ae=q(D,Ae.value,J),Ae!==null&&(O=y(Ae,O,xe),ue===null?ae=Ae:ue.sibling=Ae,ue=Ae);return Ve&&_s(D,xe),ae}for(de=d(D,de);!Ae.done;xe++,Ae=L.next())Ae=Z(de,D,xe,Ae.value,J),Ae!==null&&(s&&Ae.alternate!==null&&de.delete(Ae.key===null?xe:Ae.key),O=y(Ae,O,xe),ue===null?ae=Ae:ue.sibling=Ae,ue=Ae);return s&&de.forEach(function(hj){return i(D,hj)}),Ve&&_s(D,xe),ae}function et(D,O,L,J){if(typeof L=="object"&&L!==null&&L.type===V&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var ae=L.key,ue=O;ue!==null;){if(ue.key===ae){if(ae=L.type,ae===V){if(ue.tag===7){c(D,ue.sibling),O=f(ue,L.props.children),O.return=D,D=O;break e}}else if(ue.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ue&&ff(ae)===ue.type){c(D,ue.sibling),O=f(ue,L.props),O.ref=Si(D,ue,L),O.return=D,D=O;break e}c(D,ue);break}else i(D,ue);ue=ue.sibling}L.type===V?(O=Is(L.props.children,D.mode,J,L.key),O.return=D,D=O):(J=jo(L.type,L.key,L.props,null,D.mode,J),J.ref=Si(D,O,L),J.return=D,D=J)}return w(D);case z:e:{for(ue=L.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){c(D,O.sibling),O=f(O,L.children||[]),O.return=D,D=O;break e}else{c(D,O);break}else i(D,O);O=O.sibling}O=xu(L,D.mode,J),O.return=D,D=O}return w(D);case Ue:return ue=L._init,et(D,O,ue(L._payload),J)}if(bs(L))return se(D,O,L,J);if(X(L))return ie(D,O,L,J);Xa(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,O!==null&&O.tag===6?(c(D,O.sibling),O=f(O,L),O.return=D,D=O):(c(D,O),O=yu(L,D.mode,J),O.return=D,D=O),w(D)):c(D,O)}return et}var yn=mf(!0),gf=mf(!1),Qa=Xr(null),Za=null,xn=null,Ec=null;function Cc(){Ec=xn=Za=null}function Tc(s){var i=Qa.current;Be(Qa),s._currentValue=i}function Pc(s,i,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===c)break;s=s.return}}function vn(s,i){Za=s,Ec=xn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(It=!0),s.firstContext=null)}function Kt(s){var i=s._currentValue;if(Ec!==s)if(s={context:s,memoizedValue:i,next:null},xn===null){if(Za===null)throw Error(r(308));xn=s,Za.dependencies={lanes:0,firstContext:s}}else xn=xn.next=s;return i}var Es=null;function Ac(s){Es===null?Es=[s]:Es.push(s)}function yf(s,i,c,d){var f=i.interleaved;return f===null?(c.next=c,Ac(i)):(c.next=f.next,f.next=c),i.interleaved=c,Ar(s,d)}function Ar(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var es=!1;function Rc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xf(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Rr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ts(s,i,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Te&2)!==0){var f=d.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),d.pending=i,Ar(s,c)}return f=d.interleaved,f===null?(i.next=i,Ac(d)):(i.next=f.next,f.next=i),d.interleaved=i,Ar(s,c)}function eo(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,c|=d,i.lanes=c,ql(s,c)}}function vf(s,i){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var f=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?f=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?f=y=i:y=y.next=i}else f=y=i;c={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function to(s,i,c,d){var f=s.updateQueue;es=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,$=A.next;A.next=null,w===null?y=$:w.next=$,w=A;var W=s.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==w&&(E===null?W.firstBaseUpdate=$:E.next=$,W.lastBaseUpdate=A))}if(y!==null){var q=f.baseState;w=0,W=$=A=null,E=y;do{var H=E.lane,Z=E.eventTime;if((d&H)===H){W!==null&&(W=W.next={eventTime:Z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var se=s,ie=E;switch(H=i,Z=c,ie.tag){case 1:if(se=ie.payload,typeof se=="function"){q=se.call(Z,q,H);break e}q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ie.payload,H=typeof se=="function"?se.call(Z,q,H):se,H==null)break e;q=K({},q,H);break e;case 2:es=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,H=f.effects,H===null?f.effects=[E]:H.push(E))}else Z={eventTime:Z,lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?($=W=Z,A=q):W=W.next=Z,w|=H;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);if(W===null&&(A=q),f.baseState=A,f.firstBaseUpdate=$,f.lastBaseUpdate=W,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else y===null&&(f.shared.lanes=0);Ps|=w,s.lanes=w,s.memoizedState=q}}function wf(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],f=d.callback;if(f!==null){if(d.callback=null,d=c,typeof f!="function")throw Error(r(191,f));f.call(d)}}}var _i={},vr=Xr(_i),Ei=Xr(_i),Ci=Xr(_i);function Cs(s){if(s===_i)throw Error(r(174));return s}function Oc(s,i){switch(De(Ci,i),De(Ei,s),De(vr,_i),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Il(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Il(i,s)}Be(vr),De(vr,i)}function wn(){Be(vr),Be(Ei),Be(Ci)}function bf(s){Cs(Ci.current);var i=Cs(vr.current),c=Il(i,s.type);i!==c&&(De(Ei,s),De(vr,c))}function Ic(s){Ei.current===s&&(Be(vr),Be(Ei))}var Ge=Xr(0);function ro(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dc=[];function Lc(){for(var s=0;s<Dc.length;s++)Dc[s]._workInProgressVersionPrimary=null;Dc.length=0}var so=I.ReactCurrentDispatcher,Mc=I.ReactCurrentBatchConfig,Ts=0,Ke=null,it=null,ut=null,no=!1,Ti=!1,Pi=0,Ib=0;function Nt(){throw Error(r(321))}function $c(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!nr(s[c],i[c]))return!1;return!0}function Uc(s,i,c,d,f,y){if(Ts=y,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,so.current=s===null||s.memoizedState===null?$b:Ub,s=c(d,f),Ti){y=0;do{if(Ti=!1,Pi=0,25<=y)throw Error(r(301));y+=1,ut=it=null,i.updateQueue=null,so.current=Fb,s=c(d,f)}while(Ti)}if(so.current=oo,i=it!==null&&it.next!==null,Ts=0,ut=it=Ke=null,no=!1,i)throw Error(r(300));return s}function Fc(){var s=Pi!==0;return Pi=0,s}function wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ke.memoizedState=ut=s:ut=ut.next=s,ut}function Yt(){if(it===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var i=ut===null?Ke.memoizedState:ut.next;if(i!==null)ut=i,it=s;else{if(s===null)throw Error(r(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?Ke.memoizedState=ut=s:ut=ut.next=s}return ut}function Ai(s,i){return typeof i=="function"?i(s):i}function Bc(s){var i=Yt(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=it,f=d.baseQueue,y=c.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}d.baseQueue=f=y,c.pending=null}if(f!==null){y=f.next,d=d.baseState;var E=w=null,A=null,$=y;do{var W=$.lane;if((Ts&W)===W)A!==null&&(A=A.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),d=$.hasEagerState?$.eagerState:s(d,$.action);else{var q={lane:W,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};A===null?(E=A=q,w=d):A=A.next=q,Ke.lanes|=W,Ps|=W}$=$.next}while($!==null&&$!==y);A===null?w=d:A.next=E,nr(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseState=w,i.baseQueue=A,c.lastRenderedState=d}if(s=c.interleaved,s!==null){f=s;do y=f.lane,Ke.lanes|=y,Ps|=y,f=f.next;while(f!==s)}else f===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function zc(s){var i=Yt(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=c.dispatch,f=c.pending,y=i.memoizedState;if(f!==null){c.pending=null;var w=f=f.next;do y=s(y,w.action),w=w.next;while(w!==f);nr(y,i.memoizedState)||(It=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),c.lastRenderedState=y}return[y,d]}function jf(){}function kf(s,i){var c=Ke,d=Yt(),f=i(),y=!nr(d.memoizedState,f);if(y&&(d.memoizedState=f,It=!0),d=d.queue,Vc(_f.bind(null,c,d,s),[s]),d.getSnapshot!==i||y||ut!==null&&ut.memoizedState.tag&1){if(c.flags|=2048,Ri(9,Sf.bind(null,c,d,f,i),void 0,null),dt===null)throw Error(r(349));(Ts&30)!==0||Nf(c,i,f)}return f}function Nf(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function Sf(s,i,c,d){i.value=c,i.getSnapshot=d,Ef(i)&&Cf(s)}function _f(s,i,c){return c(function(){Ef(i)&&Cf(s)})}function Ef(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!nr(s,c)}catch{return!0}}function Cf(s){var i=Ar(s,1);i!==null&&cr(i,s,1,-1)}function Tf(s){var i=wr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:s},i.queue=s,s=s.dispatch=Mb.bind(null,Ke,s),[i.memoizedState,s]}function Ri(s,i,c,d){return s={tag:s,create:i,destroy:c,deps:d,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,i.lastEffect=s)),s}function Pf(){return Yt().memoizedState}function io(s,i,c,d){var f=wr();Ke.flags|=s,f.memoizedState=Ri(1|i,c,void 0,d===void 0?null:d)}function ao(s,i,c,d){var f=Yt();d=d===void 0?null:d;var y=void 0;if(it!==null){var w=it.memoizedState;if(y=w.destroy,d!==null&&$c(d,w.deps)){f.memoizedState=Ri(i,c,y,d);return}}Ke.flags|=s,f.memoizedState=Ri(1|i,c,y,d)}function Af(s,i){return io(8390656,8,s,i)}function Vc(s,i){return ao(2048,8,s,i)}function Rf(s,i){return ao(4,2,s,i)}function Of(s,i){return ao(4,4,s,i)}function If(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Df(s,i,c){return c=c!=null?c.concat([s]):null,ao(4,4,If.bind(null,i,s),c)}function Hc(){}function Lf(s,i){var c=Yt();i=i===void 0?null:i;var d=c.memoizedState;return d!==null&&i!==null&&$c(i,d[1])?d[0]:(c.memoizedState=[s,i],s)}function Mf(s,i){var c=Yt();i=i===void 0?null:i;var d=c.memoizedState;return d!==null&&i!==null&&$c(i,d[1])?d[0]:(s=s(),c.memoizedState=[s,i],s)}function $f(s,i,c){return(Ts&21)===0?(s.baseState&&(s.baseState=!1,It=!0),s.memoizedState=c):(nr(c,i)||(c=pp(),Ke.lanes|=c,Ps|=c,s.baseState=!0),i)}function Db(s,i){var c=Re;Re=c!==0&&4>c?c:4,s(!0);var d=Mc.transition;Mc.transition={};try{s(!1),i()}finally{Re=c,Mc.transition=d}}function Uf(){return Yt().memoizedState}function Lb(s,i,c){var d=is(s);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},Ff(s))Bf(i,c);else if(c=yf(s,i,c,d),c!==null){var f=Pt();cr(c,s,d,f),zf(c,i,d)}}function Mb(s,i,c){var d=is(s),f={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ff(s))Bf(i,f);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var w=i.lastRenderedState,E=y(w,c);if(f.hasEagerState=!0,f.eagerState=E,nr(E,w)){var A=i.interleaved;A===null?(f.next=f,Ac(i)):(f.next=A.next,A.next=f),i.interleaved=f;return}}catch{}finally{}c=yf(s,i,f,d),c!==null&&(f=Pt(),cr(c,s,d,f),zf(c,i,d))}}function Ff(s){var i=s.alternate;return s===Ke||i!==null&&i===Ke}function Bf(s,i){Ti=no=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function zf(s,i,c){if((c&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,c|=d,i.lanes=c,ql(s,c)}}var oo={readContext:Kt,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},$b={readContext:Kt,useCallback:function(s,i){return wr().memoizedState=[s,i===void 0?null:i],s},useContext:Kt,useEffect:Af,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,io(4194308,4,If.bind(null,i,s),c)},useLayoutEffect:function(s,i){return io(4194308,4,s,i)},useInsertionEffect:function(s,i){return io(4,2,s,i)},useMemo:function(s,i){var c=wr();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var d=wr();return i=c!==void 0?c(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=Lb.bind(null,Ke,s),[d.memoizedState,s]},useRef:function(s){var i=wr();return s={current:s},i.memoizedState=s},useState:Tf,useDebugValue:Hc,useDeferredValue:function(s){return wr().memoizedState=s},useTransition:function(){var s=Tf(!1),i=s[0];return s=Db.bind(null,s[1]),wr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var d=Ke,f=wr();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),dt===null)throw Error(r(349));(Ts&30)!==0||Nf(d,i,c)}f.memoizedState=c;var y={value:c,getSnapshot:i};return f.queue=y,Af(_f.bind(null,d,y,s),[s]),d.flags|=2048,Ri(9,Sf.bind(null,d,y,c,i),void 0,null),c},useId:function(){var s=wr(),i=dt.identifierPrefix;if(Ve){var c=Pr,d=Tr;c=(d&~(1<<32-sr(d)-1)).toString(32)+c,i=":"+i+"R"+c,c=Pi++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Ib++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Ub={readContext:Kt,useCallback:Lf,useContext:Kt,useEffect:Vc,useImperativeHandle:Df,useInsertionEffect:Rf,useLayoutEffect:Of,useMemo:Mf,useReducer:Bc,useRef:Pf,useState:function(){return Bc(Ai)},useDebugValue:Hc,useDeferredValue:function(s){var i=Yt();return $f(i,it.memoizedState,s)},useTransition:function(){var s=Bc(Ai)[0],i=Yt().memoizedState;return[s,i]},useMutableSource:jf,useSyncExternalStore:kf,useId:Uf,unstable_isNewReconciler:!1},Fb={readContext:Kt,useCallback:Lf,useContext:Kt,useEffect:Vc,useImperativeHandle:Df,useInsertionEffect:Rf,useLayoutEffect:Of,useMemo:Mf,useReducer:zc,useRef:Pf,useState:function(){return zc(Ai)},useDebugValue:Hc,useDeferredValue:function(s){var i=Yt();return it===null?i.memoizedState=s:$f(i,it.memoizedState,s)},useTransition:function(){var s=zc(Ai)[0],i=Yt().memoizedState;return[s,i]},useMutableSource:jf,useSyncExternalStore:kf,useId:Uf,unstable_isNewReconciler:!1};function ar(s,i){if(s&&s.defaultProps){i=K({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function Wc(s,i,c,d){i=s.memoizedState,c=c(d,i),c=c==null?i:K({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var lo={isMounted:function(s){return(s=s._reactInternals)?js(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var d=Pt(),f=is(s),y=Rr(d,f);y.payload=i,c!=null&&(y.callback=c),i=ts(s,y,f),i!==null&&(cr(i,s,f,d),eo(i,s,f))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var d=Pt(),f=is(s),y=Rr(d,f);y.tag=1,y.payload=i,c!=null&&(y.callback=c),i=ts(s,y,f),i!==null&&(cr(i,s,f,d),eo(i,s,f))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=Pt(),d=is(s),f=Rr(c,d);f.tag=2,i!=null&&(f.callback=i),i=ts(s,f,d),i!==null&&(cr(i,s,d,c),eo(i,s,d))}};function Vf(s,i,c,d,f,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,w):i.prototype&&i.prototype.isPureReactComponent?!xi(c,d)||!xi(f,y):!0}function Hf(s,i,c){var d=!1,f=Qr,y=i.contextType;return typeof y=="object"&&y!==null?y=Kt(y):(f=Ot(i)?Ns:kt.current,d=i.contextTypes,y=(d=d!=null)?pn(s,f):Qr),i=new i(c,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lo,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=f,s.__reactInternalMemoizedMaskedChildContext=y),i}function Wf(s,i,c,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==s&&lo.enqueueReplaceState(i,i.state,null)}function qc(s,i,c,d){var f=s.stateNode;f.props=c,f.state=s.memoizedState,f.refs={},Rc(s);var y=i.contextType;typeof y=="object"&&y!==null?f.context=Kt(y):(y=Ot(i)?Ns:kt.current,f.context=pn(s,y)),f.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Wc(s,i,y,c),f.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&lo.enqueueReplaceState(f,f.state,null),to(s,c,f,d),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308)}function bn(s,i){try{var c="",d=i;do c+=we(d),d=d.return;while(d);var f=c}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:f,digest:null}}function Gc(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function Kc(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Bb=typeof WeakMap=="function"?WeakMap:Map;function qf(s,i,c){c=Rr(-1,c),c.tag=3,c.payload={element:null};var d=i.value;return c.callback=function(){go||(go=!0,cu=d),Kc(s,i)},c}function Gf(s,i,c){c=Rr(-1,c),c.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=i.value;c.payload=function(){return d(f)},c.callback=function(){Kc(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Kc(s,i),typeof d!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),c}function Kf(s,i,c){var d=s.pingCache;if(d===null){d=s.pingCache=new Bb;var f=new Set;d.set(i,f)}else f=d.get(i),f===void 0&&(f=new Set,d.set(i,f));f.has(c)||(f.add(c),s=tj.bind(null,s,i,c),i.then(s,s))}function Yf(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Jf(s,i,c,d,f){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Rr(-1,1),i.tag=2,ts(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=f,s)}var zb=I.ReactCurrentOwner,It=!1;function Tt(s,i,c,d){i.child=s===null?gf(i,null,c,d):yn(i,s.child,c,d)}function Xf(s,i,c,d,f){c=c.render;var y=i.ref;return vn(i,f),d=Uc(s,i,c,d,y,f),c=Fc(),s!==null&&!It?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~f,Or(s,i,f)):(Ve&&c&&jc(i),i.flags|=1,Tt(s,i,d,f),i.child)}function Qf(s,i,c,d,f){if(s===null){var y=c.type;return typeof y=="function"&&!gu(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=y,Zf(s,i,y,d,f)):(s=jo(c.type,null,d,i,i.mode,f),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&f)===0){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:xi,c(w,d)&&s.ref===i.ref)return Or(s,i,f)}return i.flags|=1,s=os(y,d),s.ref=i.ref,s.return=i,i.child=s}function Zf(s,i,c,d,f){if(s!==null){var y=s.memoizedProps;if(xi(y,d)&&s.ref===i.ref)if(It=!1,i.pendingProps=d=y,(s.lanes&f)!==0)(s.flags&131072)!==0&&(It=!0);else return i.lanes=s.lanes,Or(s,i,f)}return Yc(s,i,c,d,f)}function em(s,i,c){var d=i.pendingProps,f=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(kn,Ht),Ht|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,De(kn,Ht),Ht|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:c,De(kn,Ht),Ht|=d}else y!==null?(d=y.baseLanes|c,i.memoizedState=null):d=c,De(kn,Ht),Ht|=d;return Tt(s,i,f,c),i.child}function tm(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Yc(s,i,c,d,f){var y=Ot(c)?Ns:kt.current;return y=pn(i,y),vn(i,f),c=Uc(s,i,c,d,y,f),d=Fc(),s!==null&&!It?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~f,Or(s,i,f)):(Ve&&d&&jc(i),i.flags|=1,Tt(s,i,c,f),i.child)}function rm(s,i,c,d,f){if(Ot(c)){var y=!0;qa(i)}else y=!1;if(vn(i,f),i.stateNode===null)uo(s,i),Hf(i,c,d),qc(i,c,d,f),d=!0;else if(s===null){var w=i.stateNode,E=i.memoizedProps;w.props=E;var A=w.context,$=c.contextType;typeof $=="object"&&$!==null?$=Kt($):($=Ot(c)?Ns:kt.current,$=pn(i,$));var W=c.getDerivedStateFromProps,q=typeof W=="function"||typeof w.getSnapshotBeforeUpdate=="function";q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==d||A!==$)&&Wf(i,w,d,$),es=!1;var H=i.memoizedState;w.state=H,to(i,d,w,f),A=i.memoizedState,E!==d||H!==A||Rt.current||es?(typeof W=="function"&&(Wc(i,c,W,d),A=i.memoizedState),(E=es||Vf(i,c,E,d,H,A,$))?(q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=A),w.props=d,w.state=A,w.context=$,d=E):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,xf(s,i),E=i.memoizedProps,$=i.type===i.elementType?E:ar(i.type,E),w.props=$,q=i.pendingProps,H=w.context,A=c.contextType,typeof A=="object"&&A!==null?A=Kt(A):(A=Ot(c)?Ns:kt.current,A=pn(i,A));var Z=c.getDerivedStateFromProps;(W=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==q||H!==A)&&Wf(i,w,d,A),es=!1,H=i.memoizedState,w.state=H,to(i,d,w,f);var se=i.memoizedState;E!==q||H!==se||Rt.current||es?(typeof Z=="function"&&(Wc(i,c,Z,d),se=i.memoizedState),($=es||Vf(i,c,$,d,H,se,A)||!1)?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,se,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,se,A)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=se),w.props=d,w.state=se,w.context=A,d=$):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=1024),d=!1)}return Jc(s,i,c,d,y,f)}function Jc(s,i,c,d,f,y){tm(s,i);var w=(i.flags&128)!==0;if(!d&&!w)return f&&of(i,c,!1),Or(s,i,y);d=i.stateNode,zb.current=i;var E=w&&typeof c.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&w?(i.child=yn(i,s.child,null,y),i.child=yn(i,null,E,y)):Tt(s,i,E,y),i.memoizedState=d.state,f&&of(i,c,!0),i.child}function sm(s){var i=s.stateNode;i.pendingContext?nf(s,i.pendingContext,i.pendingContext!==i.context):i.context&&nf(s,i.context,!1),Oc(s,i.containerInfo)}function nm(s,i,c,d,f){return gn(),_c(f),i.flags|=256,Tt(s,i,c,d),i.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Qc(s){return{baseLanes:s,cachePool:null,transitions:null}}function im(s,i,c){var d=i.pendingProps,f=Ge.current,y=!1,w=(i.flags&128)!==0,E;if((E=w)||(E=s!==null&&s.memoizedState===null?!1:(f&2)!==0),E?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(f|=1),De(Ge,f&1),s===null)return Sc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=d.children,s=d.fallback,y?(d=i.mode,y=i.child,w={mode:"hidden",children:w},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ko(w,d,0,null),s=Is(s,d,c,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Qc(c),i.memoizedState=Xc,s):Zc(i,w));if(f=s.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return Vb(s,i,w,d,E,f,c);if(y){y=d.fallback,w=i.mode,f=s.child,E=f.sibling;var A={mode:"hidden",children:d.children};return(w&1)===0&&i.child!==f?(d=i.child,d.childLanes=0,d.pendingProps=A,i.deletions=null):(d=os(f,A),d.subtreeFlags=f.subtreeFlags&14680064),E!==null?y=os(E,y):(y=Is(y,w,c,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,w=s.child.memoizedState,w=w===null?Qc(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=s.childLanes&~c,i.memoizedState=Xc,d}return y=s.child,s=y.sibling,d=os(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=c),d.return=i,d.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=d,i.memoizedState=null,d}function Zc(s,i){return i=ko({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function co(s,i,c,d){return d!==null&&_c(d),yn(i,s.child,null,c),s=Zc(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Vb(s,i,c,d,f,y,w){if(c)return i.flags&256?(i.flags&=-257,d=Gc(Error(r(422))),co(s,i,w,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=d.fallback,f=i.mode,d=ko({mode:"visible",children:d.children},f,0,null),y=Is(y,f,w,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&yn(i,s.child,null,w),i.child.memoizedState=Qc(w),i.memoizedState=Xc,y);if((i.mode&1)===0)return co(s,i,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var E=d.dgst;return d=E,y=Error(r(419)),d=Gc(y,d,void 0),co(s,i,w,d)}if(E=(w&s.childLanes)!==0,It||E){if(d=dt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|w))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Ar(s,f),cr(d,s,f,-1))}return mu(),d=Gc(Error(r(421))),co(s,i,w,d)}return f.data==="$?"?(i.flags|=128,i.child=s.child,i=rj.bind(null,s),f._reactRetry=i,null):(s=y.treeContext,Vt=Jr(f.nextSibling),zt=i,Ve=!0,ir=null,s!==null&&(qt[Gt++]=Tr,qt[Gt++]=Pr,qt[Gt++]=Ss,Tr=s.id,Pr=s.overflow,Ss=i),i=Zc(i,d.children),i.flags|=4096,i)}function am(s,i,c){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Pc(s.return,i,c)}function eu(s,i,c,d,f){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=f)}function om(s,i,c){var d=i.pendingProps,f=d.revealOrder,y=d.tail;if(Tt(s,i,d.children,c),d=Ge.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&am(s,c,i);else if(s.tag===19)am(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(De(Ge,d),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(c=i.child,f=null;c!==null;)s=c.alternate,s!==null&&ro(s)===null&&(f=c),c=c.sibling;c=f,c===null?(f=i.child,i.child=null):(f=c.sibling,c.sibling=null),eu(i,!1,f,c,y);break;case"backwards":for(c=null,f=i.child,i.child=null;f!==null;){if(s=f.alternate,s!==null&&ro(s)===null){i.child=f;break}s=f.sibling,f.sibling=c,c=f,f=s}eu(i,!0,c,null,y);break;case"together":eu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uo(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Or(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Ps|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,c=os(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=os(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Hb(s,i,c){switch(i.tag){case 3:sm(i),gn();break;case 5:bf(i);break;case 1:Ot(i.type)&&qa(i);break;case 4:Oc(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,f=i.memoizedProps.value;De(Qa,d._currentValue),d._currentValue=f;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(De(Ge,Ge.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?im(s,i,c):(De(Ge,Ge.current&1),s=Or(s,i,c),s!==null?s.sibling:null);De(Ge,Ge.current&1);break;case 19:if(d=(c&i.childLanes)!==0,(s.flags&128)!==0){if(d)return om(s,i,c);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),De(Ge,Ge.current),d)break;return null;case 22:case 23:return i.lanes=0,em(s,i,c)}return Or(s,i,c)}var lm,tu,cm,um;lm=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},tu=function(){},cm=function(s,i,c,d){var f=s.memoizedProps;if(f!==d){s=i.stateNode,Cs(vr.current);var y=null;switch(c){case"input":f=ft(s,f),d=ft(s,d),y=[];break;case"select":f=K({},f,{value:void 0}),d=K({},d,{value:void 0}),y=[];break;case"textarea":f=ge(s,f),d=ge(s,d),y=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Va)}Dl(c,d);var w;c=null;for($ in f)if(!d.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var E=f[$];for(w in E)E.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in d){var A=d[$];if(E=f?.[$],d.hasOwnProperty($)&&A!==E&&(A!=null||E!=null))if($==="style")if(E){for(w in E)!E.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in A)A.hasOwnProperty(w)&&E[w]!==A[w]&&(c||(c={}),c[w]=A[w])}else c||(y||(y=[]),y.push($,c)),c=A;else $==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,E=E?E.__html:void 0,A!=null&&E!==A&&(y=y||[]).push($,A)):$==="children"?typeof A!="string"&&typeof A!="number"||(y=y||[]).push($,""+A):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(A!=null&&$==="onScroll"&&Fe("scroll",s),y||E===A||(y=[])):(y=y||[]).push($,A))}c&&(y=y||[]).push("style",c);var $=y;(i.updateQueue=$)&&(i.flags|=4)}},um=function(s,i,c,d){c!==d&&(i.flags|=4)};function Oi(s,i){if(!Ve)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function St(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(i)for(var f=s.child;f!==null;)c|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)c|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=d,s.childLanes=c,i}function Wb(s,i,c){var d=i.pendingProps;switch(kc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return Ot(i.type)&&Wa(),St(i),null;case 3:return d=i.stateNode,wn(),Be(Rt),Be(kt),Lc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ja(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ir!==null&&(hu(ir),ir=null))),tu(s,i),St(i),null;case 5:Ic(i);var f=Cs(Ci.current);if(c=i.type,s!==null&&i.stateNode!=null)cm(s,i,c,d,f),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(r(166));return St(i),null}if(s=Cs(vr.current),Ja(i)){d=i.stateNode,c=i.type;var y=i.memoizedProps;switch(d[xr]=i,d[ki]=y,s=(i.mode&1)!==0,c){case"dialog":Fe("cancel",d),Fe("close",d);break;case"iframe":case"object":case"embed":Fe("load",d);break;case"video":case"audio":for(f=0;f<wi.length;f++)Fe(wi[f],d);break;case"source":Fe("error",d);break;case"img":case"image":case"link":Fe("error",d),Fe("load",d);break;case"details":Fe("toggle",d);break;case"input":ya(d,y),Fe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Fe("invalid",d);break;case"textarea":Oe(d,y),Fe("invalid",d)}Dl(c,y),f=null;for(var w in y)if(y.hasOwnProperty(w)){var E=y[w];w==="children"?typeof E=="string"?d.textContent!==E&&(y.suppressHydrationWarning!==!0&&za(d.textContent,E,s),f=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(y.suppressHydrationWarning!==!0&&za(d.textContent,E,s),f=["children",""+E]):o.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&Fe("scroll",d)}switch(c){case"input":pe(d),va(d,y,!0);break;case"textarea":pe(d),ct(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Va)}d=f,i.updateQueue=d,d!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=wa(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=w.createElement(c,{is:d.is}):(s=w.createElement(c),c==="select"&&(w=s,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):s=w.createElementNS(s,c),s[xr]=i,s[ki]=d,lm(s,i,!1,!1),i.stateNode=s;e:{switch(w=Ll(c,d),c){case"dialog":Fe("cancel",s),Fe("close",s),f=d;break;case"iframe":case"object":case"embed":Fe("load",s),f=d;break;case"video":case"audio":for(f=0;f<wi.length;f++)Fe(wi[f],s);f=d;break;case"source":Fe("error",s),f=d;break;case"img":case"image":case"link":Fe("error",s),Fe("load",s),f=d;break;case"details":Fe("toggle",s),f=d;break;case"input":ya(s,d),f=ft(s,d),Fe("invalid",s);break;case"option":f=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},f=K({},d,{value:void 0}),Fe("invalid",s);break;case"textarea":Oe(s,d),f=ge(s,d),Fe("invalid",s);break;default:f=d}Dl(c,f),E=f;for(y in E)if(E.hasOwnProperty(y)){var A=E[y];y==="style"?Qh(s,A):y==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Jh(s,A)):y==="children"?typeof A=="string"?(c!=="textarea"||A!=="")&&ti(s,A):typeof A=="number"&&ti(s,""+A):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?A!=null&&y==="onScroll"&&Fe("scroll",s):A!=null&&N(s,y,A,w))}switch(c){case"input":pe(s),va(s,d,!1);break;case"textarea":pe(s),ct(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Se(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Q(s,!!d.multiple,y,!1):d.defaultValue!=null&&Q(s,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(s.onclick=Va)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return St(i),null;case 6:if(s&&i.stateNode!=null)um(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(r(166));if(c=Cs(Ci.current),Cs(vr.current),Ja(i)){if(d=i.stateNode,c=i.memoizedProps,d[xr]=i,(y=d.nodeValue!==c)&&(s=zt,s!==null))switch(s.tag){case 3:za(d.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&za(d.nodeValue,c,(s.mode&1)!==0)}y&&(i.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[xr]=i,i.stateNode=d}return St(i),null;case 13:if(Be(Ge),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ve&&Vt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)pf(),gn(),i.flags|=98560,y=!1;else if(y=Ja(i),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[xr]=i}else gn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),y=!1}else ir!==null&&(hu(ir),ir=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ge.current&1)!==0?at===0&&(at=3):mu())),i.updateQueue!==null&&(i.flags|=4),St(i),null);case 4:return wn(),tu(s,i),s===null&&bi(i.stateNode.containerInfo),St(i),null;case 10:return Tc(i.type._context),St(i),null;case 17:return Ot(i.type)&&Wa(),St(i),null;case 19:if(Be(Ge),y=i.memoizedState,y===null)return St(i),null;if(d=(i.flags&128)!==0,w=y.rendering,w===null)if(d)Oi(y,!1);else{if(at!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(w=ro(s),w!==null){for(i.flags|=128,Oi(y,!1),d=w.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=c,c=i.child;c!==null;)y=c,s=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,s=w.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return De(Ge,Ge.current&1|2),i.child}s=s.sibling}y.tail!==null&&Ze()>Nn&&(i.flags|=128,d=!0,Oi(y,!1),i.lanes=4194304)}else{if(!d)if(s=ro(w),s!==null){if(i.flags|=128,d=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Oi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ve)return St(i),null}else 2*Ze()-y.renderingStartTime>Nn&&c!==1073741824&&(i.flags|=128,d=!0,Oi(y,!1),i.lanes=4194304);y.isBackwards?(w.sibling=i.child,i.child=w):(c=y.last,c!==null?c.sibling=w:i.child=w,y.last=w)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Ze(),i.sibling=null,c=Ge.current,De(Ge,d?c&1|2:c&1),i):(St(i),null);case 22:case 23:return fu(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Ht&1073741824)!==0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function qb(s,i){switch(kc(i),i.tag){case 1:return Ot(i.type)&&Wa(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return wn(),Be(Rt),Be(kt),Lc(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ic(i),null;case 13:if(Be(Ge),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));gn()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Be(Ge),null;case 4:return wn(),null;case 10:return Tc(i.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var ho=!1,_t=!1,Gb=typeof WeakSet=="function"?WeakSet:Set,te=null;function jn(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){Xe(s,i,d)}else c.current=null}function ru(s,i,c){try{c()}catch(d){Xe(s,i,d)}}var dm=!1;function Kb(s,i){if(fc=Aa,s=zp(),ac(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var f=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,E=-1,A=-1,$=0,W=0,q=s,H=null;t:for(;;){for(var Z;q!==c||f!==0&&q.nodeType!==3||(E=w+f),q!==y||d!==0&&q.nodeType!==3||(A=w+d),q.nodeType===3&&(w+=q.nodeValue.length),(Z=q.firstChild)!==null;)H=q,q=Z;for(;;){if(q===s)break t;if(H===c&&++$===f&&(E=w),H===y&&++W===d&&(A=w),(Z=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=Z}c=E===-1||A===-1?null:{start:E,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(mc={focusedElem:s,selectionRange:c},Aa=!1,te=i;te!==null;)if(i=te,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,te=s;else for(;te!==null;){i=te;try{var se=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ie=se.memoizedProps,et=se.memoizedState,D=i.stateNode,O=D.getSnapshotBeforeUpdate(i.elementType===i.type?ie:ar(i.type,ie),et);D.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(J){Xe(i,i.return,J)}if(s=i.sibling,s!==null){s.return=i.return,te=s;break}te=i.return}return se=dm,dm=!1,se}function Ii(s,i,c){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&s)===s){var y=f.destroy;f.destroy=void 0,y!==void 0&&ru(i,c,y)}f=f.next}while(f!==d)}}function po(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var d=c.create;c.destroy=d()}c=c.next}while(c!==i)}}function su(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function hm(s){var i=s.alternate;i!==null&&(s.alternate=null,hm(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[xr],delete i[ki],delete i[vc],delete i[Pb],delete i[Ab])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function pm(s){return s.tag===5||s.tag===3||s.tag===4}function fm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nu(s,i,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Va));else if(d!==4&&(s=s.child,s!==null))for(nu(s,i,c),s=s.sibling;s!==null;)nu(s,i,c),s=s.sibling}function iu(s,i,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(iu(s,i,c),s=s.sibling;s!==null;)iu(s,i,c),s=s.sibling}var gt=null,or=!1;function rs(s,i,c){for(c=c.child;c!==null;)mm(s,i,c),c=c.sibling}function mm(s,i,c){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Sa,c)}catch{}switch(c.tag){case 5:_t||jn(c,i);case 6:var d=gt,f=or;gt=null,rs(s,i,c),gt=d,or=f,gt!==null&&(or?(s=gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):gt.removeChild(c.stateNode));break;case 18:gt!==null&&(or?(s=gt,c=c.stateNode,s.nodeType===8?xc(s.parentNode,c):s.nodeType===1&&xc(s,c),hi(s)):xc(gt,c.stateNode));break;case 4:d=gt,f=or,gt=c.stateNode.containerInfo,or=!0,rs(s,i,c),gt=d,or=f;break;case 0:case 11:case 14:case 15:if(!_t&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var y=f,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&ru(c,i,w),f=f.next}while(f!==d)}rs(s,i,c);break;case 1:if(!_t&&(jn(c,i),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(E){Xe(c,i,E)}rs(s,i,c);break;case 21:rs(s,i,c);break;case 22:c.mode&1?(_t=(d=_t)||c.memoizedState!==null,rs(s,i,c),_t=d):rs(s,i,c);break;default:rs(s,i,c)}}function gm(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Gb),i.forEach(function(d){var f=sj.bind(null,s,d);c.has(d)||(c.add(d),d.then(f,f))})}}function lr(s,i){var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var f=c[d];try{var y=s,w=i,E=w;e:for(;E!==null;){switch(E.tag){case 5:gt=E.stateNode,or=!1;break e;case 3:gt=E.stateNode.containerInfo,or=!0;break e;case 4:gt=E.stateNode.containerInfo,or=!0;break e}E=E.return}if(gt===null)throw Error(r(160));mm(y,w,f),gt=null,or=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch($){Xe(f,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ym(i,s),i=i.sibling}function ym(s,i){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(lr(i,s),br(s),d&4){try{Ii(3,s,s.return),po(3,s)}catch(ie){Xe(s,s.return,ie)}try{Ii(5,s,s.return)}catch(ie){Xe(s,s.return,ie)}}break;case 1:lr(i,s),br(s),d&512&&c!==null&&jn(c,c.return);break;case 5:if(lr(i,s),br(s),d&512&&c!==null&&jn(c,c.return),s.flags&32){var f=s.stateNode;try{ti(f,"")}catch(ie){Xe(s,s.return,ie)}}if(d&4&&(f=s.stateNode,f!=null)){var y=s.memoizedProps,w=c!==null?c.memoizedProps:y,E=s.type,A=s.updateQueue;if(s.updateQueue=null,A!==null)try{E==="input"&&y.type==="radio"&&y.name!=null&&xa(f,y),Ll(E,w);var $=Ll(E,y);for(w=0;w<A.length;w+=2){var W=A[w],q=A[w+1];W==="style"?Qh(f,q):W==="dangerouslySetInnerHTML"?Jh(f,q):W==="children"?ti(f,q):N(f,W,q,$)}switch(E){case"input":Zn(f,y);break;case"textarea":mt(f,y);break;case"select":var H=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?Q(f,!!y.multiple,Z,!1):H!==!!y.multiple&&(y.defaultValue!=null?Q(f,!!y.multiple,y.defaultValue,!0):Q(f,!!y.multiple,y.multiple?[]:"",!1))}f[ki]=y}catch(ie){Xe(s,s.return,ie)}}break;case 6:if(lr(i,s),br(s),d&4){if(s.stateNode===null)throw Error(r(162));f=s.stateNode,y=s.memoizedProps;try{f.nodeValue=y}catch(ie){Xe(s,s.return,ie)}}break;case 3:if(lr(i,s),br(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{hi(i.containerInfo)}catch(ie){Xe(s,s.return,ie)}break;case 4:lr(i,s),br(s);break;case 13:lr(i,s),br(s),f=s.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(lu=Ze())),d&4&&gm(s);break;case 22:if(W=c!==null&&c.memoizedState!==null,s.mode&1?(_t=($=_t)||W,lr(i,s),_t=$):lr(i,s),br(s),d&8192){if($=s.memoizedState!==null,(s.stateNode.isHidden=$)&&!W&&(s.mode&1)!==0)for(te=s,W=s.child;W!==null;){for(q=te=W;te!==null;){switch(H=te,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Ii(4,H,H.return);break;case 1:jn(H,H.return);var se=H.stateNode;if(typeof se.componentWillUnmount=="function"){d=H,c=H.return;try{i=d,se.props=i.memoizedProps,se.state=i.memoizedState,se.componentWillUnmount()}catch(ie){Xe(d,c,ie)}}break;case 5:jn(H,H.return);break;case 22:if(H.memoizedState!==null){wm(q);continue}}Z!==null?(Z.return=H,te=Z):wm(q)}W=W.sibling}e:for(W=null,q=s;;){if(q.tag===5){if(W===null){W=q;try{f=q.stateNode,$?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(E=q.stateNode,A=q.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,E.style.display=Xh("display",w))}catch(ie){Xe(s,s.return,ie)}}}else if(q.tag===6){if(W===null)try{q.stateNode.nodeValue=$?"":q.memoizedProps}catch(ie){Xe(s,s.return,ie)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===s)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===s)break e;for(;q.sibling===null;){if(q.return===null||q.return===s)break e;W===q&&(W=null),q=q.return}W===q&&(W=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:lr(i,s),br(s),d&4&&gm(s);break;case 21:break;default:lr(i,s),br(s)}}function br(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(pm(c)){var d=c;break e}c=c.return}throw Error(r(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ti(f,""),d.flags&=-33);var y=fm(s);iu(s,y,f);break;case 3:case 4:var w=d.stateNode.containerInfo,E=fm(s);nu(s,E,w);break;default:throw Error(r(161))}}catch(A){Xe(s,s.return,A)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Yb(s,i,c){te=s,xm(s)}function xm(s,i,c){for(var d=(s.mode&1)!==0;te!==null;){var f=te,y=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||ho;if(!w){var E=f.alternate,A=E!==null&&E.memoizedState!==null||_t;E=ho;var $=_t;if(ho=w,(_t=A)&&!$)for(te=f;te!==null;)w=te,A=w.child,w.tag===22&&w.memoizedState!==null?bm(f):A!==null?(A.return=w,te=A):bm(f);for(;y!==null;)te=y,xm(y),y=y.sibling;te=f,ho=E,_t=$}vm(s)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,te=y):vm(s)}}function vm(s){for(;te!==null;){var i=te;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:_t||po(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!_t)if(c===null)d.componentDidMount();else{var f=i.elementType===i.type?c.memoizedProps:ar(i.type,c.memoizedProps);d.componentDidUpdate(f,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&wf(i,y,d);break;case 3:var w=i.updateQueue;if(w!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}wf(i,w,c)}break;case 5:var E=i.stateNode;if(c===null&&i.flags&4){c=E;var A=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&c.focus();break;case"img":A.src&&(c.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var W=$.memoizedState;if(W!==null){var q=W.dehydrated;q!==null&&hi(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_t||i.flags&512&&su(i)}catch(H){Xe(i,i.return,H)}}if(i===s){te=null;break}if(c=i.sibling,c!==null){c.return=i.return,te=c;break}te=i.return}}function wm(s){for(;te!==null;){var i=te;if(i===s){te=null;break}var c=i.sibling;if(c!==null){c.return=i.return,te=c;break}te=i.return}}function bm(s){for(;te!==null;){var i=te;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{po(4,i)}catch(A){Xe(i,c,A)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var f=i.return;try{d.componentDidMount()}catch(A){Xe(i,f,A)}}var y=i.return;try{su(i)}catch(A){Xe(i,y,A)}break;case 5:var w=i.return;try{su(i)}catch(A){Xe(i,w,A)}}}catch(A){Xe(i,i.return,A)}if(i===s){te=null;break}var E=i.sibling;if(E!==null){E.return=i.return,te=E;break}te=i.return}}var Jb=Math.ceil,fo=I.ReactCurrentDispatcher,au=I.ReactCurrentOwner,Jt=I.ReactCurrentBatchConfig,Te=0,dt=null,tt=null,yt=0,Ht=0,kn=Xr(0),at=0,Di=null,Ps=0,mo=0,ou=0,Li=null,Dt=null,lu=0,Nn=1/0,Ir=null,go=!1,cu=null,ss=null,yo=!1,ns=null,xo=0,Mi=0,uu=null,vo=-1,wo=0;function Pt(){return(Te&6)!==0?Ze():vo!==-1?vo:vo=Ze()}function is(s){return(s.mode&1)===0?1:(Te&2)!==0&&yt!==0?yt&-yt:Ob.transition!==null?(wo===0&&(wo=pp()),wo):(s=Re,s!==0||(s=window.event,s=s===void 0?16:jp(s.type)),s)}function cr(s,i,c,d){if(50<Mi)throw Mi=0,uu=null,Error(r(185));oi(s,c,d),((Te&2)===0||s!==dt)&&(s===dt&&((Te&2)===0&&(mo|=c),at===4&&as(s,yt)),Lt(s,d),c===1&&Te===0&&(i.mode&1)===0&&(Nn=Ze()+500,Ga&&Zr()))}function Lt(s,i){var c=s.callbackNode;Ow(s,i);var d=Ca(s,s===dt?yt:0);if(d===0)c!==null&&up(c),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(c!=null&&up(c),i===1)s.tag===0?Rb(km.bind(null,s)):lf(km.bind(null,s)),Cb(function(){(Te&6)===0&&Zr()}),c=null;else{switch(fp(d)){case 1:c=Vl;break;case 4:c=dp;break;case 16:c=Na;break;case 536870912:c=hp;break;default:c=Na}c=Am(c,jm.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function jm(s,i){if(vo=-1,wo=0,(Te&6)!==0)throw Error(r(327));var c=s.callbackNode;if(Sn()&&s.callbackNode!==c)return null;var d=Ca(s,s===dt?yt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=bo(s,d);else{i=d;var f=Te;Te|=2;var y=Sm();(dt!==s||yt!==i)&&(Ir=null,Nn=Ze()+500,Rs(s,i));do try{Zb();break}catch(E){Nm(s,E)}while(!0);Cc(),fo.current=y,Te=f,tt!==null?i=0:(dt=null,yt=0,i=at)}if(i!==0){if(i===2&&(f=Hl(s),f!==0&&(d=f,i=du(s,f))),i===1)throw c=Di,Rs(s,0),as(s,d),Lt(s,Ze()),c;if(i===6)as(s,d);else{if(f=s.current.alternate,(d&30)===0&&!Xb(f)&&(i=bo(s,d),i===2&&(y=Hl(s),y!==0&&(d=y,i=du(s,y))),i===1))throw c=Di,Rs(s,0),as(s,d),Lt(s,Ze()),c;switch(s.finishedWork=f,s.finishedLanes=d,i){case 0:case 1:throw Error(r(345));case 2:Os(s,Dt,Ir);break;case 3:if(as(s,d),(d&130023424)===d&&(i=lu+500-Ze(),10<i)){if(Ca(s,0)!==0)break;if(f=s.suspendedLanes,(f&d)!==d){Pt(),s.pingedLanes|=s.suspendedLanes&f;break}s.timeoutHandle=yc(Os.bind(null,s,Dt,Ir),i);break}Os(s,Dt,Ir);break;case 4:if(as(s,d),(d&4194240)===d)break;for(i=s.eventTimes,f=-1;0<d;){var w=31-sr(d);y=1<<w,w=i[w],w>f&&(f=w),d&=~y}if(d=f,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Jb(d/1960))-d,10<d){s.timeoutHandle=yc(Os.bind(null,s,Dt,Ir),d);break}Os(s,Dt,Ir);break;case 5:Os(s,Dt,Ir);break;default:throw Error(r(329))}}}return Lt(s,Ze()),s.callbackNode===c?jm.bind(null,s):null}function du(s,i){var c=Li;return s.current.memoizedState.isDehydrated&&(Rs(s,i).flags|=256),s=bo(s,i),s!==2&&(i=Dt,Dt=c,i!==null&&hu(i)),s}function hu(s){Dt===null?Dt=s:Dt.push.apply(Dt,s)}function Xb(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var f=c[d],y=f.getSnapshot;f=f.value;try{if(!nr(y(),f))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(s,i){for(i&=~ou,i&=~mo,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-sr(i),d=1<<c;s[c]=-1,i&=~d}}function km(s){if((Te&6)!==0)throw Error(r(327));Sn();var i=Ca(s,0);if((i&1)===0)return Lt(s,Ze()),null;var c=bo(s,i);if(s.tag!==0&&c===2){var d=Hl(s);d!==0&&(i=d,c=du(s,d))}if(c===1)throw c=Di,Rs(s,0),as(s,i),Lt(s,Ze()),c;if(c===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Os(s,Dt,Ir),Lt(s,Ze()),null}function pu(s,i){var c=Te;Te|=1;try{return s(i)}finally{Te=c,Te===0&&(Nn=Ze()+500,Ga&&Zr())}}function As(s){ns!==null&&ns.tag===0&&(Te&6)===0&&Sn();var i=Te;Te|=1;var c=Jt.transition,d=Re;try{if(Jt.transition=null,Re=1,s)return s()}finally{Re=d,Jt.transition=c,Te=i,(Te&6)===0&&Zr()}}function fu(){Ht=kn.current,Be(kn)}function Rs(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Eb(c)),tt!==null)for(c=tt.return;c!==null;){var d=c;switch(kc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Wa();break;case 3:wn(),Be(Rt),Be(kt),Lc();break;case 5:Ic(d);break;case 4:wn();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Tc(d.type._context);break;case 22:case 23:fu()}c=c.return}if(dt=s,tt=s=os(s.current,null),yt=Ht=i,at=0,Di=null,ou=mo=Ps=0,Dt=Li=null,Es!==null){for(i=0;i<Es.length;i++)if(c=Es[i],d=c.interleaved,d!==null){c.interleaved=null;var f=d.next,y=c.pending;if(y!==null){var w=y.next;y.next=f,d.next=w}c.pending=d}Es=null}return s}function Nm(s,i){do{var c=tt;try{if(Cc(),so.current=oo,no){for(var d=Ke.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}no=!1}if(Ts=0,ut=it=Ke=null,Ti=!1,Pi=0,au.current=null,c===null||c.return===null){at=1,Di=i,tt=null;break}e:{var y=s,w=c.return,E=c,A=i;if(i=yt,E.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=A,W=E,q=W.tag;if((W.mode&1)===0&&(q===0||q===11||q===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var Z=Yf(w);if(Z!==null){Z.flags&=-257,Jf(Z,w,E,y,i),Z.mode&1&&Kf(y,$,i),i=Z,A=$;var se=i.updateQueue;if(se===null){var ie=new Set;ie.add(A),i.updateQueue=ie}else se.add(A);break e}else{if((i&1)===0){Kf(y,$,i),mu();break e}A=Error(r(426))}}else if(Ve&&E.mode&1){var et=Yf(w);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Jf(et,w,E,y,i),_c(bn(A,E));break e}}y=A=bn(A,E),at!==4&&(at=2),Li===null?Li=[y]:Li.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var D=qf(y,A,i);vf(y,D);break e;case 1:E=A;var O=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ss===null||!ss.has(L)))){y.flags|=65536,i&=-i,y.lanes|=i;var J=Gf(y,E,i);vf(y,J);break e}}y=y.return}while(y!==null)}Em(c)}catch(ae){i=ae,tt===c&&c!==null&&(tt=c=c.return);continue}break}while(!0)}function Sm(){var s=fo.current;return fo.current=oo,s===null?oo:s}function mu(){(at===0||at===3||at===2)&&(at=4),dt===null||(Ps&268435455)===0&&(mo&268435455)===0||as(dt,yt)}function bo(s,i){var c=Te;Te|=2;var d=Sm();(dt!==s||yt!==i)&&(Ir=null,Rs(s,i));do try{Qb();break}catch(f){Nm(s,f)}while(!0);if(Cc(),Te=c,fo.current=d,tt!==null)throw Error(r(261));return dt=null,yt=0,at}function Qb(){for(;tt!==null;)_m(tt)}function Zb(){for(;tt!==null&&!Nw();)_m(tt)}function _m(s){var i=Pm(s.alternate,s,Ht);s.memoizedProps=s.pendingProps,i===null?Em(s):tt=i,au.current=null}function Em(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Wb(c,i,Ht),c!==null){tt=c;return}}else{if(c=qb(c,i),c!==null){c.flags&=32767,tt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{at=6,tt=null;return}}if(i=i.sibling,i!==null){tt=i;return}tt=i=s}while(i!==null);at===0&&(at=5)}function Os(s,i,c){var d=Re,f=Jt.transition;try{Jt.transition=null,Re=1,ej(s,i,c,d)}finally{Jt.transition=f,Re=d}return null}function ej(s,i,c,d){do Sn();while(ns!==null);if((Te&6)!==0)throw Error(r(327));c=s.finishedWork;var f=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(Iw(s,y),s===dt&&(tt=dt=null,yt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||yo||(yo=!0,Am(Na,function(){return Sn(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Jt.transition,Jt.transition=null;var w=Re;Re=1;var E=Te;Te|=4,au.current=null,Kb(s,c),ym(c,s),wb(mc),Aa=!!fc,mc=fc=null,s.current=c,Yb(c),Sw(),Te=E,Re=w,Jt.transition=y}else s.current=c;if(yo&&(yo=!1,ns=s,xo=f),y=s.pendingLanes,y===0&&(ss=null),Cw(c.stateNode),Lt(s,Ze()),i!==null)for(d=s.onRecoverableError,c=0;c<i.length;c++)f=i[c],d(f.value,{componentStack:f.stack,digest:f.digest});if(go)throw go=!1,s=cu,cu=null,s;return(xo&1)!==0&&s.tag!==0&&Sn(),y=s.pendingLanes,(y&1)!==0?s===uu?Mi++:(Mi=0,uu=s):Mi=0,Zr(),null}function Sn(){if(ns!==null){var s=fp(xo),i=Jt.transition,c=Re;try{if(Jt.transition=null,Re=16>s?16:s,ns===null)var d=!1;else{if(s=ns,ns=null,xo=0,(Te&6)!==0)throw Error(r(331));var f=Te;for(Te|=4,te=s.current;te!==null;){var y=te,w=y.child;if((te.flags&16)!==0){var E=y.deletions;if(E!==null){for(var A=0;A<E.length;A++){var $=E[A];for(te=$;te!==null;){var W=te;switch(W.tag){case 0:case 11:case 15:Ii(8,W,y)}var q=W.child;if(q!==null)q.return=W,te=q;else for(;te!==null;){W=te;var H=W.sibling,Z=W.return;if(hm(W),W===$){te=null;break}if(H!==null){H.return=Z,te=H;break}te=Z}}}var se=y.alternate;if(se!==null){var ie=se.child;if(ie!==null){se.child=null;do{var et=ie.sibling;ie.sibling=null,ie=et}while(ie!==null)}}te=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,te=w;else e:for(;te!==null;){if(y=te,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ii(9,y,y.return)}var D=y.sibling;if(D!==null){D.return=y.return,te=D;break e}te=y.return}}var O=s.current;for(te=O;te!==null;){w=te;var L=w.child;if((w.subtreeFlags&2064)!==0&&L!==null)L.return=w,te=L;else e:for(w=O;te!==null;){if(E=te,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:po(9,E)}}catch(ae){Xe(E,E.return,ae)}if(E===w){te=null;break e}var J=E.sibling;if(J!==null){J.return=E.return,te=J;break e}te=E.return}}if(Te=f,Zr(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Sa,s)}catch{}d=!0}return d}finally{Re=c,Jt.transition=i}}return!1}function Cm(s,i,c){i=bn(c,i),i=qf(s,i,1),s=ts(s,i,1),i=Pt(),s!==null&&(oi(s,1,i),Lt(s,i))}function Xe(s,i,c){if(s.tag===3)Cm(s,s,c);else for(;i!==null;){if(i.tag===3){Cm(i,s,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))){s=bn(c,s),s=Gf(i,s,1),i=ts(i,s,1),s=Pt(),i!==null&&(oi(i,1,s),Lt(i,s));break}}i=i.return}}function tj(s,i,c){var d=s.pingCache;d!==null&&d.delete(i),i=Pt(),s.pingedLanes|=s.suspendedLanes&c,dt===s&&(yt&c)===c&&(at===4||at===3&&(yt&130023424)===yt&&500>Ze()-lu?Rs(s,0):ou|=c),Lt(s,i)}function Tm(s,i){i===0&&((s.mode&1)===0?i=1:(i=Ea,Ea<<=1,(Ea&130023424)===0&&(Ea=4194304)));var c=Pt();s=Ar(s,i),s!==null&&(oi(s,i,c),Lt(s,c))}function rj(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),Tm(s,c)}function sj(s,i){var c=0;switch(s.tag){case 13:var d=s.stateNode,f=s.memoizedState;f!==null&&(c=f.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(i),Tm(s,c)}var Pm;Pm=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||Rt.current)It=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return It=!1,Hb(s,i,c);It=(s.flags&131072)!==0}else It=!1,Ve&&(i.flags&1048576)!==0&&cf(i,Ya,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;uo(s,i),s=i.pendingProps;var f=pn(i,kt.current);vn(i,c),f=Uc(null,i,d,s,f,c);var y=Fc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ot(d)?(y=!0,qa(i)):y=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Rc(i),f.updater=lo,i.stateNode=f,f._reactInternals=i,qc(i,d,s,c),i=Jc(null,i,d,!0,y,c)):(i.tag=0,Ve&&y&&jc(i),Tt(null,i,f,c),i=i.child),i;case 16:d=i.elementType;e:{switch(uo(s,i),s=i.pendingProps,f=d._init,d=f(d._payload),i.type=d,f=i.tag=ij(d),s=ar(d,s),f){case 0:i=Yc(null,i,d,s,c);break e;case 1:i=rm(null,i,d,s,c);break e;case 11:i=Xf(null,i,d,s,c);break e;case 14:i=Qf(null,i,d,ar(d.type,s),c);break e}throw Error(r(306,d,""))}return i;case 0:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:ar(d,f),Yc(s,i,d,f,c);case 1:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:ar(d,f),rm(s,i,d,f,c);case 3:e:{if(sm(i),s===null)throw Error(r(387));d=i.pendingProps,y=i.memoizedState,f=y.element,xf(s,i),to(i,d,null,c);var w=i.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){f=bn(Error(r(423)),i),i=nm(s,i,d,c,f);break e}else if(d!==f){f=bn(Error(r(424)),i),i=nm(s,i,d,c,f);break e}else for(Vt=Jr(i.stateNode.containerInfo.firstChild),zt=i,Ve=!0,ir=null,c=gf(i,null,d,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(gn(),d===f){i=Or(s,i,c);break e}Tt(s,i,d,c)}i=i.child}return i;case 5:return bf(i),s===null&&Sc(i),d=i.type,f=i.pendingProps,y=s!==null?s.memoizedProps:null,w=f.children,gc(d,f)?w=null:y!==null&&gc(d,y)&&(i.flags|=32),tm(s,i),Tt(s,i,w,c),i.child;case 6:return s===null&&Sc(i),null;case 13:return im(s,i,c);case 4:return Oc(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=yn(i,null,d,c):Tt(s,i,d,c),i.child;case 11:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:ar(d,f),Xf(s,i,d,f,c);case 7:return Tt(s,i,i.pendingProps,c),i.child;case 8:return Tt(s,i,i.pendingProps.children,c),i.child;case 12:return Tt(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(d=i.type._context,f=i.pendingProps,y=i.memoizedProps,w=f.value,De(Qa,d._currentValue),d._currentValue=w,y!==null)if(nr(y.value,w)){if(y.children===f.children&&!Rt.current){i=Or(s,i,c);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var E=y.dependencies;if(E!==null){w=y.child;for(var A=E.firstContext;A!==null;){if(A.context===d){if(y.tag===1){A=Rr(-1,c&-c),A.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var W=$.pending;W===null?A.next=A:(A.next=W.next,W.next=A),$.pending=A}}y.lanes|=c,A=y.alternate,A!==null&&(A.lanes|=c),Pc(y.return,c,i),E.lanes|=c;break}A=A.next}}else if(y.tag===10)w=y.type===i.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(r(341));w.lanes|=c,E=w.alternate,E!==null&&(E.lanes|=c),Pc(w,c,i),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===i){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Tt(s,i,f.children,c),i=i.child}return i;case 9:return f=i.type,d=i.pendingProps.children,vn(i,c),f=Kt(f),d=d(f),i.flags|=1,Tt(s,i,d,c),i.child;case 14:return d=i.type,f=ar(d,i.pendingProps),f=ar(d.type,f),Qf(s,i,d,f,c);case 15:return Zf(s,i,i.type,i.pendingProps,c);case 17:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:ar(d,f),uo(s,i),i.tag=1,Ot(d)?(s=!0,qa(i)):s=!1,vn(i,c),Hf(i,d,f),qc(i,d,f,c),Jc(null,i,d,!0,s,c);case 19:return om(s,i,c);case 22:return em(s,i,c)}throw Error(r(156,i.tag))};function Am(s,i){return cp(s,i)}function nj(s,i,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(s,i,c,d){return new nj(s,i,c,d)}function gu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ij(s){if(typeof s=="function")return gu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ve)return 11;if(s===$e)return 14}return 2}function os(s,i){var c=s.alternate;return c===null?(c=Xt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function jo(s,i,c,d,f,y){var w=2;if(d=s,typeof s=="function")gu(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case V:return Is(c.children,f,y,i);case Y:w=8,f|=8;break;case ne:return s=Xt(12,c,i,f|2),s.elementType=ne,s.lanes=y,s;case _e:return s=Xt(13,c,i,f),s.elementType=_e,s.lanes=y,s;case ze:return s=Xt(19,c,i,f),s.elementType=ze,s.lanes=y,s;case he:return ko(c,f,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case le:w=10;break e;case Ne:w=9;break e;case ve:w=11;break e;case $e:w=14;break e;case Ue:w=16,d=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return i=Xt(w,c,i,f),i.elementType=s,i.type=d,i.lanes=y,i}function Is(s,i,c,d){return s=Xt(7,s,d,i),s.lanes=c,s}function ko(s,i,c,d){return s=Xt(22,s,d,i),s.elementType=he,s.lanes=c,s.stateNode={isHidden:!1},s}function yu(s,i,c){return s=Xt(6,s,null,i),s.lanes=c,s}function xu(s,i,c){return i=Xt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function aj(s,i,c,d,f){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function vu(s,i,c,d,f,y,w,E,A){return s=new aj(s,i,c,E,A),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Xt(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(y),s}function oj(s,i,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:d==null?null:""+d,children:s,containerInfo:i,implementation:c}}function Rm(s){if(!s)return Qr;s=s._reactInternals;e:{if(js(s)!==s||s.tag!==1)throw Error(r(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ot(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(s.tag===1){var c=s.type;if(Ot(c))return af(s,c,i)}return i}function Om(s,i,c,d,f,y,w,E,A){return s=vu(c,d,!0,s,f,y,w,E,A),s.context=Rm(null),c=s.current,d=Pt(),f=is(c),y=Rr(d,f),y.callback=i??null,ts(c,y,f),s.current.lanes=f,oi(s,f,d),Lt(s,d),s}function No(s,i,c,d){var f=i.current,y=Pt(),w=is(f);return c=Rm(c),i.context===null?i.context=c:i.pendingContext=c,i=Rr(y,w),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=ts(f,i,w),s!==null&&(cr(s,f,w,y),eo(s,f,w)),w}function So(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Im(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function wu(s,i){Im(s,i),(s=s.alternate)&&Im(s,i)}function lj(){return null}var Dm=typeof reportError=="function"?reportError:function(s){console.error(s)};function bu(s){this._internalRoot=s}_o.prototype.render=bu.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));No(s,i,null,null)},_o.prototype.unmount=bu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;As(function(){No(null,s,null,null)}),i[Er]=null}};function _o(s){this._internalRoot=s}_o.prototype.unstable_scheduleHydration=function(s){if(s){var i=yp();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Gr.length&&i!==0&&i<Gr[c].priority;c++);Gr.splice(c,0,s),c===0&&wp(s)}};function ju(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Eo(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function cj(s,i,c,d,f){if(f){if(typeof d=="function"){var y=d;d=function(){var $=So(w);y.call($)}}var w=Om(i,d,s,0,null,!1,!1,"",Lm);return s._reactRootContainer=w,s[Er]=w.current,bi(s.nodeType===8?s.parentNode:s),As(),w}for(;f=s.lastChild;)s.removeChild(f);if(typeof d=="function"){var E=d;d=function(){var $=So(A);E.call($)}}var A=vu(s,0,!1,null,null,!1,!1,"",Lm);return s._reactRootContainer=A,s[Er]=A.current,bi(s.nodeType===8?s.parentNode:s),As(function(){No(i,A,c,d)}),A}function Co(s,i,c,d,f){var y=c._reactRootContainer;if(y){var w=y;if(typeof f=="function"){var E=f;f=function(){var A=So(w);E.call(A)}}No(i,w,s,f)}else w=cj(c,i,s,f,d);return So(w)}mp=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=ai(i.pendingLanes);c!==0&&(ql(i,c|1),Lt(i,Ze()),(Te&6)===0&&(Nn=Ze()+500,Zr()))}break;case 13:As(function(){var d=Ar(s,1);if(d!==null){var f=Pt();cr(d,s,1,f)}}),wu(s,1)}},Gl=function(s){if(s.tag===13){var i=Ar(s,134217728);if(i!==null){var c=Pt();cr(i,s,134217728,c)}wu(s,134217728)}},gp=function(s){if(s.tag===13){var i=is(s),c=Ar(s,i);if(c!==null){var d=Pt();cr(c,s,i,d)}wu(s,i)}},yp=function(){return Re},xp=function(s,i){var c=Re;try{return Re=s,i()}finally{Re=c}},Ul=function(s,i,c){switch(i){case"input":if(Zn(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var d=c[i];if(d!==s&&d.form===s.form){var f=Ha(d);if(!f)throw Error(r(90));Pe(d),Zn(d,f)}}}break;case"textarea":mt(s,c);break;case"select":i=c.value,i!=null&&Q(s,!!c.multiple,i,!1)}},rp=pu,sp=As;var uj={usingClientEntryPoint:!1,Events:[Ni,dn,Ha,ep,tp,pu]},$i={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dj={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=op(s),s===null?null:s.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||lj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Sa=To.inject(dj),yr=To}catch{}}return Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj,Mt.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(i))throw Error(r(200));return oj(s,i,null,c)},Mt.createRoot=function(s,i){if(!ju(s))throw Error(r(299));var c=!1,d="",f=Dm;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=vu(s,1,!1,null,null,c,!1,d,f),s[Er]=i.current,bi(s.nodeType===8?s.parentNode:s),new bu(i)},Mt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=op(i),s=s===null?null:s.stateNode,s},Mt.flushSync=function(s){return As(s)},Mt.hydrate=function(s,i,c){if(!Eo(i))throw Error(r(200));return Co(null,s,i,!0,c)},Mt.hydrateRoot=function(s,i,c){if(!ju(s))throw Error(r(405));var d=c!=null&&c.hydratedSources||null,f=!1,y="",w=Dm;if(c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),i=Om(i,null,s,1,c??null,f,!1,y,w),s[Er]=i.current,bi(s),d)for(s=0;s<d.length;s++)c=d[s],f=c._getVersion,f=f(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,f]:i.mutableSourceEagerHydrationData.push(c,f);return new _o(i)},Mt.render=function(s,i,c){if(!Eo(i))throw Error(r(200));return Co(null,s,i,!1,c)},Mt.unmountComponentAtNode=function(s){if(!Eo(s))throw Error(r(40));return s._reactRootContainer?(As(function(){Co(null,null,s,!1,function(){s._reactRootContainer=null,s[Er]=null})}),!0):!1},Mt.unstable_batchedUpdates=pu,Mt.unstable_renderSubtreeIntoContainer=function(s,i,c,d){if(!Eo(c))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Co(s,i,c,!1,d)},Mt.version="18.3.1-next-f1338f8080-20240426",Mt}var Hm;function wj(){if(Hm)return Su.exports;Hm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Su.exports=vj(),Su.exports}var Wm;function bj(){if(Wm)return Po;Wm=1;var t=wj();return Po.createRoot=t.createRoot,Po.hydrateRoot=t.hydrateRoot,Po}var jj=bj(),j=Yd();const kj=Yg(j);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qm="popstate";function Nj(t={}){function e(a,o){let{pathname:l,search:u,hash:h}=a.location;return td("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Qi(o)}return _j(e,r,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sj(){return Math.random().toString(36).substring(2,10)}function Gm(t,e){return{usr:t.state,key:t.key,idx:e}}function td(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qn(e):e,state:r,key:e&&e.key||a||Sj()}}function Qi({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function qn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function _j(t,e,r,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,h="POP",p=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){h="POP";let _=g(),T=_==null?null:_-m;m=_,p&&p({action:h,location:S.location,delta:T})}function v(_,T){h="PUSH";let C=td(S.location,_,T);m=g()+1;let N=Gm(C,m),I=S.createHref(C);try{u.pushState(N,"",I)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(I)}l&&p&&p({action:h,location:S.location,delta:1})}function b(_,T){h="REPLACE";let C=td(S.location,_,T);m=g();let N=Gm(C,m),I=S.createHref(C);u.replaceState(N,"",I),l&&p&&p({action:h,location:S.location,delta:0})}function k(_){return Ej(_)}let S={get action(){return h},get location(){return t(o,u)},listen(_){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qm,x),p=_,()=>{o.removeEventListener(qm,x),p=null}},createHref(_){return e(o,_)},createURL:k,encodeLocation(_){let T=k(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:b,go(_){return u.go(_)}};return S}function Ej(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Je(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Qi(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Jg(t,e,r="/"){return Cj(t,e,r,!1)}function Cj(t,e,r,a){let o=typeof e=="string"?qn(e):e,l=Fr(o.pathname||"/",r);if(l==null)return null;let u=Xg(t);Tj(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let m=Fj(l);h=$j(u[p],m,a)}return h}function Xg(t,e=[],r=[],a="",o=!1){let l=(u,h,p=o,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&p)return;Je(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let x=$r([a,g.relativePath]),v=r.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Xg(u.children,e,v,x,p)),!(u.path==null&&!u.index)&&e.push({path:x,score:Lj(x,u.index),routesMeta:v})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let p of Qg(u.path))l(u,h,!0,p)}),e}function Qg(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=Qg(a.join("/")),h=[];return h.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...u),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function Tj(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Mj(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var Pj=/^:[\w-]+$/,Aj=3,Rj=2,Oj=1,Ij=10,Dj=-2,Km=t=>t==="*";function Lj(t,e){let r=t.split("/"),a=r.length;return r.some(Km)&&(a+=Dj),e&&(a+=Rj),r.filter(o=>!Km(o)).reduce((o,l)=>o+(Pj.test(l)?Aj:l===""?Oj:Ij),a)}function Mj(t,e){return t.length===e.length&&t.slice(0,-1).every((a,o)=>a===e[o])?t[t.length-1]-e[e.length-1]:0}function $j(t,e,r=!1){let{routesMeta:a}=t,o={},l="/",u=[];for(let h=0;h<a.length;++h){let p=a[h],m=h===a.length-1,g=l==="/"?e:e.slice(l.length)||"/",x=sl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),v=p.route;if(!x&&m&&r&&!a[a.length-1].route.index&&(x=sl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:$r([l,x.pathname]),pathnameBase:Wj($r([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=$r([l,x.pathnameBase]))}return u}function sl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Uj(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:x},v)=>{if(g==="*"){let k=h[v]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const b=h[v];return x&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function Uj(t,e=!1,r=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(a.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Fj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var Bj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zj=t=>Bj.test(t);function Vj(t,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof t=="string"?qn(t):t,l;if(r)if(zj(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),tr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?l=Ym(r.substring(1),"/"):l=Ym(r,e)}else l=e;return{pathname:l,search:qj(a),hash:Gj(o)}}function Ym(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Cu(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zg(t){let e=Hj(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function ey(t,e,r,a=!1){let o;typeof t=="string"?o=qn(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),Cu("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Cu("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Cu("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=r;else{let x=e.length-1;if(!a&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),x-=1;o.pathname=v.join("/")}h=x>=0?e[x]:"/"}let p=Vj(o,h),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),Wj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Yj(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ty=["POST","PUT","PATCH","DELETE"];new Set(ty);var Jj=["GET",...ty];new Set(Jj);var Gn=j.createContext(null);Gn.displayName="DataRouter";var bl=j.createContext(null);bl.displayName="DataRouterState";j.createContext(!1);var ry=j.createContext({isTransitioning:!1});ry.displayName="ViewTransition";var Xj=j.createContext(new Map);Xj.displayName="Fetchers";var Qj=j.createContext(null);Qj.displayName="Await";var mr=j.createContext(null);mr.displayName="Navigation";var la=j.createContext(null);la.displayName="Location";var _r=j.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var Jd=j.createContext(null);Jd.displayName="RouteError";function Zj(t,{relative:e}={}){Je(ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(mr),{hash:o,pathname:l,search:u}=ua(t,{relative:e}),h=l;return r!=="/"&&(h=l==="/"?r:$r([r,l])),a.createHref({pathname:h,search:u,hash:o})}function ca(){return j.useContext(la)!=null}function xs(){return Je(ca(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(la).location}var sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ny(t){j.useContext(mr).static||j.useLayoutEffect(t)}function pt(){let{isDataRoute:t}=j.useContext(_r);return t?h1():e1()}function e1(){Je(ca(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Gn),{basename:e,navigator:r}=j.useContext(mr),{matches:a}=j.useContext(_r),{pathname:o}=xs(),l=JSON.stringify(Zg(a)),u=j.useRef(!1);return ny(()=>{u.current=!0}),j.useCallback((p,m={})=>{if(tr(u.current,sy),!u.current)return;if(typeof p=="number"){r.go(p);return}let g=ey(p,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:$r([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,o,t])}j.createContext(null);function Xd(){let{matches:t}=j.useContext(_r),e=t[t.length-1];return e?e.params:{}}function ua(t,{relative:e}={}){let{matches:r}=j.useContext(_r),{pathname:a}=xs(),o=JSON.stringify(Zg(r));return j.useMemo(()=>ey(t,JSON.parse(o),a,e==="path"),[t,o,a,e])}function t1(t,e){return iy(t,e)}function iy(t,e,r,a,o){Je(ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(mr),{matches:u}=j.useContext(_r),h=u[u.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let C=x&&x.path||"";ay(m,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=xs(),b;if(e){let C=typeof e=="string"?qn(e):e;Je(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=v;let k=b.pathname||"/",S=k;if(g!=="/"){let C=g.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=Jg(t,{pathname:S});tr(x||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),tr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=a1(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:$r([g,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:$r([g,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),u,r,a,o);return e&&T?j.createElement(la.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function r1(){let t=d1(),e=Kj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:o},r):null,u)}var s1=j.createElement(r1,null),n1=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(_r.Provider,{value:this.props.routeContext},j.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i1({routeContext:t,match:e,children:r}){let a=j.useContext(Gn);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(_r.Provider,{value:t},r)}function a1(t,e=[],r=null,a=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let g=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(r)for(let g=0;g<l.length;g++){let x=l[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:v,errors:b}=r,k=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!b||b[x.route.id]===void 0);if(x.route.lazy||k){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=r&&a?(g,x)=>{a(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Yj(r.matches),errorInfo:x})}:void 0;return l.reduceRight((g,x,v)=>{let b,k=!1,S=null,_=null;r&&(b=u&&x.route.id?u[x.route.id]:void 0,S=x.route.errorElement||s1,h&&(p<0&&v===0?(ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):p===v&&(k=!0,_=x.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,v+1)),C=()=>{let N;return b?N=S:k?N=_:x.route.Component?N=j.createElement(x.route.Component,null):x.route.element?N=x.route.element:N=g,j.createElement(i1,{match:x,routeContext:{outlet:g,matches:T,isDataRoute:r!=null},children:N})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?j.createElement(n1,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:m}):C()},null)}function Qd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(t){let e=j.useContext(Gn);return Je(e,Qd(t)),e}function l1(t){let e=j.useContext(bl);return Je(e,Qd(t)),e}function c1(t){let e=j.useContext(_r);return Je(e,Qd(t)),e}function Zd(t){let e=c1(t),r=e.matches[e.matches.length-1];return Je(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function u1(){return Zd("useRouteId")}function d1(){let t=j.useContext(Jd),e=l1("useRouteError"),r=Zd("useRouteError");return t!==void 0?t:e.errors?.[r]}function h1(){let{router:t}=o1("useNavigate"),e=Zd("useNavigate"),r=j.useRef(!1);return ny(()=>{r.current=!0}),j.useCallback(async(o,l={})=>{tr(r.current,sy),r.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Jm={};function ay(t,e,r){!e&&!Jm[t]&&(Jm[t]=!0,tr(!1,r))}j.memo(p1);function p1({routes:t,future:e,state:r,unstable_onError:a}){return iy(t,void 0,r,a,e)}function vt(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f1({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){Je(!ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:h,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[h,o,l,u]);typeof r=="string"&&(r=qn(r));let{pathname:m="/",search:g="",hash:x="",state:v=null,key:b="default"}=r,k=j.useMemo(()=>{let S=Fr(m,h);return S==null?null:{location:{pathname:S,search:g,hash:x,state:v,key:b},navigationType:a}},[h,m,g,x,v,b,a]);return tr(k!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(mr.Provider,{value:p},j.createElement(la.Provider,{children:e,value:k}))}function m1({children:t,location:e}){return t1(rd(t),e)}function rd(t,e=[]){let r=[];return j.Children.forEach(t,(a,o)=>{if(!j.isValidElement(a))return;let l=[...e,o];if(a.type===j.Fragment){r.push.apply(r,rd(a.props.children,l));return}Je(a.type===vt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=rd(a.props.children,l)),r.push(u)}),r}var qo="get",Go="application/x-www-form-urlencoded";function jl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function g1(t){return jl(t)&&t.tagName.toLowerCase()==="button"}function y1(t){return jl(t)&&t.tagName.toLowerCase()==="form"}function x1(t){return jl(t)&&t.tagName.toLowerCase()==="input"}function v1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w1(t,e){return t.button===0&&(!e||e==="_self")&&!v1(t)}function sd(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let a=t[r];return e.concat(Array.isArray(a)?a.map(o=>[r,o]):[[r,a]])},[]))}function b1(t,e){let r=sd(t);return e&&e.forEach((a,o)=>{r.has(o)||e.getAll(o).forEach(l=>{r.append(o,l)})}),r}var Ao=null;function j1(){if(Ao===null)try{new FormData(document.createElement("form"),0),Ao=!1}catch{Ao=!0}return Ao}var k1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(t){return t!=null&&!k1.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Go}"`),null):t}function N1(t,e){let r,a,o,l,u;if(y1(t)){let h=t.getAttribute("action");a=h?Fr(h,e):null,r=t.getAttribute("method")||qo,o=Tu(t.getAttribute("enctype"))||Go,l=new FormData(t)}else if(g1(t)||x1(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(a=p?Fr(p,e):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||qo,o=Tu(t.getAttribute("formenctype"))||Tu(h.getAttribute("enctype"))||Go,l=new FormData(h,t),!j1()){let{name:m,type:g,value:x}=t;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(jl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qo,a=null,o=Go,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S1(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Fr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function _1(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function C1(t,e,r){let a=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await _1(l,r);return u.links?u.links():[]}return[]}));return R1(a.flat(1).filter(E1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xm(t,e,r,a,o,l){let u=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,h=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>u(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{let g=a.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(u(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function T1(t,e,{includeHydrateFallback:r}={}){return P1(t.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function P1(t){return[...new Set(t)]}function A1(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function R1(t,e){let r=new Set;return new Set(e),t.reduce((a,o)=>{let l=JSON.stringify(A1(o));return r.has(l)||(r.add(l),a.push({key:l,link:o})),a},[])}function oy(){let t=j.useContext(Gn);return eh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function O1(){let t=j.useContext(bl);return eh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var th=j.createContext(void 0);th.displayName="FrameworkContext";function ly(){let t=j.useContext(th);return eh(t,"You must render this element inside a <HydratedRouter> element"),t}function I1(t,e){let r=j.useContext(th),[a,o]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,v=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let S=T=>{T.forEach(C=>{u(C.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),j.useEffect(()=>{if(a){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[a]);let b=()=>{o(!0)},k=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,v,{}]:[l,v,{onFocus:Fi(h,b),onBlur:Fi(p,k),onMouseEnter:Fi(m,b),onMouseLeave:Fi(g,k),onTouchStart:Fi(x,b)}]:[!1,v,{}]}function Fi(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function D1({page:t,...e}){let{router:r}=oy(),a=j.useMemo(()=>Jg(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?j.createElement(M1,{page:t,matches:a,...e}):null}function L1(t){let{manifest:e,routeModules:r}=ly(),[a,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return C1(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),a}function M1({page:t,matches:e,...r}){let a=xs(),{manifest:o,routeModules:l}=ly(),{basename:u}=oy(),{loaderData:h,matches:p}=O1(),m=j.useMemo(()=>Xm(t,e,p,o,a,"data"),[t,e,p,o,a]),g=j.useMemo(()=>Xm(t,e,p,o,a,"assets"),[t,e,p,o,a]),x=j.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let k=new Set,S=!1;if(e.forEach(T=>{let C=o.routes[T.route.id];!C||!C.hasLoader||(!m.some(N=>N.route.id===T.route.id)&&T.route.id in h&&l[T.route.id]?.shouldRevalidate||C.hasClientLoader?S=!0:k.add(T.route.id))}),k.size===0)return[];let _=S1(t,u,"data");return S&&k.size>0&&_.searchParams.set("_routes",e.filter(T=>k.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[u,h,a,o,m,e,t,l]),v=j.useMemo(()=>T1(g,o),[g,o]),b=L1(g);return j.createElement(j.Fragment,null,x.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),v.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),b.map(({key:k,link:S})=>j.createElement("link",{key:k,nonce:r.nonce,...S})))}function $1(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cy&&(window.__reactRouterVersion="7.10.1")}catch{}function U1({basename:t,children:e,unstable_useTransitions:r,window:a}){let o=j.useRef();o.current==null&&(o.current=Nj({window:a,v5Compat:!0}));let l=o.current,[u,h]=j.useState({action:l.action,location:l.location}),p=j.useCallback(m=>{r===!1?h(m):j.startTransition(()=>h(m))},[r]);return j.useLayoutEffect(()=>l.listen(p),[l,p]),j.createElement(f1,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:r===!0})}var uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xs=j.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:l,replace:u,state:h,target:p,to:m,preventScrollReset:g,viewTransition:x,...v},b){let{basename:k,unstable_useTransitions:S}=j.useContext(mr),_=typeof m=="string"&&uy.test(m),T,C=!1;if(typeof m=="string"&&_&&(T=m,cy))try{let le=new URL(window.location.href),Ne=m.startsWith("//")?new URL(le.protocol+m):new URL(m),ve=Fr(Ne.pathname,k);Ne.origin===le.origin&&ve!=null?m=ve+Ne.search+Ne.hash:C=!0}catch{tr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Zj(m,{relative:o}),[I,F,z]=I1(a,v),V=V1(m,{replace:u,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:x,unstable_useTransitions:S});function Y(le){e&&e(le),le.defaultPrevented||V(le)}let ne=j.createElement("a",{...v,...z,href:T||N,onClick:C||l?e:Y,ref:$1(b,F),target:p,"data-discover":!_&&r==="render"?"true":void 0});return I&&!_?j.createElement(j.Fragment,null,ne,j.createElement(D1,{page:N})):ne});Xs.displayName="Link";var F1=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:h,children:p,...m},g){let x=ua(u,{relative:m.relative}),v=xs(),b=j.useContext(bl),{navigator:k,basename:S}=j.useContext(mr),_=b!=null&&K1(x)&&h===!0,T=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,C=v.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(C=C.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&S&&(N=Fr(N,S)||N);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let F=C===T||!o&&C.startsWith(T)&&C.charAt(I)==="/",z=N!=null&&(N===T||!o&&N.startsWith(T)&&N.charAt(T.length)==="/"),V={isActive:F,isPending:z,isTransitioning:_},Y=F?e:void 0,ne;typeof a=="function"?ne=a(V):ne=[a,F?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let le=typeof l=="function"?l(V):l;return j.createElement(Xs,{...m,"aria-current":Y,className:ne,ref:g,style:le,to:u,viewTransition:h},typeof p=="function"?p(V):p)});F1.displayName="NavLink";var B1=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:l,method:u=qo,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:x,...v},b)=>{let{unstable_useTransitions:k}=j.useContext(mr),S=q1(),_=G1(h,{relative:m}),T=u.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&uy.test(h),N=I=>{if(p&&p(I),I.defaultPrevented)return;I.preventDefault();let F=I.nativeEvent.submitter,z=F?.getAttribute("formmethod")||u,V=()=>S(F||I.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:x});k&&r!==!1?j.startTransition(()=>V()):V()};return j.createElement("form",{ref:b,method:T,action:_,onSubmit:a?p:N,...v,"data-discover":!C&&t==="render"?"true":void 0})});B1.displayName="Form";function z1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dy(t){let e=j.useContext(Gn);return Je(e,z1(t)),e}function V1(t,{target:e,replace:r,state:a,preventScrollReset:o,relative:l,viewTransition:u,unstable_useTransitions:h}={}){let p=pt(),m=xs(),g=ua(t,{relative:l});return j.useCallback(x=>{if(w1(x,e)){x.preventDefault();let v=r!==void 0?r:Qi(m)===Qi(g),b=()=>p(t,{replace:v,state:a,preventScrollReset:o,relative:l,viewTransition:u});h?j.startTransition(()=>b()):b()}},[m,p,g,r,a,e,t,o,l,u,h])}function hy(t){tr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(sd(t)),r=j.useRef(!1),a=xs(),o=j.useMemo(()=>b1(a.search,r.current?null:e.current),[a.search]),l=pt(),u=j.useCallback((h,p)=>{const m=sd(typeof h=="function"?h(new URLSearchParams(o)):h);r.current=!0,l("?"+m,p)},[l,o]);return[o,u]}var H1=0,W1=()=>`__${String(++H1)}__`;function q1(){let{router:t}=dy("useSubmit"),{basename:e}=j.useContext(mr),r=u1(),a=t.fetch,o=t.navigate;return j.useCallback(async(l,u={})=>{let{action:h,method:p,encType:m,formData:g,body:x}=N1(l,e);if(u.navigate===!1){let v=u.fetcherKey||W1();await a(v,r,u.action||h,{preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||p,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||h,{preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||p,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,o,e,r])}function G1(t,{relative:e}={}){let{basename:r}=j.useContext(mr),a=j.useContext(_r);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...ua(t||".",{relative:e})},u=xs();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:$r([r,l.pathname])),Qi(l)}function K1(t,{relative:e}={}){let r=j.useContext(ry);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=dy("useViewTransitionState"),o=ua(t,{relative:e});if(!r.isTransitioning)return!1;let l=Fr(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=Fr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return sl(o.pathname,u)!=null||sl(o.pathname,l)!=null}const rh=j.createContext({});function sh(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const nh=typeof window<"u",py=nh?j.useLayoutEffect:j.useEffect,kl=j.createContext(null);function ih(t,e){t.indexOf(e)===-1&&t.push(e)}function ah(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Br=(t,e,r)=>r>e?e:r<t?t:r;let oh=()=>{};const zr={},fy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function my(t){return typeof t=="object"&&t!==null}const gy=t=>/^0[^.\s]+$/u.test(t);function lh(t){let e;return()=>(e===void 0&&(e=t()),e)}const er=t=>t,Y1=(t,e)=>r=>e(t(r)),da=(...t)=>t.reduce(Y1),Zi=(t,e,r)=>{const a=e-t;return a===0?1:(r-t)/a};class ch{constructor(){this.subscriptions=[]}add(e){return ih(this.subscriptions,e),()=>ah(this.subscriptions,e)}notify(e,r,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,a);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kr=t=>t*1e3,Zt=t=>t/1e3;function yy(t,e){return e?t*(1e3/e):0}const xy=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,J1=1e-7,X1=12;function Q1(t,e,r,a,o){let l,u,h=0;do u=e+(r-e)/2,l=xy(u,a,o)-t,l>0?r=u:e=u;while(Math.abs(l)>J1&&++h<X1);return u}function ha(t,e,r,a){if(t===e&&r===a)return er;const o=l=>Q1(l,0,1,t,r);return l=>l===0||l===1?l:xy(o(l),e,a)}const vy=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wy=t=>e=>1-t(1-e),by=ha(.33,1.53,.69,.99),uh=wy(by),jy=vy(uh),ky=t=>(t*=2)<1?.5*uh(t):.5*(2-Math.pow(2,-10*(t-1))),dh=t=>1-Math.sin(Math.acos(t)),Ny=wy(dh),Sy=vy(dh),Z1=ha(.42,0,1,1),ek=ha(0,0,.58,1),_y=ha(.42,0,.58,1),tk=t=>Array.isArray(t)&&typeof t[0]!="number",Ey=t=>Array.isArray(t)&&typeof t[0]=="number",rk={linear:er,easeIn:Z1,easeInOut:_y,easeOut:ek,circIn:dh,circInOut:Sy,circOut:Ny,backIn:uh,backInOut:jy,backOut:by,anticipate:ky},sk=t=>typeof t=="string",Qm=t=>{if(Ey(t)){oh(t.length===4);const[e,r,a,o]=t;return ha(e,r,a,o)}else if(sk(t))return rk[t];return t},Ro=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nk(t,e){let r=new Set,a=new Set,o=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,x=!1,v=!1)=>{const k=v&&o?r:a;return x&&u.add(g),k.has(g)||k.add(g),g},cancel:g=>{a.delete(g),u.delete(g)},process:g=>{if(h=g,o){l=!0;return}o=!0,[r,a]=[a,r],r.forEach(p),r.clear(),o=!1,l&&(l=!1,m.process(g))}};return m}const ik=40;function Cy(t,e){let r=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=Ro.reduce((N,I)=>(N[I]=nk(l),N),{}),{setup:h,read:p,resolveKeyframes:m,preUpdate:g,update:x,preRender:v,render:b,postRender:k}=u,S=()=>{const N=zr.useManualTiming?o.timestamp:performance.now();r=!1,zr.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(N-o.timestamp,ik),1)),o.timestamp=N,o.isProcessing=!0,h.process(o),p.process(o),m.process(o),g.process(o),x.process(o),v.process(o),b.process(o),k.process(o),o.isProcessing=!1,r&&e&&(a=!1,t(S))},_=()=>{r=!0,a=!0,o.isProcessing||t(S)};return{schedule:Ro.reduce((N,I)=>{const F=u[I];return N[I]=(z,V=!1,Y=!1)=>(r||_(),F.schedule(z,V,Y)),N},{}),cancel:N=>{for(let I=0;I<Ro.length;I++)u[Ro[I]].cancel(N)},state:o,steps:u}}const{schedule:qe,cancel:fs,state:bt,steps:Pu}=Cy(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let Ko;function ak(){Ko=void 0}const Ft={now:()=>(Ko===void 0&&Ft.set(bt.isProcessing||zr.useManualTiming?bt.timestamp:performance.now()),Ko),set:t=>{Ko=t,queueMicrotask(ak)}},Ty=t=>e=>typeof e=="string"&&e.startsWith(t),Py=Ty("--"),ok=Ty("var(--"),hh=t=>ok(t)?lk.test(t.split("/*")[0].trim()):!1,lk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ea={...Kn,transform:t=>Br(0,1,t)},Oo={...Kn,default:1},Ki=t=>Math.round(t*1e5)/1e5,ph=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ck(t){return t==null}const uk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fh=(t,e)=>r=>!!(typeof r=="string"&&uk.test(r)&&r.startsWith(t)||e&&!ck(r)&&Object.prototype.hasOwnProperty.call(r,e)),Ay=(t,e,r)=>a=>{if(typeof a!="string")return a;const[o,l,u,h]=a.match(ph);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},dk=t=>Br(0,255,t),Au={...Kn,transform:t=>Math.round(dk(t))},Hs={test:fh("rgb","red"),parse:Ay("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:a=1})=>"rgba("+Au.transform(t)+", "+Au.transform(e)+", "+Au.transform(r)+", "+Ki(ea.transform(a))+")"};function hk(t){let e="",r="",a="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),a=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),a=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,a+=a,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const nd={test:fh("#"),parse:hk,transform:Hs.transform},pa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cs=pa("deg"),Nr=pa("%"),ye=pa("px"),pk=pa("vh"),fk=pa("vw"),Zm={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},Rn={test:fh("hsl","hue"),parse:Ay("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:a=1})=>"hsla("+Math.round(t)+", "+Nr.transform(Ki(e))+", "+Nr.transform(Ki(r))+", "+Ki(ea.transform(a))+")"},nt={test:t=>Hs.test(t)||nd.test(t)||Rn.test(t),parse:t=>Hs.test(t)?Hs.parse(t):Rn.test(t)?Rn.parse(t):nd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hs.transform(t):Rn.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},mk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gk(t){return isNaN(t)&&typeof t=="string"&&(t.match(ph)?.length||0)+(t.match(mk)?.length||0)>0}const Ry="number",Oy="color",yk="var",xk="var(",e0="${}",vk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ta(t){const e=t.toString(),r=[],a={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(vk,p=>(nt.test(p)?(a.color.push(l),o.push(Oy),r.push(nt.parse(p))):p.startsWith(xk)?(a.var.push(l),o.push(yk),r.push(p)):(a.number.push(l),o.push(Ry),r.push(parseFloat(p))),++l,e0)).split(e0);return{values:r,split:h,indexes:a,types:o}}function Iy(t){return ta(t).values}function Dy(t){const{split:e,types:r}=ta(t),a=e.length;return o=>{let l="";for(let u=0;u<a;u++)if(l+=e[u],o[u]!==void 0){const h=r[u];h===Ry?l+=Ki(o[u]):h===Oy?l+=nt.transform(o[u]):l+=o[u]}return l}}const wk=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function bk(t){const e=Iy(t);return Dy(t)(e.map(wk))}const ms={test:gk,parse:Iy,createTransformer:Dy,getAnimatableNone:bk};function Ru(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function jk({hue:t,saturation:e,lightness:r,alpha:a}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const h=r<.5?r*(1+e):r+e-r*e,p=2*r-h;o=Ru(p,h,t+1/3),l=Ru(p,h,t),u=Ru(p,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:a}}function nl(t,e){return r=>r>0?e:t}const Ye=(t,e,r)=>t+(e-t)*r,Ou=(t,e,r)=>{const a=t*t,o=r*(e*e-a)+a;return o<0?0:Math.sqrt(o)},kk=[nd,Hs,Rn],Nk=t=>kk.find(e=>e.test(t));function t0(t){const e=Nk(t);if(!e)return!1;let r=e.parse(t);return e===Rn&&(r=jk(r)),r}const r0=(t,e)=>{const r=t0(t),a=t0(e);if(!r||!a)return nl(t,e);const o={...r};return l=>(o.red=Ou(r.red,a.red,l),o.green=Ou(r.green,a.green,l),o.blue=Ou(r.blue,a.blue,l),o.alpha=Ye(r.alpha,a.alpha,l),Hs.transform(o))},id=new Set(["none","hidden"]);function Sk(t,e){return id.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function _k(t,e){return r=>Ye(t,e,r)}function mh(t){return typeof t=="number"?_k:typeof t=="string"?hh(t)?nl:nt.test(t)?r0:Tk:Array.isArray(t)?Ly:typeof t=="object"?nt.test(t)?r0:Ek:nl}function Ly(t,e){const r=[...t],a=r.length,o=t.map((l,u)=>mh(l)(l,e[u]));return l=>{for(let u=0;u<a;u++)r[u]=o[u](l);return r}}function Ek(t,e){const r={...t,...e},a={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(a[o]=mh(t[o])(t[o],e[o]));return o=>{for(const l in a)r[l]=a[l](o);return r}}function Ck(t,e){const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][a[l]],h=t.values[u]??0;r[o]=h,a[l]++}return r}const Tk=(t,e)=>{const r=ms.createTransformer(e),a=ta(t),o=ta(e);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?id.has(t)&&!o.values.length||id.has(e)&&!a.values.length?Sk(t,e):da(Ly(Ck(a,o),o.values),r):nl(t,e)};function My(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ye(t,e,r):mh(t)(t,e)}const Pk=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>qe.update(e,r),stop:()=>fs(e),now:()=>bt.isProcessing?bt.timestamp:Ft.now()}},$y=(t,e,r=10)=>{let a="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)a+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},il=2e4;function gh(t){let e=0;const r=50;let a=t.next(e);for(;!a.done&&e<il;)e+=r,a=t.next(e);return e>=il?1/0:e}function Ak(t,e=100,r){const a=r({...t,keyframes:[0,e]}),o=Math.min(gh(a),il);return{type:"keyframes",ease:l=>a.next(o*l).value/e,duration:Zt(o)}}const Rk=5;function Uy(t,e,r){const a=Math.max(e-Rk,0);return yy(r-t(a),e-a)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iu=.001;function Ok({duration:t=Qe.duration,bounce:e=Qe.bounce,velocity:r=Qe.velocity,mass:a=Qe.mass}){let o,l,u=1-e;u=Br(Qe.minDamping,Qe.maxDamping,u),t=Br(Qe.minDuration,Qe.maxDuration,Zt(t)),u<1?(o=m=>{const g=m*u,x=g*t,v=g-r,b=ad(m,u),k=Math.exp(-x);return Iu-v/b*k},l=m=>{const x=m*u*t,v=x*r+r,b=Math.pow(u,2)*Math.pow(m,2)*t,k=Math.exp(-x),S=ad(Math.pow(m,2),u);return(-o(m)+Iu>0?-1:1)*((v-b)*k)/S}):(o=m=>{const g=Math.exp(-m*t),x=(m-r)*t+1;return-Iu+g*x},l=m=>{const g=Math.exp(-m*t),x=(r-m)*(t*t);return g*x});const h=5/t,p=Dk(o,l,h);if(t=kr(t),isNaN(p))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:t};{const m=Math.pow(p,2)*a;return{stiffness:m,damping:u*2*Math.sqrt(a*m),duration:t}}}const Ik=12;function Dk(t,e,r){let a=r;for(let o=1;o<Ik;o++)a=a-t(a)/e(a);return a}function ad(t,e){return t*Math.sqrt(1-e*e)}const Lk=["duration","bounce"],Mk=["stiffness","damping","mass"];function s0(t,e){return e.some(r=>t[r]!==void 0)}function $k(t){let e={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...t};if(!s0(t,Mk)&&s0(t,Lk))if(t.visualDuration){const r=t.visualDuration,a=2*Math.PI/(r*1.2),o=a*a,l=2*Br(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Qe.mass,stiffness:o,damping:l}}else{const r=Ok(t);e={...e,...r,mass:Qe.mass},e.isResolvedFromDuration=!0}return e}function al(t=Qe.visualDuration,e=Qe.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:o}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:g,duration:x,velocity:v,isResolvedFromDuration:b}=$k({...r,velocity:-Zt(r.velocity||0)}),k=v||0,S=m/(2*Math.sqrt(p*g)),_=u-l,T=Zt(Math.sqrt(p/g)),C=Math.abs(_)<5;a||(a=C?Qe.restSpeed.granular:Qe.restSpeed.default),o||(o=C?Qe.restDelta.granular:Qe.restDelta.default);let N;if(S<1){const F=ad(T,S);N=z=>{const V=Math.exp(-S*T*z);return u-V*((k+S*T*_)/F*Math.sin(F*z)+_*Math.cos(F*z))}}else if(S===1)N=F=>u-Math.exp(-T*F)*(_+(k+T*_)*F);else{const F=T*Math.sqrt(S*S-1);N=z=>{const V=Math.exp(-S*T*z),Y=Math.min(F*z,300);return u-V*((k+S*T*_)*Math.sinh(Y)+F*_*Math.cosh(Y))/F}}const I={calculatedDuration:b&&x||null,next:F=>{const z=N(F);if(b)h.done=F>=x;else{let V=F===0?k:0;S<1&&(V=F===0?kr(k):Uy(N,F,z));const Y=Math.abs(V)<=a,ne=Math.abs(u-z)<=o;h.done=Y&&ne}return h.value=h.done?u:z,h},toString:()=>{const F=Math.min(gh(I),il),z=$y(V=>I.next(F*V).value,F,30);return F+"ms "+z},toTransition:()=>{}};return I}al.applyToOptions=t=>{const e=Ak(t,100,al);return t.ease=e.ease,t.duration=kr(e.duration),t.type="keyframes",t};function od({keyframes:t,velocity:e=0,power:r=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:p,restDelta:m=.5,restSpeed:g}){const x=t[0],v={done:!1,value:x},b=Y=>h!==void 0&&Y<h||p!==void 0&&Y>p,k=Y=>h===void 0?p:p===void 0||Math.abs(h-Y)<Math.abs(p-Y)?h:p;let S=r*e;const _=x+S,T=u===void 0?_:u(_);T!==_&&(S=T-x);const C=Y=>-S*Math.exp(-Y/a),N=Y=>T+C(Y),I=Y=>{const ne=C(Y),le=N(Y);v.done=Math.abs(ne)<=m,v.value=v.done?T:le};let F,z;const V=Y=>{b(v.value)&&(F=Y,z=al({keyframes:[v.value,k(v.value)],velocity:Uy(N,Y,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return V(0),{calculatedDuration:null,next:Y=>{let ne=!1;return!z&&F===void 0&&(ne=!0,I(Y),V(Y)),F!==void 0&&Y>=F?z.next(Y-F):(!ne&&I(Y),v)}}}function Uk(t,e,r){const a=[],o=r||zr.mix||My,l=t.length-1;for(let u=0;u<l;u++){let h=o(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||er:e;h=da(p,h)}a.push(h)}return a}function Fk(t,e,{clamp:r=!0,ease:a,mixer:o}={}){const l=t.length;if(oh(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=Uk(e,a,o),p=h.length,m=g=>{if(u&&g<t[0])return e[0];let x=0;if(p>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const v=Zi(t[x],t[x+1],g);return h[x](v)};return r?g=>m(Br(t[0],t[l-1],g)):m}function Bk(t,e){const r=t[t.length-1];for(let a=1;a<=e;a++){const o=Zi(0,e,a);t.push(Ye(r,1,o))}}function zk(t){const e=[0];return Bk(e,t.length-1),e}function Vk(t,e){return t.map(r=>r*e)}function Hk(t,e){return t.map(()=>e||_y).splice(0,t.length-1)}function Yi({duration:t=300,keyframes:e,times:r,ease:a="easeInOut"}){const o=tk(a)?a.map(Qm):Qm(a),l={done:!1,value:e[0]},u=Vk(r&&r.length===e.length?r:zk(e),t),h=Fk(u,e,{ease:Array.isArray(o)?o:Hk(e,o)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const Wk=t=>t!==null;function yh(t,{repeat:e,repeatType:r="loop"},a,o=1){const l=t.filter(Wk),h=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!h||a===void 0?l[h]:a}const qk={decay:od,inertia:od,tween:Yi,keyframes:Yi,spring:al};function Fy(t){typeof t.type=="string"&&(t.type=qk[t.type])}class xh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Gk=t=>t/100;class vh extends xh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fy(e);const{type:r=Yi,repeat:a=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const p=r||Yi;p!==Yi&&typeof h[0]!="number"&&(this.mixKeyframes=da(Gk,My(h[0],h[1])),h=[0,100]);const m=p({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=gh(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=m}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:a,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:g,repeat:x,repeatType:v,repeatDelay:b,type:k,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let N=this.currentTime,I=a;if(x){const Y=Math.min(this.currentTime,o)/h;let ne=Math.floor(Y),le=Y%1;!le&&Y>=1&&(le=1),le===1&&ne--,ne=Math.min(ne,x+1),!!(ne%2)&&(v==="reverse"?(le=1-le,b&&(le-=b/h)):v==="mirror"&&(I=u)),N=Br(0,1,le)*h}const F=C?{done:!1,value:g[0]}:I.next(N);l&&(F.value=l(F.value));let{done:z}=F;!C&&p!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return V&&k!==od&&(F.value=yh(g,this.options,_,this.speed)),S&&S(F.value),V&&this.finish(),F}then(e,r){return this.finished.then(e,r)}get duration(){return Zt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zt(e)}get time(){return Zt(this.currentTime)}set time(e){e=kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Zt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Pk,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Kk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ws=t=>t*180/Math.PI,ld=t=>{const e=Ws(Math.atan2(t[1],t[0]));return cd(e)},Yk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ld,rotateZ:ld,skewX:t=>Ws(Math.atan(t[1])),skewY:t=>Ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cd=t=>(t=t%360,t<0&&(t+=360),t),n0=ld,i0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),a0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Jk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i0,scaleY:a0,scale:t=>(i0(t)+a0(t))/2,rotateX:t=>cd(Ws(Math.atan2(t[6],t[5]))),rotateY:t=>cd(Ws(Math.atan2(-t[2],t[0]))),rotateZ:n0,rotate:n0,skewX:t=>Ws(Math.atan(t[4])),skewY:t=>Ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ud(t){return t.includes("scale")?1:0}function dd(t,e){if(!t||t==="none")return ud(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(r)a=Jk,o=r;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Yk,o=h}if(!o)return ud(e);const l=a[e],u=o[1].split(",").map(Qk);return typeof l=="function"?l(u):u[l]}const Xk=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return dd(r,e)};function Qk(t){return parseFloat(t.trim())}const Yn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jn=new Set(Yn),o0=t=>t===Kn||t===ye,Zk=new Set(["x","y","z"]),e2=Yn.filter(t=>!Zk.has(t));function t2(t){const e=[];return e2.forEach(r=>{const a=t.getValue(r);a!==void 0&&(e.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),e}const Gs={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dd(e,"x"),y:(t,{transform:e})=>dd(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const Ks=new Set;let hd=!1,pd=!1,fd=!1;function By(){if(pd){const t=Array.from(Ks).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),r=new Map;e.forEach(a=>{const o=t2(a);o.length&&(r.set(a,o),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const o=r.get(a);o&&o.forEach(([l,u])=>{a.getValue(l)?.set(u)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}pd=!1,hd=!1,Ks.forEach(t=>t.complete(fd)),Ks.clear()}function zy(){Ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pd=!0)})}function r2(){fd=!0,zy(),By(),fd=!1}class wh{constructor(e,r,a,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=a,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ks.add(this),hd||(hd=!0,qe.read(zy),qe.resolveKeyframes(By))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:a,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(a&&r){const h=a.readValue(r,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}Kk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ks.delete(this)}cancel(){this.state==="scheduled"&&(Ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const s2=t=>t.startsWith("--");function n2(t,e,r){s2(e)?t.style.setProperty(e,r):t.style[e]=r}const i2=lh(()=>window.ScrollTimeline!==void 0),a2={};function o2(t,e){const r=lh(t);return()=>a2[e]??r()}const Vy=o2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hi=([t,e,r,a])=>`cubic-bezier(${t}, ${e}, ${r}, ${a})`,l0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hi([0,.65,.55,1]),circOut:Hi([.55,0,1,.45]),backIn:Hi([.31,.01,.66,-.59]),backOut:Hi([.33,1.53,.69,.99])};function Hy(t,e){if(t)return typeof t=="function"?Vy()?$y(t,e):"ease-out":Ey(t)?Hi(t):Array.isArray(t)?t.map(r=>Hy(r,e)||l0.easeOut):l0[t]}function l2(t,e,r,{delay:a=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:p}={},m=void 0){const g={[e]:r};p&&(g.offset=p);const x=Hy(h,o);Array.isArray(x)&&(g.easing=x);const v={delay:a,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),t.animate(g,v)}function Wy(t){return typeof t=="function"&&"applyToOptions"in t}function c2({type:t,...e}){return Wy(t)&&Vy()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class u2 extends xh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:a,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,oh(typeof e.type!="string");const m=c2(e);this.animation=l2(r,a,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=yh(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):n2(r,a,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zt(e)}get time(){return Zt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&i2()?(this.animation.timeline=e,er):r(this)}}const qy={anticipate:ky,backInOut:jy,circInOut:Sy};function d2(t){return t in qy}function h2(t){typeof t.ease=="string"&&d2(t.ease)&&(t.ease=qy[t.ease])}const c0=10;class p2 extends u2{constructor(e){h2(e),Fy(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:a,onComplete:o,element:l,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const h=new vh({...u,autoplay:!1}),p=kr(this.finishedTime??this.time);r.setWithVelocity(h.sample(p-c0).value,h.sample(p).value,c0),h.stop()}}const u0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ms.test(t)||t==="0")&&!t.startsWith("url("));function f2(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function m2(t,e,r,a){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=u0(o,e),h=u0(l,e);return!u||!h?!1:f2(t)||(r==="spring"||Wy(r))&&a}function md(t){t.duration=0,t.type="keyframes"}const g2=new Set(["opacity","clipPath","filter","transform"]),y2=lh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x2(t){const{motionValue:e,name:r,repeatDelay:a,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=e.owner.getProps();return y2()&&r&&g2.has(r)&&(r!=="transform"||!m)&&!p&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}const v2=40;class w2 extends xh{constructor({autoplay:e=!0,delay:r=0,type:a="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:p,motionValue:m,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ft.now();const v={autoplay:e,delay:r,type:a,repeat:o,repeatDelay:l,repeatType:u,name:p,motionValue:m,element:g,...x},b=g?.KeyframeResolver||wh;this.keyframeResolver=new b(h,(k,S,_)=>this.onKeyframesResolved(k,S,v,!_),p,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,a,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:p,isHandoff:m,onUpdate:g}=a;this.resolvedAt=Ft.now(),m2(e,l,u,h)||((zr.instantAnimations||!p)&&g?.(yh(e,a,r)),e[0]=e[e.length-1],md(a),a.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>v2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:e},b=!m&&x2(v)?new p2({...v,element:v.motionValue.owner.current}):new vh(v);b.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j2(t){const e=b2.exec(t);if(!e)return[,];const[,r,a,o]=e;return[`--${r??a}`,o]}function Gy(t,e,r=1){const[a,o]=j2(t);if(!a)return;const l=window.getComputedStyle(e).getPropertyValue(a);if(l){const u=l.trim();return fy(u)?parseFloat(u):u}return hh(o)?Gy(o,e,r+1):o}function bh(t,e){return t?.[e]??t?.default??t}const Ky=new Set(["width","height","top","left","right","bottom",...Yn]),k2={test:t=>t==="auto",parse:t=>t},Yy=t=>e=>e.test(t),Jy=[Kn,ye,Nr,cs,fk,pk,k2],d0=t=>Jy.find(Yy(t));function N2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gy(t):!0}const S2=new Set(["brightness","contrast","saturate","opacity"]);function _2(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=r.match(ph)||[];if(!a)return t;const o=r.replace(a,"");let l=S2.has(e)?1:0;return a!==r&&(l*=100),e+"("+l+o+")"}const E2=/\b([a-z-]*)\(.*?\)/gu,gd={...ms,getAnimatableNone:t=>{const e=t.match(E2);return e?e.map(_2).join(" "):t}},h0={...Kn,transform:Math.round},C2={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:Oo,scaleX:Oo,scaleY:Oo,scaleZ:Oo,skew:cs,skewX:cs,skewY:cs,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:ea,originX:Zm,originY:Zm,originZ:ye},jh={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...C2,zIndex:h0,fillOpacity:ea,strokeOpacity:ea,numOctaves:h0},T2={...jh,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:gd,WebkitFilter:gd},Xy=t=>T2[t];function Qy(t,e){let r=Xy(t);return r!==gd&&(r=ms),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const P2=new Set(["auto","none","0"]);function A2(t,e,r){let a=0,o;for(;a<t.length&&!o;){const l=t[a];typeof l=="string"&&!P2.has(l)&&ta(l).values.length&&(o=t[a]),a++}if(o&&r)for(const l of e)t[l]=Qy(r,o)}class R2 extends wh{constructor(e,r,a,o,l){super(e,r,a,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),hh(m))){const g=Gy(m,r.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Ky.has(a)||e.length!==2)return;const[o,l]=e,u=d0(o),h=d0(l);if(u!==h)if(o0(u)&&o0(h))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else Gs[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,a=[];for(let o=0;o<e.length;o++)(e[o]===null||N2(e[o]))&&a.push(o);a.length&&A2(e,a,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[a](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(a,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=Gs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function O2(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const o=r?.[t]??a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Zy=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ex(t){return my(t)&&"offsetHeight"in t}const p0=30,I2=t=>!isNaN(parseFloat(t));class D2{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const o=Ft.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new ch);const a=this.events[e].add(r);return e==="change"?()=>{a(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p0)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,p0);return yy(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bn(t,e){return new D2(t,e)}const{schedule:kh}=Cy(queueMicrotask,!1),hr={x:!1,y:!1};function tx(){return hr.x||hr.y}function L2(t){return t==="x"||t==="y"?hr[t]?null:(hr[t]=!0,()=>{hr[t]=!1}):hr.x||hr.y?null:(hr.x=hr.y=!0,()=>{hr.x=hr.y=!1})}function rx(t,e){const r=O2(t),a=new AbortController,o={passive:!0,...e,signal:a.signal};return[r,o,()=>a.abort()]}function f0(t){return!(t.pointerType==="touch"||tx())}function M2(t,e,r={}){const[a,o,l]=rx(t,r),u=h=>{if(!f0(h))return;const{target:p}=h,m=e(p,h);if(typeof m!="function"||!p)return;const g=x=>{f0(x)&&(m(x),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return a.forEach(h=>{h.addEventListener("pointerenter",u,o)}),l}const sx=(t,e)=>e?t===e?!0:sx(t,e.parentElement):!1,Nh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U2(t){return $2.has(t.tagName)||t.tabIndex!==-1}const Yo=new WeakSet;function m0(t){return e=>{e.key==="Enter"&&t(e)}}function Du(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F2=(t,e)=>{const r=t.currentTarget;if(!r)return;const a=m0(()=>{if(Yo.has(r))return;Du(r,"down");const o=m0(()=>{Du(r,"up")}),l=()=>Du(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",a,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),e)};function g0(t){return Nh(t)&&!tx()}function B2(t,e,r={}){const[a,o,l]=rx(t,r),u=h=>{const p=h.currentTarget;if(!g0(h))return;Yo.add(p);const m=e(p,h),g=(b,k)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),Yo.has(p)&&Yo.delete(p),g0(b)&&typeof m=="function"&&m(b,{success:k})},x=b=>{g(b,p===window||p===document||r.useGlobalTarget||sx(p,b.target))},v=b=>{g(b,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",v,o)};return a.forEach(h=>{(r.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),ex(h)&&(h.addEventListener("focus",m=>F2(m,o)),!U2(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function nx(t){return my(t)&&"ownerSVGElement"in t}function z2(t){return nx(t)&&t.tagName==="svg"}const Ct=t=>!!(t&&t.getVelocity),V2=[...Jy,nt,ms],H2=t=>V2.find(Yy(t)),Sh=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function y0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function W2(...t){return e=>{let r=!1;const a=t.map(o=>{const l=y0(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():y0(t[o],null)}}}}function q2(...t){return j.useCallback(W2(...t),t)}class G2 extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const a=r.offsetParent,o=ex(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K2({children:t,isPresent:e,anchorX:r,root:a}){const o=j.useId(),l=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=j.useContext(Sh),p=q2(l,t?.ref);return j.useInsertionEffect(()=>{const{width:m,height:g,top:x,left:v,right:b}=u.current;if(e||!l.current||!m||!g)return;const k=r==="left"?`left: ${v}`:`right: ${b}`;l.current.dataset.motionPopId=o;const S=document.createElement("style");h&&(S.nonce=h);const _=a??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${x}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[e]),n.jsx(G2,{isPresent:e,childRef:l,sizeRef:u,children:j.cloneElement(t,{ref:p})})}const Y2=({children:t,initial:e,isPresent:r,onExitComplete:a,custom:o,presenceAffectsLayout:l,mode:u,anchorX:h,root:p})=>{const m=sh(J2),g=j.useId();let x=!0,v=j.useMemo(()=>(x=!1,{id:g,initial:e,isPresent:r,custom:o,onExitComplete:b=>{m.set(b,!0);for(const k of m.values())if(!k)return;a&&a()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[r,m,a]);return l&&x&&(v={...v}),j.useMemo(()=>{m.forEach((b,k)=>m.set(k,!1))},[r]),j.useEffect(()=>{!r&&!m.size&&a&&a()},[r]),u==="popLayout"&&(t=n.jsx(K2,{isPresent:r,anchorX:h,root:p,children:t})),n.jsx(kl.Provider,{value:v,children:t})};function J2(){return new Map}function ix(t=!0){const e=j.useContext(kl);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:o}=e,l=j.useId();j.useEffect(()=>{if(t)return o(l)},[t]);const u=j.useCallback(()=>t&&a&&a(l),[l,a,t]);return!r&&a?[!1,u]:[!0]}const Io=t=>t.key||"";function x0(t){const e=[];return j.Children.forEach(t,r=>{j.isValidElement(r)&&e.push(r)}),e}const We=({children:t,custom:e,initial:r=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:p})=>{const[m,g]=ix(u),x=j.useMemo(()=>x0(t),[t]),v=u&&!m?[]:x.map(Io),b=j.useRef(!0),k=j.useRef(x),S=sh(()=>new Map),[_,T]=j.useState(x),[C,N]=j.useState(x);py(()=>{b.current=!1,k.current=x;for(let z=0;z<C.length;z++){const V=Io(C[z]);v.includes(V)?S.delete(V):S.get(V)!==!0&&S.set(V,!1)}},[C,v.length,v.join("-")]);const I=[];if(x!==_){let z=[...x];for(let V=0;V<C.length;V++){const Y=C[V],ne=Io(Y);v.includes(ne)||(z.splice(V,0,Y),I.push(Y))}return l==="wait"&&I.length&&(z=I),N(x0(z)),T(x),null}const{forceRender:F}=j.useContext(rh);return n.jsx(n.Fragment,{children:C.map(z=>{const V=Io(z),Y=u&&!m?!1:x===C||v.includes(V),ne=()=>{if(S.has(V))S.set(V,!0);else return;let le=!0;S.forEach(Ne=>{Ne||(le=!1)}),le&&(F?.(),N(k.current),u&&g?.(),a&&a())};return n.jsx(Y2,{isPresent:Y,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:Y?void 0:ne,anchorX:h,children:z},V)})})},ax=j.createContext({strict:!1}),v0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zn={};for(const t in v0)zn[t]={isEnabled:e=>v0[t].some(r=>!!e[r])};function X2(t){for(const e in t)zn[e]={...zn[e],...t[e]}}const Q2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ol(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q2.has(t)}let ox=t=>!ol(t);function Z2(t){typeof t=="function"&&(ox=e=>e.startsWith("on")?!ol(e):t(e))}try{Z2(require("@emotion/is-prop-valid").default)}catch{}function eN(t,e,r){const a={};for(const o in t)o==="values"&&typeof t.values=="object"||(ox(o)||r===!0&&ol(o)||!e&&!ol(o)||t.draggable&&o.startsWith("onDrag"))&&(a[o]=t[o]);return a}const Nl=j.createContext({});function Sl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ra(t){return typeof t=="string"||Array.isArray(t)}const _h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Eh=["initial",..._h];function _l(t){return Sl(t.animate)||Eh.some(e=>ra(t[e]))}function lx(t){return!!(_l(t)||t.variants)}function tN(t,e){if(_l(t)){const{initial:r,animate:a}=t;return{initial:r===!1||ra(r)?r:void 0,animate:ra(a)?a:void 0}}return t.inherit!==!1?e:{}}function rN(t){const{initial:e,animate:r}=tN(t,j.useContext(Nl));return j.useMemo(()=>({initial:e,animate:r}),[w0(e),w0(r)])}function w0(t){return Array.isArray(t)?t.join(" "):t}function b0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const r=b0(t,e.target.x),a=b0(t,e.target.y);return`${r}% ${a}%`}},sN={correct:(t,{treeScale:e,projectionDelta:r})=>{const a=t,o=ms.parse(t);if(o.length>5)return a;const l=ms.createTransformer(t),u=typeof o[0]!="number"?1:0,h=r.x.scale*e.x,p=r.y.scale*e.y;o[0+u]/=h,o[1+u]/=p;const m=Ye(h,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}},yd={borderRadius:{...Bi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bi,borderTopRightRadius:Bi,borderBottomLeftRadius:Bi,borderBottomRightRadius:Bi,boxShadow:sN};function cx(t,{layout:e,layoutId:r}){return Jn.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!yd[t]||t==="opacity")}const nN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iN=Yn.length;function aN(t,e,r){let a="",o=!0;for(let l=0;l<iN;l++){const u=Yn[l],h=t[u];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(u.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||r){const m=Zy(h,jh[u]);if(!p){o=!1;const g=nN[u]||u;a+=`${g}(${m}) `}r&&(e[u]=m)}}return a=a.trim(),r?a=r(e,o?"":a):o&&(a="none"),a}function Ch(t,e,r){const{style:a,vars:o,transformOrigin:l}=t;let u=!1,h=!1;for(const p in e){const m=e[p];if(Jn.has(p)){u=!0;continue}else if(Py(p)){o[p]=m;continue}else{const g=Zy(m,jh[p]);p.startsWith("origin")?(h=!0,l[p]=g):a[p]=g}}if(e.transform||(u||r?a.transform=aN(e,t.transform,r):a.transform&&(a.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:g=0}=l;a.transformOrigin=`${p} ${m} ${g}`}}const Th=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ux(t,e,r){for(const a in e)!Ct(e[a])&&!cx(a,r)&&(t[a]=e[a])}function oN({transformTemplate:t},e){return j.useMemo(()=>{const r=Th();return Ch(r,e,t),Object.assign({},r.vars,r.style)},[e])}function lN(t,e){const r=t.style||{},a={};return ux(a,r,t),Object.assign(a,oN(t,e)),a}function cN(t,e){const r={},a=lN(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const uN={offset:"stroke-dashoffset",array:"stroke-dasharray"},dN={offset:"strokeDashoffset",array:"strokeDasharray"};function hN(t,e,r=1,a=0,o=!0){t.pathLength=1;const l=o?uN:dN;t[l.offset]=ye.transform(-a);const u=ye.transform(e),h=ye.transform(r);t[l.array]=`${u} ${h}`}function dx(t,{attrX:e,attrY:r,attrScale:a,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...h},p,m,g){if(Ch(t,h,m),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:v}=t;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),a!==void 0&&(x.scale=a),o!==void 0&&hN(x,o,l,u,!1)}const hx=()=>({...Th(),attrs:{}}),px=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pN(t,e,r,a){const o=j.useMemo(()=>{const l=hx();return dx(l,e,px(a),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ux(l,t.style,t),o.style={...l,...o.style}}return o}const fN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ph(t){return typeof t!="string"||t.includes("-")?!1:!!(fN.indexOf(t)>-1||/[A-Z]/u.test(t))}function mN(t,e,r,{latestValues:a},o,l=!1){const h=(Ph(t)?pN:cN)(e,a,o,t),p=eN(e,typeof t=="string",l),m=t!==j.Fragment?{...p,...h,ref:r}:{},{children:g}=e,x=j.useMemo(()=>Ct(g)?g.get():g,[g]);return j.createElement(t,{...m,children:x})}function j0(t){const e=[{},{}];return t?.values.forEach((r,a)=>{e[0][a]=r.get(),e[1][a]=r.getVelocity()}),e}function Ah(t,e,r,a){if(typeof e=="function"){const[o,l]=j0(a);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=j0(a);e=e(r!==void 0?r:t.custom,o,l)}return e}function Jo(t){return Ct(t)?t.get():t}function gN({scrapeMotionValuesFromProps:t,createRenderState:e},r,a,o){return{latestValues:yN(r,a,o,t),renderState:e()}}function yN(t,e,r,a){const o={},l=a(t,{});for(const v in l)o[v]=Jo(l[v]);let{initial:u,animate:h}=t;const p=_l(t),m=lx(t);e&&m&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=r?r.initial===!1:!1;g=g||u===!1;const x=g?h:u;if(x&&typeof x!="boolean"&&!Sl(x)){const v=Array.isArray(x)?x:[x];for(let b=0;b<v.length;b++){const k=Ah(t,v[b]);if(k){const{transitionEnd:S,transition:_,...T}=k;for(const C in T){let N=T[C];if(Array.isArray(N)){const I=g?N.length-1:0;N=N[I]}N!==null&&(o[C]=N)}for(const C in S)o[C]=S[C]}}}return o}const fx=t=>(e,r)=>{const a=j.useContext(Nl),o=j.useContext(kl),l=()=>gN(t,e,a,o);return r?l():sh(l)};function Rh(t,e,r){const{style:a}=t,o={};for(const l in a)(Ct(a[l])||e.style&&Ct(e.style[l])||cx(l,t)||r?.getValue(l)?.liveStyle!==void 0)&&(o[l]=a[l]);return o}const xN=fx({scrapeMotionValuesFromProps:Rh,createRenderState:Th});function mx(t,e,r){const a=Rh(t,e,r);for(const o in t)if(Ct(t[o])||Ct(e[o])){const l=Yn.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[l]=t[o]}return a}const vN=fx({scrapeMotionValuesFromProps:mx,createRenderState:hx}),wN=Symbol.for("motionComponentSymbol");function On(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bN(t,e,r){return j.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),r&&(typeof r=="function"?r(a):On(r)&&(r.current=a))},[e])}const Oh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jN="framerAppearId",gx="data-"+Oh(jN),yx=j.createContext({});function kN(t,e,r,a,o){const{visualElement:l}=j.useContext(Nl),u=j.useContext(ax),h=j.useContext(kl),p=j.useContext(Sh).reducedMotion,m=j.useRef(null);a=a||u.renderer,!m.current&&a&&(m.current=a(t,{visualState:e,parent:l,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=m.current,x=j.useContext(yx);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&NN(m.current,r,o,x);const v=j.useRef(!1);j.useInsertionEffect(()=>{g&&v.current&&g.update(r,h)});const b=r[gx],k=j.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return py(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),j.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),k.current=!1),g.enteringChildren=void 0)}),g}function NN(t,e,r,a){const{layoutId:o,layout:l,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:xx(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||h&&On(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:g,layoutScroll:p,layoutRoot:m})}function xx(t){if(t)return t.options.allowProjection!==!1?t.projection:xx(t.parent)}function Lu(t,{forwardMotionProps:e=!1}={},r,a){r&&X2(r);const o=Ph(t)?vN:xN;function l(h,p){let m;const g={...j.useContext(Sh),...h,layoutId:SN(h)},{isStatic:x}=g,v=rN(h),b=o(h,x);if(!x&&nh){_N();const k=EN(g);m=k.MeasureLayout,v.visualElement=kN(t,b,g,a,k.ProjectionNode)}return n.jsxs(Nl.Provider,{value:v,children:[m&&v.visualElement?n.jsx(m,{visualElement:v.visualElement,...g}):null,mN(t,h,bN(b,v.visualElement,p),b,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(l);return u[wN]=t,u}function SN({layoutId:t}){const e=j.useContext(rh).id;return e&&t!==void 0?e+"-"+t:t}function _N(t,e){j.useContext(ax).strict}function EN(t){const{drag:e,layout:r}=zn;if(!e&&!r)return{};const a={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function CN(t,e){if(typeof Proxy>"u")return Lu;const r=new Map,a=(l,u)=>Lu(l,u,t,e),o=(l,u)=>a(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?a:(r.has(u)||r.set(u,Lu(u,void 0,t,e)),r.get(u))})}function vx({top:t,left:e,right:r,bottom:a}){return{x:{min:e,max:r},y:{min:t,max:a}}}function TN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PN(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Mu(t){return t===void 0||t===1}function xd({scale:t,scaleX:e,scaleY:r}){return!Mu(t)||!Mu(e)||!Mu(r)}function $s(t){return xd(t)||wx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wx(t){return k0(t.x)||k0(t.y)}function k0(t){return t&&t!=="0%"}function ll(t,e,r){const a=t-r,o=e*a;return r+o}function N0(t,e,r,a,o){return o!==void 0&&(t=ll(t,o,a)),ll(t,r,a)+e}function vd(t,e=0,r=1,a,o){t.min=N0(t.min,e,r,a,o),t.max=N0(t.max,e,r,a,o)}function bx(t,{x:e,y:r}){vd(t.x,e.translate,e.scale,e.originPoint),vd(t.y,r.translate,r.scale,r.originPoint)}const S0=.999999999999,_0=1.0000000000001;function AN(t,e,r,a=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let h=0;h<o;h++){l=r[h],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Dn(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,bx(t,u)),a&&$s(l.latestValues)&&Dn(t,l.latestValues))}e.x<_0&&e.x>S0&&(e.x=1),e.y<_0&&e.y>S0&&(e.y=1)}function In(t,e){t.min=t.min+e,t.max=t.max+e}function E0(t,e,r,a,o=.5){const l=Ye(t.min,t.max,o);vd(t,e,r,l,a)}function Dn(t,e){E0(t.x,e.x,e.scaleX,e.scale,e.originX),E0(t.y,e.y,e.scaleY,e.scale,e.originY)}function jx(t,e){return vx(PN(t.getBoundingClientRect(),e))}function RN(t,e,r){const a=jx(t,r),{scroll:o}=e;return o&&(In(a.x,o.offset.x),In(a.y,o.offset.y)),a}const C0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ln=()=>({x:C0(),y:C0()}),T0=()=>({min:0,max:0}),ot=()=>({x:T0(),y:T0()}),wd={current:null},kx={current:!1};function ON(){if(kx.current=!0,!!nh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wd.current=t.matches;t.addEventListener("change",e),e()}else wd.current=!1}const IN=new WeakMap;function DN(t,e,r){for(const a in e){const o=e[a],l=r[a];if(Ct(o))t.addValue(a,o);else if(Ct(l))t.addValue(a,Bn(o,{owner:t}));else if(l!==o)if(t.hasValue(a)){const u=t.getValue(a);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(a);t.addValue(a,Bn(u!==void 0?u:o,{owner:t}))}}for(const a in r)e[a]===void 0&&t.removeValue(a);return e}const P0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LN{scrapeMotionValuesFromProps(e,r,a){return{}}constructor({parent:e,props:r,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ft.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,qe.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=_l(r),this.isVariantNode=lx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in x){const b=x[v];p[v]!==void 0&&Ct(b)&&b.set(p[v])}}mount(e){this.current=e,IN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),kx.current||ON(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=Jn.has(e);a&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&qe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zn){const r=zn[e];if(!r)continue;const{isEnabled:a,Feature:o}=r;if(!this.features[e]&&o&&a(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<P0.length;a++){const o=P0[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=DN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const a=this.values.get(e);r!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&r!==void 0&&(a=Bn(r===null?void 0:r,{owner:this}),this.addValue(e,a)),a}readValue(e,r){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(fy(a)||gy(a))?a=parseFloat(a):!H2(a)&&ms.test(r)&&(a=Qy(e,r)),this.setBaseTarget(e,Ct(a)?a.get():a)),Ct(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const l=Ah(this.props,r,this.presenceContext?.custom);l&&(a=l[e])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ct(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new ch),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){kh.render(this.render)}}class Nx extends LN{constructor(){super(...arguments),this.KeyframeResolver=R2}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:a}){delete r[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Sx(t,{style:e,vars:r},a,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,a);for(u in r)l.setProperty(u,r[u])}function MN(t){return window.getComputedStyle(t)}class $N extends Nx{constructor(){super(...arguments),this.type="html",this.renderInstance=Sx}readValueFromInstance(e,r){if(Jn.has(r))return this.projection?.isProjecting?ud(r):Xk(e,r);{const a=MN(e),o=(Py(r)?a.getPropertyValue(r):a[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return jx(e,r)}build(e,r,a){Ch(e,r,a.transformTemplate)}scrapeMotionValuesFromProps(e,r,a){return Rh(e,r,a)}}const _x=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UN(t,e,r,a){Sx(t,e,void 0,a);for(const o in e.attrs)t.setAttribute(_x.has(o)?o:Oh(o),e.attrs[o])}class FN extends Nx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ot}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Jn.has(r)){const a=Xy(r);return a&&a.default||0}return r=_x.has(r)?r:Oh(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,a){return mx(e,r,a)}build(e,r,a){dx(e,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,r,a,o){UN(e,r,a,o)}mount(e){this.isSVGTag=px(e.tagName),super.mount(e)}}const BN=(t,e)=>Ph(t)?new FN(e):new $N(e,{allowProjection:t!==j.Fragment});function Mn(t,e,r){const a=t.getProps();return Ah(a,e,r!==void 0?r:a.custom,t)}const bd=t=>Array.isArray(t);function zN(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Bn(r))}function VN(t){return bd(t)?t[t.length-1]||0:t}function HN(t,e){const r=Mn(t,e);let{transitionEnd:a={},transition:o={},...l}=r||{};l={...l,...a};for(const u in l){const h=VN(l[u]);zN(t,u,h)}}function WN(t){return!!(Ct(t)&&t.add)}function jd(t,e){const r=t.getValue("willChange");if(WN(r))return r.add(e);if(!r&&zr.WillChange){const a=new zr.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function Ex(t){return t.props[gx]}const qN=t=>t!==null;function GN(t,{repeat:e,repeatType:r="loop"},a){const o=t.filter(qN),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const KN={type:"spring",stiffness:500,damping:25,restSpeed:10},YN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JN={type:"keyframes",duration:.8},XN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QN=(t,{keyframes:e})=>e.length>2?JN:Jn.has(t)?t.startsWith("scale")?YN(e[1]):KN:XN;function ZN({when:t,delay:e,delayChildren:r,staggerChildren:a,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:h,from:p,elapsed:m,...g}){return!!Object.keys(g).length}const Ih=(t,e,r,a={},o,l)=>u=>{const h=bh(a,t)||{},p=h.delay||a.delay||0;let{elapsed:m=0}=a;m=m-kr(p);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};ZN(h)||Object.assign(g,QN(t,g)),g.duration&&(g.duration=kr(g.duration)),g.repeatDelay&&(g.repeatDelay=kr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(md(g),g.delay===0&&(x=!0)),(zr.instantAnimations||zr.skipAnimations)&&(x=!0,md(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,x&&!l&&e.get()!==void 0){const v=GN(g.keyframes,h);if(v!==void 0){qe.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new vh(g):new w2(g)};function eS({protectedKeys:t,needsAnimating:e},r){const a=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,a}function Cx(t,e,{delay:r=0,transitionOverride:a,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;a&&(l=a);const p=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const x=t.getValue(g,t.latestValues[g]??null),v=h[g];if(v===void 0||m&&eS(m,g))continue;const b={delay:r,...bh(l||{},g)},k=x.get();if(k!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===k&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=Ex(t);if(T){const C=window.MotionHandoffAnimation(T,g,qe);C!==null&&(b.startTime=C,S=!0)}}jd(t,g),x.start(Ih(g,x,v,t.shouldReduceMotion&&Ky.has(g)?{type:!1}:b,t,S));const _=x.animation;_&&p.push(_)}return u&&Promise.all(p).then(()=>{qe.update(()=>{u&&HN(t,u)})}),p}function Tx(t,e,r,a=0,o=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*a;return typeof r=="function"?r(l,u):o===1?l*a:h-l*a}function kd(t,e,r={}){const a=Mn(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const l=a?()=>Promise.all(Cx(t,a,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:x}=o;return tS(t,e,p,m,g,x,r)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,m]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>m())}else return Promise.all([l(),u(r.delay)])}function tS(t,e,r=0,a=0,o=0,l=1,u){const h=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),h.push(kd(p,e,{...u,delay:r+(typeof a=="function"?0:a)+Tx(t.variantChildren,p,a,o,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(h)}function rS(t,e,r={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const o=e.map(l=>kd(t,l,r));a=Promise.all(o)}else if(typeof e=="string")a=kd(t,e,r);else{const o=typeof e=="function"?Mn(t,e,r.custom):e;a=Promise.all(Cx(t,o,r))}return a.then(()=>{t.notify("AnimationComplete",e)})}function Px(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let a=0;a<r;a++)if(e[a]!==t[a])return!1;return!0}const sS=Eh.length;function Ax(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Ax(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<sS;r++){const a=Eh[r],o=t.props[a];(ra(o)||o===!1)&&(e[a]=o)}return e}const nS=[..._h].reverse(),iS=_h.length;function aS(t){return e=>Promise.all(e.map(({animation:r,options:a})=>rS(t,r,a)))}function oS(t){let e=aS(t),r=A0(),a=!0;const o=p=>(m,g)=>{const x=Mn(t,g,p==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:v,transitionEnd:b,...k}=x;m={...m,...k,...b}}return m};function l(p){e=p(t)}function u(p){const{props:m}=t,g=Ax(t.parent)||{},x=[],v=new Set;let b={},k=1/0;for(let _=0;_<iS;_++){const T=nS[_],C=r[T],N=m[T]!==void 0?m[T]:g[T],I=ra(N),F=T===p?C.isActive:null;F===!1&&(k=_);let z=N===g[T]&&N!==m[T]&&I;if(z&&a&&t.manuallyAnimateOnMount&&(z=!1),C.protectedKeys={...b},!C.isActive&&F===null||!N&&!C.prevProp||Sl(N)||typeof N=="boolean")continue;const V=lS(C.prevProp,N);let Y=V||T===p&&C.isActive&&!z&&I||_>k&&I,ne=!1;const le=Array.isArray(N)?N:[N];let Ne=le.reduce(o(T),{});F===!1&&(Ne={});const{prevResolvedValues:ve={}}=C,_e={...ve,...Ne},ze=he=>{Y=!0,v.has(he)&&(ne=!0,v.delete(he)),C.needsAnimating[he]=!0;const M=t.getValue(he);M&&(M.liveStyle=!1)};for(const he in _e){const M=Ne[he],X=ve[he];if(b.hasOwnProperty(he))continue;let K=!1;bd(M)&&bd(X)?K=!Px(M,X):K=M!==X,K?M!=null?ze(he):v.add(he):M!==void 0&&v.has(he)?ze(he):C.protectedKeys[he]=!0}C.prevProp=N,C.prevResolvedValues=Ne,C.isActive&&(b={...b,...Ne}),a&&t.blockInitialAnimation&&(Y=!1);const $e=z&&V;Y&&(!$e||ne)&&x.push(...le.map(he=>{const M={type:T};if(typeof he=="string"&&a&&!$e&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,K=Mn(X,he);if(X.enteringChildren&&K){const{delayChildren:P}=K.transition||{};M.delay=Tx(X.enteringChildren,t,P)}}return{animation:he,options:M}}))}if(v.size){const _={};if(typeof m.initial!="boolean"){const T=Mn(t,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(_.transition=T.transition)}v.forEach(T=>{const C=t.getBaseTarget(T),N=t.getValue(T);N&&(N.liveStyle=!0),_[T]=C??null}),x.push({animation:_})}let S=!!x.length;return a&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),a=!1,S?e(x):Promise.resolve()}function h(p,m){if(r[p].isActive===m)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(p,m)),r[p].isActive=m;const g=u(p);for(const x in r)r[x].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>r,reset:()=>{r=A0()}}}function lS(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Px(e,t):!1}function Ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A0(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cS extends vs{constructor(e){super(e),e.animationState||(e.animationState=oS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uS=0;class dS extends vs{constructor(){super(...arguments),this.id=uS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hS={animation:{Feature:cS},exit:{Feature:dS}};function sa(t,e,r,a={passive:!0}){return t.addEventListener(e,r,a),()=>t.removeEventListener(e,r)}function fa(t){return{point:{x:t.pageX,y:t.pageY}}}const pS=t=>e=>Nh(e)&&t(e,fa(e));function Ji(t,e,r,a){return sa(t,e,pS(r),a)}const Rx=1e-4,fS=1-Rx,mS=1+Rx,Ox=.01,gS=0-Ox,yS=0+Ox;function At(t){return t.max-t.min}function xS(t,e,r){return Math.abs(t-e)<=r}function R0(t,e,r,a=.5){t.origin=a,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=At(r)/At(e),t.translate=Ye(r.min,r.max,t.origin)-t.originPoint,(t.scale>=fS&&t.scale<=mS||isNaN(t.scale))&&(t.scale=1),(t.translate>=gS&&t.translate<=yS||isNaN(t.translate))&&(t.translate=0)}function Xi(t,e,r,a){R0(t.x,e.x,r.x,a?a.originX:void 0),R0(t.y,e.y,r.y,a?a.originY:void 0)}function O0(t,e,r){t.min=r.min+e.min,t.max=t.min+At(e)}function vS(t,e,r){O0(t.x,e.x,r.x),O0(t.y,e.y,r.y)}function I0(t,e,r){t.min=e.min-r.min,t.max=t.min+At(e)}function cl(t,e,r){I0(t.x,e.x,r.x),I0(t.y,e.y,r.y)}function Qt(t){return[t("x"),t("y")]}const Ix=({current:t})=>t?t.ownerDocument.defaultView:null,D0=(t,e)=>Math.abs(t-e);function wS(t,e){const r=D0(t.x,e.x),a=D0(t.y,e.y);return Math.sqrt(r**2+a**2)}class Dx{constructor(e,r,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Uu(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=wS(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:S}=v,{timestamp:_}=bt;this.history.push({...S,timestamp:_});const{onStart:T,onMove:C}=this.handlers;b||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=$u(b,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Uu(v.type==="pointercancel"?this.lastMoveEventInfo:$u(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(v,T),S&&S(v,T)},!Nh(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=o||window;const h=fa(e),p=$u(h,this.transformPagePoint),{point:m}=p,{timestamp:g}=bt;this.history=[{...m,timestamp:g}];const{onSessionStart:x}=r;x&&x(e,Uu(p,this.history)),this.removeListeners=da(Ji(this.contextWindow,"pointermove",this.handlePointerMove),Ji(this.contextWindow,"pointerup",this.handlePointerUp),Ji(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function $u(t,e){return e?{point:e(t.point)}:t}function L0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Uu({point:t},e){return{point:t,delta:L0(t,Lx(e)),offset:L0(t,bS(e)),velocity:jS(e,.1)}}function bS(t){return t[0]}function Lx(t){return t[t.length-1]}function jS(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,a=null;const o=Lx(t);for(;r>=0&&(a=t[r],!(o.timestamp-a.timestamp>kr(e)));)r--;if(!a)return{x:0,y:0};const l=Zt(o.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-a.x)/l,y:(o.y-a.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function kS(t,{min:e,max:r},a){return e!==void 0&&t<e?t=a?Ye(e,t,a.min):Math.max(t,e):r!==void 0&&t>r&&(t=a?Ye(r,t,a.max):Math.min(t,r)),t}function M0(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function NS(t,{top:e,left:r,bottom:a,right:o}){return{x:M0(t.x,r,o),y:M0(t.y,e,a)}}function $0(t,e){let r=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,a]=[a,r]),{min:r,max:a}}function SS(t,e){return{x:$0(t.x,e.x),y:$0(t.y,e.y)}}function _S(t,e){let r=.5;const a=At(t),o=At(e);return o>a?r=Zi(e.min,e.max-a,t.min):a>o&&(r=Zi(t.min,t.max-o,e.min)),Br(0,1,r)}function ES(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Nd=.35;function CS(t=Nd){return t===!1?t=0:t===!0&&(t=Nd),{x:U0(t,"left","right"),y:U0(t,"top","bottom")}}function U0(t,e,r){return{min:F0(t,e),max:F0(t,r)}}function F0(t,e){return typeof t=="number"?t:t[e]||0}const TS=new WeakMap;class PS{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(fa(x).point)},u=(x,v)=>{const{drag:b,dragPropagation:k,onDragStart:S}=this.getProps();if(b&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L2(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qt(T=>{let C=this.getAxisMotionValue(T).get()||0;if(Nr.test(C)){const{projection:N}=this.visualElement;if(N&&N.layout){const I=N.layout.layoutBox[T];I&&(C=At(I)*(parseFloat(C)/100))}}this.originPoint[T]=C}),S&&qe.postRender(()=>S(x,v)),jd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},h=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:k,onDirectionLock:S,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:T}=v;if(k&&this.currentDirection===null){this.currentDirection=AS(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),_&&_(x,v)},p=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v,this.stop(x,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Qt(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Dx(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:a,contextWindow:Ix(this.visualElement)})}stop(e,r){const a=e||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!a)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&qe.postRender(()=>h(a,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,a){const{drag:o}=this.getProps();if(!a||!Do(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(u=kS(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&On(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=NS(a.layoutBox,e):this.constraints=!1,this.elastic=CS(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Qt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ES(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!On(e))return!1;const a=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=RN(a,o.root,this.visualElement.getTransformPagePoint());let u=SS(o.layout.layoutBox,l);if(r){const h=r(TN(u));this.hasMutatedConstraints=!!h,h&&(u=vx(h))}return u}startAnimation(e){const{drag:r,dragMomentum:a,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=Qt(g=>{if(!Do(g,r,this.currentDirection))return;let x=p&&p[g]||{};u&&(x={min:0,max:0});const v=o?200:1e6,b=o?40:1e7,k={type:"inertia",velocity:a?e[g]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,r){const a=this.getAxisMotionValue(e);return jd(this.visualElement,e),a.start(Ih(e,a,0,r,this.visualElement,!1))}stopAnimation(){Qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),o=a[r];return o||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){Qt(r=>{const{drag:a}=this.getProps();if(!Do(r,a,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[r];l.set(e[r]-Ye(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!On(r)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Qt(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const p=h.get();o[u]=_S({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Qt(u=>{if(!Do(u,e,null))return;const h=this.getAxisMotionValue(u),{min:p,max:m}=this.constraints[u];h.set(Ye(p,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;TS.set(this.visualElement,this);const e=this.visualElement.current,r=Ji(e,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();On(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(a);const u=sa(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Qt(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=p[g].translate,x.set(x.get()+p[g].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Nd,dragMomentum:h=!0}=e;return{...e,drag:r,dragDirectionLock:a,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Do(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function AS(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class RS extends vs{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new PS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const B0=t=>(e,r)=>{t&&qe.postRender(()=>t(e,r))};class OS extends vs{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new Dx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ix(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:B0(e),onStart:B0(r),onMove:a,onEnd:(l,u)=>{delete this.session,o&&qe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Ji(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Fu=!1;class IS extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a,layoutId:o}=this.props,{projection:l}=e;l&&(r.group&&r.group.add(l),a&&a.register&&o&&a.register(l),Fu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Xo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:a,drag:o,isPresent:l}=this.props,{projection:u}=a;return u&&(u.isPresent=l,Fu=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||qe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:o}=e;Fu=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mx(t){const[e,r]=ix(),a=j.useContext(rh);return n.jsx(IS,{...t,layoutGroup:a,switchLayoutGroup:j.useContext(yx),isPresent:e,safeToRemove:r})}function DS(t,e,r){const a=Ct(t)?t:Bn(t);return a.start(Ih("",a,e,r)),a.animation}const LS=(t,e)=>t.depth-e.depth;class MS{constructor(){this.children=[],this.isDirty=!1}add(e){ih(this.children,e),this.isDirty=!0}remove(e){ah(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(LS),this.isDirty=!1,this.children.forEach(e)}}function $S(t,e){const r=Ft.now(),a=({timestamp:o})=>{const l=o-r;l>=e&&(fs(a),t(l-e))};return qe.setup(a,!0),()=>fs(a)}const $x=["TopLeft","TopRight","BottomLeft","BottomRight"],US=$x.length,z0=t=>typeof t=="string"?parseFloat(t):t,V0=t=>typeof t=="number"||ye.test(t);function FS(t,e,r,a,o,l){o?(t.opacity=Ye(0,r.opacity??1,BS(a)),t.opacityExit=Ye(e.opacity??1,0,zS(a))):l&&(t.opacity=Ye(e.opacity??1,r.opacity??1,a));for(let u=0;u<US;u++){const h=`border${$x[u]}Radius`;let p=H0(e,h),m=H0(r,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||V0(p)===V0(m)?(t[h]=Math.max(Ye(z0(p),z0(m),a),0),(Nr.test(m)||Nr.test(p))&&(t[h]+="%")):t[h]=m}(e.rotate||r.rotate)&&(t.rotate=Ye(e.rotate||0,r.rotate||0,a))}function H0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BS=Ux(0,.5,Ny),zS=Ux(.5,.95,er);function Ux(t,e,r){return a=>a<t?0:a>e?1:r(Zi(t,e,a))}function W0(t,e){t.min=e.min,t.max=e.max}function ur(t,e){W0(t.x,e.x),W0(t.y,e.y)}function q0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function G0(t,e,r,a,o){return t-=e,t=ll(t,1/r,a),o!==void 0&&(t=ll(t,1/o,a)),t}function VS(t,e=0,r=1,a=.5,o,l=t,u=t){if(Nr.test(e)&&(e=parseFloat(e),e=Ye(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ye(l.min,l.max,a);t===l&&(h-=e),t.min=G0(t.min,e,r,h,o),t.max=G0(t.max,e,r,h,o)}function K0(t,e,[r,a,o],l,u){VS(t,e[r],e[a],e[o],e.scale,l,u)}const HS=["x","scaleX","originX"],WS=["y","scaleY","originY"];function Y0(t,e,r,a){K0(t.x,e,HS,r?r.x:void 0,a?a.x:void 0),K0(t.y,e,WS,r?r.y:void 0,a?a.y:void 0)}function J0(t){return t.translate===0&&t.scale===1}function Fx(t){return J0(t.x)&&J0(t.y)}function X0(t,e){return t.min===e.min&&t.max===e.max}function qS(t,e){return X0(t.x,e.x)&&X0(t.y,e.y)}function Q0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bx(t,e){return Q0(t.x,e.x)&&Q0(t.y,e.y)}function Z0(t){return At(t.x)/At(t.y)}function eg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class GS{constructor(){this.members=[]}add(e){ih(this.members,e),e.scheduleRender()}remove(e){if(ah(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let a;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(e,r){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,r&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:a}=e;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KS(t,e,r){let a="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=r?.z||0;if((o||l||u)&&(a=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:v,skewX:b,skewY:k}=r;m&&(a=`perspective(${m}px) ${a}`),g&&(a+=`rotate(${g}deg) `),x&&(a+=`rotateX(${x}deg) `),v&&(a+=`rotateY(${v}deg) `),b&&(a+=`skewX(${b}deg) `),k&&(a+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(a+=`scale(${h}, ${p})`),a||"none"}const Bu=["","X","Y","Z"],YS=1e3;let JS=0;function zu(t,e,r,a){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),a&&(a[t]=0))}function zx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Ex(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",qe,!(o||l))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&zx(a)}function Vx({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=JS++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZS),this.nodes.forEach(s_),this.nodes.forEach(n_),this.nodes.forEach(e_)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new MS)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ch),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const p=this.eventHandlers.get(u);p&&p.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=nx(u)&&!z2(u),this.instance=u;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),t){let g,x=0;const v=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{x=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,g&&g(),g=$S(v,250),Xo.hasAnimatedSinceResize&&(Xo.hasAnimatedSinceResize=!1,this.nodes.forEach(sg)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||c_,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=m.getProps(),T=!this.targetLayout||!Bx(this.targetLayout,b),C=!x&&v;if(this.options.layoutRoot||this.resumeFrom||C||x&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...bh(k,"layout"),onPlay:S,onComplete:_};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,C)}else x||sg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(r_),this.nodes.forEach(XS),this.nodes.forEach(QS)):this.nodes.forEach(rg),this.clearAllSnapshots();const h=Ft.now();bt.delta=Br(0,1e3/60,h-bt.timestamp),bt.timestamp=h,bt.isProcessing=!0,Pu.update.process(bt),Pu.preRender.process(bt),Pu.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t_),this.sharedNodes.forEach(a_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const p=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Fx(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||$s(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return u&&(p=this.removeTransform(p)),u_(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ot();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(d_))){const{scroll:m}=this.root;m&&(In(h.x,m.offset.x),In(h.y,m.offset.y))}return h}removeElementScroll(u){const h=ot();if(ur(h,u),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:g,options:x}=m;m!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&ur(h,u),In(h.x,g.offset.x),In(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const p=ot();ur(p,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Dn(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),$s(g.latestValues)&&Dn(p,g.latestValues)}return $s(this.latestValues)&&Dn(p,this.latestValues),p}removeTransform(u){const h=ot();ur(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!$s(m.latestValues))continue;xd(m.latestValues)&&m.updateSnapshot();const g=ot(),x=m.measurePageBox();ur(g,x),Y0(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return $s(this.latestValues)&&Y0(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!this.layout||!(g||x))return;this.resolvedRelativeTargetAt=bt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),bx(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xd(this.parent.latestValues)||wx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),cl(this.relativeTargetOrigin,h,p),ur(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(p=!1),p)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ur(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;AN(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ot());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q0(this.prevProjectionDelta.x,this.projectionDelta.x),q0(this.prevProjectionDelta.y,this.projectionDelta.y)),Xi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!eg(this.projectionDelta.x,this.prevProjectionDelta.x)||!eg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ln(),this.projectionDelta=Ln(),this.projectionDeltaWithTransform=Ln()}setAnimationOrigin(u,h=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},x=Ln();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=ot(),b=p?p.source:void 0,k=this.layout?this.layout.source:void 0,S=b!==k,_=this.getStack(),T=!_||_.members.length<=1,C=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(l_));this.animationProgress=0;let N;this.mixTargetDelta=I=>{const F=I/1e3;ng(x.x,u.x,F),ng(x.y,u.y,F),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o_(this.relativeTarget,this.relativeTargetOrigin,v,F),N&&qS(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ot()),ur(N,this.relativeTarget)),S&&(this.animationValues=g,FS(g,m,this.latestValues,F,C,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Xo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bn(0)),this.currentAnimation=DS(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:g}=u;if(!(!h||!p||!m)){if(this!==u&&this.layout&&m&&Hx(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||ot();const x=At(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+x;const v=At(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+v}ur(h,p),Dn(h,g),Xi(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new GS),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&zu("z",u,m,this.animationValues);for(let g=0;g<Bu.length;g++)zu(`rotate${Bu[g]}`,u,m,this.animationValues),zu(`skew${Bu[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Jo(h?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Jo(h?.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=KS(this.projectionDeltaWithTransform,this.treeScale,g);p&&(x=p(g,x)),u.transform=x;const{x:v,y:b}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in yd){if(g[k]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:T}=yd[k],C=x==="none"?g[k]:S(g[k],m);if(_){const N=_.length;for(let I=0;I<N;I++)u[_[I]]=C}else T?this.options.visualElement.renderState.vars[k]=C:u[k]=C}this.options.layoutId&&(u.pointerEvents=m===this?Jo(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(tg),this.root.sharedNodes.clear()}}}function XS(t){t.updateLayout()}function QS(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Qt(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],v=At(x);x.min=r[g].min,x.max=x.min+v}):Hx(o,e.layoutBox,r)&&Qt(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],v=At(r[g]);x.max=x.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const u=Ln();Xi(u,r,e.layoutBox);const h=Ln();l?Xi(h,t.applyTransform(a,!0),e.measuredBox):Xi(h,r,e.layoutBox);const p=!Fx(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const b=ot();cl(b,e.layoutBox,x.layoutBox);const k=ot();cl(k,r,v.layoutBox),Bx(b,k)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=b,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZS(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function e_(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function t_(t){t.clearSnapshot()}function tg(t){t.clearMeasurements()}function rg(t){t.isLayoutDirty=!1}function r_(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function s_(t){t.resolveTargetDelta()}function n_(t){t.calcProjection()}function i_(t){t.resetSkewAndRotation()}function a_(t){t.removeLeadSnapshot()}function ng(t,e,r){t.translate=Ye(e.translate,0,r),t.scale=Ye(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function ig(t,e,r,a){t.min=Ye(e.min,r.min,a),t.max=Ye(e.max,r.max,a)}function o_(t,e,r,a){ig(t.x,e.x,r.x,a),ig(t.y,e.y,r.y,a)}function l_(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const c_={duration:.45,ease:[.4,0,.1,1]},ag=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),og=ag("applewebkit/")&&!ag("chrome/")?Math.round:er;function lg(t){t.min=og(t.min),t.max=og(t.max)}function u_(t){lg(t.x),lg(t.y)}function Hx(t,e,r){return t==="position"||t==="preserve-aspect"&&!xS(Z0(e),Z0(r),.2)}function d_(t){return t!==t.root&&t.scroll?.wasRoot}const h_=Vx({attachResizeListener:(t,e)=>sa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vu={current:void 0},Wx=Vx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vu.current){const t=new h_({});t.mount(window),t.setOptions({layoutScroll:!0}),Vu.current=t}return Vu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),p_={pan:{Feature:OS},drag:{Feature:RS,ProjectionNode:Wx,MeasureLayout:Mx}};function cg(t,e,r){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=a[o];l&&qe.postRender(()=>l(e,fa(e)))}class f_ extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=M2(e,(r,a)=>(cg(this.node,a,"Start"),o=>cg(this.node,o,"End"))))}unmount(){}}class m_ extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=da(sa(this.node.current,"focus",()=>this.onFocus()),sa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ug(t,e,r){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=a[o];l&&qe.postRender(()=>l(e,fa(e)))}class g_ extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=B2(e,(r,a)=>(ug(this.node,a,"Start"),(o,{success:l})=>ug(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sd=new WeakMap,Hu=new WeakMap,y_=t=>{const e=Sd.get(t.target);e&&e(t)},x_=t=>{t.forEach(y_)};function v_({root:t,...e}){const r=t||document;Hu.has(r)||Hu.set(r,{});const a=Hu.get(r),o=JSON.stringify(e);return a[o]||(a[o]=new IntersectionObserver(x_,{root:t,...e})),a[o]}function w_(t,e,r){const a=v_(e);return Sd.set(t,r),a.observe(t),()=>{Sd.delete(t),a.unobserve(t)}}const b_={some:0,all:1};class j_ extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:a,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:b_[o]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),v=m?g:x;v&&v(p)};return w_(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(k_(e,r))&&this.startObserver()}unmount(){}}function k_({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const N_={inView:{Feature:j_},tap:{Feature:g_},focus:{Feature:m_},hover:{Feature:f_}},S_={layout:{ProjectionNode:Wx,MeasureLayout:Mx}},__={...hS,...N_,...p_,...S_},R=CN(__,BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),dg=t=>{const e=C_(t);return e.charAt(0).toUpperCase()+e.slice(1)},qx=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:u,...h},p)=>j.createElement("svg",{ref:p,...T_,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:qx("lucide",o),...h},[...u.map(([m,g])=>j.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const r=j.forwardRef(({className:a,...o},l)=>j.createElement(P_,{ref:l,iconNode:e,className:qx(`lucide-${E_(dg(t))}`,`lucide-${t}`,a),...o}));return r.displayName=dg(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gr=ce("arrow-left",A_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],O_=ce("arrow-right",R_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],D_=ce("award",I_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],hg=ce("banknote",L_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Gx=ce("bookmark",M_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],U_=ce("calendar",$_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sr=ce("check",F_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kx=ce("circle-alert",B_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gs=ce("circle-check-big",z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ur=ce("circle-x",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yx=ce("clock",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pg=ce("copy",W_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ys=ce("credit-card",q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],K_=ce("external-link",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_d=ce("eye-off",Y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vn=ce("eye",J_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ys=ce("heart",X_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Dh=ce("image",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],eE=ce("info",Z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fg=ce("loader-circle",tE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$n=ce("loader",rE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ul=ce("lock",sE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],mg=ce("log-out",nE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],rr=ce("mail",iE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Js=ce("map-pin",aE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],lE=ce("map-pinned",oE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],uE=ce("menu",cE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ed=ce("message-square",dE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M5 12h14",key:"1ays0h"}]],pE=ce("minus",hE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Me=ce("package",fE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Cd=ce("palette",mE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yE=ce("pen",gE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],dl=ce("phone",xE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wE=ce("plus",vE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jE=ce("rotate-ccw",bE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NE=ce("save",kE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qo=ce("search",SE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],EE=ce("send",_E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],gg=ce("server",CE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],El=ce("shield",TE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],na=ce("shirt",PE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Td=ce("shopping-bag",AE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],hs=ce("shopping-cart",RE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Qs=ce("sparkles",OE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ps=ce("star",IE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Jx=ce("swords",DE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Lh=ce("trash-2",LE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pd=ce("triangle-alert",ME);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Zs=ce("truck",$E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],FE=ce("upload",UE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mr=ce("user",BE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],VE=ce("users",zE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],yg=ce("wallet",HE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lt=ce("x",WE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GE=ce("zap",qE);function KE({toast:t,onClose:e}){j.useEffect(()=>{const l=setTimeout(()=>{e(t.id)},t.duration||5e3);return()=>clearTimeout(l)},[t.id,t.duration,e]);const r=()=>{switch(t.type){case"success":return n.jsx(gs,{className:"w-5 h-5"});case"error":return n.jsx(Kx,{className:"w-5 h-5"});case"warning":return n.jsx(Pd,{className:"w-5 h-5"});case"info":return n.jsx(eE,{className:"w-5 h-5"})}},o=(()=>{switch(t.type){case"success":return{bg:"bg-gradient-to-r from-green-500/20 to-emerald-500/20",border:"border-green-500/50",icon:"text-green-400",glow:"shadow-[0_0_20px_rgba(34,197,94,0.3)]"};case"error":return{bg:"bg-gradient-to-r from-red-500/20 to-rose-500/20",border:"border-red-500/50",icon:"text-red-400",glow:"shadow-[0_0_20px_rgba(239,68,68,0.3)]"};case"warning":return{bg:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20",border:"border-yellow-500/50",icon:"text-yellow-400",glow:"shadow-[0_0_20px_rgba(234,179,8,0.3)]"};case"info":return{bg:"bg-gradient-to-r from-purple-500/20 to-pink-500/20",border:"border-purple-500/50",icon:"text-purple-400",glow:"shadow-[0_0_20px_rgba(147,51,234,0.3)]"}}})();return n.jsxs(R.div,{layout:!0,initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",stiffness:500,damping:30},className:`
        relative overflow-hidden
        ${o.bg} ${o.border} ${o.glow}
        backdrop-blur-md
        border rounded-lg
        p-4 pr-12
        min-w-[320px] max-w-[500px]
        cursor-pointer
        group
      `,onClick:()=>e(t.id),children:[n.jsx("div",{className:"absolute inset-0 opacity-30",children:n.jsx(R.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})}),n.jsxs("div",{className:"relative flex items-start gap-3",children:[n.jsx("div",{className:`${o.icon} flex-shrink-0 mt-0.5`,children:n.jsx(R.div,{initial:{rotate:-180,scale:0},animate:{rotate:0,scale:1},transition:{type:"spring",delay:.1},children:r()})}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-white text-sm leading-relaxed",children:t.message})}),n.jsx("button",{onClick:l=>{l.stopPropagation(),e(t.id)},className:"absolute top-3 right-3 text-white/60 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-4 h-4"})})]}),n.jsx(R.div,{className:`absolute bottom-0 left-0 h-1 ${t.type==="success"?"bg-green-400":t.type==="error"?"bg-red-400":t.type==="warning"?"bg-yellow-400":"bg-purple-400"}`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:(t.duration||5e3)/1e3,ease:"linear"}}),t.type==="success"&&n.jsx(n.Fragment,{children:[...Array(3)].map((l,u)=>n.jsx(R.div,{className:"absolute w-1 h-1 bg-green-400 rounded-full",initial:{x:Math.random()*100-50,y:Math.random()*50,scale:0,opacity:1},animate:{y:-50,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:1.5,delay:u*.2,repeat:1/0,repeatDelay:1},style:{left:`${20+u*30}%`,top:"50%"}},u))})]})}function YE({toasts:t,onClose:e}){return n.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:n.jsx(We,{mode:"popLayout",children:t.map(r=>n.jsx("div",{className:"pointer-events-auto",children:n.jsx(KE,{toast:r,onClose:e})},r.id))})})}const Xx=j.createContext(void 0);function JE({children:t}){const[e,r]=j.useState([]),a=j.useCallback(m=>{r(g=>g.filter(x=>x.id!==m))},[]),o=j.useCallback((m,g="info",x)=>{const b={id:`toast-${Date.now()}-${Math.random()}`,message:m,type:g,duration:x};r(k=>[...k,b])},[]),l=j.useCallback((m,g)=>{o(m,"success",g)},[o]),u=j.useCallback((m,g)=>{o(m,"error",g)},[o]),h=j.useCallback((m,g)=>{o(m,"info",g)},[o]),p=j.useCallback((m,g)=>{o(m,"warning",g)},[o]);return n.jsxs(Xx.Provider,{value:{showToast:o,success:l,error:u,info:h,warning:p},children:[t,n.jsx(YE,{toasts:e,onClose:a})]})}function Cl(){const t=j.useContext(Xx);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function ws({size:t="md"}){const e={sm:{container:"w-8 h-8",text:"text-lg"},md:{container:"w-10 h-10",text:"text-xl"},lg:{container:"w-16 h-16",text:"text-3xl"}};return n.jsxs("div",{className:`${e[t].container} bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center relative overflow-hidden shadow-lg shadow-purple-900/50`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20"}),n.jsx("span",{className:`${e[t].text} relative z-10`,children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full p-1",children:[n.jsx("path",{d:"M12 3L3 21H7L9 16H15L17 21H21L12 3Z",fill:"white",stroke:"white",strokeWidth:"0.5"}),n.jsx("path",{d:"M10 13L12 8L14 13H10Z",fill:"url(#logo-gradient)"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"logo-gradient",x1:"12",y1:"8",x2:"12",y2:"13",children:[n.jsx("stop",{offset:"0%",stopColor:"#ec4899"}),n.jsx("stop",{offset:"100%",stopColor:"#9333ea"})]})})]})})]})}function Tl({cartCount:t,wishlistCount:e=0,onCartClick:r,onWishlistClick:a,onLoginClick:o,user:l,onLogout:u}){const[h,p]=j.useState(!1),m=pt();return n.jsx(R.nav,{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:100},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center h-16 md:h-20",children:[n.jsx(R.div,{className:"hidden lg:flex items-center gap-3 xl:gap-6 flex-1 justify-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:["Home","Shop","Categories","About","Contact"].map((g,x)=>n.jsx(R.a,{href:g==="Home"?"/":`/#${g.toLowerCase()}`,onClick:v=>{if(g==="Home")v.preventDefault(),m("/");else{const b=document.getElementById(g.toLowerCase());b&&(v.preventDefault(),b.scrollIntoView({behavior:"smooth"}))}},className:"text-gray-300 hover:text-purple-400 transition-colors text-sm xl:text-base whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+x*.05},whileHover:{scale:1.1,y:-2},children:g},g))}),n.jsx(R.div,{className:"lg:hidden flex-1 flex justify-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:n.jsx("button",{onClick:()=>p(!h),className:"text-white",children:n.jsx(We,{mode:"wait",children:h?n.jsx(R.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:n.jsx(lt,{className:"w-6 h-6"})},"close"):n.jsx(R.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:n.jsx(uE,{className:"w-6 h-6"})},"menu")})})}),n.jsxs(R.div,{className:"flex items-center gap-2 cursor-pointer flex-shrink-0 justify-center",onClick:()=>m("/"),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},children:[n.jsx(ws,{size:"md"}),n.jsx("span",{className:"hidden sm:inline text-xl md:text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent whitespace-nowrap",children:"animedropzone"})]}),n.jsxs(R.div,{className:"flex items-center gap-2 xl:gap-3 flex-1 justify-end",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[n.jsxs("div",{className:"hidden lg:flex items-center gap-2 xl:gap-3",children:[l?n.jsxs(n.Fragment,{children:[n.jsxs(R.button,{onClick:()=>m("/my-profile"),className:"text-gray-300 hover:text-purple-400 transition-colors text-sm xl:text-base flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},title:"My Profile",children:[n.jsx(Mr,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden xl:inline max-w-[100px] truncate",title:l.user_metadata?.name||"User",children:l.user_metadata?.name||"User"})]}),n.jsx(R.button,{onClick:u,className:"text-gray-300 hover:text-purple-400 transition-colors p-2 rounded-lg hover:bg-purple-900/20",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Logout",children:n.jsx(mg,{className:"w-5 h-5"})})]}):n.jsx(R.button,{onClick:o,className:"text-gray-300 hover:text-purple-400 transition-colors p-2 rounded-lg hover:bg-purple-900/20",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Login",children:n.jsx(Mr,{className:"w-5 h-5"})}),n.jsx(R.button,{onClick:()=>m("/my-orders"),className:"bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"My Orders",children:n.jsx(Me,{className:"w-5 h-5"})}),a&&n.jsxs(R.button,{onClick:a,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Wishlist",children:[n.jsx(Ys,{className:"w-5 h-5"}),n.jsx(We,{children:e>0&&n.jsx(R.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:e})})]}),n.jsxs(R.button,{onClick:r,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Cart",children:[n.jsx(hs,{className:"w-5 h-5"}),n.jsx(We,{children:t>0&&n.jsx(R.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:t})})]})]}),n.jsxs("div",{className:"flex lg:hidden items-center gap-2",children:[n.jsx(R.button,{onClick:()=>m("/my-orders"),className:"bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsx(Me,{className:"w-5 h-5"})}),a&&n.jsxs(R.button,{onClick:a,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(Ys,{className:"w-5 h-5"}),n.jsx(We,{children:e>0&&n.jsx(R.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:e})})]}),n.jsxs(R.button,{onClick:r,className:"relative bg-purple-600 hover:bg-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(hs,{className:"w-5 h-5"}),n.jsx(We,{children:t>0&&n.jsx(R.span,{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:t})})]})]})]})]}),n.jsx(We,{children:h&&n.jsx(R.div,{className:"lg:hidden py-4 border-t border-purple-900/30",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:n.jsxs("div",{className:"flex flex-col gap-4",children:[["Home","Shop","Categories","About","Contact"].map((g,x)=>n.jsx(R.a,{href:g==="Home"?"/":`/#${g.toLowerCase()}`,onClick:v=>{if(p(!1),g==="Home")v.preventDefault(),m("/");else{const b=document.getElementById(g.toLowerCase());b&&(v.preventDefault(),b.scrollIntoView({behavior:"smooth"}))}},className:"text-gray-300 hover:text-purple-400 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:x*.05},children:g},g)),l?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{p(!1),m("/my-profile")},className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[n.jsx(Mr,{className:"w-5 h-5"}),"My Profile"]}),n.jsxs("button",{onClick:u,className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[n.jsx(mg,{className:"w-5 h-5"}),"Logout"]})]}):n.jsxs("button",{onClick:o,className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[n.jsx(Mr,{className:"w-5 h-5"}),"Login"]}),n.jsxs("button",{onClick:()=>{p(!1),r()},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2 justify-center",children:[n.jsx(hs,{className:"w-5 h-5"}),"Cart (",t,")"]}),a&&n.jsxs("button",{onClick:()=>{p(!1),a()},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2 justify-center",children:[n.jsx(Ys,{className:"w-5 h-5"}),"Wishlist (",e,")"]}),n.jsxs("button",{onClick:()=>{p(!1),m("/my-orders")},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:[n.jsx(Me,{className:"w-5 h-5"}),"My Orders"]})]})})})]})})}const be="omfqjzwegmiezbfpjysp",Ee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tZnFqendlZ21pZXpiZnBqeXNwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNjY2NDcsImV4cCI6MjA4MDg0MjY0N30.YkSoV-8t4qWXNppvM2t1mDsdkirIoNRpMmQUjvVk-3o";function XE(){const[t,e]=j.useState([]),[r,a]=j.useState(0),[o,l]=j.useState(!0);j.useEffect(()=>{u()},[]);const u=async()=>{try{const g=await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/wallpapers`,{headers:{Authorization:`Bearer ${Ee}`}});if(g.ok){const x=await g.json();if(x.wallpapers&&x.wallpapers.length>0){const v=x.wallpapers.filter(b=>b!=null).sort((b,k)=>(b.order||0)-(k.order||0));v.length>0?e(v):e(h())}else e(h())}else e(h())}catch(g){console.error("Error fetching wallpapers:",g),e(h())}finally{l(!1)}},h=()=>[{id:"1",imageUrl:"https://images.unsplash.com/photo-1668293750324-bd77c1f08ca9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW1vbiUyMHNsYXllciUyMGFuaW1lfGVufDF8fHx8MTc2NTMwODI3OHww&ixlib=rb-4.1.0&q=80&w=1080",title:"Demon Slayer Collection",subtitle:"Limited Edition Figures & Katanas",order:0},{id:"2",imageUrl:"https://images.unsplash.com/photo-1740644545217-892da8cce224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxuYXJ1dG8lMjBhbmltZSUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NjUzMDgyNzl8MA&ixlib=rb-4.1.0&q=80&w=1080",title:"Naruto Legends",subtitle:"Iconic Ninja Collection",order:1},{id:"3",imageUrl:"https://images.unsplash.com/photo-1667419674822-1a9195436f1c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvbmUlMjBwaWVjZSUyMGFuaW1lfGVufDF8fHx8MTc2NTMwODI3OXww&ixlib=rb-4.1.0&q=80&w=1080",title:"One Piece Adventure",subtitle:"Grand Line Treasures",order:2},{id:"4",imageUrl:"https://images.unsplash.com/photo-1709675577960-0b1e7ba55347?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhdHRhY2slMjB0aXRhbiUyMGFuaW1lfGVufDF8fHx8MTc2NTMwODI3OXww&ixlib=rb-4.1.0&q=80&w=1080",title:"Attack on Titan",subtitle:"Survey Corps Collection",order:3},{id:"5",imageUrl:"https://images.unsplash.com/photo-1575540325855-4b5d285a3845?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkcmFnb24lMjBiYWxsJTIwYW5pbWV8ZW58MXx8fHwxNzY1MjE3NDA5fDA&ixlib=rb-4.1.0&q=80&w=1080",title:"Dragon Ball Z",subtitle:"Super Saiyan Warriors",order:4}];j.useEffect(()=>{if(t.length<=1)return;const g=setInterval(()=>{a(x=>(x+1)%t.length)},5e3);return()=>clearInterval(g)},[t.length]);const p=()=>{document.getElementById("shop")?.scrollIntoView({behavior:"smooth"})},m=t[r]||h()[0];return o?n.jsx("div",{className:"h-screen bg-black"}):n.jsxs("section",{className:"relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/30 via-black to-pink-900/30"}),n.jsxs("div",{className:"absolute inset-0 opacity-20",children:[n.jsx(R.div,{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),n.jsx(R.div,{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600 rounded-full blur-3xl",animate:{scale:[1,1.3,1],opacity:[.5,.7,.5]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}})]})]}),n.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-20",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{className:"z-10",children:[n.jsxs(R.div,{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-900/50 to-pink-900/50 border border-purple-500/50 rounded-full mb-6 backdrop-blur-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx(R.div,{animate:{rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"linear"},children:n.jsx(ps,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"})}),n.jsx("span",{className:"text-purple-300",children:"Premium Collection"})]}),n.jsx(R.h1,{className:"mb-6 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent leading-tight",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:"Embrace Your Inner Demon"}),n.jsx(R.p,{className:"mb-4 text-gray-300 text-lg",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},children:"Step into the world of anime with our exclusive collection of premium figures, authentic katanas, and rare collectibles."}),n.jsx(R.div,{className:"flex flex-wrap gap-6 mb-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},children:[{icon:GE,text:"Fast Shipping"},{icon:El,text:"100% Authentic"},{icon:ps,text:"Premium Quality",filled:!0}].map((g,x)=>n.jsxs(R.div,{className:"flex items-center gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7+x*.1},whileHover:{scale:1.05},children:[n.jsx(g.icon,{className:`w-5 h-5 text-purple-400 ${g.filled?"fill-purple-400":""}`}),n.jsx("span",{className:"text-gray-300",children:g.text})]},g.text))}),n.jsxs(R.div,{className:"flex flex-wrap gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},children:[n.jsxs(R.a,{href:"#shop",className:"group bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-purple-900/50 hover:shadow-purple-900/70",onClick:p,whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx("span",{className:"text-lg",children:"Shop Now"}),n.jsx(O_,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),n.jsx(R.a,{href:"#categories",className:"bg-white/10 hover:bg-white/20 border border-white/30 hover:border-white/50 px-8 py-4 rounded-lg transition-all backdrop-blur-sm text-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Explore Categories"})]})]}),n.jsx(R.div,{className:"relative z-10",initial:{opacity:0,scale:.8,rotateY:20},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:1,delay:.3},children:n.jsxs("div",{className:"relative group",children:[n.jsx(R.div,{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity",animate:{opacity:[.5,.7,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),n.jsxs("div",{className:"relative rounded-2xl overflow-hidden border-2 border-purple-500/50 shadow-2xl shadow-purple-900/50",children:[n.jsx(We,{mode:"wait",children:n.jsx(R.img,{src:m.imageUrl,alt:m.title,className:"w-full h-auto",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.7}},r)}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"}),n.jsx(R.div,{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-orange-600 px-4 py-2 rounded-full",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:n.jsx("span",{className:"text-white text-sm",children:"New Arrival"})}),n.jsx(We,{mode:"wait",children:n.jsxs(R.div,{className:"absolute bottom-0 left-0 right-0 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[n.jsx("h3",{className:"text-white text-2xl mb-2",children:m.title}),n.jsx("p",{className:"text-purple-200",children:m.subtitle})]},`text-${r}`)}),t.length>1&&n.jsx("div",{className:"absolute bottom-24 left-0 right-0 flex justify-center gap-2",children:t.map((g,x)=>n.jsx("button",{onClick:()=>a(x),className:`w-2 h-2 rounded-full transition-all ${x===r?"bg-white w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${x+1}`},x))})]})]})})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:n.jsxs("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"url(#gradient)",fillOpacity:"0.1"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"1440",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#9333ea"}),n.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})})]})})]})}function QE({icon:t,title:e,description:r,onClick:a}){return n.jsxs(R.button,{onClick:a,className:"group bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 hover:border-purple-500 rounded-xl p-6 transition-all hover:shadow-lg hover:shadow-purple-900/50 text-left w-full",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:[n.jsx(R.div,{className:"w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center mb-4",whileHover:{rotate:[0,-10,10,-10,0],scale:1.1},transition:{duration:.5},children:n.jsx(t,{className:"w-7 h-7 text-white"})}),n.jsx(R.h3,{className:"mb-2 text-white",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1},children:e}),n.jsx(R.p,{className:"text-gray-400",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},children:r})]})}function Mh({product:t,onAddToCart:e,onViewDetails:r,isInWishlist:a=!1,onToggleWishlist:o}){const l=pt(),u=()=>{l(`/product/${t.id}`)};return n.jsxs(R.div,{className:"group bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl overflow-hidden hover:border-purple-500 transition-all hover:shadow-lg hover:shadow-purple-900/50 cursor-pointer relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-8,transition:{duration:.3}},onClick:u,children:[o&&n.jsx(R.button,{onClick:h=>{h.stopPropagation(),o(t)},className:"absolute top-3 right-3 z-10 w-10 h-10 bg-black/60 hover:bg-black/80 backdrop-blur-sm rounded-full flex items-center justify-center border border-purple-500/30 hover:border-purple-500 transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(Ys,{className:`w-5 h-5 transition-all ${a?"fill-pink-500 text-pink-500":"text-gray-400 hover:text-pink-400"}`})}),n.jsxs("div",{className:"relative overflow-hidden aspect-square bg-black/50",children:[n.jsx(R.img,{src:t.image||"https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",alt:t.name,className:"w-full h-full object-cover",whileHover:{scale:1.1},transition:{duration:.3}}),t.stock===0&&n.jsx(R.div,{className:"absolute inset-0 bg-black/80 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:n.jsx("span",{className:"text-red-400 border border-red-400 px-4 py-2 rounded",children:"Out of Stock"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((h,p)=>n.jsx(R.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.2,delay:p*.05},children:n.jsx(ps,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})},p)),n.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"(4.8)"})]}),n.jsx("h3",{className:"text-white mb-1 line-clamp-1",children:t.name}),n.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:t.description}),n.jsx(R.div,{className:"mb-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:n.jsxs("span",{className:"text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",t.price.toLocaleString()]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(R.button,{onClick:h=>{h.stopPropagation(),e(t)},disabled:t.stock===0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(hs,{className:"w-4 h-4"}),"Add"]}),n.jsxs(R.button,{onClick:u,className:"bg-white/10 hover:bg-white/20 border border-purple-500/50 hover:border-purple-500 px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(Vn,{className:"w-4 h-4"}),"Details"]})]})]})]})}function $h({isOpen:t,onClose:e,items:r,onUpdateQuantity:a,onRemoveItem:o,onCheckout:l}){const u=r.reduce((h,p)=>h+p.price*p.quantity,0);return n.jsx(We,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx(R.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),n.jsxs(R.div,{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},transition:{duration:.4,type:"spring",stiffness:300,damping:30},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[n.jsx("h2",{className:"text-white",children:"Shopping Cart"}),n.jsx(R.button,{onClick:e,className:"text-gray-400 hover:text-white transition-colors",whileHover:{rotate:90,scale:1.1},transition:{duration:.3},children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-220px)] p-6",children:r.length===0?n.jsx(R.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsx("p",{className:"text-gray-400 text-lg",children:"Your cart is empty"})}):n.jsx("div",{className:"space-y-4",children:n.jsx(We,{mode:"popLayout",children:r.map((h,p)=>n.jsxs(R.div,{className:"flex gap-4 bg-purple-900/10 border border-purple-500/20 rounded-lg p-4",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50,height:0,marginBottom:0,padding:0},transition:{duration:.3,delay:p*.05},layout:!0,children:[n.jsx(R.img,{src:h.image,alt:h.name,className:"w-24 h-24 object-cover rounded-lg",whileHover:{scale:1.1,rotate:5},transition:{duration:.3}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-white mb-1",children:h.name}),n.jsxs("p",{className:"text-purple-400 mb-2",children:["",h.price.toLocaleString()]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(R.button,{onClick:()=>a(h.id,Math.max(1,h.quantity-1)),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 rounded flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(pE,{className:"w-4 h-4"})}),n.jsx(R.span,{className:"text-white w-8 text-center",initial:{scale:1.5,color:"#ec4899"},animate:{scale:1,color:"#ffffff"},transition:{duration:.3},children:h.quantity},h.quantity),n.jsx(R.button,{onClick:()=>a(h.id,h.quantity+1),className:"bg-purple-600 hover:bg-purple-700 w-8 h-8 rounded flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(wE,{className:"w-4 h-4"})}),n.jsx(R.button,{onClick:()=>o(h.id),className:"ml-auto text-red-400 hover:text-red-300 transition-colors",whileHover:{scale:1.2,rotate:15},whileTap:{scale:.9},children:n.jsx(Lh,{className:"w-5 h-5"})})]})]})]},h.id))})})}),r.length>0&&n.jsxs("div",{className:"p-6 border-t border-purple-500/30 bg-black/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("span",{className:"text-gray-300 text-lg",children:"Total:"}),n.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",u.toLocaleString()]})]}),n.jsxs("button",{onClick:l,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",children:[n.jsx(ys,{className:"w-5 h-5"}),"Proceed to Checkout"]})]})]})]})})}function ZE({isOpen:t,onClose:e,wishlistItems:r,onRemoveFromWishlist:a,onAddToCart:o,onViewProduct:l}){return n.jsx(We,{children:t&&n.jsxs(n.Fragment,{children:[n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),n.jsxs(R.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-gradient-to-br from-black via-purple-900/20 to-black border-l border-purple-500/30 shadow-2xl z-50 overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b border-purple-500/30",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-600 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(Ys,{className:"w-5 h-5 fill-white"})}),n.jsx("h2",{className:"text-2xl text-white",children:"My Wishlist"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("p",{className:"text-gray-400 text-sm",children:[r.length," ",r.length===1?"item":"items"," saved"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[n.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-24 h-24 bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-full flex items-center justify-center mb-6",children:n.jsx(Ys,{className:"w-12 h-12 text-purple-400"})}),n.jsx("h3",{className:"text-xl text-white mb-2",children:"Your wishlist is empty"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Save your favorite items by clicking the heart icon on any product"}),n.jsx("button",{onClick:e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all",children:"Start Shopping"})]}):n.jsx("div",{className:"space-y-4",children:n.jsx(We,{mode:"popLayout",children:r.map((u,h)=>n.jsx(R.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:h*.05},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-4 hover:border-purple-500/50 transition-all",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("button",{onClick:()=>{l(u),e()},className:"relative w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 group cursor-pointer",children:[n.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),u.stock===0&&n.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:n.jsx("span",{className:"text-red-400 text-xs font-semibold",children:"Out of Stock"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("button",{onClick:()=>{l(u),e()},className:"text-white hover:text-purple-400 transition-colors mb-1 block text-left truncate w-full",children:u.name}),n.jsx("p",{className:"text-sm text-gray-400 mb-2 line-clamp-2",children:u.description}),n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-lg text-purple-400",children:["",u.price.toLocaleString()]}),u.stock>0&&u.stock<5&&n.jsxs("span",{className:"text-xs text-orange-400",children:["Only ",u.stock," left"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{o(u),a(u.id)},disabled:u.stock===0,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-3 py-2 rounded-lg text-sm flex items-center justify-center gap-2 transition-all",children:[n.jsx(hs,{className:"w-4 h-4"}),"Add to Cart"]}),n.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(u.id),className:"bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 hover:border-red-500/50 p-2 rounded-lg transition-all",children:n.jsx(Lh,{className:"w-4 h-4 text-red-400"})})]})]})]})},u.id))})})}),r.length>0&&n.jsx("div",{className:"p-6 border-t border-purple-500/30 bg-black/50",children:n.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r.forEach(u=>{u.stock>0&&(o(u),a(u.id))})},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[n.jsx(hs,{className:"w-5 h-5"}),"Add All to Cart"]})})]})]})})}var Dr={},Lo={},Ad=function(t,e){return Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},Ad(t,e)};function Qx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ad(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hl=function(){return hl=Object.assign||function(e){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},hl.apply(this,arguments)};function Xn(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(r[a[o]]=t[a[o]]);return r}function Zx(t,e,r,a){var o=arguments.length,l=o<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var h=t.length-1;h>=0;h--)(u=t[h])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function ev(t,e){return function(r,a){e(r,a,t)}}function tv(t,e,r,a,o,l){function u(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var h=a.kind,p=h==="getter"?"get":h==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,g=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),x,v=!1,b=r.length-1;b>=0;b--){var k={};for(var S in a)k[S]=S==="access"?{}:a[S];for(var S in a.access)k.access[S]=a.access[S];k.addInitializer=function(T){if(v)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(T||null))};var _=(0,r[b])(h==="accessor"?{get:g.get,set:g.set}:g[p],k);if(h==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(x=u(_.get))&&(g.get=x),(x=u(_.set))&&(g.set=x),(x=u(_.init))&&o.unshift(x)}else(x=u(_))&&(h==="field"?o.unshift(x):g[p]=x)}m&&Object.defineProperty(m,a.name,g),v=!0}function rv(t,e,r){for(var a=arguments.length>2,o=0;o<e.length;o++)r=a?e[o].call(t,r):e[o].call(t);return a?r:void 0}function sv(t){return typeof t=="symbol"?t:"".concat(t)}function nv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function iv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function re(t,e,r,a){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function h(g){try{m(a.next(g))}catch(x){u(x)}}function p(g){try{m(a.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((a=a.apply(t,e||[])).next())})}function av(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(g){return p([m,g])}}function p(m){if(a)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(a=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],o=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Pl=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,o)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function ov(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Pl(e,t,r)}function pl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=a.next()).done;)l.push(o.value)}catch(h){u={error:h}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}return l}function lv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Uh(arguments[e]));return t}function cv(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,h=l.length;u<h;u++,o++)a[o]=l[u];return a}function uv(t,e,r){if(r||arguments.length===2)for(var a=0,o=e.length,l;a<o;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Hn(t){return this instanceof Hn?(this.v=t,this):new Hn(t)}function dv(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(b){return function(k){return Promise.resolve(k).then(b,x)}}function h(b,k){a[b]&&(o[b]=function(S){return new Promise(function(_,T){l.push([b,S,_,T])>1||p(b,S)})},k&&(o[b]=k(o[b])))}function p(b,k){try{m(a[b](k))}catch(S){v(l[0][3],S)}}function m(b){b.value instanceof Hn?Promise.resolve(b.value.v).then(g,x):v(l[0][2],b)}function g(b){p("next",b)}function x(b){p("throw",b)}function v(b,k){b(k),l.shift(),l.length&&p(l[0][0],l[0][1])}}function hv(t){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Hn(t[o](u)),done:!1}:l?l(u):u}:l}}function pv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof pl=="function"?pl(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(u){return new Promise(function(h,p){u=t[l](u),o(h,p,u.done,u.value)})}}function o(l,u,h,p){Promise.resolve(p).then(function(m){l({value:m,done:h})},u)}}function fv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var eC=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Rd=function(t){return Rd=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},Rd(t)};function mv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Rd(t),a=0;a<r.length;a++)r[a]!=="default"&&Pl(e,t,r[a]);return eC(e,t),e}function gv(t){return t&&t.__esModule?t:{default:t}}function yv(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function xv(t,e,r,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function vv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function wv(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(o=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");o&&(a=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var tC=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function bv(t){function e(l){t.error=t.hasError?new tC(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else a|=1}catch(u){e(u)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function jv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,o,l,u){return a?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const rC={__extends:Qx,__assign:hl,__rest:Xn,__decorate:Zx,__param:ev,__esDecorate:tv,__runInitializers:rv,__propKey:sv,__setFunctionName:nv,__metadata:iv,__awaiter:re,__generator:av,__createBinding:Pl,__exportStar:ov,__values:pl,__read:Uh,__spread:lv,__spreadArrays:cv,__spreadArray:uv,__await:Hn,__asyncGenerator:dv,__asyncDelegator:hv,__asyncValues:pv,__makeTemplateObject:fv,__importStar:mv,__importDefault:gv,__classPrivateFieldGet:yv,__classPrivateFieldSet:xv,__classPrivateFieldIn:vv,__addDisposableResource:wv,__disposeResources:bv,__rewriteRelativeImportExtension:jv},sC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wv,get __assign(){return hl},__asyncDelegator:hv,__asyncGenerator:dv,__asyncValues:pv,__await:Hn,__awaiter:re,__classPrivateFieldGet:yv,__classPrivateFieldIn:vv,__classPrivateFieldSet:xv,__createBinding:Pl,__decorate:Zx,__disposeResources:bv,__esDecorate:tv,__exportStar:ov,__extends:Qx,__generator:av,__importDefault:gv,__importStar:mv,__makeTemplateObject:fv,__metadata:iv,__param:ev,__propKey:sv,__read:Uh,__rest:Xn,__rewriteRelativeImportExtension:jv,__runInitializers:rv,__setFunctionName:nv,__spread:lv,__spreadArray:uv,__spreadArrays:cv,__values:pl,default:rC},Symbol.toStringTag,{value:"Module"})),nC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Al=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},kv=class extends Al{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Od=class extends Al{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Id=class extends Al{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var fl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fl||(fl={}));class iC{constructor(e,{headers:r={},customFetch:a,region:o=fl.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=nC(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(r,a={}){var o;let l,u;try{const{headers:h,method:p,body:m,signal:g,timeout:x}=a;let v={},{region:b}=a;b||(b=this.region);const k=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,k.searchParams.set("forceFunctionRegion",b));let S;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(v["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(v["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let _=g;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),g?(_=u.signal,g.addEventListener("abort",()=>u.abort())):_=u.signal);const T=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:S,signal:_}).catch(F=>{throw new kv(F)}),C=T.headers.get("x-relay-error");if(C&&C==="true")throw new Od(T);if(!T.ok)throw new Id(T);let N=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),I;return N==="application/json"?I=yield T.json():N==="application/octet-stream"||N==="application/pdf"?I=yield T.blob():N==="text/event-stream"?I=T:N==="multipart/form-data"?I=yield T.formData():I=yield T.text(),{data:I,error:null,response:T}}catch(h){return{data:null,error:h,response:h instanceof Id||h instanceof Od?h.context:void 0}}finally{l&&clearTimeout(l)}})}}const aC=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return fl},FunctionsClient:iC,FunctionsError:Al,FunctionsFetchError:kv,FunctionsHttpError:Id,FunctionsRelayError:Od},Symbol.toStringTag,{value:"Module"})),Nv=oa(aC);var Et={};const Qn=oa(sC);var Mo={},$o={},Uo={},Fo={},Bo={},zo={},xg;function Sv(){if(xg)return zo;xg=1,Object.defineProperty(zo,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return zo.default=t,zo}var vg;function _v(){if(vg)return Bo;vg=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=Qn.__importDefault(Sv());let r=class{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,g,x,v;let b=null,k=null,S=null,_=p.status,T=p.statusText;if(p.ok){if(this.method!=="HEAD"){const F=await p.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?k=F:k=JSON.parse(F))}const N=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),I=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&I&&I.length>1&&(S=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(b={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,S=null,_=406,T="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const N=await p.text();try{b=JSON.parse(N),Array.isArray(b)&&p.status===404&&(k=[],b=null,_=200,T="OK")}catch{p.status===404&&N===""?(_=204,T="No Content"):b={message:N}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,_=200,T="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:k,count:S,status:_,statusText:T}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,g,x,v,b,k;let S="";const _=p?.cause;if(_){const T=(m=_?.message)!==null&&m!==void 0?m:"",C=(g=_?.code)!==null&&g!==void 0?g:"";S=`${(x=p?.name)!==null&&x!==void 0?x:"FetchError"}: ${p?.message}`,S+=`

Caused by: ${(v=_?.name)!==null&&v!==void 0?v:"Error"}: ${T}`,C&&(S+=` (${C})`),_?.stack&&(S+=`
${_.stack}`)}else S=(b=p?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(k=p?.name)!==null&&k!==void 0?k:"FetchError"}: ${p?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}};return Bo.default=r,Bo}var wg;function Ev(){if(wg)return Fo;wg=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=Qn.__importDefault(_v());let r=class extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var g;const x=[o?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return Fo.default=r,Fo}var bg;function Fh(){if(bg)return Uo;bg=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=Qn.__importDefault(Ev()),r=new RegExp("[,()]");let a=class extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${m}fts${g}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}};return Uo.default=a,Uo}var jg;function Cv(){if(jg)return $o;jg=1,Object.defineProperty($o,"__esModule",{value:!0});const e=Qn.__importDefault(Fh());let r=class{constructor(o,{headers:l={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=h}select(o,l){const{head:u=!1,count:h}=l??{},p=u?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var h;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(x.length>0){const v=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return $o.default=r,$o}var kg;function oC(){if(kg)return Mo;kg=1,Object.defineProperty(Mo,"__esModule",{value:!0});const t=Qn,e=t.__importDefault(Cv()),r=t.__importDefault(Fh());let a=class Tv{constructor(l,{headers:u={},schema:h,fetch:p}={}){this.url=l,this.headers=new Headers(u),this.schemaName=h,this.fetch=p}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new Tv(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:p=!1,count:m}={}){var g;let x;const v=new URL(`${this.url}/rpc/${l}`);let b;h||p?(x=h?"HEAD":"GET",Object.entries(u).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{v.searchParams.append(S,_)})):(x="POST",b=u);const k=new Headers(this.headers);return m&&k.set("Prefer",`count=${m}`),new r.default({method:x,url:v,headers:k,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return Mo.default=a,Mo}var Ng;function Pv(){if(Ng)return Et;Ng=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostgrestError=Et.PostgrestBuilder=Et.PostgrestTransformBuilder=Et.PostgrestFilterBuilder=Et.PostgrestQueryBuilder=Et.PostgrestClient=void 0;const t=Qn,e=t.__importDefault(oC());Et.PostgrestClient=e.default;const r=t.__importDefault(Cv());Et.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Fh());Et.PostgrestFilterBuilder=a.default;const o=t.__importDefault(Ev());Et.PostgrestTransformBuilder=o.default;const l=t.__importDefault(_v());Et.PostgrestBuilder=l.default;const u=t.__importDefault(Sv());return Et.PostgrestError=u.default,Et.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Et}class Av{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lC="2.87.1",cC=`realtime-js/${lC}`,Rv="1.0.0",uC="2.0.0",Sg=Rv,Dd=1e4,dC=1e3,hC=100;var zs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zs||(zs={}));var rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rt||(rt={}));var fr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fr||(fr={}));var Ld;(function(t){t.websocket="websocket"})(Ld||(Ld={}));var Vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vs||(Vs={}));class pC{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,a){var o,l;const u=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+u.length+m.length+x.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let k=new DataView(b),S=0;k.setUint8(S++,this.KINDS.userBroadcastPush),k.setUint8(S++,p.length),k.setUint8(S++,h.length),k.setUint8(S++,u.length),k.setUint8(S++,m.length),k.setUint8(S++,x.length),k.setUint8(S++,r),Array.from(p,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(h,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(u,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(m,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(x,T=>k.setUint8(S++,T.charCodeAt(0)));var _=new Uint8Array(b.byteLength+a.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(a),b.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,l,u,h,p]=a;return r({join_ref:o,ref:l,topic:u,event:h,payload:p})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,a){const o=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),h=r.getUint8(4);let p=this.HEADER_LENGTH+4;const m=a.decode(e.slice(p,p+o));p=p+o;const g=a.decode(e.slice(p,p+l));p=p+l;const x=a.decode(e.slice(p,p+u));p=p+u;const v=e.slice(p,e.byteLength),b=h===this.JSON_ENCODING?JSON.parse(a.decode(v)):v,k={type:this.BROADCAST_EVENT,event:g,payload:b};return u>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class Ov{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Le||(Le={}));const _g=(t,e,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=fC(u,t,e,o),l),{}):{}},fC=(t,e,r,a)=>{const o=e.find(h=>h.name===t),l=o?.type,u=r[t];return l&&!a.includes(l)?Iv(l,u):Md(u)},Iv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return xC(e,r)}switch(t){case Le.bool:return mC(e);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return gC(e);case Le.json:case Le.jsonb:return yC(e);case Le.timestamp:return vC(e);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Md(e);default:return Md(e)}},Md=t=>t,mC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Iv(e,h))}return t},vC=t=>typeof t=="string"?t.replace(" ","T"):t,Dv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wu{constructor(e,r,a={},o=Dd){this.channel=e,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $d;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($d||($d={}));let Lv=class Zo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(p=>{this.state=Zo.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Zo.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,o){const l=this.cloneDeep(e),u=this.transformState(r),h={},p={};return this.map(l,(m,g)=>{u[m]||(p[m]=g)}),this.map(u,(m,g)=>{const x=l[m];if(x){const v=g.map(_=>_.presence_ref),b=x.map(_=>_.presence_ref),k=g.filter(_=>b.indexOf(_.presence_ref)<0),S=x.filter(_=>v.indexOf(_.presence_ref)<0);k.length>0&&(h[m]=k),S.length>0&&(p[m]=S)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:p},a,o)}static syncDiff(e,r,a,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,p)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),g.length>0){const x=e[h].map(b=>b.presence_ref),v=g.filter(b=>x.indexOf(b.presence_ref)<0);e[h].unshift(...v)}a(h,g,p)}),this.map(u,(h,p)=>{let m=e[h];if(!m)return;const g=p.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const o=e[a];return"metas"in o?r[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ud;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ud||(Ud={}));var Un;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Un||(Un={}));var jr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jr||(jr={}));const wC=rt;let Mv=class Wi{constructor(e,r={config:{}},a){var o,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wu(this,fr.join,this.params,this.timeout),this.rejoinTimer=new Ov(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Lv(this),this.broadcastEndpointURL=Dv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,m=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Un.PRESENCE]&&this.bindings[Un.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(jr.CHANNEL_ERROR,b)),this._onClose(()=>e?.(jr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(jr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(k=S?.length)!==null&&k!==void 0?k:0,T=[];for(let C=0;C<_;C++){const N=S[C],{filter:{event:I,schema:F,table:z,filter:V}}=N,Y=b&&b[C];if(Y&&Y.event===I&&Wi.isFilterValueEqual(Y.schema,F)&&Wi.isFilterValueEqual(Y.table,z)&&Wi.isFilterValueEqual(Y.filter,V))T.push(Object.assign(Object.assign({},N),{id:Y.id}));else{this.unsubscribe(),this.state=rt.errored,e?.(jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(jr.SUBSCRIBED);return}}).receive("error",b=>{this.state=rt.errored,e?.(jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===rt.joined&&e===Un.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(e,r={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,p;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Wu(this,fr.leave,{},e),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Wu(this,e,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var o,l;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=fr;if(a&&[h,p,m,g].indexOf(u)>=0&&a!==this._joinRef())return;let v=this._onMessage(u,r,a);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var k,S,_;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(v,a)):(l=this.bindings[u])===null||l===void 0||l.filter(b=>{var k,S,_,T,C,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const I=b.id,F=(k=b.filter)===null||k===void 0?void 0:k.event;return I&&((S=r.ids)===null||S===void 0?void 0:S.includes(I))&&(F==="*"||F?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const I=(C=(T=b?.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:S,table:_,commit_timestamp:T,type:C,errors:N}=k;v=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:T,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(k))}b.callback(v,a)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Wi.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fr.close,{},e)}_onError(e){this._on(fr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=_g(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=_g(e.columns,e.old_record)),r}};const qu=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bC=[1e3,2e3,5e3,1e4],jC=1e4,kC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let NC=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dd,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.vsn=Sg,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new pC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ld.websocket}`,this.httpEndpoint=Dv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Av.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case zs.connecting:return Vs.Connecting;case zs.open:return Vs.Open;case zs.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new Mv(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:o,ref:l}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${r} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(dC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:l,ref:u}=r,h=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${a} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zs.open||this.conn.readyState===zs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${a}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([kC],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const l={access_token:r,version:cC};r&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(fr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Ov(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,o,l,u,h,p,m,g,x,v,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Dd,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Vo.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:qu,this.vsn=(p=e?.vsn)!==null&&p!==void 0?p:Sg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(k=>bC[k-1]||jC),this.vsn){case Rv:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((k,S)=>S(JSON.stringify(k))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((k,S)=>S(JSON.parse(k)));break;case uC:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const SC=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:wC,get REALTIME_LISTEN_TYPES(){return Un},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ud},get REALTIME_PRESENCE_LISTEN_EVENTS(){return $d},get REALTIME_SUBSCRIBE_STATES(){return jr},RealtimeChannel:Mv,RealtimeClient:NC,RealtimePresence:Lv,WebSocketFactory:Av},Symbol.toStringTag,{value:"Module"})),$v=oa(SC);class ma extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Uv extends ma{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ml extends ma{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Bh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_C=()=>Response,Fd=t=>{if(Array.isArray(t))return t.map(r=>Fd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Fd(a)}),e},EC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Gu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},TC=(t,e,r)=>re(void 0,void 0,void 0,function*(){const a=yield _C();t instanceof a&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new Uv(Gu(o),l,u))}).catch(o=>{e(new ml(Gu(o),o))}):e(new ml(Gu(t),t))}),PC=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!a?o:(EC(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function ga(t,e,r,a,o,l){return re(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(r,PC(e,a,o,l)).then(p=>{if(!p.ok)throw p;return a?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>TC(p,h,a))})})}function ia(t,e,r,a){return re(this,void 0,void 0,function*(){return ga(t,"GET",e,r,a)})}function pr(t,e,r,a,o){return re(this,void 0,void 0,function*(){return ga(t,"POST",e,a,o,r)})}function Bd(t,e,r,a,o){return re(this,void 0,void 0,function*(){return ga(t,"PUT",e,a,o,r)})}function AC(t,e,r,a){return re(this,void 0,void 0,function*(){return ga(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function zh(t,e,r,a,o){return re(this,void 0,void 0,function*(){return ga(t,"DELETE",e,a,o,r)})}class RC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}})}}var Fv;class OC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Fv]="BlobDownloadBuilder",this.promise=null}asStream(){return new RC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}})}}Fv=Symbol.toStringTag;const IC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DC{constructor(e,r={},a,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Bh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,o){return re(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Eg),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(p))):(l=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),x=yield(e=="PUT"?Bd:pr)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}})}upload(e,r,a){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,o){return re(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:Eg.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",m.cacheControl)):(p=a,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield Bd(this.fetch,h.toString(),p,{headers:g});return{data:{path:l,fullPath:x.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(He(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,r){return re(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield pr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new ma("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}update(e,r,a){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return re(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}copy(e,r,a){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,a){return re(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield pr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,a){return re(this,void 0,void 0,function*(){try{const o=yield pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(e),p=()=>ia(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new OC(p,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield ia(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}exists(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield AC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a)&&a instanceof ml){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const h=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${m}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}list(e,r,a){return re(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},IC),r),{prefix:e||""});return{data:yield pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}listV2(e,r){return re(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Bv="2.87.1",zv={"X-Client-Info":`storage-js/${Bv}`};class LC{constructor(e,r={},a,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),r),this.fetch=Bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ia(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}createBucket(e){return re(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield pr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var aa=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function MC(t,e,r){const a=new URL(e,t);if(r)for(const[o,l]of Object.entries(r))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function $C(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function UC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:o,body:l,headers:u}){const h=MC(t.baseUrl,a,o),p=await $C(t.auth),m=await e(h,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),g=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),v=x&&g?JSON.parse(g):g;if(!m.ok){const b=x?v:void 0,k=b?.error;throw new aa(k?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:k?.type,icebergCode:k?.code,details:b})}return{status:m.status,headers:m.headers,data:v}}}}function Ho(t){return t.join("")}var FC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ho(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(t.namespace)}`}),!0}catch(e){if(e instanceof aa&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof aa&&r.status===409)return;throw r}}};function _n(t){return t.join("")}var BC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_n(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_n(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_n(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_n(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_n(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_n(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof aa&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof aa&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},zC=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=UC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new FC(this.client,e),this.tableOps=new BC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Vv{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),r),this.fetch=Bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),o=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ia(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}from(e){if(!CC(e))throw new ma("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new zC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,u){const h=l[u];return typeof h!="function"?h:(...p)=>re(this,void 0,void 0,function*(){try{return{data:yield h.apply(l,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}})}})}}const Vh={"X-Client-Info":`storage-js/${Bv}`,"Content-Type":"application/json"};class Hh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ut(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class el extends Hh{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hv extends Hh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var zd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zd||(zd={}));const Rl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VC=()=>Response,Wv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},HC=t=>Array.from(new Float32Array(t)),WC=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Cg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qC=(t,e,r)=>re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const h=u?.statusCode||u?.code||o+"";e(new el(Cg(u),o,h))}).catch(()=>{const u=o+"",h=l.statusText||`HTTP ${o} error`;e(new el(h,o,u))});else{const u=o+"",h=l.statusText||`HTTP ${o} error`;e(new el(h,o,u))}}else e(new Hv(Cg(t),t))}),GC=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return a?(Wv(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,Object.assign(Object.assign({},o),r)):o};function KC(t,e,r,a,o,l){return re(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(r,GC(e,a,o,l)).then(p=>{if(!p.ok)throw p;if(a?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>qC(p,h,a))})})}function Wt(t,e,r,a,o){return re(this,void 0,void 0,function*(){return KC(t,"POST",e,a,o,r)})}class qv{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Rl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}getIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}}class Gv{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Rl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Wt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}}class Kv{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Rl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield Wt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}}class Yv extends Kv{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Jv(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return re(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return re(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return re(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return re(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Jv extends qv{constructor(e,r,a,o){super(e,r,o),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Xv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Xv extends Gv{constructor(e,r,a,o,l){super(e,r,l),this.vectorBucketName=a,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class YC extends LC{constructor(e,r={},a,o){super(e,r,a,o)}from(e){return new DC(this.url,this.headers,e,this.fetch)}get vectors(){return new Yv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vv(this.url+"/iceberg",this.headers,this.fetch)}}const JC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Vv,StorageApiError:Uv,StorageClient:YC,StorageError:ma,StorageUnknownError:ml,StorageVectorsApiError:el,StorageVectorsClient:Yv,StorageVectorsError:Hh,get StorageVectorsErrorCode(){return zd},StorageVectorsUnknownError:Hv,VectorBucketApi:Kv,VectorBucketScope:Jv,VectorDataApi:Gv,VectorIndexApi:qv,VectorIndexScope:Xv,isPlainObject:Wv,isStorageError:He,isStorageVectorsError:Ut,normalizeToFloat32:HC,resolveFetch:Rl,resolveResponse:VC,validateVectorDimension:WC},Symbol.toStringTag,{value:"Module"})),XC=oa(JC);var Ku={},zi={},Tg;function QC(){return Tg||(Tg=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.version=void 0,zi.version="2.87.1"),zi}var Pg;function ZC(){return Pg||(Pg=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=QC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Ku)),Ku}var Yu={},Ag;function e4(){return Ag||(Ag=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=o=>o?(...l)=>o(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(o,l,u)=>{const h=(0,t.resolveFetch)(u),p=(0,t.resolveHeadersConstructor)();return async(m,g)=>{var x;const v=(x=await l())!==null&&x!==void 0?x:o;let b=new p(g?.headers);return b.has("apikey")||b.set("apikey",o),b.has("Authorization")||b.set("Authorization",`Bearer ${v}`),h(m,Object.assign(Object.assign({},g),{headers:b}))}};t.fetchWithAuth=a})(Yu)),Yu}var Lr={},Rg;function t4(){if(Rg)return Lr;Rg=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.isBrowser=void 0,Lr.uuid=t,Lr.ensureTrailingSlash=e,Lr.applySettingDefaults=a,Lr.validateSupabaseUrl=o;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var u=Math.random()*16|0,h=l=="x"?u:u&3|8;return h.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";Lr.isBrowser=r;function a(l,u){var h,p;const{db:m,auth:g,realtime:x,global:v}=l,{db:b,auth:k,realtime:S,global:_}=u,T={db:Object.assign(Object.assign({},b),m),auth:Object.assign(Object.assign({},k),g),realtime:Object.assign(Object.assign({},S),x),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(h=_?.headers)!==null&&h!==void 0?h:{}),(p=v?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return l.accessToken?T.accessToken=l.accessToken:delete T.accessToken,T}function o(l){const u=l?.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Lr}var Vi={};const Qv="2.87.1",Pn=30*1e3,Vd=3,Ju=Vd*Pn,r4="http://localhost:9999",s4="supabase.auth.token",n4={"X-Client-Info":`gotrue-js/${Qv}`},Hd="X-Supabase-Api-Version",Zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a4=600*1e3;let Wn=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let ew=class extends Wn{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function tw(t){return oe(t)&&t.name==="AuthApiError"}let us=class extends Wn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Vr=class extends Wn{constructor(e,r,a,o){super(e,a,o),this.name=r,this.status=a}},$t=class extends Vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function rw(t){return oe(t)&&t.name==="AuthSessionMissingError"}let Us=class extends Vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},qi=class extends Vr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Gi=class extends Vr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function sw(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}let Wd=class extends Vr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},gl=class extends Vr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function tl(t){return oe(t)&&t.name==="AuthRetryableFetchError"}let qd=class extends Vr{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function o4(t){return oe(t)&&t.name==="AuthWeakPasswordError"}let yl=class extends Vr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Og=` 	
\r=`.split(""),l4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Og.length;e+=1)t[Og[e].charCodeAt(0)]=-2;for(let e=0;e<xl.length;e+=1)t[xl[e].charCodeAt(0)]=e;return t})();function Ig(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(xl[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(xl[a]),e.queuedBits-=6}}function nw(t,e,r){const a=l4[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Dg(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{d4(u,a,r)};for(let u=0;u<t.length;u+=1)nw(t.charCodeAt(u),o,l);return e.join("")}function c4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function u4(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}c4(a,e)}}function d4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Fn(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)nw(t.charCodeAt(o),r,a);return new Uint8Array(e)}function h4(t){const e=[];return u4(t,r=>e.push(r)),new Uint8Array(e)}function qs(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};return t.forEach(o=>Ig(o,r,a)),Ig(null,r,a),e.join("")}function p4(t){return Math.round(Date.now()/1e3)+t}function f4(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},iw=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function m4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((a,o)=>{e[o]=a}),e}const aw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",An=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ms=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xt=async(t,e)=>{await t.removeItem(e)};class Ol{constructor(){this.promise=new Ol.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ol.promiseConstructor=Promise;function Xu(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!i4.test(e[a]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Dg(e[0])),payload:JSON.parse(Dg(e[1])),signature:Fn(e[2]),raw:{header:e[0],payload:e[1]}}}async function y4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function x4(t,e){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function v4(t){return("0"+t.toString(16)).substr(-2)}function w4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,v4).join("")}async function b4(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function j4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await b4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function En(t,e,r=!1){const a=w4();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await An(t,`${e}-code-verifier`,o);const l=await j4(a);return[l,a===l?"plain":"s256"]}const k4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N4(t){const e=t.headers.get(Hd);if(!e||!e.match(k4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function S4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cn(t){if(!E4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C4(t,e){return new Proxy(t,{get:(r,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,o)}})}function Lg(t){return JSON.parse(JSON.stringify(t))}const Fs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),T4=[502,503,504];async function Mg(t){var e;if(!g4(t))throw new gl(Fs(t),0);if(T4.includes(t.status))throw new gl(Fs(t),t.status);let r;try{r=await t.json()}catch(l){throw new us(Fs(l),l)}let a;const o=N4(t);if(o&&o.getTime()>=Zv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new qd(Fs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new qd(Fs(r),t.status,r.weak_password.reasons);throw new ew(Fs(r),t.status||500,a)}const P4=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function fe(t,e,r,a){var o;const l=Object.assign({},a?.headers);l[Hd]||(l[Hd]=Zv["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await A4(t,e,r+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(p):{data:Object.assign({},p),error:null}}async function A4(t,e,r,a,o,l){const u=P4(e,a,o,l);let h;try{h=await t(r,Object.assign({},u))}catch(p){throw console.error(p),new gl(Fs(p),0)}if(h.ok||await Mg(h),a?.noResolveJson)return h;try{return await h.json()}catch(p){await Mg(p)}}function dr(t){var e;let r=null;I4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=p4(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function $g(t){const e=dr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ds(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function R4(t){return{data:t,error:null}}function O4(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:l}=t,u=Xn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:l},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function Ug(t){return t}function I4(t){return t.access_token&&t.refresh_token&&t.expires_in}const rl=["global","local","others"];let Wh=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=aw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rl[0]){if(rl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rl.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Xn(e,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:O4,redirectTo:r?.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ds})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,o,l,u,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Ug});if(g.error)throw g.error;const x=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);m[`${_}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(oe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Cn(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ds})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cn(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ds})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){Cn(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Cn(e.userId);try{const{data:r,error:a}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cn(e.userId),Cn(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,o,l,u,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Ug});if(g.error)throw g.error;const x=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);m[`${_}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(oe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}};function Fg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Bs={debug:!!(globalThis&&iw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let ow=class extends qh{};class D4 extends qh{}async function lw(t,e,r){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ow(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Bg={};async function L4(t,e,r){var a;const o=(a=Bg[t])!==null&&a!==void 0?a:Promise.resolve(),l=Promise.race([o.catch(()=>null),e>=0?new Promise((u,h)=>{setTimeout(()=>{h(new D4(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return Bg[t]=l.catch(async u=>{if(u&&u.isAcquireTimeout)return await o,null;throw u}),await l}function M4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $4(t){return parseInt(t,16)}function U4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function F4(t){var e;const{chainId:r,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:p,resources:m,scheme:g,uri:x,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=cw(t.address),k=g?`${g}://${a}`:a,S=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${b}

${S}`;let T=`URI: ${x}
Version: ${v}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),h&&(T+=`
Not Before: ${h.toISOString()}`),p&&(T+=`
Request ID: ${p}`),m){let C=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);C+=`
- ${N}`}T+=C}return`${_}
${T}`}class st extends Error{constructor({message:e,code:r,cause:a,name:o}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class vl extends st{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function B4({error:t,options:e}){var r,a,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(uw(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function z4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(uw(a)){if(r.rpId!==a)return new st({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class V4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const H4=new V4;function W4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,o=Xn(t,["challenge","user","excludeCredentials"]),l=Fn(e).buffer,u=Object.assign(Object.assign({},r),{id:Fn(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const m=a[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Fn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function q4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=Xn(t,["challenge","allowCredentials"]),o=Fn(e).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Fn(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function G4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:qs(new Uint8Array(t.response.attestationObject)),clientDataJSON:qs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function K4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qs(new Uint8Array(o.authenticatorData)),clientDataJSON:qs(new Uint8Array(o.clientDataJSON)),signature:qs(new Uint8Array(o.signature)),userHandle:o.userHandle?qs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zg(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Y4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",e)}:{data:null,error:new vl("Empty credential response",e)}}catch(e){return{data:null,error:B4({error:e,options:t})}}}async function J4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",e)}:{data:null,error:new vl("Empty credential response",e)}}catch(e){return{data:null,error:z4({error:e,options:t})}}}const X4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Q4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(r(u))a[l]=u;else if(e(u)){const h=a[l];e(h)?a[l]=wl(h,u):a[l]=wl(u)}else a[l]=u}return a}function Z4(t,e){return wl(X4,t,e||{})}function eT(t,e){return wl(Q4,t,e||{})}class tT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:o},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:h};const p=o??H4.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=Z4(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:x}=await Y4({publicKey:m,signal:p});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const m=eT(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:x}=await J4(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:p}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new us("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Wn("rpId is required for WebAuthn authentication")};try{if(!zg())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:a,credential_response:p.credential_response}})}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new us("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Wn("rpId is required for WebAuthn registration")};try{if(!zg())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new us("Unexpected error in register",u)}}}}M4();const rT={url:r4,storageKey:s4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:n4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vg(t,e,r){return await r()}const Tn={};let Gh=class Gd{get jwks(){var e,r;return(r=(e=Tn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Tn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},rT),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Gd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&wt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Wh({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=aw(l.fetch),this.lock=l.lock||Vg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&wt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=lw:this.lock=Vg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:iw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Fg(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(wt()&&(r=m4(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),wt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),sw(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?this._returnResult({error:r}):this._returnResult({error:new us("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:dr}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,o;try{let l;if("email"in e){const{email:g,password:x,options:v}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await En(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:x,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:k},xform:dr})}else if("phone"in e){const{phone:g,password:x,options:v}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(a=v?.data)!==null&&a!==void 0?a:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:dr})}else throw new qi("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:h}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:$g})}else if("phone"in e){const{phone:l,password:u,options:h}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:$g})}else throw new qi("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new Us;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,o,l,u,h,p,m,g,x,v;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:S,wallet:_,statement:T,options:C}=e;let N;if(wt())if(typeof _=="object")N=_;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")N=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=_}const I=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),F=await N.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=cw(F[0]);let V=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const ne=await N.request({method:"eth_chainId"});V=$4(ne)}const Y={domain:I.host,address:z,statement:T,uri:I.href,version:"1",chainId:V,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=F4(Y),k=await N.request({method:"personal_sign",params:[U4(b),z]})}try{const{data:S,error:_}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:k},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:dr});if(_)throw _;if(!S||!S.session||!S.user){const T=new Us;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(oe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,a,o,l,u,h,p,m,g,x,v,b;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:_,wallet:T,statement:C,options:N}=e;let I;if(wt())if(typeof T=="object")I=T;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))I=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=T}const F=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const z=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),C?{statement:C}:null));let V;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")V=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)V=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)k=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),S=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(a=N?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=N?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((x=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...N.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const z=await I.signMessage(new TextEncoder().encode(k),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=z}}try{const{data:_,error:T}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:qs(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:dr});if(T)throw T;if(!_||!_.session||!_.user){const C=new Us;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(oe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await Ms(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:dr});if(await xt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new Us;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:o,access_token:l,nonce:u}=e,h=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dr}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const g=new Us;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,o,l,u;try{if("email"in e){const{email:h,options:p}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await En(this.storage,this.storageKey));const{error:x}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:g}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new qi("You must provide either an email or phone number.")}catch(h){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,a;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:dr});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,a,o,l,u;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await En(this.storage,this.storageKey));const m=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:R4});return!((l=m.data)===null||l===void 0)&&l.url&&wt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new $t;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:l}=e,{data:u,error:h}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new qi("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Ju:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Ms(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Qu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=C4(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ds}):await this._useSession(async r=>{var a,o,l;const{data:u,error:h}=r;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:ds})})}catch(r){if(oe(r))return rw(r)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new $t;const u=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await En(this.storage,this.storageKey));const{data:m,error:g}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:ds});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const r=Date.now()/1e3;let a=r,o=!0,l=null;const{payload:u}=Xu(e.access_token);if(u.exp&&(a=u.exp,o=a<=r),o){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new $t;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!wt())throw new Gi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wd("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:p,token_type:m}=e;if(!l||!h||!u||!m)throw new Gi("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(h);let v=g+x;p&&(v=parseInt(p));const b=v-g;b*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const k=v-x;g-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,v,g):g-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,v,g);const{data:S,error:_}=await this._getUser(l);if(_)throw _;const T={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:v,refresh_token:u,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(tw(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=f4(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await En(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:o}=await this._useSession(async l=>{var u,h,p,m,g;const{data:x,error:v}=l;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return wt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(oe(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:h,token:p,access_token:m,nonce:g}=e,x=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:p,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:dr}),{data:v,error:b}=x;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Us}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,o;const{data:l,error:u}=r;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await x4(async o=>(o>0&&await y4(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dr})),(o,l)=>{const u=200*Math.pow(2,o);return l&&tl(l)&&Date.now()+u-a<Pn})}catch(a){if(this._debug(r,"error",a),oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),wt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ms(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await An(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Qu()}else if(o&&!o.user&&!o.user){const u=await Ms(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await xt(this.storage,this.storageKey+"-user"),await An(this.storage,this.storageKey,o)):o.user=Qu()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ju;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Ju}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),tl(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ol;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new $t;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),oe(l)){const u={data:null,error:l};return tl(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await An(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Lg(o);await An(this.storage,this.storageKey,l)}else{const o=Lg(r);await An(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Pn}ms, refresh threshold is ${Vd} ticks`),o<=Vd&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await En(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?G4(e.webauthn.credential_response):K4(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:W4(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:q4(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Xu(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&wt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&wt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+a4>o)return a;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:b,error:k}=await this.getSession();if(k||!b.session)return this._returnResult({data:null,error:k});a=b.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:p}}=Xu(a);r?.allowExpired||S4(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:l,header:o,signature:u},error:null}}const g=_4(o.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,u,h4(`${h}.${p}`)))throw new yl("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}};Gh.nextInstanceID={};const sT=Wh,nT=Gh,iT=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:sT,AuthApiError:ew,AuthClient:nT,AuthError:Wn,AuthImplicitGrantRedirectError:Gi,AuthInvalidCredentialsError:qi,AuthInvalidJwtError:yl,AuthInvalidTokenResponseError:Us,AuthPKCEGrantCodeExchangeError:Wd,AuthRetryableFetchError:gl,AuthSessionMissingError:$t,AuthUnknownError:us,AuthWeakPasswordError:qd,CustomAuthError:Vr,GoTrueAdminApi:Wh,GoTrueClient:Gh,NavigatorLockAcquireTimeoutError:ow,SIGN_OUT_SCOPES:rl,isAuthApiError:tw,isAuthError:oe,isAuthImplicitGrantRedirectError:sw,isAuthRetryableFetchError:tl,isAuthSessionMissingError:rw,isAuthWeakPasswordError:o4,lockInternals:Bs,navigatorLock:lw,processLock:L4},Symbol.toStringTag,{value:"Module"})),dw=oa(iT);var Hg;function aT(){if(Hg)return Vi;Hg=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.SupabaseAuthClient=void 0;const t=dw;let e=class extends t.AuthClient{constructor(a){super(a)}};return Vi.SupabaseAuthClient=e,Vi}var Wg;function qg(){if(Wg)return Lo;Wg=1,Object.defineProperty(Lo,"__esModule",{value:!0});const t=Nv,e=Pv(),r=$v,a=XC,o=ZC(),l=e4(),u=t4(),h=aT();class p{constructor(g,x,v){var b,k,S;this.supabaseUrl=g,this.supabaseKey=x;const _=(0,u.validateSupabaseUrl)(g);if(!x)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const T=`sb-${_.hostname.split(".")[0]}-auth-token`,C={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:o.DEFAULT_GLOBAL_OPTIONS},N=(0,u.applySettingDefaults)(v??{},C);this.storageKey=(b=N.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(k=N.global.headers)!==null&&k!==void 0?k:{},N.accessToken?(this.accessToken=N.accessToken,this.auth=new Proxy({},{get:(I,F)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(F)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=N.auth)!==null&&S!==void 0?S:{},this.headers,N.global.fetch),this.fetch=(0,l.fetchWithAuth)(x,this._getAccessToken.bind(this),N.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},N.realtime)),this.accessToken&&this.accessToken().then(I=>this.realtime.setAuth(I)).catch(I=>console.warn("Failed to set initial Realtime auth token:",I)),this.rest=new e.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:N.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),N.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,x={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,x,v)}channel(g,x={config:{}}){return this.realtime.channel(g,x)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,x;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(x=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:x,detectSessionInUrl:v,storage:b,userStorage:k,storageKey:S,flowType:_,lock:T,debug:C,throwOnError:N},I,F){const z={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},z),I),storageKey:S,autoRefreshToken:g,persistSession:x,detectSessionInUrl:v,storage:b,userStorage:k,flowType:_,lock:T,debug:C,throwOnError:N,fetch:F,hasCustomAuthorizationHeader:Object.keys(this.headers).some(V=>V.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((x,v)=>{this._handleTokenChanged(x,"CLIENT",v?.access_token)})}_handleTokenChanged(g,x,v){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),x=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Lo.default=p,Lo}var Gg;function oT(){return Gg||(Gg=1,(function(t){var e=Dr&&Dr.__createBinding||(Object.create?(function(g,x,v,b){b===void 0&&(b=v);var k=Object.getOwnPropertyDescriptor(x,v);(!k||("get"in k?!x.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return x[v]}}),Object.defineProperty(g,b,k)}):(function(g,x,v,b){b===void 0&&(b=v),g[b]=x[v]})),r=Dr&&Dr.__exportStar||function(g,x){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(x,v)&&e(x,g,v)},a=Dr&&Dr.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const o=a(qg());r(dw,t);var l=Pv();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var u=Nv;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r($v,t);var h=qg();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(h).default}});const p=(g,x,v)=>new o.default(g,x,v);t.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const x=g.match(/^v(\d+)\./);return x?parseInt(x[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Dr)),Dr}var hw=oT();const pw=Yg(hw),lT=pj({__proto__:null,default:pw},[hw]),{PostgrestError:lP,FunctionsHttpError:cP,FunctionsFetchError:uP,FunctionsRelayError:dP,FunctionsError:hP,FunctionRegion:pP,SupabaseClient:fP,createClient:cT,GoTrueAdminApi:mP,GoTrueClient:gP,AuthAdminApi:yP,AuthClient:xP,navigatorLock:vP,NavigatorLockAcquireTimeoutError:wP,lockInternals:bP,processLock:jP,SIGN_OUT_SCOPES:kP,AuthError:NP,AuthApiError:SP,AuthUnknownError:_P,CustomAuthError:EP,AuthSessionMissingError:CP,AuthInvalidTokenResponseError:TP,AuthInvalidCredentialsError:PP,AuthImplicitGrantRedirectError:AP,AuthPKCEGrantCodeExchangeError:RP,AuthRetryableFetchError:OP,AuthWeakPasswordError:IP,AuthInvalidJwtError:DP,isAuthError:LP,isAuthApiError:MP,isAuthSessionMissingError:$P,isAuthImplicitGrantRedirectError:UP,isAuthRetryableFetchError:FP,isAuthWeakPasswordError:BP,RealtimePresence:zP,RealtimeChannel:VP,RealtimeClient:HP,REALTIME_LISTEN_TYPES:WP,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:qP,REALTIME_PRESENCE_LISTEN_EVENTS:GP,REALTIME_SUBSCRIBE_STATES:KP,REALTIME_CHANNEL_STATES:YP}=pw||lT,jt=cT(`https://${be}.supabase.co`,Ee);function Kh({isOpen:t,onClose:e,onAuthSuccess:r,showCheckoutMessage:a=!1}){const o=pt(),[l,u]=j.useState("login"),[h,p]=j.useState({name:"",email:"",password:""}),[m,g]=j.useState(""),[x,v]=j.useState(!1),[b,k]=j.useState(!1),S=async C=>{C.preventDefault(),g(""),v(!0);try{if(l==="signup"){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)){g("Please enter a valid email address"),v(!1);return}if(h.password.length<6){g("Password must be at least 6 characters long"),v(!1);return}if(!h.name||h.name.trim().length<2){g("Please enter a valid name"),v(!1);return}console.log(" SIGNUP ATTEMPT:",{email:h.email,name:h.name,timestamp:new Date().toISOString()});const F=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/signup`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:h.email,password:h.password,name:h.name})})).json();if(console.log(" Signup response:",F),F.success){const{data:z,error:V}=await jt.auth.signInWithPassword({email:h.email,password:h.password});V?g(V.message):z.user&&(r(z.user),_(),e())}else g(F.message||"Signup failed. Please try again.")}else{const{data:N,error:I}=await jt.auth.signInWithPassword({email:h.email,password:h.password});I?g(I.message):N.user&&(r(N.user),_(),e())}}catch(N){console.log("Auth error:",N),g("An error occurred. Please try again.")}finally{v(!1)}},_=()=>{p({name:"",email:"",password:""}),g(""),k(!1)},T=()=>{u(l==="login"?"signup":"login"),_()};return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-md shadow-2xl shadow-purple-900/50 m-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[n.jsx("h2",{className:"text-white",children:l==="login"?"Welcome Back":"Create Account"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[a&&n.jsx("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3 text-purple-300 text-sm mb-4",children:n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ul,{className:"w-4 h-4"}),"Please login or create an account to complete your order"]})}),l==="signup"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:h.name,onChange:C=>p({...h,name:C.target.value}),required:!0,placeholder:"Enter your full name",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"email",value:h.email,onChange:C=>p({...h,email:C.target.value}),required:!0,placeholder:"Enter your email",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:b?"text":"password",value:h.password,onChange:C=>p({...h,password:C.target.value}),required:!0,placeholder:"Enter your password",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-11 pr-11 py-3 text-white focus:outline-none focus:border-purple-500"}),n.jsx("button",{type:"button",onClick:()=>k(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:b?n.jsx(_d,{className:"w-5 h-5"}):n.jsx(Vn,{className:"w-5 h-5"})})]}),l==="login"&&n.jsx("div",{className:"text-right mt-1",children:n.jsx("button",{type:"button",onClick:()=>{e(),o("/forgot-password")},className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:"Forgot Password?"})})]}),m&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:m}),n.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all text-lg",children:x?"Please wait...":l==="login"?"Login":"Sign Up"}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",onClick:T,className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:l==="login"?"Don't have an account? Sign up":"Already have an account? Login"})})]})]})]}):null}function uT({isOpen:t,onClose:e,data:r}){const[a,o]=j.useState(null);if(!r)return null;const l=(h,p)=>{navigator.clipboard.writeText(h),o(p),setTimeout(()=>o(null),2e3)},u=()=>{window.open("/track-order","_blank")};return n.jsx(We,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4",children:[n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),n.jsxs(R.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25},className:"relative w-full max-w-md bg-gradient-to-br from-black via-purple-950/30 to-black border border-purple-500/30 rounded-2xl shadow-[0_0_50px_rgba(147,51,234,0.3)] overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx(R.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})}),[...Array(6)].map((h,p)=>n.jsx(R.div,{className:"absolute w-2 h-2 bg-purple-400 rounded-full",initial:{x:Math.random()*400,y:-20,scale:0,opacity:1},animate:{y:500,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:2+Math.random()*2,delay:p*.2,repeat:1/0,repeatDelay:1}},p)),n.jsxs("div",{className:"relative p-6",children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:n.jsx(lt,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs(R.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"relative",children:[n.jsx(R.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-xl"}),n.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 rounded-full p-4",children:n.jsx(gs,{className:"w-12 h-12 text-white",strokeWidth:2.5})})]})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl mb-2 bg-gradient-to-r from-white via-green-200 to-emerald-200 bg-clip-text text-transparent",children:r.isPrepaid?" Payment Successful!":"Order Placed Successfully!"}),n.jsx("p",{className:"text-gray-400 text-sm",children:r.isPrepaid?"Your payment has been confirmed. Thank you!":"Please keep cash ready for delivery"})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{className:"text-xs text-gray-400",children:"Order ID"})]}),n.jsx("button",{onClick:()=>l(r.orderId,"orderId"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:a==="orderId"?n.jsx(Sr,{className:"w-4 h-4"}):n.jsx(pg,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-white mt-1 font-mono text-sm",children:r.orderId})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{className:"text-xs text-gray-400",children:"Tracking ID"})]}),n.jsx("button",{onClick:()=>l(r.trackingId,"trackingId"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:a==="trackingId"?n.jsx(Sr,{className:"w-4 h-4"}):n.jsx(pg,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-white mt-1 font-mono text-sm",children:r.trackingId})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border border-purple-500/20 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ys,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Payment Summary"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Payment Method"}),n.jsx("span",{className:"text-white",children:r.paymentMethod})]}),n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{className:"text-white",children:["",r.subtotal.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Shipping Charges"}),n.jsxs("span",{className:"text-white",children:["",r.shippingCharges.toLocaleString()]})]}),r.discount>0&&n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{className:"text-green-400",children:["",r.discount.toLocaleString()]})]}),r.isPrepaid&&n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Payment Status"}),n.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[n.jsx(gs,{className:"w-3 h-3"}),"PAID"]})]}),n.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2 flex justify-between",children:[n.jsxs("span",{className:"text-white",children:["Total ",r.isPrepaid?"Paid":"Amount"]}),n.jsxs("span",{className:"text-white text-lg",children:["",r.total.toLocaleString()]})]})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3",children:[n.jsxs("button",{onClick:u,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white py-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group",children:[n.jsx(Zs,{className:"w-5 h-5 group-hover:animate-bounce"}),"Track Your Order",n.jsx(K_,{className:"w-4 h-4"})]}),n.jsx("button",{onClick:e,className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 rounded-lg transition-all duration-300 border border-white/20",children:"Continue Shopping"})]}),n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-4 text-center",children:n.jsx("p",{className:"text-xs text-gray-500",children:" Order confirmation sent to your email"})})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500",children:n.jsx(R.div,{className:"h-full bg-gradient-to-r from-transparent via-white to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})]})]})})}function Yh({isOpen:t,onClose:e,items:r,total:a,onSuccess:o,user:l}){const{success:u}=Cl(),[h,p]=j.useState({firstName:"",lastName:"",email:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""}),[m,g]=j.useState("razorpay"),[x,v]=j.useState(!1),[b,k]=j.useState(""),[S,_]=j.useState(null),[T,C]=j.useState(!1),[N,I]=j.useState(!1),[F,z]=j.useState(null),V=100,Y=a,ne=S?S.discount:0,le=Y+V-ne,Ne=async(M,X)=>{try{const P=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({items:r.map(U=>({id:U.id,name:U.name,price:U.price,quantity:U.quantity})),subtotal:Y,shippingCharges:V,discount:ne,couponCode:S?.code||null,total:le,customerInfo:h,paymentId:M,paymentMethod:X})})).json();if(P.success){const U=X!=="cod";await he(),u(U?` Order placed successfully! Payment confirmed for ${le.toLocaleString()}`:` Order placed successfully! Total: ${le.toLocaleString()} - Cash on Delivery`,5e3);const ee=X==="cod"?`Order placed successfully! 

Order ID: ${P.order.id}
Tracking ID: ${P.order.trackingId}

Payment Method: Cash on Delivery
Subtotal: ${Y.toLocaleString()}
Shipping: ${V.toLocaleString()}
Total Amount to Pay: ${le.toLocaleString()}

Please keep cash ready for delivery.

You can track your order using either ID at animedropzone.com/track-order

Check your email for detailed order confirmation.`:` Payment Successful! 

 Your payment has been received and confirmed.

Order ID: ${P.order.id}
Tracking ID: ${P.order.trackingId}

Payment Status: PAID 
Payment Method: ${X}
Subtotal: ${Y.toLocaleString()}
Shipping: ${V.toLocaleString()}
Total Paid: ${le.toLocaleString()}

Your order will be processed and shipped shortly.

You can track your order using either ID at animedropzone.com/track-order

Check your email for detailed order confirmation.`;z({message:ee,orderId:P.order.id,trackingId:P.order.trackingId,paymentMethod:X,subtotal:Y,shippingCharges:V,discount:ne,total:le,isPrepaid:U}),I(!0),o(),e()}}catch(K){console.log("Error saving order:",K),alert("Error processing order. Please contact support.")}},ve=async()=>{v(!0);try{const M={key:"",amount:Math.round(le*100),currency:"INR",name:"AnimeDrop Zone",description:"Purchase anime figures and accessories",image:"https://your-logo-url.com/logo.png",handler:async function(K){console.log("Razorpay payment successful:",K.razorpay_payment_id),await Ne(K.razorpay_payment_id,"Razorpay"),v(!1)},prefill:{name:`${h.firstName} ${h.lastName}`,email:h.email,contact:h.phone},notes:{address:h.address,city:h.city,state:h.state,pincode:h.pincode},theme:{color:"#9333ea"},modal:{ondismiss:function(){console.log("Razorpay payment cancelled by user"),v(!1),alert("Payment cancelled. Please try again when ready.")}}},X=new window.Razorpay(M);X.on("payment.failed",function(K){console.log("Razorpay payment failed:",K.error),v(!1),alert(`Payment Failed!

Reason: ${K.error.description||"Payment could not be processed"}

Please try again or use a different payment method.`)}),X.open()}catch(M){console.log("Error initializing Razorpay:",M),alert("Error initializing payment. Please try again."),v(!1)}},_e=async()=>{v(!0);try{const M=`PAYTM${Date.now()}`;confirm(`Paytm payment integration requires additional setup.

For demo purposes, this will simulate a successful payment.

In production, integrate with Paytm Payment Gateway.

Proceed with demo payment?`)?await Ne(M,"Paytm"):v(!1)}catch(M){console.log("Error initializing Paytm:",M),alert("Error initializing payment. Please try again."),v(!1)}},ze=async()=>{v(!0);try{const M=`COD${Date.now()}`;await Ne(M,"COD")}catch(M){console.log("Error placing COD order:",M),alert("Error placing order. Please try again."),v(!1)}},$e=async M=>{M.preventDefault(),m==="razorpay"?await ve():m==="paytm"?await _e():await ze()},Ue=async()=>{C(!0);try{const X=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/coupons`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({code:b,cartTotal:a})})).json();X.success?(_(X.coupon),alert(`Coupon applied successfully! You saved ${X.coupon.discount.toLocaleString()}.`)):alert(X.message||"Invalid coupon code.")}catch(M){console.log("Error applying coupon:",M),alert("Error applying coupon. Please try again.")}finally{C(!1)}};j.useEffect(()=>{if(t&&l){const M=l.user_metadata||{};if(M.name||M.phone||M.address){const X=(M.name||"").split(" "),K=X[0]||"",P=X.slice(1).join(" ")||"";p({firstName:K,lastName:P,email:l.email||"",phone:M.phone||"",address:M.address||"",landmark:M.landmark||"",city:M.city||"",state:M.state||"",pincode:M.pincode||""})}else p({firstName:"",lastName:"",email:l.email||"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""})}else t&&!l&&p({firstName:"",lastName:"",email:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:""})},[t,l]);const he=async()=>{if(l)try{await jt.auth.updateUser({data:{name:`${h.firstName} ${h.lastName}`.trim(),phone:h.phone,address:h.address,landmark:h.landmark,city:h.city,state:h.state,pincode:h.pincode}}),console.log("Address saved to user profile")}catch(M){console.error("Error saving address to profile:",M)}};return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[n.jsx("h2",{className:"text-white",children:"Checkout"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)] p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-white mb-4",children:"Order Summary"}),n.jsx("div",{className:"space-y-2 mb-4",children:r.map(M=>n.jsxs("div",{className:"flex justify-between text-gray-300",children:[n.jsxs("span",{children:[M.name," x ",M.quantity]}),n.jsxs("span",{children:["",(M.price*M.quantity).toLocaleString()]})]},M.id))}),n.jsxs("div",{className:"border-t border-purple-500/30 pt-3 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-gray-300",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",Y.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-gray-300",children:[n.jsx("span",{children:"Shipping Charges:"}),n.jsxs("span",{children:["",V.toLocaleString()]})]}),S&&n.jsx("div",{className:"border-t border-purple-500/30 pt-3 mt-2",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-white text-lg",children:"Discount:"}),n.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["-",S.discount.toLocaleString()]})]})}),n.jsx("div",{className:"border-t border-purple-500/30 pt-3 mt-2",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-white text-lg",children:"Total:"}),n.jsxs("span",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",le.toLocaleString()]})]})})]})]}),n.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"First Name"}),n.jsx("input",{type:"text",value:h.firstName,onChange:M=>p({...h,firstName:M.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Last Name"}),n.jsx("input",{type:"text",value:h.lastName,onChange:M=>p({...h,lastName:M.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:h.email,onChange:M=>p({...h,email:M.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:h.phone,onChange:M=>p({...h,phone:M.target.value}),required:!0,pattern:"[0-9]{10}",placeholder:"10-digit mobile number",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Shipping Address"}),n.jsx("textarea",{value:h.address,onChange:M=>p({...h,address:M.target.value}),required:!0,rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Landmark"}),n.jsx("input",{type:"text",value:h.landmark,onChange:M=>p({...h,landmark:M.target.value}),required:!0,placeholder:"Nearby landmark (e.g., Near City Mall)",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"City"}),n.jsx("input",{type:"text",value:h.city,onChange:M=>p({...h,city:M.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"State"}),n.jsx("input",{type:"text",value:h.state,onChange:M=>p({...h,state:M.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Pincode"}),n.jsx("input",{type:"text",value:h.pincode,onChange:M=>p({...h,pincode:M.target.value}),required:!0,pattern:"[0-9]{6}",placeholder:"6-digit pincode",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-3",children:"Payment Method"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>g("razorpay"),className:`p-4 rounded-lg border-2 transition-all ${m==="razorpay"?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"}`,children:[n.jsx(ys,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),n.jsx("div",{className:"text-white text-sm",children:"Razorpay"}),n.jsx("div",{className:"text-gray-400 text-xs",children:"Cards, UPI, Wallet"})]}),n.jsxs("button",{type:"button",onClick:()=>g("paytm"),className:`p-4 rounded-lg border-2 transition-all ${m==="paytm"?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"}`,children:[n.jsx(yg,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),n.jsx("div",{className:"text-white text-sm",children:"Paytm"}),n.jsx("div",{className:"text-gray-400 text-xs",children:"Wallet & Payment"})]}),n.jsxs("button",{type:"button",onClick:()=>g("cod"),className:`p-4 rounded-lg border-2 transition-all ${m==="cod"?"border-purple-500 bg-purple-900/30":"border-purple-500/30 bg-purple-900/10 hover:bg-purple-900/20"}`,children:[n.jsx(hg,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),n.jsx("div",{className:"text-white text-sm",children:"Cash on Delivery"}),n.jsx("div",{className:"text-gray-400 text-xs",children:"Pay at doorstep"})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Apply Coupon Code"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:b,onChange:M=>k(M.target.value),placeholder:"Enter coupon code",className:"flex-1 bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"}),n.jsx("button",{type:"button",onClick:Ue,disabled:T,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-2 rounded-lg transition-all",children:T?"Applying...":"Apply"})]}),S&&n.jsxs("p",{className:"text-green-400 text-sm mt-2",children:[' Coupon "',S.code,'" applied - You saved ',S.discount.toLocaleString(),"!"]})]}),n.jsxs("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",children:[m==="razorpay"?n.jsx(ys,{className:"w-5 h-5"}):m==="paytm"?n.jsx(yg,{className:"w-5 h-5"}):n.jsx(hg,{className:"w-5 h-5"}),x?"Processing...":m==="cod"?"Place Order - Pay Cash on Delivery":`Pay ${le.toLocaleString()} with ${m==="razorpay"?"Razorpay":"Paytm"}`]})]})]})]}),n.jsx(uT,{isOpen:N,onClose:()=>I(!1),data:F})]}):null}function fw({isOpen:t,onClose:e,category:r,subcategories:a,onSelectSubcategory:o}){return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl shadow-purple-900/50 m-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-purple-500/30",children:[n.jsxs("h2",{className:"text-white capitalize",children:[r," Categories"]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)] p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(l=>n.jsxs("button",{onClick:()=>{o(l.value),e()},className:"group bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 hover:border-purple-500 rounded-xl p-6 transition-all hover:scale-105 hover:shadow-lg hover:shadow-purple-900/50 text-left",children:[n.jsx("h4",{className:"text-white mb-2 group-hover:text-purple-300 transition-colors",children:l.name}),n.jsx("p",{className:"text-gray-400 text-sm",children:l.description})]},l.value))})})]})]}):null}function mw({productId:t,user:e,onLoginClick:r}){const[a,o]=j.useState([]),[l,u]=j.useState(5),[h,p]=j.useState(""),[m,g]=j.useState(!1),[x,v]=j.useState(!1),[b,k]=j.useState(0);j.useEffect(()=>{S()},[t]);const S=async()=>{try{const N=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/reviews/${t}`,{headers:{Authorization:`Bearer ${Ee}`}})).json();N.success&&o(N.reviews)}catch(C){console.log("Error fetching reviews:",C)}},_=async C=>{if(C.preventDefault(),!e){r();return}g(!0);try{(await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/reviews`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({productId:t,userName:e.user_metadata?.name||e.email.split("@")[0],userEmail:e.email,rating:l,comment:h})})).json()).success&&(p(""),u(5),v(!1),S())}catch(N){console.log("Error submitting review:",N)}finally{g(!1)}},T=a.length>0?(a.reduce((C,N)=>C+N.rating,0)/a.length).toFixed(1):"0.0";return n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white text-xl mb-2",children:"Customer Reviews"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((C,N)=>n.jsx(ps,{className:`w-5 h-5 ${N<Math.round(parseFloat(T))?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},N))}),n.jsxs("span",{className:"text-gray-300",children:[T," out of 5"]}),n.jsxs("span",{className:"text-gray-500",children:["(",a.length," reviews)"]})]})]}),!x&&n.jsxs("button",{onClick:()=>{if(!e){r();return}v(!0)},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-all",children:[n.jsx(Ed,{className:"w-4 h-4"}),"Write a Review"]})]}),x&&n.jsxs("form",{onSubmit:_,className:"mb-6 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-white mb-3",children:"Write Your Review"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Rating"}),n.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(C=>n.jsx("button",{type:"button",onClick:()=>u(C),onMouseEnter:()=>k(C),onMouseLeave:()=>k(0),className:"transition-transform hover:scale-110",children:n.jsx(ps,{className:`w-8 h-8 ${C<=(b||l)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`})},C))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Review"}),n.jsx("textarea",{value:h,onChange:C=>p(C.target.value),required:!0,rows:4,placeholder:"Share your experience with this product...",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 resize-none"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:m,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-6 py-2 rounded-lg transition-all",children:m?"Submitting...":"Submit Review"}),n.jsx("button",{type:"button",onClick:()=>{v(!1),p(""),u(5)},className:"bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-lg transition-all",children:"Cancel"})]})]}),n.jsx("div",{className:"space-y-4",children:a.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Ed,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No reviews yet. Be the first to review this product!"})]}):a.map(C=>n.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/20 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:n.jsx(Mr,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white",children:C.userName}),n.jsx("p",{className:"text-gray-500 text-sm",children:new Date(C.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((N,I)=>n.jsx(ps,{className:`w-4 h-4 ${I<C.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},I))})]}),n.jsx("p",{className:"text-gray-300 ml-13",children:C.comment})]},C.id))})]})}function dT({productId:t,onProductClick:e,onAddToCart:r,onToggleWishlist:a,wishlistItems:o}){const[l,u]=j.useState([]),[h,p]=j.useState(!0);j.useEffect(()=>{m()},[t]);const m=async()=>{try{p(!0);const x=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/products/${t}/recommendations`,{headers:{Authorization:`Bearer ${Ee}`}})).json();x.success&&u(x.recommendations)}catch(g){console.error("Error fetching recommendations:",g)}finally{p(!1)}};return h?n.jsxs("div",{className:"py-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(Qs,{className:"w-6 h-6 text-purple-500"}),n.jsx("h2",{className:"text-white text-2xl",children:"You Might Also Like"})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})]}):l.length===0?null:n.jsxs("div",{className:"py-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(Qs,{className:"w-6 h-6 text-purple-500"}),n.jsx("h2",{className:"text-white text-2xl",children:"You Might Also Like"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((g,x)=>n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},children:n.jsx(Mh,{product:g,onAddToCart:()=>r(g),onViewDetails:()=>e(g),onToggleWishlist:()=>a(g),isInWishlist:o.some(v=>v.id===g.id)})},g.id))})]})}function hT({product:t,isOpen:e,onClose:r,onAddToCart:a,onToggleWishlist:o,wishlistItems:l,user:u,onLoginClick:h}){if(!e)return null;const p=m=>{r(),setTimeout(()=>{r()},100)};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:r}),n.jsxs("div",{className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-2xl shadow-purple-900/50",children:[n.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-6 border-b border-purple-500/30 bg-black/50 backdrop-blur-sm",children:[n.jsx("h2",{className:"text-white text-xl",children:"Product Details"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-black/50",children:[n.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1763771757355-4c0441df34ab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMG1lcmNoYW5kaXNlfGVufDF8fHx8MTc2NTE4ODk3OXww&ixlib=rb-4.1.0&q=80&w=1080",alt:t.name,className:"w-full h-auto object-cover"}),t.stock===0&&n.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xl",children:"Out of Stock"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white text-3xl mb-4",children:t.name}),n.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((m,g)=>n.jsx(ps,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},g)),n.jsx("span",{className:"text-gray-400 ml-2",children:"(See reviews below)"})]}),n.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:t.description}),n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Category"}),n.jsx("p",{className:"text-purple-400 capitalize",children:t.category})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Stock Status"}),n.jsx("p",{className:`${t.stock>0?"text-green-400":"text-red-400"}`,children:t.stock>0?`${t.stock} units available`:"Out of stock"})]}),n.jsxs("div",{className:"flex items-center justify-between mb-6 p-6 bg-purple-900/20 border border-purple-500/30 rounded-xl",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Price"}),n.jsxs("p",{className:"text-4xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",t.price.toLocaleString()]})]}),n.jsxs("button",{onClick:()=>{a(t),r()},disabled:t.stock===0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-8 py-4 rounded-lg flex items-center gap-3 transition-all text-lg",children:[n.jsx(hs,{className:"w-5 h-5"}),"Add to Cart"]})]})]})]}),n.jsx(mw,{productId:t.id,user:u,onLoginClick:()=>{r(),h()}}),n.jsx("div",{className:"mt-12 pt-8 border-t border-purple-500/20",children:n.jsx(dT,{productId:t.id,onProductClick:p,onAddToCart:a,onToggleWishlist:o,wishlistItems:l})})]})]})]})}function Kd({isOpen:t,onClose:e,onSuccess:r}){const[a,o]=j.useState({name:"",email:"",phone:"",clothingType:"tshirt",size:"M",color:"",quantity:"1",instructions:"",address:""}),[l,u]=j.useState([]),[h,p]=j.useState([]),[m,g]=j.useState(!1),x=k=>{const S=Array.from(k.target.files||[]);if(S.length+l.length>5){alert("Maximum 5 images allowed");return}u([...l,...S]);const _=S.map(T=>URL.createObjectURL(T));p([...h,..._])},v=k=>{u(l.filter((S,_)=>_!==k)),p(h.filter((S,_)=>_!==k))},b=async k=>{if(k.preventDefault(),l.length===0){alert("Please upload at least one design image");return}g(!0);try{const S=[];for(const C of l){const N=new FormData;N.append("file",C),N.append("folder","custom-designs");const I=await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`},body:N});if(!I.ok){const z=await I.json();throw console.error("Error uploading image:",z),new Error(z.error||"Failed to upload images")}const F=await I.json();S.push(F.imageUrl)}const T=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({...a,quantity:parseInt(a.quantity),designImages:S})})).json();T.success?(alert(`Custom clothing request submitted successfully! Request ID: ${T.requestId}
We'll contact you within 24-48 hours with a quote.`),o({name:"",email:"",phone:"",clothingType:"tshirt",size:"M",color:"",quantity:"1",instructions:"",address:""}),u([]),p([]),r(),e()):alert(T.error||"Failed to submit request. Please try again.")}catch(S){console.error("Error submitting custom order:",S),alert("Failed to submit request. Please try again.")}finally{g(!1)}};return t?n.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(na,{className:"w-6 h-6"}),n.jsx("h2",{className:"text-white",children:"Custom Clothing Design"})]}),n.jsx("button",{onClick:e,className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-white mb-2 flex items-center gap-2",children:[n.jsx(Dh,{className:"w-5 h-5 text-purple-400"}),"How It Works"]}),n.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Upload your design images (max 5 images)"}),n.jsx("li",{children:"Fill in your details and preferences"}),n.jsx("li",{children:"Our team will review and contact you with a quote within 24-48 hours"}),n.jsx("li",{children:"Once approved, we'll create your custom clothing"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-3",children:"Upload Design Images * (Max 5)"}),h.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:h.map((k,S)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:k,alt:`Design ${S+1}`,className:"w-full h-32 object-cover rounded-lg border border-purple-500/30"}),n.jsx("button",{type:"button",onClick:()=>v(S),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(lt,{className:"w-4 h-4"})})]},S))}),l.length<5&&n.jsxs("label",{className:"w-full bg-purple-900/20 border-2 border-dashed border-purple-500/30 rounded-lg p-8 cursor-pointer hover:bg-purple-900/30 transition-colors flex flex-col items-center justify-center gap-3",children:[n.jsx(FE,{className:"w-12 h-12 text-purple-400"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-300 mb-1",children:"Click to upload design images"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"PNG, JPG up to 5MB each"})]}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden"})]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[l.length," of 5 images uploaded"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",value:a.name,onChange:k=>o({...a,name:k.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter your name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:a.email,onChange:k=>o({...a,email:k.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"your@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:a.phone,onChange:k=>o({...a,phone:k.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"+91 XXXXXXXXXX"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Clothing Type *"}),n.jsxs("select",{value:a.clothingType,onChange:k=>o({...a,clothingType:k.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[n.jsx("option",{value:"tshirt",children:"T-Shirt"}),n.jsx("option",{value:"hoodie",children:"Hoodie"}),n.jsx("option",{value:"sweatshirt",children:"Sweatshirt"}),n.jsx("option",{value:"jacket",children:"Jacket"}),n.jsx("option",{value:"tank",children:"Tank Top"}),n.jsx("option",{value:"longsleeve",children:"Long Sleeve"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Size *"}),n.jsxs("select",{value:a.size,onChange:k=>o({...a,size:k.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[n.jsx("option",{value:"XS",children:"XS"}),n.jsx("option",{value:"S",children:"S"}),n.jsx("option",{value:"M",children:"M"}),n.jsx("option",{value:"L",children:"L"}),n.jsx("option",{value:"XL",children:"XL"}),n.jsx("option",{value:"XXL",children:"XXL"}),n.jsx("option",{value:"XXXL",children:"3XL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferred Color"}),n.jsx("input",{type:"text",value:a.color,onChange:k=>o({...a,color:k.target.value}),className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Black, White, Purple"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Quantity *"}),n.jsx("input",{type:"number",value:a.quantity,onChange:k=>o({...a,quantity:k.target.value}),required:!0,min:"1",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Special Instructions"}),n.jsx("textarea",{value:a.instructions,onChange:k=>o({...a,instructions:k.target.value}),rows:4,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Any specific requirements, placement details, or special requests..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Delivery Address *"}),n.jsx("textarea",{value:a.address,onChange:k=>o({...a,address:k.target.value}),required:!0,rows:3,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter complete delivery address..."})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-purple-400 mb-2",children:"Pricing Information"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"Custom clothing prices vary based on design complexity, quantity, and clothing type. Our team will provide you with a detailed quote within 24-48 hours after reviewing your design."})]}),n.jsx("button",{type:"submit",disabled:m||l.length===0,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-4 rounded-lg transition-all text-lg flex items-center justify-center gap-2",children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(na,{className:"w-5 h-5"}),"Submit Custom Design Request"]})})]})]})}):null}function en(){const t=Array.from({length:20},(e,r)=>({id:r,size:Math.random()*6+2,initialX:Math.random()*100,initialY:Math.random()*100,duration:Math.random()*10+10,delay:Math.random()*5}));return n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:t.map(e=>n.jsx(R.div,{className:"absolute rounded-full bg-gradient-to-br from-purple-500/30 to-pink-500/30 blur-sm",style:{width:e.size,height:e.size,left:`${e.initialX}%`,top:`${e.initialY}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:e.duration,repeat:1/0,delay:e.delay,ease:"easeInOut"}},e.id))})}function pT(){return n.jsx("section",{id:"about",className:"py-20 px-4 bg-gradient-to-b from-transparent to-purple-900/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"About animedropzone"}),n.jsx("p",{className:"text-gray-400 max-w-3xl mx-auto text-lg",children:"Your trusted destination for authentic anime merchandise, collectibles, and premium figures"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mb-16",children:[n.jsx("div",{children:n.jsx("img",{src:"https://images.unsplash.com/photo-1665042099439-39d93c1117e6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGhlcm8lMjBiYWNrZ3JvdW5kfGVufDF8fHx8MTc2NTI4MDExNXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"About animedropzone",className:"w-full rounded-2xl border border-purple-500/30 shadow-2xl shadow-purple-900/50"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white mb-6",children:"Our Story"}),n.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Founded by passionate anime enthusiasts, animedropzone was born from a desire to bring authentic, high-quality anime merchandise to fans across the globe. We understand the joy of collecting and the importance of authenticity."}),n.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Every product in our collection is carefully curated and verified for authenticity. From limited edition figures to exclusive katanas, we ensure that each item meets our strict quality standards."}),n.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Join our community of over 10,000 satisfied collectors who trust animedropzone for their anime merchandise needs."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(El,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-white mb-2",children:"100% Authentic"}),n.jsx("p",{className:"text-gray-400",children:"All products verified for authenticity"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Zs,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-white mb-2",children:"Fast Shipping"}),n.jsx("p",{className:"text-gray-400",children:"Worldwide delivery with tracking"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(VE,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-white mb-2",children:"10k+ Customers"}),n.jsx("p",{className:"text-gray-400",children:"Trusted by collectors worldwide"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ys,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-white mb-2",children:"Customer Support"}),n.jsx("p",{className:"text-gray-400",children:"24/7 dedicated support team"})]})]})]})})}function fT(){const t="919819291230",e="https://www.instagram.com/animedropzone/?igsh=eGM5Z24wbHM2bHR4#",r="anime.drop.zone.00@gmail.com",[a,o]=j.useState({name:"",email:"",subject:"",question:""}),[l,u]=j.useState(!1),[h,p]=j.useState(""),[m,g]=j.useState([]),[x,v]=j.useState(!1),b=async S=>{S.preventDefault(),u(!0),p("");try{const T=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/support/submit`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify(a)})).json();T.success?(p(" Your support ticket has been submitted! We will respond soon."),o({name:"",email:"",subject:"",question:""}),setTimeout(()=>p(""),5e3)):p(` ${T.error||"Failed to submit ticket"}`)}catch(_){console.error("Error submitting support ticket:",_),p(" Failed to submit ticket. Please try again.")}finally{u(!1)}},k=async()=>{if(!a.email){alert("Please enter your email address first");return}try{const _=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/support/my-tickets?email=${encodeURIComponent(a.email)}`,{headers:{Authorization:`Bearer ${Ee}`}})).json();_.success?(g(_.tickets),v(!0)):alert("Failed to load tickets")}catch(S){console.error("Error loading tickets:",S),alert("Failed to load tickets")}};return n.jsx("section",{id:"contact",className:"py-20 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Get In Touch"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"Have questions? We're here to help! Reach out to us through any of these channels"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white mb-6",children:"Contact Information"}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(rr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-1",children:"Email"}),n.jsx("a",{href:`mailto:${r}`,className:"text-purple-400 hover:text-purple-300 transition-colors",children:r})]})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(dl,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-1",children:"Phone"}),n.jsx("a",{href:`tel:+${t}`,className:"text-purple-400 hover:text-purple-300 transition-colors",children:"+91 98192 91230"})]})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Js,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-1",children:"Address"}),n.jsxs("p",{className:"text-gray-400",children:["Jogeshwari West",n.jsx("br",{}),"Mumbai, Maharashtra 400102",n.jsx("br",{}),"India"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white mb-4",children:"Quick Connect"}),n.jsxs("a",{href:`https://wa.me/${t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg transition-all group",children:[n.jsx(Ed,{className:"w-5 h-5"}),n.jsx("span",{children:"Chat on WhatsApp"})]}),n.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all group",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),n.jsx("span",{children:"Follow on Instagram"})]}),n.jsxs("a",{href:`mailto:${r}`,className:"flex items-center gap-3 bg-purple-900/30 hover:bg-purple-900/50 border border-purple-500/30 hover:border-purple-500 px-6 py-3 rounded-lg transition-all group",children:[n.jsx(rr,{className:"w-5 h-5"}),n.jsx("span",{children:"Send Email"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-2xl p-8",children:[n.jsx("h3",{className:"text-white mb-6",children:"Customer Support"}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Name"}),n.jsx("input",{type:"text",value:a.name,onChange:S=>o({...a,name:S.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter your name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:a.email,onChange:S=>o({...a,email:S.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"your@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:a.subject,onChange:S=>o({...a,subject:S.target.value}),required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"What do you need help with?"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Your Question"}),n.jsx("textarea",{value:a.question,onChange:S=>o({...a,question:S.target.value}),required:!0,rows:5,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"Describe your issue or question..."})]}),h&&n.jsx("div",{className:`border rounded-lg p-3 ${h.startsWith("")?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"}`,children:h}),n.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-3 rounded-lg transition-all disabled:opacity-50",children:l?"Submitting...":"Submit Support Ticket"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("button",{onClick:k,className:"w-full bg-purple-900/30 hover:bg-purple-900/50 border border-purple-500/30 hover:border-purple-500 py-3 rounded-lg transition-all",children:"View My Support Tickets"}),x&&n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("h4",{className:"text-white",children:"My Tickets"}),m.length>0?m.map(S=>n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h5",{className:"text-white",children:S.subject}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${S.status==="answered"?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,children:S.status})]}),n.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Q: ",S.question]}),S.reply&&n.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/30",children:n.jsxs("p",{className:"text-purple-300 text-sm",children:[n.jsx("strong",{children:"Admin Reply:"})," ",S.reply]})}),n.jsx("p",{className:"text-gray-500 text-xs mt-2",children:new Date(S.createdAt).toLocaleString()})]},S.id)):n.jsx("p",{className:"text-gray-400",children:"No support tickets found for this email."})]})]})]})]})]})})}function mT(){const[t,e]=j.useState(""),[r,a]=j.useState(!1),[o,l]=j.useState(!1),[u,h]=j.useState(""),p=async m=>{if(m.preventDefault(),!t||!t.includes("@")){h("Please enter a valid email address");return}a(!0),h("");try{const x=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/newsletter/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();x.success?(l(!0),e(""),setTimeout(()=>l(!1),5e3)):h(x.message||"Failed to subscribe. Please try again.")}catch(g){console.error("Error subscribing:",g),h("Something went wrong. Please try again.")}finally{a(!1)}};return n.jsxs("div",{className:"relative py-20 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[n.jsx(R.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/30 rounded-full blur-3xl"}),n.jsx(R.div,{animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/30 rounded-full blur-3xl"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/30 via-black/50 to-pink-900/30 rounded-3xl"}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-xl rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/20"}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:[...Array(6)].map((m,g)=>n.jsx(R.div,{className:"absolute",style:{left:`${15+g*15}%`,top:`${20+g%3*30}%`},animate:{y:[-10,10,-10],opacity:[.3,.8,.3],scale:[1,1.2,1]},transition:{duration:3+g*.5,repeat:1/0,ease:"easeInOut",delay:g*.5},children:n.jsx(Qs,{className:"w-4 h-4 text-pink-400"})},g))}),n.jsx("div",{className:"relative max-w-4xl mx-auto text-center",children:n.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx(R.div,{animate:{boxShadow:["0 0 20px rgba(168, 85, 247, 0.5)","0 0 40px rgba(236, 72, 153, 0.6)","0 0 20px rgba(168, 85, 247, 0.5)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-6 shadow-lg",children:n.jsx(rr,{className:"w-10 h-10 text-white"})}),n.jsx(R.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-4xl sm:text-5xl mb-4 bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Stay Updated with AnimeDropZone"}),n.jsx(R.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3},className:"text-gray-300 mb-10 text-lg max-w-2xl mx-auto",children:"Subscribe to our newsletter for exclusive deals, new arrivals, and anime merchandise updates!"}),n.jsx(We,{mode:"wait",children:o?n.jsxs(R.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:"flex flex-col items-center justify-center gap-3",children:[n.jsx(R.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.5},className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg shadow-green-500/50",children:n.jsx(Sr,{className:"w-8 h-8 text-white"})}),n.jsx("span",{className:"text-xl text-green-400",children:"Successfully subscribed! "}),n.jsx("span",{className:"text-gray-400 text-sm",children:"Check your email for confirmation."})]},"success"):n.jsxs(R.form,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onSubmit:p,className:"max-w-xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative group",children:[n.jsx(R.div,{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl opacity-0 group-focus-within:opacity-100 blur transition-opacity"}),n.jsx("input",{type:"email",value:t,onChange:m=>{e(m.target.value),h("")},placeholder:"Enter your email address",className:"relative w-full px-6 py-4 bg-black/70 border border-purple-500/40 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition-all",disabled:r})]}),n.jsxs(R.button,{type:"submit",disabled:r||!t,whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(236, 72, 153, 0.6)"},whileTap:{scale:.95},className:"px-10 py-4 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 bg-size-200 hover:bg-pos-100 rounded-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/30 relative overflow-hidden group",children:[n.jsx(R.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear",repeatDelay:3},className:"absolute inset-0 w-1/2 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12"}),r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"relative z-10",children:"Subscribing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(EE,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),n.jsx("span",{className:"relative z-10",children:"Subscribe"})]})]})]}),u&&n.jsxs(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm mt-4 flex items-center justify-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),u]}),n.jsxs(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-400 text-sm mt-6 flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-purple-400",children:""}),"We respect your privacy. Unsubscribe anytime.",n.jsx("span",{className:"text-purple-400",children:""})]})]},"form")})]})})]})}function gT(){const[t,e]=j.useState([]);return j.useEffect(()=>{const r=Array.from({length:50},(a,o)=>({id:o,x:Math.random()*100,delay:Math.random()*5,duration:8+Math.random()*7,size:10+Math.random()*12,rotation:Math.random()*360,drift:-20+Math.random()*40}));e(r)},[]),n.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[n.jsxs("svg",{className:"absolute -left-20 top-0 h-full w-96 opacity-35",viewBox:"0 0 400 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M200 1000 Q200 800 180 600 Q160 400 150 200 Q145 100 140 0",stroke:"url(#trunkGradient1)",strokeWidth:"12",fill:"none",opacity:"0.8"}),n.jsx("path",{d:"M150 200 Q180 180 220 170 Q260 160 300 165",stroke:"url(#branchGradient1)",strokeWidth:"6",fill:"none",opacity:"0.7"}),n.jsx("path",{d:"M160 400 Q200 380 240 385 Q280 390 320 400",stroke:"url(#branchGradient1)",strokeWidth:"8",fill:"none",opacity:"0.7"}),n.jsx("path",{d:"M180 600 Q150 580 120 590 Q90 600 70 620",stroke:"url(#branchGradient1)",strokeWidth:"7",fill:"none",opacity:"0.7"}),n.jsx("path",{d:"M165 350 Q135 330 105 335 Q75 340 50 355",stroke:"url(#branchGradient1)",strokeWidth:"5",fill:"none",opacity:"0.7"}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"trunkGradient1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7",stopOpacity:"0.7"}),n.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:"0.8"})]}),n.jsxs("linearGradient",{id:"branchGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:"0.7"})]})]}),n.jsxs("g",{opacity:"0.7",children:[n.jsx("circle",{cx:"300",cy:"165",r:"25",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"280",cy:"175",r:"20",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"320",cy:"400",r:"30",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"290",cy:"395",r:"22",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"70",cy:"620",r:"28",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"95",cy:"610",r:"20",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"50",cy:"355",r:"25",fill:"url(#blossomGradient)"}),n.jsx("circle",{cx:"75",cy:"345",r:"18",fill:"url(#blossomGradient)"})]}),n.jsx("defs",{children:n.jsxs("radialGradient",{id:"blossomGradient",children:[n.jsx("stop",{offset:"0%",stopColor:"#ec4899",stopOpacity:"0.8"}),n.jsx("stop",{offset:"50%",stopColor:"#a855f7",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#7c3aed",stopOpacity:"0.4"})]})})]}),n.jsxs("svg",{className:"absolute -right-20 top-0 h-full w-96 opacity-35",viewBox:"0 0 400 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M200 1000 Q200 800 220 600 Q240 400 250 200 Q255 100 260 0",stroke:"url(#trunkGradient2)",strokeWidth:"12",fill:"none",opacity:"0.8"}),n.jsx("path",{d:"M250 200 Q220 180 180 170 Q140 160 100 165",stroke:"url(#branchGradient2)",strokeWidth:"6",fill:"none",opacity:"0.7"}),n.jsx("path",{d:"M240 400 Q200 380 160 385 Q120 390 80 400",stroke:"url(#branchGradient2)",strokeWidth:"8",fill:"none",opacity:"0.7"}),n.jsx("path",{d:"M220 600 Q250 580 280 590 Q310 600 330 620",stroke:"url(#branchGradient2)",strokeWidth:"7",fill:"none",opacity:"0.7"}),n.jsx("path",{d:"M235 350 Q265 330 295 335 Q325 340 350 355",stroke:"url(#branchGradient2)",strokeWidth:"5",fill:"none",opacity:"0.7"}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"trunkGradient2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ec4899",stopOpacity:"0.7"}),n.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:"0.8"})]}),n.jsxs("linearGradient",{id:"branchGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ec4899",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:"0.7"})]})]}),n.jsxs("g",{opacity:"0.7",children:[n.jsx("circle",{cx:"100",cy:"165",r:"25",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"120",cy:"175",r:"20",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"80",cy:"400",r:"30",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"110",cy:"395",r:"22",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"330",cy:"620",r:"28",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"305",cy:"610",r:"20",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"350",cy:"355",r:"25",fill:"url(#blossomGradient2)"}),n.jsx("circle",{cx:"325",cy:"345",r:"18",fill:"url(#blossomGradient2)"})]}),n.jsx("defs",{children:n.jsxs("radialGradient",{id:"blossomGradient2",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7",stopOpacity:"0.8"}),n.jsx("stop",{offset:"50%",stopColor:"#ec4899",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#7c3aed",stopOpacity:"0.4"})]})})]}),t.map(r=>n.jsx(R.div,{className:"absolute",style:{left:`${r.x}%`,top:"-20px"},initial:{y:-20,x:0,rotate:r.rotation,opacity:0},animate:{y:["0vh","110vh"],x:[0,r.drift,-r.drift/2,r.drift/3,0],rotate:[r.rotation,r.rotation+360,r.rotation+720],opacity:[0,1,1,.8,0]},transition:{duration:r.duration,delay:r.delay,repeat:1/0,ease:"linear"},children:n.jsxs("svg",{width:r.size,height:r.size,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"drop-shadow-lg",children:[n.jsxs("g",{transform:"translate(10, 10)",children:[n.jsx("circle",{cx:"0",cy:"0",r:"1.5",fill:"#fbbf24",opacity:"0.9"}),[0,72,144,216,288].map((a,o)=>{const l=a*Math.PI/180,u=Math.cos(l)*3,h=Math.sin(l)*3;return n.jsx("ellipse",{cx:u,cy:h,rx:"3",ry:"4.5",fill:"url(#petalGradient)",transform:`rotate(${a} ${u} ${h})`,opacity:"0.85"},o)})]}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"petalGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#f9a8d4"}),n.jsx("stop",{offset:"50%",stopColor:"#ec4899"}),n.jsx("stop",{offset:"100%",stopColor:"#db2777"})]})}),n.jsx("g",{transform:"translate(10, 10)",opacity:"0.3",children:n.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"url(#glowGradient)"})}),n.jsx("defs",{children:n.jsxs("radialGradient",{id:"glowGradient",children:[n.jsx("stop",{offset:"0%",stopColor:"#ec4899",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:"0"})]})})]})},r.id))]})}const Wo={Package:Me,Swords:Jx,Sparkles:Qs,Image:Dh,Shirt:na,Bookmark:Gx},Zu=[{icon:"Package",title:"Figures",description:"Premium anime action figures and statues",value:"figures"},{icon:"Swords",title:"Katana",description:"Authentic Japanese swords and replicas",value:"katana"},{icon:"Sparkles",title:"Accessories",description:"Keychains, pins, and more collectibles",value:"accessories"},{icon:"Image",title:"Posters",description:"High-quality anime art prints",value:"posters"},{icon:"Shirt",title:"Clothing",description:"Anime-themed apparel and cosplay",value:"clothing"},{icon:"Bookmark",title:"Collectibles",description:"Limited edition merchandise",value:"collectibles"}];function Kg(){const[t,e]=j.useState([]),[r,a]=j.useState([]),[o,l]=j.useState(null),[u,h]=j.useState(null),[p,m]=j.useState([]),[g,x]=j.useState([]),[v,b]=j.useState(!1),[k,S]=j.useState(!1),[_,T]=j.useState(!1),[C,N]=j.useState(!1),[I,F]=j.useState(!1),[z,V]=j.useState(""),[Y,ne]=j.useState(null),[le,Ne]=j.useState(!1),[ve,_e]=j.useState(null),[ze,$e]=j.useState(!1),[Ue,he]=j.useState(!1),[M,X]=j.useState([]),[K,P]=j.useState({}),U=pt(),{showToast:ee}=Cl();j.useEffect(()=>{pe(),B(),Se(),me()},[]);const me=()=>{const Q=localStorage.getItem("animedropzone_wishlist");if(Q)try{x(JSON.parse(Q))}catch(ge){console.error("Error loading wishlist:",ge)}};j.useEffect(()=>{localStorage.setItem("animedropzone_wishlist",JSON.stringify(g))},[g]);const we=Q=>{x(Oe=>Oe.find(ct=>ct.id===Q.id)?Oe.filter(ct=>ct.id!==Q.id):[...Oe,Q]);const ge=g.find(Oe=>Oe.id===Q.id);ee(ge?`Removed ${Q.name} from wishlist`:`Added ${Q.name} to wishlist!`,"info",3e3)},je=Q=>{const ge=g.find(Oe=>Oe.id===Q);x(Oe=>Oe.filter(mt=>mt.id!==Q)),ge&&ee(`Removed ${ge.name} from wishlist`,"info",3e3)},Ce=Q=>g.some(ge=>ge.id===Q),Se=async()=>{try{const Q=await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${Ee}`}});if(Q.ok){const ge=await Q.json();if(ge.success&&ge.categories&&ge.categories.length>0){const Oe=ge.categories.sort((ct,wa)=>ct.order-wa.order).map(ct=>({icon:Wo[ct.icon]||Me,title:ct.name,description:ct.description,value:ct.slug}));X(Oe);const mt={};ge.categories.forEach(ct=>{ct.subcategories&&ct.subcategories.length>0&&(mt[ct.slug]=ct.subcategories)}),P(mt)}else X(Zu.map(Oe=>({icon:Wo[Oe.icon]||Me,title:Oe.title,description:Oe.description,value:Oe.value})))}else X(Zu.map(ge=>({icon:Wo[ge.icon]||Me,title:ge.title,description:ge.description,value:ge.value})))}catch(Q){console.error("Error fetching categories:",Q),X(Zu.map(ge=>({icon:Wo[ge.icon]||Me,title:ge.title,description:ge.description,value:ge.value})))}};j.useEffect(()=>{let Q=t;o&&(Q=Q.filter(ge=>ge.category===o)),u&&(Q=Q.filter(ge=>ge.subcategory===u)),a(Q)},[o,u,t]);const B=async()=>{const{data:Q}=await jt.auth.getSession();Q.session&&ne(Q.session.user)},G=async()=>{await jt.auth.signOut(),ne(null)},pe=async()=>{try{const ge=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${Ee}`}})).json();ge.success&&e(ge.products)}catch(Q){console.log("Error fetching products:",Q)}},Pe=Q=>{const ge=p.find(Oe=>Oe.id===Q.id);m(Oe=>ge?Oe.map(mt=>mt.id===Q.id?{...mt,quantity:mt.quantity+1}:mt):[...Oe,{...Q,quantity:1}]),ee(ge?`Added another ${Q.name} to cart!`:`${Q.name} added to cart!`,"success",3e3)},Ie=(Q,ge)=>{m(Oe=>Oe.map(mt=>mt.id===Q?{...mt,quantity:ge}:mt))},ft=Q=>{m(ge=>ge.filter(Oe=>Oe.id!==Q))},ya=()=>{if(!Y){b(!1),Ne(!0),T(!0);return}b(!1),N(!0)},xa=Q=>{ne(Q),le&&(Ne(!1),N(!0))},Zn=()=>{m([]),N(!1)},va=Q=>{U(`/category/${Q}`)},ei=Q=>{l(z),h(Q),document.getElementById("shop")?.scrollIntoView({behavior:"smooth"})},bs=p.reduce((Q,ge)=>Q+ge.price*ge.quantity,0);return n.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[n.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),n.jsx(gT,{}),n.jsx(en,{}),n.jsx(Tl,{cartCount:p.reduce((Q,ge)=>Q+ge.quantity,0),wishlistCount:g.length,onCartClick:()=>b(!0),onWishlistClick:()=>S(!0),onLoginClick:()=>T(!0),user:Y,onLogout:G}),n.jsxs("main",{id:"home",children:[n.jsx(XE,{}),n.jsx("section",{id:"categories",className:"py-20 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs(R.div,{className:"text-center mb-12",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:"Browse Categories"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Explore our wide range of anime merchandise categories"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map((Q,ge)=>n.jsx(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:ge*.1},children:n.jsx(QE,{icon:Q.icon,title:Q.title,description:Q.description,onClick:()=>va(Q.value)})},Q.value))}),(o||u)&&n.jsxs("div",{className:"mt-6 text-center space-x-4",children:[u&&n.jsx("button",{onClick:()=>h(null),className:"text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear subcategory filter"}),o&&n.jsx("button",{onClick:()=>{l(null),h(null)},className:"text-purple-400 hover:text-purple-300 underline transition-colors",children:"Clear all filters"})]})]})}),n.jsx("section",{id:"shop",className:"py-20 px-4 bg-gradient-to-b from-transparent to-purple-900/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:u?`${K[o]?.find(Q=>Q.value===u)?.name||"Products"}`:o?`${M.find(Q=>Q.value===o)?.title} Collection`:"Featured Products"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:u?`Browse ${K[o]?.find(Q=>Q.value===u)?.description||"products"}`:o?`Browse our collection of ${M.find(Q=>Q.value===o)?.title.toLowerCase()}`:"Discover our handpicked selection of premium anime merchandise"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.length===0?n.jsx("div",{className:"col-span-full text-center py-20",children:n.jsx("p",{className:"text-gray-400 text-lg mb-4",children:t.length===0?"No products available yet.":"No products found in this category."})}):r.map(Q=>n.jsx(Mh,{product:Q,onAddToCart:Pe,onViewDetails:()=>{_e(Q),$e(!0)},onToggleWishlist:we,isInWishlist:Ce(Q.id)},Q.id))})]})}),n.jsx(pT,{}),n.jsx(fT,{}),n.jsx(mT,{}),n.jsx("footer",{className:"border-t border-purple-900/30 py-12 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ws,{size:"md"}),n.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]}),n.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for premium anime merchandise and collectibles."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-4",children:"Shop"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("a",{href:"#shop",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"All Products"}),n.jsx("a",{href:"#categories",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Categories"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-4",children:"About"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("a",{href:"#about",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"About Us"}),n.jsx("a",{href:"#contact",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Contact Us"}),n.jsx("button",{onClick:()=>U("/track-order"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Track Order"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-4",children:"Legal"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Xs,{to:"/privacy-policy",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Privacy Policy"}),n.jsx(Xs,{to:"/terms-of-service",className:"block text-gray-400 hover:text-purple-400 transition-colors",children:"Terms of Service"})]})]})]}),n.jsx("div",{className:"border-t border-purple-900/30 mt-8 pt-8 text-center text-gray-400",children:n.jsx("p",{children:" 2025 animedropzone. All rights reserved."})})]})})]}),n.jsx($h,{isOpen:v,onClose:()=>b(!1),items:p,onUpdateQuantity:Ie,onRemoveItem:ft,onCheckout:ya}),n.jsx(ZE,{isOpen:k,onClose:()=>S(!1),wishlistItems:g,onRemoveFromWishlist:je,onAddToCart:Pe,onViewProduct:Q=>{_e(Q),$e(!0)}}),n.jsx(Kh,{isOpen:_,onClose:()=>T(!1),onAuthSuccess:xa,showCheckoutMessage:le}),n.jsx(Yh,{isOpen:C,onClose:()=>N(!1),items:p,total:bs,onSuccess:Zn,user:Y}),n.jsx(fw,{isOpen:I,onClose:()=>F(!1),category:z,subcategories:K[z]||[],onSelectSubcategory:ei}),n.jsx(hT,{isOpen:ze,onClose:()=>$e(!1),product:ve,onAddToCart:Pe,onToggleWishlist:we,wishlistItems:g,user:Y,onLoginClick:()=>T(!0)}),n.jsx(Kd,{isOpen:Ue,onClose:()=>he(!1),onSuccess:()=>{ee("Custom clothing request submitted successfully! We'll get back to you soon with a quote.","success",6e3)}})]})}function yT(){return console.log("AdminPage component is rendering"),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black text-white flex items-center justify-center",children:n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-2xl p-8 text-center max-w-md",children:[n.jsx("h1",{className:"text-2xl font-bold text-purple-400 mb-4",children:"Admin Panel Test"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"If you can see this, the admin panel is loading correctly."})]})})}function xT(){const t=pt();return n.jsx("footer",{className:"border-t border-purple-900/30 py-12 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ws,{size:"md"}),n.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]}),n.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for premium anime merchandise and collectibles."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-4",children:"Shop"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{onClick:()=>t("/#shop"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"All Products"}),n.jsx("button",{onClick:()=>t("/#categories"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Categories"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-4",children:"About"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{onClick:()=>t("/#about"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"About Us"}),n.jsx("button",{onClick:()=>t("/#contact"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Contact Us"}),n.jsx("button",{onClick:()=>t("/track-order"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Track Order"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white mb-4",children:"Legal"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{onClick:()=>t("/privacy-policy"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Privacy Policy"}),n.jsx("button",{onClick:()=>t("/terms-of-service"),className:"block text-gray-400 hover:text-purple-400 transition-colors text-left",children:"Terms of Service"})]})]})]}),n.jsx("div",{className:"border-t border-purple-900/30 mt-8 pt-8 text-center text-gray-400",children:n.jsx("p",{children:" 2025 animedropzone. All rights reserved."})})]})})}function vT(){const{error:t}=Cl(),[e,r]=j.useState(""),[a,o]=j.useState(null),[l,u]=j.useState(""),[h,p]=j.useState(!1),[m,g]=j.useState(!1),[x,v]=j.useState(""),[b,k]=j.useState(!1),[S,_]=j.useState(!1),T=async N=>{N.preventDefault(),u(""),o(null),p(!0);try{const F=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/orders`,{headers:{Authorization:`Bearer ${Ee}`}})).json();if(F.success){const z=F.orders.find(V=>V.trackingId===e||V.id===e);z?o(z):u("Order not found. Please check your Order ID or Tracking ID.")}}catch(I){console.log("Error tracking order:",I),u("An error occurred. Please try again.")}finally{p(!1)}},C=async()=>{k(!0),u("");try{const I=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/orders/cancel`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:a?.id,reason:x})})).json();I.success?(t(` Order cancelled successfully. ${a?.paymentMethod!=="cod"?"Refund will be processed in 5-7 days.":""}`,6e3),o(null),g(!1),v(""),r("")):u(I.message||"Failed to cancel order.")}catch(N){console.log("Error cancelling order:",N),u("An error occurred. Please try again.")}finally{k(!1)}};return n.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[n.jsx(Tl,{}),n.jsx("main",{className:"flex-1 py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-white mb-4",children:"Track Your Order"}),n.jsx("p",{className:"text-gray-400",children:"Enter your Order ID or Tracking ID to check your order status"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 mb-8",children:[n.jsxs("form",{onSubmit:T,className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Qo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:e,onChange:N=>r(N.target.value),required:!0,placeholder:"Enter Order ID or Tracking ID",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-12 pr-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),n.jsx("button",{type:"submit",disabled:h,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 px-8 py-3 rounded-lg transition-all",children:h?"Searching...":"Track Order"})]}),l&&n.jsx("div",{className:"mt-4 bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:l})]}),a&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:a.status==="Order Delivered"?n.jsx(gs,{className:"w-16 h-16 text-white"}):a.status==="Out for Delivery"?n.jsx(Me,{className:"w-16 h-16 text-white"}):a.status==="In Transit"?n.jsx(Js,{className:"w-16 h-16 text-white"}):a.status==="Cancelled"?n.jsx(Ur,{className:"w-16 h-16 text-white"}):n.jsx(Me,{className:"w-16 h-16 text-white"})}),n.jsx("h2",{className:"text-white mb-2",children:a.status}),n.jsxs("p",{className:"text-purple-100",children:["Tracking ID: ",a.trackingId]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[n.jsx("h3",{className:"text-white mb-6",children:"Order Details"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Order ID"}),n.jsx("p",{className:"text-white",children:a.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Order Date"}),n.jsx("p",{className:"text-white",children:new Date(a.createdAt).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Payment ID"}),n.jsx("p",{className:"text-white",children:a.paymentId})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Payment Method"}),n.jsx("p",{className:"text-white capitalize",children:a.paymentMethod})]})]}),n.jsx("div",{className:"border-t border-purple-900/30 pt-6",children:n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx(Js,{className:"w-5 h-5 text-purple-400 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Delivery Address"}),n.jsx("p",{className:"text-white",children:a.customerInfo.name}),n.jsx("p",{className:"text-gray-300",children:a.customerInfo.fullAddress||a.customerInfo.address}),n.jsx("p",{className:"text-gray-300",children:a.customerInfo.phone}),n.jsx("p",{className:"text-gray-300",children:a.customerInfo.email})]})]})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8",children:[n.jsxs("h3",{className:"text-white mb-6 flex items-center gap-2",children:[n.jsx(Me,{className:"w-5 h-5 text-purple-400"}),"Items Ordered"]}),n.jsx("div",{className:"space-y-4",children:a.items.map((N,I)=>n.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-purple-900/30 last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Me,{className:"w-8 h-8 text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white",children:N.name}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Quantity: ",N.quantity]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-white",children:["",(N.price*N.quantity).toLocaleString()]}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["",N.price.toLocaleString()," each"]})]})]},I))}),n.jsx("div",{className:"border-t border-purple-900/30 mt-6 pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"text-white",children:"Total Amount"}),n.jsxs("p",{className:"text-purple-400 text-2xl",children:["",a.total.toLocaleString()]})]})})]}),a.status==="Order Pending"&&n.jsx("div",{className:"text-center mt-6",children:n.jsx("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-8 py-3 rounded-lg transition-all",children:"Cancel Order"})})]}),m&&n.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl max-w-lg w-full",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 p-6 flex items-center justify-between rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ur,{className:"w-6 h-6"}),n.jsx("h2",{className:"text-white text-xl",children:"Cancel Order"})]}),n.jsx("button",{onClick:()=>g(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[n.jsx("p",{className:"text-white mb-2",children:"Are you sure you want to cancel this order?"}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Order ID: ",a?.id]}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Tracking ID: ",a?.trackingId]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Reason for Cancellation (Optional)"}),n.jsx("textarea",{value:x,onChange:N=>v(N.target.value),rows:4,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g., Changed my mind, found a better deal, ordered by mistake..."})]}),n.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[n.jsx("p",{className:"text-yellow-400 text-sm",children:" You will receive cancellation confirmation via Email and WhatsApp"}),a?.paymentMethod!=="cod"&&n.jsx("p",{className:"text-yellow-400 text-sm mt-2",children:" Refund will be processed within 5-7 business days"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>g(!1),disabled:b,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 py-3 rounded-lg transition-colors",children:"Keep Order"}),n.jsx("button",{onClick:C,disabled:b,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-900 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:b?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cancelling..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ur,{className:"w-5 h-5"}),"Confirm Cancellation"]})})]})]})]})})]})}),n.jsx(xT,{})]})}function wT(){const{id:t}=Xd(),e=pt(),[r,a]=j.useState(null),[o,l]=j.useState([]),[u,h]=j.useState([]),[p,m]=j.useState(!1),[g,x]=j.useState(!1),[v,b]=j.useState(!1),[k,S]=j.useState(null),[_,T]=j.useState(0),[C,N]=j.useState(1),[I,F]=j.useState(!1),[z,V]=j.useState(!1);j.useEffect(()=>{le(),Ne(),Y()},[t]);const Y=async()=>{const{data:P}=await jt.auth.getSession();P.session&&S(P.session.user)},ne=async()=>{await jt.auth.signOut(),S(null)},le=async()=>{try{const U=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/products`,{headers:{Authorization:`Bearer ${Ee}`}})).json();if(U.success){const ee=U.products.find(me=>me.id===t);ee?a(ee):e("/")}}catch(P){console.log("Error fetching product:",P),e("/")}},Ne=async()=>{try{const U=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/reviews/${t}`,{headers:{Authorization:`Bearer ${Ee}`}})).json();U.success&&l(U.reviews||[])}catch(P){console.log("Error fetching reviews:",P)}},ve=()=>{r&&h(P=>P.find(ee=>ee.id===r.id)?P.map(ee=>ee.id===r.id?{...ee,quantity:ee.quantity+C}:ee):[...P,{...r,quantity:C}])},_e=()=>{if(!r)return;if(!k){V(!0),x(!0);return}const P=[{...r,quantity:C}];h(P),b(!0)},ze=P=>{S(P),z&&(V(!1),_e())},$e=()=>{h([]),b(!1),e("/")},Ue=(P,U)=>{h(ee=>ee.map(me=>me.id===P?{...me,quantity:U}:me))},he=P=>{h(U=>U.filter(ee=>ee.id!==P))},M=()=>{if(!k){m(!1),V(!0),x(!0);return}m(!1),b(!0)};if(!r)return n.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center",children:[n.jsx(en,{}),n.jsx("div",{className:"text-white text-xl",children:"Loading..."})]});const X=o.length>0?o.reduce((P,U)=>P+U.rating,0)/o.length:4.8;I||o.slice(0,3);const K=u.reduce((P,U)=>P+U.price*U.quantity,0);return n.jsxs("div",{className:"min-h-screen bg-black",children:[n.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),n.jsx(en,{}),n.jsx(Tl,{cartCount:u.reduce((P,U)=>P+U.quantity,0),onCartClick:()=>m(!0),onLoginClick:()=>x(!0),user:k,onLogout:ne}),n.jsxs("main",{className:"relative z-10",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:n.jsx(R.button,{onClick:()=>e("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",whileHover:{x:-5},children:n.jsx(gr,{className:"w-5 h-5"})})}),n.jsx("section",{className:"max-w-7xl mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[n.jsxs(R.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:[n.jsxs("div",{className:"relative",children:[n.jsx(R.div,{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur-xl opacity-50",animate:{opacity:[.5,.7,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),n.jsxs("div",{className:"relative rounded-2xl overflow-hidden border-2 border-purple-500/50 bg-black",children:[n.jsx(R.img,{src:r.image,alt:r.name,className:"w-full h-auto object-cover",layoutId:`product-${r.id}`}),r.stock===0&&n.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:n.jsx("span",{className:"text-red-400 border border-red-400 px-6 py-3 rounded-lg text-xl",children:"Out of Stock"})})]})]}),n.jsx(R.div,{className:"grid grid-cols-2 gap-4 mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[{icon:El,text:"100% Authentic"},{icon:Zs,text:"Fast Delivery"},{icon:Me,text:"Secure Packaging"},{icon:ys,text:"Secure Payment"}].map((P,U)=>n.jsxs(R.div,{className:"flex items-center gap-3 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.4+U*.1},whileHover:{scale:1.05},children:[n.jsx(P.icon,{className:"w-6 h-6 text-purple-400"}),n.jsx("span",{className:"text-gray-300 text-sm",children:P.text})]},P.text))})]}),n.jsxs(R.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[n.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:n.jsx("span",{className:"inline-block px-3 py-1 bg-gradient-to-r from-purple-600/30 to-pink-600/30 border border-purple-500/50 rounded-full text-purple-300 text-sm mb-4",children:r.category.charAt(0).toUpperCase()+r.category.slice(1)})}),n.jsx(R.h1,{className:"text-white mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:r.name}),n.jsxs(R.div,{className:"flex items-center gap-4 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:[n.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((P,U)=>n.jsx(ps,{className:`w-5 h-5 ${U<Math.floor(X)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},U))}),n.jsxs("span",{className:"text-gray-400",children:[X.toFixed(1)," (",o.length," reviews)"]})]}),n.jsx(R.p,{className:"text-gray-300 text-lg mb-6 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.description}),n.jsxs(R.div,{className:"mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.7},children:[n.jsxs("span",{className:"text-5xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["",r.price.toLocaleString()]}),n.jsxs("p",{className:"text-gray-400 mt-2",children:["Stock: ",n.jsxs("span",{className:r.stock>10?"text-green-400":"text-orange-400",children:[r.stock," available"]})]})]}),n.jsxs(R.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[n.jsx("label",{className:"text-white mb-2 block",children:"Quantity:"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>N(Math.max(1,C-1)),className:"bg-purple-600 hover:bg-purple-700 w-10 h-10 rounded-lg flex items-center justify-center transition-colors",disabled:r.stock===0,children:"-"}),n.jsx("span",{className:"text-white text-xl w-12 text-center",children:C}),n.jsx("button",{onClick:()=>N(Math.min(r.stock,C+1)),className:"bg-purple-600 hover:bg-purple-700 w-10 h-10 rounded-lg flex items-center justify-center transition-colors",disabled:r.stock===0,children:"+"})]})]}),n.jsxs(R.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:[n.jsxs(R.button,{onClick:_e,disabled:r.stock===0,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-8 py-4 rounded-lg flex items-center justify-center gap-2 transition-all text-lg shadow-lg shadow-purple-900/50",whileHover:{scale:r.stock>0?1.02:1},whileTap:{scale:r.stock>0?.98:1},children:[n.jsx(ys,{className:"w-5 h-5"}),"Order Now"]}),n.jsxs(R.button,{onClick:ve,disabled:r.stock===0,className:"flex-1 bg-white/10 hover:bg-white/20 border border-purple-500/50 hover:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed px-8 py-4 rounded-lg flex items-center justify-center gap-2 transition-all text-lg",whileHover:{scale:r.stock>0?1.02:1},whileTap:{scale:r.stock>0?.98:1},children:[n.jsx(hs,{className:"w-5 h-5"}),"Add to Cart"]})]})]})]})}),n.jsx("section",{className:"max-w-7xl mx-auto px-4 py-16",children:n.jsx(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:n.jsx(mw,{productId:t,user:k,onLoginClick:()=>x(!0)})})})]}),n.jsx($h,{isOpen:p,onClose:()=>m(!1),items:u,onUpdateQuantity:Ue,onRemoveItem:he,onCheckout:M}),n.jsx(Kh,{isOpen:g,onClose:()=>x(!1),onAuthSuccess:ze,showCheckoutMessage:z}),n.jsx(Yh,{isOpen:v,onClose:()=>b(!1),items:u,total:K,onSuccess:$e,user:k})]})}const bT={figures:Me,katana:Jx,accessories:Qs,posters:Dh,clothing:na,collectibles:Gx,custom_clothing:Cd},ed={figures:{title:"Anime Figures",description:"Premium anime action figures and statues from your favorite series"},katana:{title:"Katana Collection",description:"Authentic Japanese swords and replicas inspired by legendary anime"},accessories:{title:"Accessories",description:"Keychains, pins, phone cases, and more anime collectibles"},posters:{title:"Posters & Art",description:"High-quality anime art prints and wall decorations"},clothing:{title:"Anime Clothing",description:"Anime-themed apparel, cosplay costumes, and fashion accessories"},collectibles:{title:"Collectibles",description:"Limited edition merchandise, trading cards, and rare items"},custom_clothing:{title:"Custom Clothing",description:"Create your own anime-themed clothing with our custom design service"}},jT={figures:[{name:"Demon Slayer",value:"demon-slayer",description:"Tanjiro, Nezuko, and more"},{name:"Naruto",value:"naruto",description:"Iconic ninja figures"},{name:"One Piece",value:"one-piece",description:"Luffy and crew collectibles"},{name:"Attack on Titan",value:"attack-on-titan",description:"Survey Corps figures"},{name:"My Hero Academia",value:"my-hero-academia",description:"Heroes and villains"},{name:"Dragon Ball",value:"dragon-ball",description:"Super Saiyan warriors"}],katana:[{name:"Demon Slayer Swords",value:"demon-slayer-katana",description:"Nichirin blades collection"},{name:"Samurai Katanas",value:"samurai-katana",description:"Traditional Japanese swords"},{name:"Replica Katanas",value:"replica-katana",description:"Display-worthy replicas"},{name:"Training Katanas",value:"training-katana",description:"Practice swords"}],accessories:[{name:"Keychains",value:"keychains",description:"Character keychains"},{name:"Pins & Badges",value:"pins",description:"Collectible pins"},{name:"Phone Cases",value:"phone-cases",description:"Anime-themed cases"},{name:"Jewelry",value:"jewelry",description:"Necklaces and rings"},{name:"Bags & Backpacks",value:"bags",description:"Character bags"}],posters:[{name:"Wall Scrolls",value:"wall-scrolls",description:"Hanging art scrolls"},{name:"Framed Prints",value:"framed-prints",description:"Premium framed art"},{name:"Mini Posters",value:"mini-posters",description:"Small format prints"},{name:"Canvas Art",value:"canvas-art",description:"Canvas wall art"}],clothing:[{name:"T-Shirts",value:"t-shirts",description:"Character t-shirts"},{name:"Hoodies",value:"hoodies",description:"Anime hoodies"},{name:"Cosplay",value:"cosplay",description:"Cosplay costumes"},{name:"Accessories",value:"clothing-accessories",description:"Hats, socks, etc."}],collectibles:[{name:"Limited Editions",value:"limited-editions",description:"Rare collectibles"},{name:"Trading Cards",value:"trading-cards",description:"Collectible cards"},{name:"Plushies",value:"plushies",description:"Soft character plushies"},{name:"Model Kits",value:"model-kits",description:"Build-your-own kits"}],custom_clothing:[{name:"Custom T-Shirts",value:"custom-t-shirts",description:"Design your own t-shirts"},{name:"Custom Hoodies",value:"custom-hoodies",description:"Design your own hoodies"},{name:"Custom Cosplay",value:"custom-cosplay",description:"Design your own cosplay costumes"},{name:"Custom Accessories",value:"custom-accessories",description:"Design your own accessories"}]};function kT(){const{category:t}=Xd(),e=pt(),[r,a]=j.useState([]),[o,l]=j.useState([]),[u,h]=j.useState(null),[p,m]=j.useState([]),[g,x]=j.useState(!1),[v,b]=j.useState(!1),[k,S]=j.useState(!1),[_,T]=j.useState(!1),[C,N]=j.useState(!1),[I,F]=j.useState(null),[z,V]=j.useState(!1),[Y,ne]=j.useState(!0),[le,Ne]=j.useState(null),[ve,_e]=j.useState([]);j.useEffect(()=>{ze(),he(),$e()},[t]),j.useEffect(()=>{(!t||!ed[t])&&console.log(" Category not in hardcoded list, checking database...")},[t,e]);const ze=async()=>{try{const G=await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/categories`,{headers:{Authorization:`Bearer ${Ee}`}});if(G.ok){const pe=await G.json();if(pe.success&&pe.categories){const Pe=pe.categories.find(Ie=>Ie.slug===t);if(console.log(" Category data:",Pe),Pe&&(Ne(Pe),Pe.subcategories&&Pe.subcategories.length>0)){const Ie=Pe.subcategories.map(ft=>({name:ft.name||ft,value:ft.value||ft.toLowerCase().replace(/\s+/g,"-"),description:ft.description||""}));_e(Ie),console.log(" Dynamic subcategories loaded:",Ie)}}}}catch(G){console.error("Error fetching category data:",G)}};j.useEffect(()=>{let G=r;u&&(G=G.filter(pe=>pe.subcategory===u)),l(G)},[u,r]);const $e=async()=>{const{data:G}=await jt.auth.getSession();G.session&&F(G.session.user)},Ue=async()=>{await jt.auth.signOut(),F(null)},he=async()=>{ne(!0);try{const pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/products/category/${t}`,{headers:{Authorization:`Bearer ${Ee}`}})).json();pe.success&&(a(pe.products||[]),l(pe.products||[]))}catch(G){console.log("Error fetching products:",G)}finally{ne(!1)}},M=G=>{m(pe=>pe.find(Ie=>Ie.id===G.id)?pe.map(Ie=>Ie.id===G.id?{...Ie,quantity:Ie.quantity+1}:Ie):[...pe,{...G,quantity:1}])},X=(G,pe)=>{m(Pe=>Pe.map(Ie=>Ie.id===G?{...Ie,quantity:pe}:Ie))},K=G=>{m(pe=>pe.filter(Pe=>Pe.id!==G))},P=()=>{if(!I){x(!1),V(!0),b(!0);return}x(!1),S(!0)},U=G=>{F(G),z&&(V(!1),S(!0))},ee=()=>{m([]),S(!1)},me=G=>{h(G),T(!1)},we=t&&bT[t]||Me,je=t&&ed[t]?ed[t]:le?{title:le.name,description:le.description||"Browse our products"}:{title:"Category",description:"Browse our products"},Ce=p.reduce((G,pe)=>G+pe.price*pe.quantity,0),Se=ve.length>0?ve:jT[t||""]||[],B=Se.length>0;return n.jsxs("div",{className:"min-h-screen bg-black",children:[n.jsx("script",{src:"https://checkout.razorpay.com/v1/checkout.js"}),n.jsx(en,{}),n.jsx(Tl,{cartCount:p.reduce((G,pe)=>G+pe.quantity,0),onCartClick:()=>x(!0),onLoginClick:()=>b(!0),user:I,onLogout:Ue}),n.jsxs("main",{className:"relative z-10",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:n.jsx(R.button,{onClick:()=>e("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",whileHover:{x:-5},children:n.jsx(gr,{className:"w-5 h-5"})})}),n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsxs(R.div,{className:"text-center mb-12",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx(R.div,{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl mb-6",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,type:"spring"},whileHover:{scale:1.1,rotate:5},children:n.jsx(we,{className:"w-12 h-12 text-white"})}),n.jsx(R.h1,{className:"mb-4 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:je.title}),n.jsx(R.p,{className:"text-gray-300 text-lg max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:je.description}),B&&n.jsxs(R.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx(R.button,{onClick:()=>T(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Browse by Subcategory"}),u&&n.jsx(R.button,{onClick:()=>h(null),className:"ml-4 text-purple-400 hover:text-purple-300 underline transition-colors",initial:{opacity:0},animate:{opacity:1},children:"Clear filter"})]})]}),t==="clothing"&&n.jsx(R.div,{className:"mb-12 bg-gradient-to-br from-purple-900/40 to-pink-900/40 border-2 border-purple-500/50 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:.6},whileHover:{scale:1.02},children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx(R.div,{className:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-pink-600 to-purple-600 rounded-xl flex items-center justify-center",whileHover:{rotate:10},transition:{type:"spring"},children:n.jsx(Cd,{className:"w-10 h-10 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-white text-2xl mb-2",children:" Design Your Own Custom Clothing"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Want something unique? Upload your design and we'll create custom anime-themed clothing just for you!"}),n.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 mb-4",children:[n.jsx("li",{children:" Upload your own designs or photos"}),n.jsx("li",{children:" Choose clothing type, size, and color"}),n.jsx("li",{children:" Get a quote within 24-48 hours"}),n.jsx("li",{children:" Professional quality printing"})]}),n.jsxs(R.button,{onClick:()=>N(!0),className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 px-8 py-4 rounded-lg text-lg shadow-lg shadow-pink-900/50 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(Cd,{className:"w-5 h-5"}),"Start Custom Design"]})]})]})}),Y?n.jsxs(R.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},children:[n.jsx("div",{className:"inline-block w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-400 mt-4",children:"Loading products..."})]}):o.length===0?n.jsx(R.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-2xl p-12 max-w-md mx-auto",children:[n.jsx(we,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-white text-2xl mb-2",children:"No Products Found"}),n.jsx("p",{className:"text-gray-400",children:u?"No products available in this subcategory. Try selecting a different filter.":"No products available in this category yet. Check back soon!"})]})}):n.jsx(R.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.5},children:o.map((G,pe)=>n.jsx(R.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*pe},children:n.jsx(Mh,{product:G,onAddToCart:M})},G.id))}),!Y&&o.length>0&&n.jsx(R.div,{className:"text-center mt-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},children:n.jsxs("p",{className:"text-gray-400",children:["Showing ",o.length," ",o.length===1?"product":"products",u&&" in selected subcategory"]})})]})]}),n.jsx($h,{isOpen:g,onClose:()=>x(!1),items:p,onUpdateQuantity:X,onRemoveItem:K,onCheckout:P}),n.jsx(Kh,{isOpen:v,onClose:()=>b(!1),onAuthSuccess:U,showCheckoutMessage:z}),n.jsx(Yh,{isOpen:k,onClose:()=>S(!1),items:p,total:Ce,onSuccess:ee,user:I}),B&&n.jsx(fw,{isOpen:_,onClose:()=>T(!1),category:t,subcategories:Se,onSelectSubcategory:me}),t==="custom_clothing"&&n.jsx(Kd,{isOpen:C,onClose:()=>N(!1),onSuccess:()=>{alert("Custom clothing request submitted successfully!"),N(!1)}}),t==="clothing"&&n.jsx(Kd,{isOpen:C,onClose:()=>N(!1),onSuccess:()=>{alert("Custom clothing request submitted successfully!"),N(!1)}})]})}function gw({isOpen:t,onClose:e,order:r,onSuccess:a}){const[o,l]=j.useState(""),[u,h]=j.useState(""),[p,m]=j.useState(!1),g=["Defective/Damaged Product","Wrong Item Received","Not as Described","Size Issue","Changed Mind","Quality Issues","Other"],x=async v=>{if(v.preventDefault(),!o||!u.trim()){alert("Please select a reason and provide details");return}m(!0);try{console.log(" Submitting return request for order:",r.orderId);const b=await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/orders/${r.orderId}/return-request`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({reason:o,description:u,customerEmail:r.email,customerName:r.customerName})}),k=await b.json();b.ok&&k.success?(console.log(" Return request submitted successfully"),alert("Return request submitted successfully! You will receive an email confirmation."),a(),e(),l(""),h("")):(console.error(" Failed to submit return request:",k),alert(`Failed to submit return request: ${k.error||"Unknown error"}`))}catch(b){console.error(" Error submitting return request:",b),alert("Error submitting return request. Please try again.")}finally{m(!1)}};return n.jsx(We,{children:t&&n.jsx(R.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:n.jsxs(R.div,{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/30 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-orange-600/20 p-3 rounded-lg",children:n.jsx(Me,{className:"w-6 h-6 text-orange-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl text-white",children:"Request Return"}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Order #",r.orderId]})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(lt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6 flex gap-3",children:[n.jsx(Kx,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-200",children:[n.jsx("p",{className:"mb-2",children:"Please note:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[n.jsx("li",{children:"Return requests are reviewed within 24-48 hours"}),n.jsx("li",{children:"You'll receive an email once your request is processed"}),n.jsx("li",{children:"Return shipping label will be provided upon approval"}),n.jsx("li",{children:"Refund will be processed after item inspection"})]})]})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-white mb-2",children:["Return Reason ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Select a reason"}),g.map(v=>n.jsx("option",{value:v,children:v},v))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-white mb-2",children:["Description ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("textarea",{value:u,onChange:v=>h(v.target.value),placeholder:"Please provide details about why you're returning this item...",rows:5,className:"w-full bg-black/50 border border-purple-500/30 px-4 py-3 rounded-lg text-white focus:outline-none focus:border-purple-500 resize-none",required:!0}),n.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[u.length,"/500 characters"]})]}),n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-white mb-3",children:"Order Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Order Date:"}),n.jsx("span",{className:"text-white",children:new Date(r.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Total Items:"}),n.jsx("span",{className:"text-white",children:r.items.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Order Total:"}),n.jsxs("span",{className:"text-white",children:["",r.total.toLocaleString()]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"submit",disabled:p,className:"flex-1 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 px-6 py-3 rounded-lg disabled:opacity-50 transition-all",children:p?"Submitting...":"Submit Return Request"}),n.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all",children:"Cancel"})]})]})]})})})}function NT(){const[t,e]=j.useState(""),[r,a]=j.useState(""),[o,l]=j.useState([]),[u,h]=j.useState(!1),[p,m]=j.useState(!1),[g,x]=j.useState(null),[v,b]=j.useState(!1),[k,S]=j.useState(null),_=async()=>{if(!t&&!r){alert("Please enter either email or phone number");return}h(!0);try{const N=new URLSearchParams;t&&N.append("email",t),r&&N.append("phone",r);const F=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/my-orders?${N}`,{headers:{Authorization:`Bearer ${Ee}`}})).json();F.success?(l(F.orders),m(!0)):alert("Failed to fetch orders")}catch(N){console.error("Error fetching orders:",N),alert("Error fetching orders. Please try again.")}finally{h(!1)}},T=N=>{switch(N.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"shipped":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},C=N=>{switch(N.toLowerCase()){case"pending":return n.jsx(Yx,{className:"w-4 h-4"});case"processing":return n.jsx(Me,{className:"w-4 h-4"});case"shipped":return n.jsx(Zs,{className:"w-4 h-4"});case"delivered":return n.jsx(gs,{className:"w-4 h-4"});case"cancelled":return n.jsx(Ur,{className:"w-4 h-4"});default:return n.jsx(Me,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[n.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),n.jsx(R.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"border-b border-purple-500/20 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsx(Xs,{to:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors group",children:n.jsx(gr,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})}),n.jsxs(R.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-2xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2",children:[n.jsx(Qs,{className:"w-6 h-6 text-purple-400"}),"My Orders"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[n.jsx(We,{mode:"wait",children:!p&&n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-md mx-auto",children:n.jsxs(R.div,{initial:{scale:.95},animate:{scale:1},className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-8 backdrop-blur-sm shadow-2xl shadow-purple-500/10 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs(R.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl",children:n.jsx(Qo,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl",children:"Find Your Orders"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Track all your anime treasures"})]})]}),n.jsxs(R.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-5",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-300 mb-2 flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-purple-400"}),"Email Address"]}),n.jsx("input",{type:"email",value:t,onChange:N=>e(N.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-black/50 border border-purple-500/30 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent flex-1"}),n.jsx("span",{className:"text-sm text-gray-500 px-3",children:"OR"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent flex-1"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-300 mb-2 flex items-center gap-2",children:[n.jsx(dl,{className:"w-4 h-4 text-purple-400"}),"Phone Number"]}),n.jsx("input",{type:"tel",value:r,onChange:N=>a(N.target.value),placeholder:"+91XXXXXXXXXX",onKeyDown:N=>N.key==="Enter"&&_(),className:"w-full px-4 py-3 bg-black/50 border border-purple-500/30 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),n.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,disabled:u,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 hover:from-purple-700 hover:via-pink-700 hover:to-purple-700 py-3.5 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/30 flex items-center justify-center gap-2 group relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Searching..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qo,{className:"w-5 h-5"}),"View My Orders"]})]})]})]})]})})}),n.jsx(We,{mode:"wait",children:p&&n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[n.jsxs(R.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent flex items-center gap-3",children:[n.jsx(Td,{className:"w-8 h-8 text-purple-400"}),"Your Orders"]}),n.jsxs("p",{className:"text-gray-400 mt-1",children:[o.length," ",o.length===1?"order":"orders"," found"]})]}),n.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{m(!1),l([]),e(""),a(""),x(null)},className:"px-6 py-2.5 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 rounded-lg transition-all flex items-center gap-2 group",children:[n.jsx(Qo,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"}),"Search Again"]})]}),o.length===0?n.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-20",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx(R.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:n.jsx(Me,{className:"w-20 h-20 text-gray-700 mx-auto mb-6"})}),n.jsx("div",{className:"absolute inset-0 bg-purple-500/20 blur-2xl rounded-full"})]}),n.jsx("p",{className:"text-gray-300 text-xl mb-2",children:"No orders found"}),n.jsx("p",{className:"text-gray-500",children:"Try a different email or phone number"})]}):n.jsx("div",{className:"space-y-6",children:o.map((N,I)=>n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},className:"bg-gradient-to-br from-purple-900/30 via-black to-pink-900/20 border border-purple-500/20 rounded-2xl p-6 hover:border-purple-500/40 transition-all hover:shadow-xl hover:shadow-purple-500/10 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[n.jsxs("h3",{className:"text-xl bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:["Order #",N.trackingId]}),n.jsxs(R.span,{whileHover:{scale:1.05},className:`px-3 py-1.5 rounded-full text-xs border ${T(N.status)} flex items-center gap-1.5 font-medium`,children:[C(N.status),N.status.toUpperCase()]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(U_,{className:"w-4 h-4 text-purple-400"}),new Date(N.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"w-4 h-4 text-purple-400"}),N.paymentMethod.toUpperCase()]}),N.paymentType&&n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N.paymentType==="Prepaid"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:N.paymentType}),N.paymentStatus&&n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N.paymentStatus==="Paid"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"}`,children:N.paymentStatus==="Paid"?" PAID":"PAYMENT PENDING"}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"w-4 h-4 text-purple-400"}),N.items.reduce((F,z)=>F+z.quantity,0)," item",N.items.reduce((F,z)=>F+z.quantity,0)!==1?"s":""]})]})]}),n.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(g?.id===N.id?null:N),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 hover:from-purple-600/30 hover:to-pink-600/30 rounded-lg transition-all flex items-center gap-2",children:[n.jsx(Vn,{className:"w-4 h-4"}),g?.id===N.id?"Hide Details":"View Details"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[n.jsxs("div",{className:"bg-black/30 rounded-xl p-4 border border-purple-500/10",children:[n.jsxs("p",{className:"text-sm text-gray-400 mb-3 flex items-center gap-2",children:[n.jsx(Td,{className:"w-4 h-4 text-purple-400"}),"Order Items"]}),n.jsx("div",{className:"space-y-2",children:N.items.map(F=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:F.name}),n.jsxs("span",{className:"text-gray-400",children:["x ",F.quantity]})]},F.id))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-600/10 to-pink-600/10 rounded-xl p-4 border border-purple-500/20",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Amount"}),n.jsxs("p",{className:"text-3xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent mb-2",children:["",N.total.toLocaleString("en-IN")]}),N.discount&&N.discount>0&&n.jsxs(R.p,{initial:{scale:0},animate:{scale:1},className:"text-sm text-green-400 flex items-center gap-2",children:[n.jsx(Qs,{className:"w-4 h-4"}),"Saved ",N.discount.toLocaleString("en-IN")," with ",N.couponCode]})]})]}),n.jsx(We,{children:g?.id===N.id&&n.jsx(R.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:n.jsxs("div",{className:"border-t border-purple-500/20 pt-6 mt-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(R.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"bg-black/30 rounded-xl p-5 border border-purple-500/10",children:[n.jsxs("h4",{className:"text-sm text-gray-300 mb-3 flex items-center gap-2",children:[n.jsx(Js,{className:"w-4 h-4 text-purple-400"}),"Delivery Address"]}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[n.jsxs("p",{className:"text-white",children:[N.customerInfo.firstName," ",N.customerInfo.lastName]}),n.jsx("p",{children:N.customerInfo.address}),n.jsxs("p",{children:[N.customerInfo.city,", ",N.customerInfo.state," - ",N.customerInfo.pincode]})]})]}),n.jsxs(R.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"bg-black/30 rounded-xl p-5 border border-purple-500/10",children:[n.jsx("h4",{className:"text-sm text-gray-300 mb-3",children:"Contact Information"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("p",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx(rr,{className:"w-4 h-4 text-purple-400"}),N.customerInfo.email]}),n.jsxs("p",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx(dl,{className:"w-4 h-4 text-purple-400"}),N.customerInfo.phone]})]})]})]}),n.jsxs(R.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 rounded-xl p-5 border border-purple-500/20",children:[n.jsxs("h4",{className:"text-sm text-gray-300 mb-4 flex items-center gap-2",children:[n.jsx(ys,{className:"w-4 h-4 text-purple-400"}),"Price Breakdown"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:["",N.subtotal.toLocaleString("en-IN")]})]}),n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Shipping Charges"}),n.jsxs("span",{children:["",N.shippingCharges.toLocaleString("en-IN")]})]}),N.discount&&N.discount>0&&n.jsxs("div",{className:"flex justify-between text-green-400",children:[n.jsxs("span",{children:["Discount (",N.couponCode,")"]}),n.jsxs("span",{children:["-",N.discount.toLocaleString("en-IN")]})]}),n.jsxs("div",{className:"flex justify-between text-lg border-t border-purple-500/30 pt-3",children:[n.jsx("span",{className:"text-white",children:"Total"}),n.jsxs("span",{className:"bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:["",N.total.toLocaleString("en-IN")]})]})]})]}),n.jsx(R.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"pt-2",children:n.jsxs(Xs,{to:`/track-order?id=${N.trackingId}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg transition-all shadow-lg shadow-purple-500/20 group",children:[n.jsx(Zs,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}),"Track this order"]})}),N.status.toLowerCase()==="delivered"&&n.jsx(R.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"pt-2",children:n.jsxs("button",{onClick:()=>{b(!0),S(N)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 rounded-lg transition-all shadow-lg shadow-red-500/20 group",children:[n.jsx(jE,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}),"Return this order"]})})]})})})]})]},N.id))})]})})]}),n.jsx(gw,{isOpen:v,onClose:()=>{b(!1),S(null)},order:k?{orderId:k.id,trackingId:k.trackingId,email:k.customerInfo.email,customerName:`${k.customerInfo.firstName} ${k.customerInfo.lastName}`,total:k.total,items:k.items,createdAt:k.createdAt,deliveredAt:k.deliveredAt,updatedAt:k.updatedAt}:null,onSuccess:()=>{b(!1),S(null),_()}})]})}function ST(){const t=pt(),{showToast:e,success:r,error:a}=Cl(),[o,l]=j.useState(null),[u,h]=j.useState(null),[p,m]=j.useState([]),[g,x]=j.useState([]),[v,b]=j.useState(!0),[k,S]=j.useState(!1),[_,T]=j.useState(!1),[C,N]=j.useState(null),[I,F]=j.useState(null),[z,V]=j.useState(!1),[Y,ne]=j.useState(null),[le,Ne]=j.useState(null),[ve,_e]=j.useState(null),[ze,$e]=j.useState(!1);j.useEffect(()=>{Ue()},[]);const Ue=async()=>{try{const{data:{session:B}}=await jt.auth.getSession();if(!B||!B.user){t("/",{replace:!0});return}l(B.user),await he(B.user.email,B.user.user_metadata),await M(B.user.email),await X()}catch(B){console.error("Error checking auth:",B),t("/",{replace:!0})}finally{b(!1)}},he=async(B,G)=>{try{const{data:{session:pe}}=await jt.auth.getSession();if(!pe)return;const Pe=await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/user-profile`,{headers:{Authorization:`Bearer ${pe.access_token}`}});if(Pe.ok){const ft=await Pe.json();if(ft.success){h(ft.profile),F(ft.profile);return}}const Ie={email:B,name:G?.name||"",phone:G?.phone||"",address:G?.address||"",city:G?.city||"",state:G?.state||"",pincode:G?.pincode||"",loyaltyPoints:G?.loyaltyPoints||0,defaultAddress:G?.defaultAddress||null};h(Ie),F(Ie)}catch(pe){console.error("Error fetching profile:",pe);const Pe={email:B,name:G?.name||"",phone:G?.phone||"",address:G?.address||"",city:G?.city||"",state:G?.state||"",pincode:G?.pincode||"",loyaltyPoints:G?.loyaltyPoints||0,defaultAddress:G?.defaultAddress||null};h(Pe),F(Pe)}},M=async B=>{try{const pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/my-orders?email=${B}`,{headers:{Authorization:`Bearer ${Ee}`}})).json();if(pe.success){const Pe=pe.orders.sort((Ie,ft)=>new Date(ft.createdAt).getTime()-new Date(Ie.createdAt).getTime());m(Pe)}}catch(G){console.error("Error fetching orders:",G)}},X=async()=>{try{const{data:{session:B}}=await jt.auth.getSession();if(!B)return;const pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/addresses`,{headers:{Authorization:`Bearer ${B.access_token}`}})).json();pe.success&&x(pe.addresses||[])}catch(B){console.error("Error fetching addresses:",B)}},K=async()=>{if(!(!o||!I)){T(!0);try{const{error:B}=await jt.auth.updateUser({data:{name:I.name,phone:I.phone,address:I.address,city:I.city,state:I.state,pincode:I.pincode}});if(B)throw B;h(I),S(!1),r("Profile updated successfully!")}catch(B){console.error("Error updating profile:",B),a("Failed to update profile. Please try again.")}finally{T(!1)}}},P=()=>{F(u),S(!1)},U=async()=>{if(o)try{const{data:{session:B}}=await jt.auth.getSession();if(!B)return;const pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/account`,{method:"DELETE",headers:{Authorization:`Bearer ${B.access_token}`}})).json();pe.success?(await jt.auth.signOut(),r("Account deleted successfully"),t("/",{replace:!0})):a(pe.message||"Failed to delete account")}catch(B){console.error("Error deleting account:",B),a("Error deleting account. Please try again.")}},ee=async B=>{try{const pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/orders/cancel`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({orderId:B,reason:"Customer requested cancellation"})})).json();pe.success?(r("Order cancelled successfully"),await M(o.email),ne(null)):a(pe.message||"Failed to cancel order")}catch(G){console.error("Error cancelling order:",G),a("Error cancelling order. Please try again.")}},me=async B=>{if(ve)try{const{data:{session:G}}=await jt.auth.getSession();if(!G)return;const Pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/orders/${B}/address`,{method:"PUT",headers:{Authorization:`Bearer ${G.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(ve)})).json();Pe.success?(r("Order address updated successfully"),await M(o.email),Ne(null),_e(null)):a(Pe.message||"Failed to update address")}catch(G){console.error("Error updating address:",G),a("Error updating address. Please try again.")}},we=B=>{switch(B.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"shipped":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},je=B=>{switch(B.toLowerCase()){case"pending":return n.jsx(Yx,{className:"w-4 h-4"});case"processing":return n.jsx(Me,{className:"w-4 h-4"});case"shipped":return n.jsx(Zs,{className:"w-4 h-4"});case"delivered":return n.jsx(gs,{className:"w-4 h-4"});case"cancelled":return n.jsx(Ur,{className:"w-4 h-4"});default:return n.jsx(Me,{className:"w-4 h-4"})}},Ce=B=>B.toLowerCase()==="pending",Se=async B=>{try{const{data:{session:G}}=await jt.auth.getSession();if(!G)return;const Pe=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/addresses/${B}/set-default`,{method:"POST",headers:{Authorization:`Bearer ${G.access_token}`}})).json();Pe.success?(r("Default address updated successfully!"),await he(o.email,o.user_metadata),await X()):a(Pe.message||"Failed to set default address")}catch(G){console.error("Error setting default address:",G),a("Error setting default address. Please try again.")}};return v?n.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[n.jsx(fg,{className:"w-12 h-12 text-purple-400 mx-auto mb-4 animate-spin"}),n.jsx("p",{className:"text-gray-400",children:"Loading your profile..."})]})}):n.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[n.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),n.jsx(R.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"border-b border-purple-500/20 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs(Xs,{to:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors group",children:[n.jsx(gr,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{children:"Back to Home"})]}),n.jsxs(R.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-2xl bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2",children:[n.jsx(Mr,{className:"w-6 h-6 text-purple-400"}),"My Profile"]}),n.jsx("div",{className:"w-24"})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[n.jsx(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:n.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-purple-600/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-3 rounded-full",children:n.jsx(D_,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl text-white mb-1",children:"Loyalty Rewards"}),n.jsx("p",{className:"text-sm text-gray-300",children:"Earn points on every purchase"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Your Points"}),n.jsxs("p",{className:"text-3xl bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:[u?.loyaltyPoints||0," pts"]})]})]})})}),g.length>0&&n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-6",children:n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[n.jsxs("h2",{className:"text-xl flex items-center gap-2 mb-6",children:[n.jsx(lE,{className:"w-5 h-5 text-purple-400"}),"Saved Addresses (",g.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(B=>{const G=u?.defaultAddress?.id===B.id;return n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`bg-black/50 border rounded-xl p-4 transition-all ${G?"border-purple-500/50 shadow-lg shadow-purple-500/20":"border-purple-500/20"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Js,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),n.jsx("h3",{className:"text-white",children:B.label})]}),G&&n.jsx("span",{className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-full",children:"Default"})]}),n.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[n.jsxs("p",{children:[B.firstName," ",B.lastName]}),n.jsx("p",{children:B.address}),n.jsxs("p",{children:[B.city,", ",B.state," - ",B.pincode]}),n.jsx("p",{children:B.phone})]}),!G&&n.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Se(B.id),className:"mt-3 w-full bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 text-purple-300 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[n.jsx(gs,{className:"w-4 h-4"}),"Set as Default"]})]},B.id)})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[n.jsx(Mr,{className:"w-5 h-5 text-purple-400"}),"Profile Details"]}),k?n.jsxs("div",{className:"flex gap-2",children:[n.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,disabled:_,className:"p-2 bg-green-600/20 border border-green-500/30 hover:bg-green-600/30 rounded-lg transition-all disabled:opacity-50",children:_?n.jsx(fg,{className:"w-4 h-4 text-green-400 animate-spin"}):n.jsx(NE,{className:"w-4 h-4 text-green-400"})}),n.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:"p-2 bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 rounded-lg transition-all",children:n.jsx(lt,{className:"w-4 h-4 text-red-400"})})]}):n.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!0),className:"p-2 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 rounded-lg transition-all",children:n.jsx(yE,{className:"w-4 h-4 text-purple-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Full Name"}),k?n.jsx("input",{type:"text",value:I?.name||"",onChange:B=>F({...I,name:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}):n.jsx("p",{className:"text-white",children:u?.name||"Not provided"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-purple-400"}),"Email"]}),n.jsx("p",{className:"text-white",children:u?.email})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[n.jsx(dl,{className:"w-4 h-4 text-purple-400"}),"Phone Number"]}),k?n.jsx("input",{type:"tel",value:I?.phone||"",onChange:B=>F({...I,phone:B.target.value}),placeholder:"+91XXXXXXXXXX",className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}):n.jsx("p",{className:"text-white",children:u?.phone||"Not provided"})]}),n.jsx("div",{className:"pt-4 border-t border-purple-500/20",children:n.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>V(!0),className:"w-full bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 text-red-400 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2",children:[n.jsx(Lh,{className:"w-4 h-4"}),"Delete Account"]})})]})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 via-black to-pink-900/20 border border-purple-500/30 rounded-2xl p-6 backdrop-blur-sm shadow-2xl shadow-purple-500/10",children:[n.jsxs("h2",{className:"text-xl flex items-center gap-2 mb-6",children:[n.jsx(Td,{className:"w-5 h-5 text-purple-400"}),"My Orders ",p.length>0&&`(${p.length})`]}),p.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Me,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"No orders yet"})]}):n.jsx("div",{className:"space-y-4",children:p.map(B=>n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/50 border border-purple-500/20 rounded-xl p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-400",children:["Order ID: ",B.trackingId]}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date(B.createdAt).toLocaleDateString()})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-1 ${we(B.status)}`,children:[je(B.status),B.status]})})]}),n.jsxs("div",{className:"border-t border-purple-500/20 pt-3",children:[n.jsxs("p",{className:"text-white",children:["Total: ",B.total.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-gray-400",children:[B.items.length," item(s)"]})]}),Ce(B.status)&&n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{Ne(B.id),_e(B.customerInfo)},className:"flex-1 bg-blue-600/20 border border-blue-500/30 hover:bg-blue-600/30 text-blue-400 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[n.jsx(Js,{className:"w-4 h-4"}),"Change Address"]}),n.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ne(B.id),className:"flex-1 bg-red-600/20 border border-red-500/30 hover:bg-red-600/30 text-red-400 px-3 py-2 rounded-lg transition-all text-sm flex items-center justify-center gap-2",children:[n.jsx(Ur,{className:"w-4 h-4"}),"Cancel Order"]})]}),!Ce(B.status)&&B.status.toLowerCase()!=="cancelled"&&n.jsxs("p",{className:"text-xs text-gray-500 mt-3 flex items-center gap-1",children:[n.jsx(Pd,{className:"w-3 h-3"}),"Order cannot be modified once processing has begun"]}),n.jsxs(R.button,{whileHover:{scale:1.01},onClick:()=>N(C?.id===B.id?null:B),className:"w-full mt-3 text-purple-400 hover:text-purple-300 text-sm flex items-center justify-center gap-2",children:[n.jsx(Vn,{className:"w-4 h-4"}),C?.id===B.id?"Hide":"View"," Details"]}),n.jsx(We,{children:C?.id===B.id&&n.jsx(R.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:n.jsxs("div",{className:"border-t border-purple-500/20 mt-3 pt-3 space-y-2",children:[n.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Items:"}),B.items.map(G=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[G.name," x ",G.quantity]}),n.jsxs("span",{children:["",(G.price*G.quantity).toLocaleString()]})]},G.id)),n.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",B.subtotal.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[n.jsx("span",{children:"Shipping:"}),n.jsxs("span",{children:["",B.shippingCharges.toLocaleString()]})]}),B.discount&&B.discount>0&&n.jsxs("div",{className:"flex justify-between text-sm text-green-400",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",B.discount.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-white mt-2 pt-2 border-t border-purple-500/20",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",B.total.toLocaleString()]})]})]}),n.jsxs("div",{className:"border-t border-purple-500/20 pt-2 mt-2",children:[n.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Delivery Address:"}),n.jsxs("p",{className:"text-sm text-white",children:[B.customerInfo.firstName," ",B.customerInfo.lastName]}),n.jsx("p",{className:"text-sm text-gray-300",children:B.customerInfo.address}),n.jsxs("p",{className:"text-sm text-gray-300",children:[B.customerInfo.city,", ",B.customerInfo.state," - ",B.customerInfo.pincode]}),n.jsx("p",{className:"text-sm text-gray-300",children:B.customerInfo.phone})]})]})})})]},B.id))})]})})]})]}),n.jsx(We,{children:z&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>V(!1)}),n.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-red-900/20 border border-red-500/30 rounded-2xl p-6 max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Pd,{className:"w-8 h-8 text-red-400"})}),n.jsx("h3",{className:"text-xl text-white mb-2",children:"Delete Account?"}),n.jsx("p",{className:"text-gray-400",children:"This action cannot be undone. All your data will be permanently deleted."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>V(!1),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Cancel"}),n.jsx("button",{onClick:()=>{U(),V(!1)},className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-all",children:"Delete Account"})]})]})]})}),n.jsx(We,{children:Y&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ne(null)}),n.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-red-900/20 border border-red-500/30 rounded-2xl p-6 max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ur,{className:"w-8 h-8 text-red-400"})}),n.jsx("h3",{className:"text-xl text-white mb-2",children:"Cancel Order?"}),n.jsx("p",{className:"text-gray-400",children:"Are you sure you want to cancel this order?"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>ne(null),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Keep Order"}),n.jsx("button",{onClick:()=>ee(Y),className:"flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-all",children:"Cancel Order"})]})]})]})}),n.jsx(We,{children:le&&ve&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>Ne(null)}),n.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[n.jsx(Js,{className:"w-5 h-5 text-purple-400"}),"Update Delivery Address"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"First Name"}),n.jsx("input",{type:"text",value:ve.firstName||"",onChange:B=>_e({...ve,firstName:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Last Name"}),n.jsx("input",{type:"text",value:ve.lastName||"",onChange:B=>_e({...ve,lastName:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:ve.phone||"",onChange:B=>_e({...ve,phone:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Address"}),n.jsx("textarea",{value:ve.address||"",onChange:B=>_e({...ve,address:B.target.value}),rows:3,className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"City"}),n.jsx("input",{type:"text",value:ve.city||"",onChange:B=>_e({...ve,city:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"State"}),n.jsx("input",{type:"text",value:ve.state||"",onChange:B=>_e({...ve,state:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Pincode"}),n.jsx("input",{type:"text",value:ve.pincode||"",onChange:B=>_e({...ve,pincode:B.target.value}),className:"w-full px-4 py-2 bg-black/50 border border-purple-500/30 rounded-lg focus:outline-none focus:border-purple-500"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>Ne(null),className:"flex-1 bg-gray-600/20 border border-gray-500/30 hover:bg-gray-600/30 px-4 py-2 rounded-lg transition-all",children:"Cancel"}),n.jsx("button",{onClick:()=>me(le),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg transition-all",children:"Update Address"})]})]})]})}),n.jsx(We,{children:ze&&n.jsx(gw,{onClose:()=>$e(!1)})})]})}function _T(){const{id:t}=Xd(),[e]=hy(),r=pt(),a=e.get("action"),[o,l]=j.useState("loading"),[u,h]=j.useState(""),[p,m]=j.useState(null);j.useEffect(()=>{g()},[t,a]);const g=async()=>{if(!t||!a||a!=="approve"&&a!=="reject"){l("error"),h("Invalid approval link. Please check your email and try again.");return}try{const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/custom-clothing/${t}/approve`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({action:a})})).json();v.success?(l("success"),m(v.request),h(a==="approve"?"Quote approved successfully! We will contact you shortly with payment details and production timeline.":"Quote rejected. Thank you for considering our service. Feel free to submit a new request anytime.")):(l("error"),h(v.error||"Failed to process your response. Please try again or contact support."))}catch(x){console.error("Error processing approval:",x),l("error"),h("An error occurred while processing your response. Please contact support.")}};return n.jsxs("div",{className:"min-h-screen bg-black",children:[n.jsx(en,{}),n.jsx("nav",{className:"sticky top-0 z-50 bg-black border-b border-purple-900/30 backdrop-blur-lg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-center h-20",children:n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("/"),children:[n.jsx(ws,{size:"md"}),n.jsx("span",{className:"text-2xl bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"animedropzone"})]})})})}),n.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-5rem)] py-12 px-4",children:n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl w-full",children:n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/40 border border-purple-500/30 rounded-2xl p-8 md:p-12",children:[o==="loading"&&n.jsxs("div",{className:"text-center",children:[n.jsx(R.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-6",children:n.jsx($n,{className:"w-16 h-16 text-purple-400"})}),n.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"Processing Your Response..."}),n.jsx("p",{className:"text-gray-400",children:"Please wait while we update your custom clothing request."})]}),o==="success"&&n.jsxs("div",{className:"text-center",children:[n.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-6",children:a==="approve"?n.jsx(gs,{className:"w-20 h-20 text-green-400"}):n.jsx(Ur,{className:"w-20 h-20 text-red-400"})}),n.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:a==="approve"?"Quote Approved! ":"Quote Declined"}),n.jsx("p",{className:"text-gray-300 text-lg mb-8",children:u}),p&&n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6 mb-8 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-purple-400",children:[n.jsx(na,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-semibold",children:"Request Details"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-gray-300",children:[n.jsx("span",{className:"text-purple-400",children:"Request ID:"})," ",p.requestId]}),n.jsxs("p",{className:"text-gray-300",children:[n.jsx("span",{className:"text-purple-400",children:"Type:"})," ",p.clothingDetails?.type]}),n.jsxs("p",{className:"text-gray-300",children:[n.jsx("span",{className:"text-purple-400",children:"Size:"})," ",p.clothingDetails?.size]}),n.jsxs("p",{className:"text-gray-300",children:[n.jsx("span",{className:"text-purple-400",children:"Quantity:"})," ",p.clothingDetails?.quantity]}),a==="approve"&&p.quotedPrice&&n.jsxs("p",{className:"text-gray-300 text-lg mt-4 pt-4 border-t border-purple-500/30",children:[n.jsx("span",{className:"text-purple-400",children:"Quoted Price:"})," ",n.jsxs("span",{className:"text-green-400 font-semibold",children:["",p.quotedPrice.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(R.button,{onClick:()=>r("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg transition-all flex items-center gap-2 justify-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(Me,{className:"w-5 h-5"}),"Continue Shopping"]}),a==="reject"&&n.jsx(R.button,{onClick:()=>r("/?custom-clothing=open"),className:"bg-purple-900/30 border border-purple-500/50 hover:bg-purple-900/50 px-8 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Submit New Request"})]})]}),o==="error"&&n.jsxs("div",{className:"text-center",children:[n.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-6",children:n.jsx(Ur,{className:"w-20 h-20 text-red-400"})}),n.jsx("h1",{className:"text-white text-2xl md:text-3xl mb-4",children:"Something Went Wrong"}),n.jsx("p",{className:"text-gray-300 text-lg mb-8",children:u}),n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-8",children:n.jsx("p",{className:"text-red-300 text-sm",children:"If you continue to experience issues, please contact our support team with your request ID."})}),n.jsx(R.button,{onClick:()=>r("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Return to Home"})]})]})})})]})}function ET(){const t=pt(),[e,r]=j.useState("1499.00"),a={requestId:"CCR-1234567890",customerInfo:{name:"Test Customer"},clothingDetails:{type:"T-Shirt",size:"L",color:"Black",quantity:2}},o=window.location.origin,l=`${o}/approve-quote/custom-clothing:1234567890?action=approve`,u=`${o}/approve-quote/custom-clothing:1234567890?action=reject`,h=`
    <!DOCTYPE html>
    <html>
      <head>
        <style>
          body { font-family: Arial, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 20px; }
          .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a0a2e 0%, #7b2cbf 100%); border-radius: 16px; padding: 30px; }
          .header { background: linear-gradient(to right, #7b2cbf, #e91e63); padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; }
          .content { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border: 1px solid rgba(123,44,191,0.3); }
          .label { color: #a855f7; font-weight: bold; }
          .value { color: #e5e5e5; }
          .price-box { background: linear-gradient(to right, #059669, #10b981); padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center; }
          .button-container { display: flex; gap: 15px; justify-content: center; margin: 30px 0; }
          .button { display: inline-block; padding: 15px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 16px; text-align: center; }
          .approve-btn { background: linear-gradient(to right, #059669, #10b981); color: white; }
          .reject-btn { background: linear-gradient(to right, #dc2626, #e91e63); color: white; }
          .footer { text-align: center; margin-top: 20px; color: #9ca3af; font-size: 12px; }
          @media only screen and (max-width: 600px) {
            .button-container { flex-direction: column; }
            .button { width: 100%; }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1 style="margin: 0; color: white;"> Your Custom Clothing Quote</h1>
          </div>
          <div class="content">
            <p style="font-size: 16px; margin-bottom: 20px;">Hi ${a.customerInfo.name},</p>
            <p>Great news! We've reviewed your custom clothing design and prepared a quote for you.</p>
            
            <div style="margin: 20px 0; padding: 15px; background: rgba(123,44,191,0.2); border-left: 4px solid #7b2cbf; border-radius: 8px;">
              <p style="margin: 0;"><strong>Request ID:</strong> ${a.requestId}</p>
            </div>
            
            <div class="price-box">
              <h2 style="margin: 0 0 10px 0; color: white; font-size: 36px;">${e}</h2>
              <p style="margin: 0; color: white; opacity: 0.9;">Total Price (Including 100 shipping)</p>
            </div>
            
            <h3 style="color: #e91e63;">Your Order Details</h3>
            <p><span class="label">Clothing Type:</span> <span class="value">${a.clothingDetails.type}</span></p>
            <p><span class="label">Size:</span> <span class="value">${a.clothingDetails.size}</span></p>
            <p><span class="label">Color:</span> <span class="value">${a.clothingDetails.color}</span></p>
            <p><span class="label">Quantity:</span> <span class="value">${a.clothingDetails.quantity}</span></p>
            
            <h3 style="color: #e91e63; margin-top: 30px;">Please Respond to This Quote</h3>
            <p style="text-align: center; color: #e5e5e5; margin-bottom: 20px;">Click one of the buttons below to accept or decline this quote:</p>
            
            <div class="button-container">
              <a href="${l}" class="button approve-btn"> Accept Quote</a>
              <a href="${u}" class="button reject-btn"> Decline Quote</a>
            </div>
            
            <h3 style="color: #e91e63; margin-top: 20px;">What Happens Next?</h3>
            <ol style="line-height: 1.8; color: #e5e5e5;">
              <li>Click "Accept Quote" if you're happy with the price</li>
              <li>We'll send you payment details within 24 hours</li>
              <li>Production will begin after payment confirmation</li>
              <li>Your custom clothing will be delivered to your address</li>
              <li>Delivery typically takes 7-14 business days</li>
            </ol>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(123,44,191,0.2); border-left: 4px solid #e91e63; border-radius: 8px;">
              <p style="margin: 0;"> <strong>Quote Valid For:</strong> 7 days from today</p>
            </div>
          </div>
          <div class="footer">
            <p>AnimeDropZone - Embrace Your Inner Demon</p>
            <p>Questions? Reply to this email or contact us.</p>
          </div>
        </div>
      </body>
    </html>
  `;return n.jsx("div",{className:"min-h-screen bg-black p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("button",{onClick:()=>t("/secret-admin-panel-7b2cbf"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 mb-6",children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Admin"]}),n.jsx("h1",{className:"text-white text-3xl mb-4",children:"Quote Email Preview"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"This is how the customer will see the quote email with approval buttons."}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Adjust Quote Price ()"}),n.jsx("input",{type:"number",value:e,onChange:p=>r(p.target.value),className:"bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-2 text-white",step:"0.01"})]}),n.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:n.jsx("iframe",{srcDoc:h,className:"w-full h-[800px] border-0",title:"Email Preview"})}),n.jsxs("div",{className:"mt-6 bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white mb-2",children:"Testing Instructions:"}),n.jsxs("ul",{className:"text-gray-300 text-sm space-y-2 list-disc list-inside",children:[n.jsx("li",{children:"This preview shows exactly how the quote email will appear to customers"}),n.jsx("li",{children:"The approval buttons will redirect to /approve-quote/:id page"}),n.jsx("li",{children:"Customers can approve or reject with one click"}),n.jsx("li",{children:"The status automatically updates in the database"}),n.jsxs("li",{children:[n.jsx("strong",{children:"Note:"})," With Resend free plan, emails only work if sent to your verified email address"]})]})]})]})})}function CT(){const t=pt(),[e,r]=j.useState(""),[a,o]=j.useState(!1),[l,u]=j.useState(!1),[h,p]=j.useState(""),m=async g=>{g.preventDefault(),o(!0),p("");try{const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/auth/forgot-password`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:e})})).json();v.success?u(!0):p(v.message||"Failed to send reset email")}catch(x){console.error("Error sending reset email:",x),p("An error occurred. Please try again.")}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[n.jsx(en,{}),n.jsxs(R.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs(R.button,{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors mb-6",whileHover:{x:-5},children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Home"]}),n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(ws,{size:"lg"})}),l?n.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Sr,{className:"w-8 h-8 text-green-400"})}),n.jsx("h3",{className:"text-white mb-2",children:"Check Your Email!"}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["We've sent a password reset link to ",n.jsx("span",{className:"text-purple-400",children:e})]}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"The link will expire in 1 hour. If you don't see the email, check your spam folder."}),n.jsx(R.button,{onClick:()=>t("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",whileHover:{scale:1.05},children:"Return to Home"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-white text-center mb-2",children:"Forgot Password?"}),n.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Enter your email and we'll send you a link to reset your password."}),h&&n.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:n.jsx("p",{className:"text-red-400 text-sm text-center",children:h})}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"email",value:e,onChange:g=>r(g.target.value),placeholder:"your@email.com",required:!0,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"})]})]}),n.jsx(R.button,{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},children:a?"Sending...":"Send Reset Link"})]})]})]})]})]})}function TT(){const t=pt(),[e]=hy(),r=e.get("token"),[a,o]=j.useState(""),[l,u]=j.useState(""),[h,p]=j.useState(!1),[m,g]=j.useState(!1),[x,v]=j.useState(!1),[b,k]=j.useState(!1),[S,_]=j.useState("");j.useEffect(()=>{r||_("Invalid reset link")},[r]);const T=async C=>{if(C.preventDefault(),a.length<6){_("Password must be at least 6 characters long");return}if(a!==l){_("Passwords do not match");return}v(!0),_("");try{const I=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/auth/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:a})})).json();I.success?(k(!0),setTimeout(()=>t("/"),3e3)):_(I.message||"Failed to reset password")}catch(N){console.error("Error resetting password:",N),_("An error occurred. Please try again.")}finally{v(!1)}};return n.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[n.jsx(en,{}),n.jsxs(R.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs(R.button,{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors mb-6",whileHover:{x:-5},children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Home"]}),n.jsxs("div",{className:"bg-gradient-to-br from-black to-purple-900/20 border border-purple-500/30 rounded-2xl p-8 shadow-2xl shadow-purple-900/50",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(ws,{size:"lg"})}),b?n.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Sr,{className:"w-8 h-8 text-green-400"})}),n.jsx("h3",{className:"text-white mb-2",children:"Password Reset Successful!"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Your password has been updated successfully."}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"You can now log in with your new password. Redirecting to home page..."}),n.jsx(R.button,{onClick:()=>t("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",whileHover:{scale:1.05},children:"Go to Home Now"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-white text-center mb-2",children:"Reset Password"}),n.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Enter your new password below."}),S&&n.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:n.jsx("p",{className:"text-red-400 text-sm text-center",children:S})}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:h?"text":"password",value:a,onChange:C=>o(C.target.value),placeholder:"Enter new password",required:!0,minLength:6,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"}),n.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:h?n.jsx(_d,{className:"w-5 h-5"}):n.jsx(Vn,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"At least 6 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:m?"text":"password",value:l,onChange:C=>u(C.target.value),placeholder:"Confirm new password",required:!0,minLength:6,className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"}),n.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:m?n.jsx(_d,{className:"w-5 h-5"}):n.jsx(Vn,{className:"w-5 h-5"})})]})]}),n.jsx(R.button,{type:"submit",disabled:x||!r,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed py-3 rounded-lg transition-all shadow-lg shadow-purple-900/50",whileHover:{scale:x?1:1.02},whileTap:{scale:x?1:.98},children:x?"Resetting...":"Reset Password"})]})]})]})]})]})}function PT(){const t=pt(),[e,r]=j.useState(""),[a,o]=j.useState(null),[l,u]=j.useState(null),[h,p]=j.useState({health:!1,email:!1}),m=async()=>{p({...h,health:!0}),o(null);try{const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/health`,{headers:{Authorization:`Bearer ${Ee}`}})).json();o({success:!0,data:v})}catch(x){o({success:!1,error:x instanceof Error?x.message:"Unknown error"})}finally{p({...h,health:!1})}},g=async()=>{if(!e){u({success:!1,error:"Please enter an email address"});return}p({...h,email:!0}),u(null);try{const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:e})})).json();u(v)}catch(x){u({success:!1,error:x instanceof Error?x.message:"Unknown error"})}finally{p({...h,email:!1})}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"flex items-center gap-4 mb-8",children:n.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Home"]})}),n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl mb-4",children:" Server Health Check"}),n.jsx("p",{className:"text-gray-400",children:"Test if the server and email service are working properly"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(gg,{className:"w-6 h-6 text-purple-400"}),n.jsx("h2",{className:"text-2xl",children:"Server Status"})]}),n.jsx("button",{onClick:m,disabled:h.health,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2 mb-4",children:h.health?n.jsxs(n.Fragment,{children:[n.jsx($n,{className:"w-5 h-5 animate-spin"}),"Testing Server..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gg,{className:"w-5 h-5"}),"Check Server Health"]})}),a&&n.jsx("div",{className:`p-4 rounded-lg border ${a.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:a.success?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-3",children:[n.jsx(Sr,{className:"w-5 h-5"}),n.jsx("strong",{children:"Server is Running!"})]}),n.jsxs("div",{className:"text-sm space-y-2 text-gray-300",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",a.data.status]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Message:"})," ",a.data.message]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Timestamp:"})," ",new Date(a.data.timestamp).toLocaleString()]}),n.jsxs("div",{children:[n.jsx("p",{className:"mb-1",children:n.jsx("strong",{children:"Services:"})}),n.jsxs("ul",{className:"ml-4 space-y-1",children:[n.jsxs("li",{children:[" Database: ",a.data.services.database]}),n.jsxs("li",{children:[" Email Provider: ",a.data.services.emailProvider]}),n.jsxs("li",{children:[" Admin Email: ",a.data.services.adminEmail]})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[n.jsx(lt,{className:"w-5 h-5"}),n.jsx("strong",{children:"Server Error"})]}),n.jsx("p",{className:"text-sm text-gray-300",children:a.error})]})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(rr,{className:"w-6 h-6 text-purple-400"}),n.jsx("h2",{className:"text-2xl",children:"Email Service Test"})]}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Send a test email to verify that the email service is working correctly. This will send a real email to the address you provide."}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:e,onChange:x=>r(x.target.value),placeholder:"Enter your email address",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),n.jsx("button",{onClick:g,disabled:h.email||!e,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 py-3 rounded-lg transition-all flex items-center justify-center gap-2 mb-4",children:h.email?n.jsxs(n.Fragment,{children:[n.jsx($n,{className:"w-5 h-5 animate-spin"}),"Sending Test Email..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rr,{className:"w-5 h-5"}),"Send Test Email"]})}),l&&n.jsx("div",{className:`p-4 rounded-lg border ${l.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:l.success?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[n.jsx(Sr,{className:"w-5 h-5"}),n.jsx("strong",{children:"Email Sent Successfully!"})]}),n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:l.message}),n.jsx("p",{className:"text-xs text-gray-400",children:" Check your spam/junk folder if you don't see it in your inbox"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[n.jsx(lt,{className:"w-5 h-5"}),n.jsx("strong",{children:"Email Send Failed"})]}),n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:l.error||"Unknown error"}),l.details&&n.jsx("div",{className:"mt-3 p-3 bg-black/30 rounded text-xs text-gray-400 overflow-auto",children:n.jsx("pre",{children:JSON.stringify(l.details,null,2)})})]})})]}),n.jsxs("div",{className:"mt-6 bg-purple-900/10 border border-purple-500/20 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg mb-3 text-purple-300",children:" How to Use This Test"}),n.jsxs("ol",{className:"space-y-2 text-sm text-gray-400 list-decimal list-inside",children:[n.jsx("li",{children:'First, click "Check Server Health" to verify the server is running'}),n.jsx("li",{children:"If server is healthy, enter your email address in the field above"}),n.jsx("li",{children:'Click "Send Test Email" to test the email service'}),n.jsx("li",{children:"Check your inbox (and spam folder) for the test email"}),n.jsx("li",{children:"If you receive the email, your email service is working correctly!"})]}),n.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:n.jsxs("p",{className:"text-yellow-400 text-sm",children:[n.jsx("strong",{children:" Note:"})," If the test email fails, check the browser console (F12) and Supabase Edge Function logs for detailed error messages."]})})]})]})]})})}function AT(){const t=pt(),[e,r]=j.useState({customerEmail:"",customerName:"",customerPassword:""}),[a,o]=j.useState({basicTest:null,signupTest:null,adminTest:null}),[l,u]=j.useState({basicTest:!1,signupTest:!1,adminTest:!1}),h=async()=>{if(!e.customerEmail){o({...a,basicTest:{success:!1,error:"Please enter an email address"}});return}u({...l,basicTest:!0}),o({...a,basicTest:null});try{console.log(" TEST 1: Testing basic email service...");const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:e.customerEmail})})).json();console.log(" Basic email test response:",v),o({...a,basicTest:v})}catch(x){console.error(" Basic email test failed:",x),o({...a,basicTest:{success:!1,error:x instanceof Error?x.message:"Unknown error"}})}finally{u({...l,basicTest:!1})}},p=async()=>{if(!e.customerEmail||!e.customerName||!e.customerPassword){o({...a,signupTest:{success:!1,error:"Please fill in all signup fields (email, name, password)"}});return}u({...l,signupTest:!0}),o({...a,signupTest:null});try{console.log(" TEST 2: Testing signup email flow..."),console.log(" This will send:"),console.log("   1. Welcome email to:",e.customerEmail),console.log("   2. Admin notification to: anime.drop.zone.00@gmail.com");const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/signup`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:e.customerEmail,name:e.customerName,password:e.customerPassword})})).json();console.log(" Signup response:",v),v.success?o({...a,signupTest:{success:!0,message:`Account created successfully! Check these inboxes:
1. ${e.customerEmail} (Welcome email)
2. anime.drop.zone.00@gmail.com (Admin notification)

 Check spam folders if emails don't appear in inbox!`,data:v}}):o({...a,signupTest:{success:!1,error:v.message||v.error||"Signup failed",data:v}})}catch(x){console.error(" Signup test failed:",x),o({...a,signupTest:{success:!1,error:x instanceof Error?x.message:"Unknown error"}})}finally{u({...l,signupTest:!1})}},m=async()=>{u({...l,adminTest:!0}),o({...a,adminTest:null});try{console.log(" TEST 3: Testing admin email directly...");const v=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/test-email`,{method:"POST",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({email:"anime.drop.zone.00@gmail.com"})})).json();console.log(" Admin email test response:",v),o({...a,adminTest:v})}catch(x){console.error(" Admin email test failed:",x),o({...a,adminTest:{success:!1,error:x instanceof Error?x.message:"Unknown error"}})}finally{u({...l,adminTest:!1})}},g=async()=>{console.log(" RUNNING ALL EMAIL TESTS..."),console.log("================================================"),await h(),await new Promise(x=>setTimeout(x,2e3)),await p(),await new Promise(x=>setTimeout(x,2e3)),await m(),console.log("================================================"),console.log(" ALL TESTS COMPLETED")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"flex items-center gap-4 mb-8",children:n.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Home"]})}),n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl mb-4",children:" Email System Test"}),n.jsx("p",{className:"text-gray-400",children:"Comprehensive testing for customer and admin email delivery"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[n.jsx("h2",{className:"text-2xl mb-4",children:" Test Configuration"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Customer Email (for testing)"}),n.jsx("input",{type:"email",value:e.customerEmail,onChange:x=>r({...e,customerEmail:x.target.value}),placeholder:"your-email@example.com",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This email will receive test emails"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Customer Name"}),n.jsx("input",{type:"text",value:e.customerName,onChange:x=>r({...e,customerName:x.target.value}),placeholder:"Test User",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Test Password"}),n.jsx("input",{type:"password",value:e.customerPassword,onChange:x=>r({...e,customerPassword:x.target.value}),placeholder:"test123456",className:"w-full bg-purple-900/20 border border-purple-500/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500"})]})]}),n.jsxs("button",{onClick:g,disabled:!e.customerEmail||!e.customerName||!e.customerPassword,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-600 disabled:to-gray-700 py-4 rounded-lg transition-all flex items-center justify-center gap-2 text-lg font-bold",children:[n.jsx(rr,{className:"w-6 h-6"}),"Run All Email Tests"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rr,{className:"w-6 h-6 text-purple-400"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl",children:"Test 1: Basic Email Service"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Tests if email service is configured correctly"})]})]}),n.jsx("button",{onClick:h,disabled:l.basicTest||!e.customerEmail,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:l.basicTest?n.jsx($n,{className:"w-4 h-4 animate-spin"}):"Test"})]}),a.basicTest&&n.jsx("div",{className:`p-4 rounded-lg border ${a.basicTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:a.basicTest.success?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[n.jsx(Sr,{className:"w-5 h-5"}),n.jsx("strong",{children:" Email Service Working!"})]}),n.jsxs("p",{className:"text-sm text-gray-300",children:["Test email sent to: ",e.customerEmail]}),n.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:" Check your inbox and spam folder"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[n.jsx(lt,{className:"w-5 h-5"}),n.jsx("strong",{children:" Email Service Failed"})]}),n.jsx("p",{className:"text-sm text-gray-300",children:a.basicTest.error})]})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"w-6 h-6 text-purple-400"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl",children:"Test 2: Signup Email Flow"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Tests customer welcome email + admin notification"})]})]}),n.jsx("button",{onClick:p,disabled:l.signupTest||!e.customerEmail||!e.customerName||!e.customerPassword,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:l.signupTest?n.jsx($n,{className:"w-4 h-4 animate-spin"}):"Test"})]}),n.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:[n.jsx("p",{className:"text-sm text-blue-300",children:n.jsx("strong",{children:" This test will send 2 emails:"})}),n.jsxs("ul",{className:"text-sm text-gray-300 ml-4 mt-2 space-y-1",children:[n.jsxs("li",{children:["1. Welcome email  ",e.customerEmail||"[Customer Email]"]}),n.jsx("li",{children:"2. Admin notification  anime.drop.zone.00@gmail.com"})]})]}),a.signupTest&&n.jsx("div",{className:`p-4 rounded-lg border ${a.signupTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:a.signupTest.success?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[n.jsx(Sr,{className:"w-5 h-5"}),n.jsx("strong",{children:" Signup Flow Completed!"})]}),n.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line mb-3",children:a.signupTest.message}),n.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded p-3 mt-3",children:[n.jsx("p",{className:"text-xs text-purple-300 mb-2",children:n.jsx("strong",{children:"What to check:"})}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsxs("li",{children:[" Customer inbox: ",e.customerEmail]}),n.jsx("li",{children:" Admin inbox: anime.drop.zone.00@gmail.com"}),n.jsx("li",{children:" Check spam/junk folders in both inboxes"})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[n.jsx(lt,{className:"w-5 h-5"}),n.jsx("strong",{children:" Signup Flow Failed"})]}),n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:a.signupTest.error}),a.signupTest.data&&n.jsx("div",{className:"mt-2 p-2 bg-black/30 rounded text-xs text-gray-400 overflow-auto max-h-40",children:n.jsx("pre",{children:JSON.stringify(a.signupTest.data,null,2)})})]})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(El,{className:"w-6 h-6 text-purple-400"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl",children:"Test 3: Admin Email Direct"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Tests sending email directly to admin"})]})]}),n.jsx("button",{onClick:m,disabled:l.adminTest,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 px-6 py-2 rounded-lg transition-all flex items-center gap-2",children:l.adminTest?n.jsx($n,{className:"w-4 h-4 animate-spin"}):"Test"})]}),n.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:n.jsxs("p",{className:"text-sm text-blue-300",children:[n.jsx("strong",{children:" Sends test email to:"})," anime.drop.zone.00@gmail.com"]})}),a.adminTest&&n.jsx("div",{className:`p-4 rounded-lg border ${a.adminTest.success?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:a.adminTest.success?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[n.jsx(Sr,{className:"w-5 h-5"}),n.jsx("strong",{children:" Admin Email Sent!"})]}),n.jsx("p",{className:"text-sm text-gray-300",children:"Test email sent to admin: anime.drop.zone.00@gmail.com"}),n.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:" Check anime.drop.zone.00@gmail.com inbox and spam folder"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[n.jsx(lt,{className:"w-5 h-5"}),n.jsx("strong",{children:" Admin Email Failed"})]}),n.jsx("p",{className:"text-sm text-gray-300",children:a.adminTest.error})]})})]}),n.jsxs("div",{className:"bg-purple-900/10 border border-purple-500/20 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg mb-3 text-purple-300",children:" Testing Instructions"}),n.jsxs("ol",{className:"space-y-3 text-sm text-gray-400 list-decimal list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{className:"text-white",children:"Fill in test data above"}),n.jsx("p",{className:"ml-6 mt-1",children:"Enter your email, a test name, and a password (min 6 chars)"})]}),n.jsxs("li",{children:[n.jsx("strong",{className:"text-white",children:'Click "Run All Email Tests"'}),n.jsx("p",{className:"ml-6 mt-1",children:"This will automatically run all 3 tests in sequence"})]}),n.jsxs("li",{children:[n.jsx("strong",{className:"text-white",children:"Check inboxes"}),n.jsxs("p",{className:"ml-6 mt-1",children:[" Your email inbox (customer welcome email)",n.jsx("br",{})," anime.drop.zone.00@gmail.com (admin notification)",n.jsx("br",{})," Don't forget to check spam/junk folders!"]})]}),n.jsxs("li",{children:[n.jsx("strong",{className:"text-white",children:"Check browser console and server logs"}),n.jsxs("p",{className:"ml-6 mt-1",children:[" Open browser console (F12) for detailed logs",n.jsx("br",{})," Check Supabase Edge Function logs if emails fail"]})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:n.jsxs("p",{className:"text-yellow-400 text-sm",children:[n.jsx("strong",{children:" Important:"}),' The signup test creates a real user account. If you run it multiple times with the same email, it will fail saying "user already exists". Use different email addresses for multiple tests.']})})]})]})]})})}function RT(){const t=pt(),[e,r]=j.useState(null),[a,o]=j.useState(!0);j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),l()},[]);const l=async()=>{try{const p=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${Ee}`}})).json();p.success&&p.privacy&&r(p.privacy)}catch(h){console.error("Error fetching custom privacy policy:",h)}finally{o(!1)}},u=()=>a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):e?n.jsx("div",{className:"space-y-8 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e}}):n.jsxs("div",{className:"space-y-8 text-gray-300",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"1. Introduction"}),n.jsx("p",{className:"leading-relaxed",children:'Welcome to animedropzone.com ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our services.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"2. Information We Collect"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"We collect information that you provide directly to us, including:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, shipping address"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Payment Information:"})," Payment method details (processed securely through our payment partners)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Order Information:"})," Purchase history, product preferences, cart contents"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Account Information:"})," Username, password (encrypted), profile details"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Communication Data:"})," Support tickets, reviews, feedback, and correspondence"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information, cookies"]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"3. How We Use Your Information"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"We use the information we collect to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Process and fulfill your orders"}),n.jsx("li",{children:"Send order confirmations, shipping updates, and delivery notifications"}),n.jsx("li",{children:"Provide customer support and respond to your inquiries"}),n.jsx("li",{children:"Send promotional emails about new products, special offers, and updates (with your consent)"}),n.jsx("li",{children:"Improve our website, products, and services"}),n.jsx("li",{children:"Prevent fraud and enhance security"}),n.jsx("li",{children:"Comply with legal obligations"}),n.jsx("li",{children:"Manage our loyalty program and rewards"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"4. Information Sharing"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"We may share your information with:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Payment Processors:"})," Razorpay, PayTM for secure payment processing"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Shipping Partners:"})," Courier services for order delivery"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Email Service Providers:"})," For sending transactional and promotional emails"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"WhatsApp Business API:"})," For order notifications and updates (via Twilio)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Analytics Providers:"})," To understand website usage and improve our services"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legal Authorities:"})," When required by law or to protect our rights"]})]}),n.jsx("p",{className:"leading-relaxed mt-4",children:n.jsx("strong",{children:"We do NOT sell your personal information to third parties."})})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"5. Data Security"}),n.jsx("p",{className:"leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"6. Cookies and Tracking Technologies"}),n.jsx("p",{className:"leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your browsing experience, analyze website traffic, and personalize content. You can control cookie preferences through your browser settings. However, disabling cookies may limit some website functionality."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"7. Your Privacy Rights"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"You have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Access:"})," Request a copy of your personal information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Deletion:"})," Request deletion of your account and personal data"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Opt-Out:"})," Unsubscribe from marketing communications"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Object:"})," Object to processing of your personal information"]})]}),n.jsxs("p",{className:"leading-relaxed mt-4",children:["To exercise these rights, please contact us at ",n.jsx("strong",{className:"text-purple-400",children:"anime.drop.zone.00@gmail.com"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"8. Data Retention"}),n.jsx("p",{className:"leading-relaxed",children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required by law. Order information is typically retained for 7 years for accounting and tax purposes."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"9. Children's Privacy"}),n.jsx("p",{className:"leading-relaxed",children:"Our services are not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"10. International Data Transfers"}),n.jsx("p",{className:"leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"11. Changes to This Policy"}),n.jsx("p",{className:"leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last updated" date. We encourage you to review this Privacy Policy periodically.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"12. Contact Us"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"animedropzone.com"})}),n.jsxs("p",{className:"mb-2",children:["Email: ",n.jsx("a",{href:"mailto:anime.drop.zone.00@gmail.com",className:"text-purple-400 hover:text-purple-300",children:"anime.drop.zone.00@gmail.com"})]}),n.jsxs("p",{children:["Website: ",n.jsx("a",{href:"/",className:"text-purple-400 hover:text-purple-300",children:"animedropzone.com"})]})]})]}),n.jsx("section",{className:"border-t border-purple-500/30 pt-8 mt-8",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"By using AnimeDropZone, you acknowledge that you have read and understood this Privacy Policy and agree to its terms. If you do not agree with this policy, please do not use our website or services."})})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:[n.jsx("nav",{className:"bg-black/50 backdrop-blur-md border-b border-purple-900/30 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("button",{onClick:()=>t("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Home"]})}),n.jsx(ws,{})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-8 md:p-12",children:[n.jsx("h1",{className:"text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Privacy Policy"}),n.jsxs("p",{className:"text-gray-400 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),u()]})})]})}function OT(){const t=pt(),[e,r]=j.useState(null),[a,o]=j.useState(!0);j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),l()},[]);const l=async()=>{try{const p=await(await fetch(`https://${be}.supabase.co/functions/v1/make-server-95a96d8e/legal-content`,{headers:{Authorization:`Bearer ${Ee}`}})).json();p.success&&p.terms&&r(p.terms)}catch(h){console.error("Error fetching custom terms of service:",h)}finally{o(!1)}},u=()=>a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):e?n.jsx("div",{className:"space-y-8 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e}}):n.jsxs("div",{className:"space-y-8 text-gray-300",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"leading-relaxed",children:'Welcome to animedropzone.com! By accessing or using our website and services, you agree to be bound by these Terms of Service ("Terms"). If you do not agree with these Terms, please do not use our services. We reserve the right to modify these Terms at any time, and your continued use of the website constitutes acceptance of any changes.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"2. Description of Service"}),n.jsx("p",{className:"leading-relaxed",children:"animedropzone.com is an e-commerce platform specializing in anime figures, accessories, posters, clothing, collectibles, and katana. We provide an online marketplace where customers can browse, purchase, and receive anime-related merchandise. We reserve the right to modify, suspend, or discontinue any aspect of our services at any time."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"3. User Accounts"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"To make purchases, you must create an account. You agree to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),n.jsx("li",{children:"Maintain and promptly update your account information"}),n.jsx("li",{children:"Keep your password confidential and secure"}),n.jsx("li",{children:"Notify us immediately of any unauthorized use of your account"}),n.jsx("li",{children:"Be responsible for all activities that occur under your account"}),n.jsx("li",{children:"Not share your account with others"})]}),n.jsx("p",{className:"leading-relaxed mt-4",children:"You must be at least 18 years old to create an account. We reserve the right to refuse service or terminate accounts at our discretion."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"4. Orders and Payments"}),n.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.1 Placing Orders"}),n.jsx("p",{className:"leading-relaxed",children:"When you place an order, you are making an offer to purchase products. We reserve the right to accept or decline your order for any reason, including product availability, pricing errors, or suspected fraudulent activity."}),n.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.2 Pricing"}),n.jsx("p",{className:"leading-relaxed",children:"All prices are listed in Indian Rupees () and are subject to change without notice. We make every effort to ensure pricing accuracy, but errors may occur. If a product is listed at an incorrect price, we reserve the right to refuse or cancel orders placed at that price."}),n.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.3 Payment Methods"}),n.jsx("p",{className:"leading-relaxed mb-2",children:"We accept the following payment methods:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"UPI (Google Pay, PhonePe, Paytm, BHIM, etc.)"}),n.jsx("li",{children:"Razorpay (Credit/Debit Cards, Net Banking, Wallets)"}),n.jsx("li",{children:"PayTM"}),n.jsx("li",{children:"Cash on Delivery (COD) - subject to availability"})]}),n.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"4.4 Shipping Charges"}),n.jsx("p",{className:"leading-relaxed",children:"A flat shipping charge of 100 applies to all orders, regardless of order value or location within India."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"5. Shipping and Delivery"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"We ship products across India. Delivery times may vary based on your location and product availability. You will receive tracking information via email and WhatsApp once your order is shipped."}),n.jsxs("p",{className:"leading-relaxed",children:[n.jsx("strong",{children:"Important:"})," Please ensure your shipping address is accurate. We are not responsible for delays or non-delivery due to incorrect addresses provided by customers."]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"6. Returns and Refunds"}),n.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"6.1 Return Policy"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"We want you to be completely satisfied with your purchase. Returns are accepted under the following conditions:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Products must be returned within 7 days of delivery"}),n.jsx("li",{children:"Items must be unused, in original packaging, and in resellable condition"}),n.jsx("li",{children:"Proof of purchase (order ID) must be provided"}),n.jsx("li",{children:"Custom clothing orders are non-returnable unless defective"}),n.jsx("li",{children:"Collectibles and limited edition items may have special return policies"})]}),n.jsx("h3",{className:"text-xl text-purple-200 mb-3 mt-4",children:"6.2 Refund Process"}),n.jsx("p",{className:"leading-relaxed",children:"Refunds for online payments (UPI, Razorpay, PayTM) will be processed within 5-7 business days after we receive and inspect the returned item. COD orders are not eligible for cash refunds."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"7. Order Cancellation"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"You may cancel your order before it is shipped. To cancel an order:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:'Go to "Track Order" and enter your tracking ID'}),n.jsx("li",{children:'Click "Cancel Order" and provide a reason'}),n.jsx("li",{children:"You will receive a cancellation confirmation via email and WhatsApp"})]}),n.jsx("p",{className:"leading-relaxed mt-4",children:"Orders cannot be cancelled once they are shipped. In such cases, you must follow the return process after receiving the product."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"8. Product Descriptions and Images"}),n.jsx("p",{className:"leading-relaxed",children:"We strive to display product colors, images, and descriptions as accurately as possible. However, actual colors may vary slightly due to screen settings. Product images are for illustration purposes and may include accessories or components not included with the purchase."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"9. Intellectual Property"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"All content on AnimeDropZone, including but not limited to text, graphics, logos, images, and software, is our property or the property of our licensors and is protected by intellectual property laws. You may not:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Reproduce, distribute, or publicly display any content without permission"}),n.jsx("li",{children:"Use our brand name, logo, or trademarks without authorization"}),n.jsx("li",{children:"Copy or scrape product listings or images"}),n.jsx("li",{children:"Reverse engineer or modify any part of our website"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"10. User Conduct"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"You agree not to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Use our services for any illegal or unauthorized purpose"}),n.jsx("li",{children:"Violate any laws in your jurisdiction"}),n.jsx("li",{children:"Transmit any harmful code, viruses, or malware"}),n.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),n.jsx("li",{children:"Harass, abuse, or harm other users or our staff"}),n.jsx("li",{children:"Submit false or misleading information"}),n.jsx("li",{children:"Engage in fraudulent activities or payment disputes"}),n.jsx("li",{children:"Post inappropriate reviews or content"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"11. Reviews and User Content"}),n.jsx("p",{className:"leading-relaxed",children:"You may submit product reviews and ratings. By submitting content, you grant us a non-exclusive, royalty-free, perpetual license to use, reproduce, modify, and display your content. We reserve the right to remove any content that violates these Terms or is deemed inappropriate."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"12. Loyalty Program"}),n.jsx("p",{className:"leading-relaxed",children:"Our loyalty program rewards returning customers with points that can be redeemed for discounts. Program terms, point values, and redemption rules are subject to change. Points have no cash value and cannot be transferred."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"13. Coupons and Promotions"}),n.jsx("p",{className:"leading-relaxed",children:"Coupon codes and promotional offers are subject to specific terms and conditions. Coupons may have expiration dates, minimum order requirements, and usage limits. We reserve the right to cancel or modify promotions at any time."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"14. Limitation of Liability"}),n.jsx("p",{className:"leading-relaxed",children:"To the fullest extent permitted by law, AnimeDropZone shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of our services. Our total liability shall not exceed the amount you paid for the product in question."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"15. Disclaimer of Warranties"}),n.jsx("p",{className:"leading-relaxed",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied. We do not guarantee that our website will be uninterrupted, error-free, or secure.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"16. Indemnification"}),n.jsx("p",{className:"leading-relaxed",children:"You agree to indemnify and hold harmless AnimeDropZone, its officers, directors, employees, and affiliates from any claims, damages, losses, or expenses arising from your violation of these Terms or misuse of our services."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"17. Governing Law"}),n.jsx("p",{className:"leading-relaxed",children:"These Terms shall be governed by and construed in accordance with the laws of India. Any disputes shall be subject to the exclusive jurisdiction of the courts in [Your City], India."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl text-purple-300 mb-4",children:"18. Contact Information"}),n.jsx("p",{className:"leading-relaxed mb-4",children:"For questions, concerns, or support regarding these Terms of Service, please contact us:"}),n.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-6",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"animedropzone.com"})}),n.jsxs("p",{className:"mb-2",children:["Email: ",n.jsx("a",{href:"mailto:anime.drop.zone.00@gmail.com",className:"text-purple-400 hover:text-purple-300",children:"anime.drop.zone.00@gmail.com"})]}),n.jsxs("p",{children:["Website: ",n.jsx("a",{href:"/",className:"text-purple-400 hover:text-purple-300",children:"animedropzone.com"})]})]})]}),n.jsxs("section",{className:"border-t border-purple-500/30 pt-8 mt-8",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"By using AnimeDropZone, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service. If you do not agree with these Terms, please discontinue use of our website and services immediately."}),n.jsx("p",{className:"text-gray-400 text-sm mt-4",children:n.jsx("strong",{children:"Thank you for shopping with AnimeDropZone! "})})]})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-purple-950 to-black text-white",children:[n.jsx("nav",{className:"bg-black/50 backdrop-blur-md border-b border-purple-900/30 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("button",{onClick:()=>t("/"),className:"text-gray-300 hover:text-purple-400 transition-colors flex items-center gap-2",children:[n.jsx(gr,{className:"w-5 h-5"}),"Back to Home"]})}),n.jsx(ws,{})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-purple-900/20 to-black border border-purple-500/30 rounded-xl p-8 md:p-12",children:[n.jsx("h1",{className:"text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Terms of Service"}),n.jsxs("p",{className:"text-gray-400 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),u()]})})]})}function IT(){return j.useEffect(()=>{const t=`
      <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#9333ea;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
          </linearGradient>
          <linearGradient id="inner-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#9333ea;stop-opacity:1" />
          </linearGradient>
        </defs>
        
        <!-- Background rounded square -->
        <rect width="32" height="32" rx="6" fill="url(#bg-gradient)"/>
        
        <!-- Stylized "A" for Anime -->
        <path
          d="M16 8L9 26H12L14 21H18L20 26H23L16 8Z"
          fill="white"
          stroke="white"
          stroke-width="0.3"
        />
        <path
          d="M15 18L16 14L17 18H15Z"
          fill="url(#inner-gradient)"
        />
      </svg>
    `,e=new Blob([t],{type:"image/svg+xml"}),r=URL.createObjectURL(e);document.querySelectorAll('link[rel*="icon"]').forEach(h=>h.remove());const o=document.createElement("link");o.rel="icon",o.type="image/svg+xml",o.href=r,document.head.appendChild(o);const l=document.createElement("link");if(l.rel="apple-touch-icon",l.href=r,document.head.appendChild(l),(document.title===""||document.title==="Vite + React + TS")&&(document.title="AnimeDropZone - Anime Figures & Accessories Store"),!document.querySelector('meta[name="theme-color"]')){const h=document.createElement("meta");h.name="theme-color",h.content="#9333ea",document.head.appendChild(h)}return()=>{URL.revokeObjectURL(r)}},[]),null}class DT extends kj.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error("ErrorBoundary: getDerivedStateFromError called with:",e),{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary: componentDidCatch called with:",e,r)}render(){return console.log("ErrorBoundary render called, hasError:",this.state.hasError),this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black text-white flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-8 text-center max-w-md",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Application Error"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Something went wrong. Please check the console for details and try reloading the page."}),n.jsxs("details",{className:"text-left mb-4",children:[n.jsx("summary",{className:"cursor-pointer text-purple-400 hover:text-purple-300",children:"Error Details"}),n.jsx("pre",{className:"text-xs text-gray-400 mt-2 whitespace-pre-wrap",children:this.state.error?.message})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors mr-4",children:"Reload Page"}),n.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg transition-colors",children:"Try Again"})]})}):this.props.children}}function LT(){return n.jsxs(JE,{children:[n.jsx(IT,{}),n.jsx(U1,{children:n.jsxs(m1,{children:[n.jsx(vt,{path:"/",element:n.jsx(Kg,{})}),n.jsx(vt,{path:"/secret-admin-panel-7b2cbf",element:n.jsx(DT,{children:n.jsx(yT,{})})}),n.jsx(vt,{path:"/admin",element:n.jsx(Kg,{})}),n.jsx(vt,{path:"/track-order",element:n.jsx(vT,{})}),n.jsx(vt,{path:"/my-orders",element:n.jsx(NT,{})}),n.jsx(vt,{path:"/my-profile",element:n.jsx(ST,{})}),n.jsx(vt,{path:"/product/:id",element:n.jsx(wT,{})}),n.jsx(vt,{path:"/category/:category",element:n.jsx(kT,{})}),n.jsx(vt,{path:"/approve-quote/:id",element:n.jsx(_T,{})}),n.jsx(vt,{path:"/test-quote-email",element:n.jsx(ET,{})}),n.jsx(vt,{path:"/forgot-password",element:n.jsx(CT,{})}),n.jsx(vt,{path:"/reset-password",element:n.jsx(TT,{})}),n.jsx(vt,{path:"/server-test",element:n.jsx(PT,{})}),n.jsx(vt,{path:"/email-test",element:n.jsx(AT,{})}),n.jsx(vt,{path:"/privacy-policy",element:n.jsx(RT,{})}),n.jsx(vt,{path:"/terms-of-service",element:n.jsx(OT,{})})]})})]})}jj.createRoot(document.getElementById("root")).render(n.jsx(LT,{}));
